!function(e){function t(t){for(var i,r,s=t[0],l=t[1],c=t[2],u=0,p=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(d&&d(t);p.length;)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={0:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;a.push([426,15]),n()}(Array(227).concat([function(e,t,n){"use strict";n.r(t),n.d(t,"OS",(function(){return r})),n.d(t,"BROWSER",(function(){return s})),n.d(t,"DEVICE_TYPES",(function(){return l})),n.d(t,"getOS",(function(){return c})),n.d(t,"cmdKey",(function(){return d})),n.d(t,"ctrlOrWinKey",(function(){return u})),n.d(t,"isCmdPressed",(function(){return p})),n.d(t,"getDevice",(function(){return h})),n.d(t,"getBrowser",(function(){return f})),n.d(t,"isiOS",(function(){return g})),n.d(t,"getAppVersion",(function(){return m})),n.d(t,"toURI",(function(){return b})),n.d(t,"getDevModeShortcut",(function(){return S})),n.d(t,"isMobileViewport",(function(){return y}));var i=n(228),o=n(230),a=n(231);const r=Object.freeze({IOS:"ios",ANDROID:"android",MAC:"mac",WINDOWS:"win",LINUX:"linux",UNKNOWN:"unknown"}),s=Object.freeze({EDGE:"edge",OPERA:"opera",FIREFOX:"firefox",CHROME:"chrome",SAFARI:"safari",UNKNOWN:"unknown"}),l=Object.freeze({MOBILE:"mobile",DESKTOP:"desktop"});function c(){return/iPad|iPhone/.test(navigator.userAgent)?r.IOS:/Android/.test(navigator.userAgent)?r.ANDROID:/Macintosh/.test(navigator.userAgent)?r.MAC:/Windows/.test(navigator.userAgent)?r.WINDOWS:/Linux/.test(navigator.userAgent)||/X11/.test(navigator.userAgent)?r.LINUX:r.UNKNOWN}function d(e){return c()===r.MAC?e.metaKey:e.ctrlKey}function u(e){return c()===r.MAC?e.ctrlKey:e.metaKey}function p(e){return e.key===(c()===r.MAC?o.Keyboard.Key.Meta:o.Keyboard.Key.Ctrl)}function h(){return/Mobi/.test(navigator.userAgent)?l.MOBILE:l.DESKTOP}function f(){return/Edg/.test(navigator.userAgent)?s.EDGE:/OPR/.test(navigator.userAgent)?s.OPERA:/Firefox/.test(navigator.userAgent)?s.FIREFOX:/Chrome/.test(navigator.userAgent)?s.CHROME:/Safari/.test(navigator.userAgent)?s.SAFARI:s.UNKNOWN}function g(){return navigator.userAgent.match(/ipad|iphone/i)}function m(){if(!i.isWindowsApp)return a.WEBAPP_VERSION;const[,e="unknown"]=navigator.userAgent.match(/Zeplin(?: Windows v|\/)(\d+\.\d+\.\d+)/)||[];return e}function b(e){if(!e||0===e.length)return null;return e.replace(/^[\\/]|[\\/]$/g,"").replace(/\\/g,"/")}function S(){return c()===r.WINDOWS?"ctrl+Alt+L":"⌘⌥L"}function y(){return window.matchMedia("(max-width: 767px)").matches}},function(e,t,n){"use strict";n.r(t),n.d(t,"isWindowsApp",(function(){return o})),n.d(t,"supports",(function(){return a})),n.d(t,"featureValue",(function(){return r}));var i=n(229);const o=!!i.default,a={webviews:o&&"webviews"in i.default.features,SPA:o&&"SPA"in i.default.features,xdPlugin:o&&"xdPlugin"in i.default.features};function r(e){return o?i.default.features[e]:null}},function(e,t,n){"use strict";var i;n.r(t),"function"==typeof window.require&&(i=window.require("electron")),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppRoutes=t.SortTypes=t.ProjectViewTypes=t.DialogTypes=t.WorkspaceTabs=t.Keyboard=t.PlatformString=t.PLATFORM=t.RESOURCE_TYPE=t.DENSITY=void 0,t.DENSITY=Object.freeze({BASE:1,MDPI:1,mdpi:1,_1x:1,"1x":1,WEB:1,web:1,UNKNOWN:1,unknown:1,UNDEFINED:1,undefined:1,HDPI:1.5,hdpi:1.5,XHDPI:2,xhdpi:2,_2x:2,"2x":2,XXHDPI:3,xxhdpi:3,_3x:3,"3x":3,XXXHDPI:4,xxxhdpi:4,_4x:4,"4x":4}),t.RESOURCE_TYPE=Object.freeze({COLORS:"colors",COMPONENTS:"components",TEXT_STYLES:"textStyles"}),t.PLATFORM=Object.freeze({BASE:"base",ANDROID:"android",IOS:"ios",OSX:"osx",MACOS:"osx",WEB:"web"}),t.PlatformString=Object.freeze({base:"Base",android:"Android",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"}),t.Keyboard=Object.freeze({Key:{Meta:"Meta",Ctrl:"Control",Enter:"Enter",Escape:"Escape",s:"s",v:"v"},Code:{Minus:"Minus",Equal:"Equal"}}),t.WorkspaceTabs=Object.freeze({PROJECTS:"projects",STYLEGUIDES:"styleguides"}),t.DialogTypes=Object.freeze({TRANSFER:"transferOwnership",ARCHIVE:"archive",LEAVE:"leave",DELETE:"delete",SELECT_PARENT:"selectParent",REMOVE_PARENT:"removeParent",CREATE_PROJECT:"createProject",CREATE_STYLEGUIDE:"createStyleguide",UPGRADE_PLAN:"upgradePlan",RESTRICTED_EDITOR_WARNING:"restrictedEditorWarning",PREVIEW_PROJECT:"previewProject",PREVIEW_STYLEGUIDE:"previewStyleguide"}),t.ProjectViewTypes=Object.freeze({DASHBOARD:"dashboard",STYLEGUIDE:"styleguide",SCREEN:"screen"}),t.SortTypes=Object.freeze({NAME:"name",CREATED:"created",UPDATED:"updated",SECTIONS:"sections"}),function(e){e.Workspace="Workspace",e.Project="Project",e.Styleguide="Styleguide",e.ProjectStyleguide="ProjectStyleguide",e.Screen="Screen",e.ScreenVersion="ScreenVersion",e.Notifications="Notifications"}(t.AppRoutes||(t.AppRoutes={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"WEB_URL",(function(){return i})),n.d(t,"APP_URL",(function(){return o})),n.d(t,"BASE_URL",(function(){return a})),n.d(t,"IMG_URL",(function(){return r})),n.d(t,"CDN_URL",(function(){return s})),n.d(t,"SCENE_URL",(function(){return l})),n.d(t,"EXTENSIONS_WEB_URL",(function(){return c})),n.d(t,"PUSHER_URL",(function(){return d})),n.d(t,"PUSHER_URL_V2",(function(){return u})),n.d(t,"PUBLIC_API_URL",(function(){return p})),n.d(t,"CLI_CLIENT_ID",(function(){return h})),n.d(t,"ZEM_CLIENT_ID",(function(){return f})),n.d(t,"TRELLO_CLIENT_ID",(function(){return g})),n.d(t,"JIRA_CLIENT_ID",(function(){return m})),n.d(t,"JIRA_ATL_ORIGIN_TOKEN",(function(){return b})),n.d(t,"VSCODE_CLIENT_ID",(function(){return S})),n.d(t,"FIGMA_CLIENT_ID",(function(){return y})),n.d(t,"ZPL_PROTOCOL",(function(){return C})),n.d(t,"INTERCOM_APP_ID",(function(){return v})),n.d(t,"GOOGLE_CLIENT_ID",(function(){return O})),n.d(t,"GOOGLE_AUTH_LOGIN_REDIRECT_URI",(function(){return E})),n.d(t,"GOOGLE_AUTH_SIGNUP_REDIRECT_URI",(function(){return T})),n.d(t,"GOOGLE_AUTH_UNLINK_REDIRECT_URI",(function(){return _})),n.d(t,"GOOGLE_AUTH_SETUP_SSO_REDIRECT_URI",(function(){return P})),n.d(t,"GOOGLE_AUTH_REMOVE_SSO_REDIRECT_URI",(function(){return j})),n.d(t,"SLACK_CLIENT_ID",(function(){return D})),n.d(t,"SLACK_SCOPE",(function(){return k})),n.d(t,"SLACK_AUTH_URL",(function(){return I})),n.d(t,"INTEGRATION_JIRA_URL",(function(){return R})),n.d(t,"INTEGRATION_TEAMS_URL",(function(){return A})),n.d(t,"INTEGRATION_TRELLO_URL",(function(){return w})),n.d(t,"FIREBASE_API_KEY",(function(){return N})),n.d(t,"FIREBASE_PROJECT_ID",(function(){return L})),n.d(t,"FIREBASE_APP_ID",(function(){return x})),n.d(t,"FIREBASE_MESSAGING_SENDER_ID",(function(){return M})),n.d(t,"MIXPANEL_MASTER_API_TOKEN",(function(){return U})),n.d(t,"GA_LEGACY_TRACKING_ID",(function(){return B})),n.d(t,"GA_TRACKING_ID",(function(){return z})),n.d(t,"STRIPE_PUBLISHABLE_KEY",(function(){return V})),n.d(t,"SENTRY_DSN",(function(){return W})),n.d(t,"SENTRY_ENVIRONMENT",(function(){return F})),n.d(t,"SENTRY_RELEASE",(function(){return H})),n.d(t,"PUSHER_ACCESS_KEY",(function(){return G})),n.d(t,"USER_CHANNEL_PREFIX",(function(){return $})),n.d(t,"PROJECT_CHANNEL_PREFIX",(function(){return q})),n.d(t,"STYLEGUIDE_CHANNEL_PREFIX",(function(){return Z})),n.d(t,"ORGANIZATION_CHANNEL_PREFIX",(function(){return K})),n.d(t,"ANNOUNCEMENT_CHANNEL",(function(){return Y})),n.d(t,"COOKIE_DOMAIN",(function(){return J})),n.d(t,"SECURE_COOKIE",(function(){return X})),n.d(t,"WEBAPP_VERSION",(function(){return Q})),n.d(t,"FLAG_REMOVE_TEST_ID",(function(){return ee})),n.d(t,"FLAG_USE_CONSOLE_LOGGER",(function(){return te})),n.d(t,"FLAG_NEW_PUSHER_AUTH",(function(){return ne}));const i="https://zeplin.io",o="https://app.zeplin.io",a="https://api.zeplin.io",r="https://img.zeplin.io",s="https://cdn.zeplin.io",l="https://scene.zeplin.io",c="https://extensions.zeplin.io",d="https://pusher.zeplin.io/v1/auth",u="https://pusher.zeplin.io/v2/auth",p="https://api.zeplin.dev",h="5dd27af376f8bf5094f6ebe6",f="5bbc983af6c410493afb03f1",g="59dfedff7c722575736b3e8d",m="5dc3d464b94b22000d3834d0",b="eyJpIjoiZThlMzc5Y2FhZjQ4NDhhYzk3ZDgxMGY5ZDhmYTExNTkiLCJwIjoiamlyYS16ZXBsaW4taW50In0",S="5dc51cd876f8bf00163de1e5",y="5f16c22ce92f41f029ff9593",C="zpl:",v="41ycdg94",O="572614822654-ghfhpjmi208r3tcia7ff0tu8p0fg7vdh.apps.googleusercontent.com",E="https://app.zeplin.io/auth/google/login",T="https://app.zeplin.io/auth/google/signup",_="https://app.zeplin.io/auth/google/unlink",P="https://app.zeplin.io/auth/google/setupsso",j="https://app.zeplin.io/auth/google/removesso",D="2330702581.8730394641",k="incoming-webhook,emoji:read,links:read,links:write",I="https://slack.com/oauth/authorize",R="https://zpl.io/jira",A="https://zpl.io/zeplin-teams-app",w="https://trello.com/power-ups/59e0018ea9b5b298bbe8f8ef",N="AIzaSyAJ7h6d1DnbtYRlODr_FZhw8loCsu7n9H8",L="zeplin-8d650",x="1:290381624317:web:0f6a4fd50c15b00d401f94",M="290381624317",U="26bd4a3dcc47c8a293c60fa00656fb81",B="UA-51352708-4",z="UA-51352708-8",V="pk_live_XfHC5uYDKaZYEOC1m9FlXwtq",W="https://005c26d193b24ce099639f75fb5fbc85@app.getsentry.com/83039",F="production",H="11.26.2",G="12ddd9afec9f9b421244",$="private-user@",q="private-project@",Z="private-styleguide@",K="private-organization@",Y="announcement",J=".zeplin.io",X=!0,Q="11.26.2",ee="true",te="",ne=!0},function(e,t,n){"use strict";n.r(t);var i=n(33),o=n.n(i),a=n(231);const r=new class{constructor(){const e=a.SECURE_COOKIE?"none":"lax";o.a.defaults={domain:a.COOKIE_DOMAIN,expires:365,secure:a.SECURE_COOKIE,sameSite:e}}get(e){return o.a.get(e)}set(e,t,n={}){o.a.set(e,t,n)}remove(e){o.a.remove(e)}},s=localStorage.getItem("userTokenUpgraded"),l=r.get("userToken");!s&&l&&(r.set("userToken",l),localStorage.setItem("userTokenUpgraded","true")),t.default=r},,function(e,t,n){"use strict";n.r(t),n.d(t,"userPrefs",(function(){return b})),n.d(t,"barrelPrefs",(function(){return S})),n.d(t,"extensionPrefs",(function(){return y})),n.d(t,"organizationPrefs",(function(){return C}));var i=n(32),o=n.n(i),a=n(230);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:a.SortTypes.CREATED,styleguidesTabVisited:!1,styleguidesUsed:!1,tabTutorialSeen:!1,versionsTutorialSeen:!1,zeplinThreeZeroWhatsNewSeen:!1,noVectorAssetInfoHidden:!1,sourceFileInfoHidden:!1,lastOrganization:"user",pinnedBarrelOnce:!1,dashboardMemberSortKey:{field:"role",reverse:!0},componentVariantsOnboardingDialogSeen:!1,componentVariantsOnboardingHintboxSeen:!1,componentVariantViewSeen:!1,numberOfLayerComponentViews:0,connectedComponentsOnboardingDialogSeen:!1,numberOfHighlightedConnectToCodeButtonViews:0,resolvedDotsTutorialSeen:!1,noScreensDesignToolSelection:"photoshop",flowLinkInfoDismissed:!1,windowsAppsNewReleasePointReminderOpen:!1,densityMismatchWarningHidden:!1,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,recentlyLoadedBarrels:{projects:[],styleguides:[]},oldNotificationExperience:!1,notificationWelcomeMessageMinimized:!1},d={assetDensityScalePrefs:null,assetNamingConvention:"default",dashboardSidebarWidth:280,screenSidebarWidth:280,styleguideLeftSidebarWidth:200,styleguideRightSidebarWidth:280,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,noteStatusFilter:"open",noteColorFilter:null,collapsedSections:{},showOptimizedSVG:!0,slackReconnectionAuntieSeen:!1,versionsSidebarWidth:280,zoomLevel:1,fixedThumbnailSize:!1,extensions:null,androidResFolderReminderSeen:!1},u={projectSortType:a.SortTypes.SECTIONS,collapsedSections:{},dialogDismissStates:{}};let p,h,f,g;function m(){p=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"userPrefs",version:1}),h=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"projectPrefs",version:1}),f=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"extensionPrefs",version:1}),g=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"organizationPrefs",version:1})}m();const b={getAll(){var e=c;return p.iterate((function(t,n){e[n]=t})).then((function(){return e}))},get:e=>p.getItem(e).then((function(t){return null===t?c[e]:t})),set:(e,t)=>p.setItem(e,t),remove:e=>p.removeItem(e)},S={getAll:e=>h.getItem(e).then(e=>s(s(s({},d),e),{},{collapsedSections:e&&"collapsedSections"in e&&e.collapsedSections?e.collapsedSections:{}})),get:(e,t,n)=>h.getItem(e).then(e=>!e||!(t in e)||n&&!(n in e[t])?n?d[n]:d[t]:e&&"collapsedSections"===t&&"collapsedSections"in e&&!e.collapsedSections?d.collapsedSections:n?e[t][n]:e[t]),set:(e,t,n,i)=>h.getItem(e).then(o=>(o||(o={}),i?(o[t]||(o[t]={}),o[t][n]=i,h.setItem(e,o)):(o[t]=n,h.setItem(e,o))))},y={get:(e,t,n)=>f.getItem(e).then((function(e){return e&&t in e?n?e[t][n]:e[t]:null})),set:(e,t,n,i)=>f.getItem(e).then((function(o){return o||(o={}),o[t]||(o[t]={}),o[t][n]=i,f.setItem(e,o)})),remove:e=>f.removeItem(e)},C={getAll:e=>g.getItem(e).then(e=>s(s({},u),e)),get:(e,t,n)=>g.getItem(e).then(e=>!e||!(t in e)||n&&!(n in e[t])?n?u[n]:u[t]:n?e[t][n]:e[t]),set:(e,t,n,i)=>g.getItem(e).then(o=>(o||(o={}),void 0===i?(o[t]=n,g.setItem(e,o)):(o[t]||(o[t]={}),o[t][n]=i,g.setItem(e,o))))};function v(e){return function(...t){return e(...t).catch(()=>(m(),e(...t)))}}S.get=v(S.get),S.set=v(S.set),b.get=v(b.get),b.set=v(b.set),y.get=v(y.get),y.set=v(y.set),C.get=v(C.get),C.set=v(C.set)},,,,,,function(e,t){const n=document.querySelectorAll("input[type='text'], input[type='email'], input[type='password'], textarea"),i=document.querySelectorAll(".showPasswordCheckbox");Array.from(n).forEach(e=>{const t=e.closest(".inputArea");t&&(e.addEventListener("focus",()=>{t.classList.add("focus")}),e.addEventListener("blur",()=>{t.classList.remove("focus")}),t.classList.toggle("typed",!!e.value.length),e.value&&t.classList.toggle("invalid",!e.validity.valid),e.addEventListener("input",()=>{t.classList.toggle("typed",!!e.value.length)}))}),Array.from(i).forEach(e=>{e.addEventListener("change",()=>{e.parentElement.parentElement.querySelector("input").type=e.checked?"text":"password"})})},function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return r}));var i=n(22);n.d(t,"polyfill",(function(){return i.default}));var o=n(231);function a(e){const t=document.createElement("dialog"),n=document.createElement("h1"),i=document.createElement("div"),a=document.createElement("form"),r=document.createElement("button"),s=document.createElement("div"),l=document.createElement("div");if(e&&e.img){const n=document.createElement("div");n.classList.add("iconContainer"),s.appendChild(n),function(e,t){let n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):(n=document.createElement("img"),n.src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}(e.img,t)}if(!o.FLAG_REMOVE_TEST_ID&&e&&e.testid&&(t.dataset.testid=e.testid),n.classList.add("title"),s.appendChild(n),i.classList.add("message"),s.appendChild(i),e&&e.input){s.classList.add("inputDialogContainer");const t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("input");t.classList.add("inputContainer"),n.classList.add("subtitle"),n.textContent=e.input.title,i.type=e.input.type,t.appendChild(n),t.appendChild(i),a.appendChild(t)}if(e&&e.cancel){const t=document.createElement("button");t.classList.add("cancel"),t.type="submit",t.textContent=e.cancel.name||"CANCEL",e.cancel.cb&&t.addEventListener("click",e.cancel.cb),l.appendChild(t)}return r.classList.add("done"),r.type="submit",r.autofocus=!0,r.textContent=e&&e.done&&e.done.name||"OK",e&&e.done&&e.done.cb&&r.addEventListener("click",e.done.cb),l.appendChild(r),l.classList.add("buttonContainer"),a.appendChild(l),a.setAttribute("method","dialog"),s.appendChild(a),t.appendChild(s),document.querySelector("body").appendChild(t),t}function r(e,t){if(document.querySelector("dialog.generic")&&!e)return;const n=e&&e.title||"",o=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.";let r=!1;if(t&&"defer"in t&&(r=t.defer),r)return void sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:o}));const s=a(e);i.default.registerDialog(s),s.querySelector(".title").textContent=n;const l=s.querySelector(".message"),{contentType:c="text"}=t||{};switch(c){case"html":l.innerHTML=o;break;case"text":default:l.textContent=o}t&&t.hideMessage&&s.querySelector(".message").classList.add("hidden"),s.addEventListener("click",e=>{e.stopPropagation()}),s.addEventListener("close",()=>{s.remove()}),e||s.classList.add("generic"),s.showModal()}const s=JSON.parse(sessionStorage.getItem("deferredDialog"));s&&(sessionStorage.removeItem("deferredDialog"),r(s))},function(e,t,n){"use strict";n.r(t),n.d(t,"parseUrlPath",(function(){return l})),n.d(t,"getTagQueryParams",(function(){return c})),n.d(t,"getExtensionWebsiteUrl",(function(){return d})),n.d(t,"isValidUrl",(function(){return u})),n.d(t,"parseAppURI",(function(){return a})),n.d(t,"convertURItoWebURL",(function(){return r}));var i=n(231),o=n(243);function a(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("//styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=e.searchParams.get("pid"),i=e.searchParams.get("stid");if(!n&&!i)return null;if(t.url={pid:n,bid:n||i},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid"),i=e.searchParams.get("vid");t.urlSlug=i?"project-screen-version":"project-screen",t.url.sid=n,t.url.vid=i}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),o=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:o}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),o=e.searchParams.getAll("tsid"),a=e.searchParams.getAll("sptid"),r=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide":"project-styleguide",t.query={cid:n,tsid:o,sptid:a,coid:r}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug=i?"styleguide-colors":"project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug=i?"styleguide-textstyles":"project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//spacing")){const n=e.searchParams.getAll("sptid");t.urlSlug=i?"styleguide-spacing":"project-styleguide-spacing",t.query={sptid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid"),o=e.searchParams.getAll("cseid"),a=e.searchParams.getAll("seid"),r=[...new Set([...a,...o])];t.urlSlug=i?"styleguide-components":"project-styleguide-components",t.query={coid:n,seid:r}}else{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.urlSlug="project-dashboard",t.query={sid:n,seid:i}}}return t}function r(e){if(e.protocol!==i.ZPL_PROTOCOL)return;const{urlSlug:t,url:n={},query:r={}}=a(e)||{};return t?Object(o.urlResolve)(t,{url:n,query:r}):void 0}n.d(t,"joinUrlParams",(function(){return o.joinUrlParams})),n.d(t,"parseUrlParams",(function(){return o.parseUrlParams})),n.d(t,"urlResolve",(function(){return o.urlResolve})),n.d(t,"getAppRouteFromPathname",(function(){return o.getAppRouteFromPathname}));const s=new RegExp("/project/([0-9a-z]{24})(?:/screen/([0-9a-z]{24})(?:/version/([0-9a-z]{24}))?)?","i");function l(e){var t=e.match(s);if(!t)return null;var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),t[3]&&(n.vid=decodeURIComponent(t[3])),n}function c(e){const{tags:t,untagged:n}=e;return n?{untagged:"true"}:{tag:t}}function d({eid:e,organizationId:t}={}){return e?`${i.EXTENSIONS_WEB_URL}/${e}`:t&&"user"!==t?`${i.EXTENSIONS_WEB_URL}?oid=${t}`:i.EXTENSIONS_WEB_URL}const u=e=>{try{return!!new URL(e)}catch(t){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppRouteFromPathname=t.joinUrlParams=t.urlResolve=t.parseUrlParams=void 0;const i=n(230),o={authGoogle:"/auth/google","sso-required":"/login/sso-required",downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",login:"/login",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing","profile-developer":"/profile/developer","profile-connected-apps":"/profile/connected-apps",project:"/project/:bid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:bid/styleguide","project-styleguide-colors":"/project/:bid/styleguide/colors","project-styleguide-textstyles":"/project/:bid/styleguide/textstyles","project-styleguide-spacing":"/project/:bid/styleguide/spacing","project-styleguide-components":"/project/:bid/styleguide/components","project-screen":"/project/:pid/screen/:sid","project-screen-version":"/project/:pid/screen/:sid/version/:vid",projects:"/projects",styleguide:"/styleguide/:bid","styleguide-about":"/styleguide/:bid/about","styleguide-colors":"/styleguide/:bid/colors","styleguide-textstyles":"/styleguide/:bid/textstyles","styleguide-spacing":"/styleguide/:bid/spacing","styleguide-components":"/styleguide/:bid/components",styleguides:"/styleguides",signup:"/signup","signup-sso":"/signup/sso",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","organization-create":"/organization/create","organization-dashboard":"/organization/:oid/dashboard","organization-profile":"/organization/:oid/profile","organization-profile-billing":"/organization/:oid/profile/billing","organization-profile-authentication":"/organization/:oid/profile/authentication","organization-profile-developer":"/organization/:oid/profile/developer","organization-projects":"/organization/:oid/projects","organization-styleguides":"/organization/:oid/styleguides",authSamlResult:"/auth/saml/result",activities:"/notifications","organization-activities":"/notifications/:oid"};function a(e){if(!Object.keys(e))return"";const t=[];return Object.keys(e).forEach(n=>{e[n]&&(Array.isArray(e[n])?e[n].forEach(e=>{t.push([n,e])}):t.push([n,e[n]]))}),t.map(e=>e.map(encodeURIComponent).join("=")).join("&")}function r(e){return 0===Object.keys(e).length}t.joinUrlParams=a,t.urlResolve=function(e,{origin:t=location.origin,url:n={},query:i={},hash:s={}}={}){const l=new URL((c=o[e],d=n,Object.entries(d).reduce((e,[t,n])=>e.replace(new RegExp(":"+t),n),c)),t);var c,d;return i&&!r(i)&&(l.search=a(i)),s&&!r(s)&&(l.hash=a(s)),l.toString()},t.parseUrlParams=function(e){const t=("?"===e[0]?e.substring(1):e).split("&").map(e=>e.split("=").map(e=>e.replace(/\+/g,"%20")).map(decodeURIComponent)),n=Array.from(new Set(t.map(e=>e[0]))).reduce((e,t)=>(e[t]=[],e),{});return t.forEach(e=>{const t=n[e[0]];t&&e[1]&&t.push(e[1])}),n},t.getAppRouteFromPathname=function(e){let t=null;return/^(?:\/organization\/([\da-f]{24}))?\/(projects|styleguides)?$/i.test(e)?t=i.AppRoutes.Workspace:/\/project\/([\da-f]{24})(?:\/(dashboard))?$/i.test(e)?t=i.AppRoutes.Project:/\/styleguide\/([\da-f]{24})/i.test(e)?t=i.AppRoutes.Styleguide:/\/project\/([\da-f]{24})\/styleguide/i.test(e)?t=i.AppRoutes.ProjectStyleguide:/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})?$/i.test(e)?t=i.AppRoutes.Screen:/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})\/version\/([\da-f]{24})?$/i.test(e)?t=i.AppRoutes.ScreenVersion:/^\/notifications(?:\/)?([\da-f]{24})?$/i.test(e)&&(t=i.AppRoutes.Notifications),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"scrollIfNecessary",(function(){return h})),n.d(t,"getFirstScrollableParent",(function(){return p})),n.d(t,"selectContent",(function(){return f})),n.d(t,"isElementVisible",(function(){return g})),n.d(t,"wiggle",(function(){return m})),n.d(t,"highlightInput",(function(){return b})),n.d(t,"highlightAndScrollToInput",(function(){return S})),n.d(t,"highlightMatchedParts",(function(){return y})),n.d(t,"isEditableElement",(function(){return C})),n.d(t,"canCopy",(function(){return v})),n.d(t,"canDownload",(function(){return O})),n.d(t,"getTextWidth",(function(){return E})),n.d(t,"setAvatar",(function(){return T})),n.d(t,"getUserAvatar",(function(){return j})),n.d(t,"openLink",(function(){return D})),n.d(t,"notify",(function(){return k}));var i=n(220),o=n.n(i),a=n(245),r=n(246),s=n(249),l=n(229),c=n(234),d=n(254),u=n(256);function p(e){if(!e)return null;let t=e.parentElement;for(;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function h(e,t=p(e)){if(!e||!t)return;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();setTimeout(()=>{n.top<i.top?t.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(t.scrollTop+=n.bottom-i.bottom)},4)}function f(e){getSelection().removeAllRanges();const t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function g(e,t=p(e)){if(!t)return!0;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.top<=n.top&&i.bottom>=n.bottom&&i.left<=n.left&&i.right>=n.right}function m(e){e.addEventListener("animationend",()=>{e.classList.remove("wiggle")}),e.classList.add("wiggle")}function b(e){setTimeout(()=>{e.focus(),e.select()},4)}function S(e){setTimeout(()=>{e.scrollIntoView(),e.focus(),e.select()},4)}function y(e,t,{caseInsensitive:n,excludeZeroScore:i}={}){const o=n?e.toLowerCase():e,r=n?t.toLowerCase():t;let s=0,l="";if(i&&!Object(d.calculateMatchingScore)(r,o))return Object(a.escapeHTML)(e);const c=o.indexOf(r);if(c>-1)l+=Object(a.escapeHTML)(e.substring(0,c)),l+=`<span class="highlight">${Object(a.escapeHTML)(e.substr(c,r.length))}</span>`,l+=Object(a.escapeHTML)(e.substring(c+r.length));else{for(const t of r){const n=o.indexOf(t,s);if(-1===n)break;l+=Object(a.escapeHTML)(e.substring(s,n)),l+=`<span class="highlight">${Object(a.escapeHTML)(e.substr(n,t.length))}</span>`,s=n+t.length}l+=Object(a.escapeHTML)(e.substring(s))}return l}function C(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function v(){return document.queryCommandSupported("copy")}function O(){return"download"in document.createElement("a")}n.d(t,"copyContent",(function(){return u.copyContent}));const E=function(){let e;return function(t,n){e||(e=document.createElement("canvas"));const i=e.getContext("2d");return i.font=n,i.measureText(t).width}}();function T(e,t,{size:n,ignoreRandomEmotar:i}={}){const o=e.parentElement;o.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",(function t(){e.removeEventListener("load",t),o.classList.remove("loading")}));const a=j(t,{ignoreRandomEmotar:!!i,size:n||e.width});a&&Object.assign(e,a)}const _=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],P={};function j(e,{ignoreRandomEmotar:t=!1,size:n}={}){if(!e||!e.email)return{src:"/img/emotars/emotarAnonymous.png"};if(!t&&e.emotar)return{src:Object(s.emotarUrl)(e.emotar)};if(e.avatar)return{src:e.avatar};let i;if(t)return{src:"/img/emotars/icRandom.svg"};let a=P[e._id];a||(a=Array.from(o()(e._id)).reduce((e,t)=>e+t.charCodeAt(),0),P[e._id]=a),i=_[a%_.length].replace(/_\w/g,e=>e.charAt(1).toUpperCase()),i=`https://app.zeplin.io/img/emotars/emotar${Object(r.uppercaseFirst)(i)}.png`;const l="https://secure.gravatar.com/avatar/"+o()(e.email);return{src:`${l}?${n?"s="+n+"&":""}d=${i}`,srcset:`${l}?${n?"s="+2*n+"&":""}d=${i} 2x`}}function D(e,{inNewTab:t=!0}={}){if(l.default)return void l.default.shell.openExternal(e);let n=window.location;if(t){const e=window.open("","_blank");e.opener=null,n=e.location}n.assign(e)}async function k({title:e,body:t,notifier:n,handler:i}={}){if(!window.Notification||"granted"!==Notification.permission)return;if(!await c.userPrefs.get("notificationStatus"))return;const{src:o}=j(n,{size:160}),a=new Notification(e,{body:t,icon:o,name:0});a.addEventListener("show",(function(){setTimeout(a.close.bind(a),5e3)})),i&&a.addEventListener("click",i)}},function(e,t,n){"use strict";n.r(t),n.d(t,"escapeHTML",(function(){return u})),n.d(t,"unescapeHTML",(function(){return p})),n.d(t,"sortBy",(function(){return m})),n.d(t,"arrayRemove",(function(){return P})),n.d(t,"fontSort",(function(){return j})),n.d(t,"emojiRegex",(function(){return y})),n.d(t,"spanEmojis",(function(){return v})),n.d(t,"mentionRegexFn",(function(){return E})),n.d(t,"userRegexFn",(function(){return T})),n.d(t,"isThereAnyMentionedUser",(function(){return _})),n.d(t,"arrayEqual",(function(){return D})),n.d(t,"validateId",(function(){return k})),n.d(t,"isOrganizationProject",(function(){return R})),n.d(t,"getDeveloperString",(function(){return L})),n.d(t,"getPlatformString",(function(){return M})),n.d(t,"escapeAndroidXML",(function(){return h})),n.d(t,"escapeRegExpButAsterisk",(function(){return f})),n.d(t,"getTimeSlot",(function(){return B})),n.d(t,"normalizeObjCColor",(function(){return A})),n.d(t,"normalizeSwiftColor",(function(){return w})),n.d(t,"alphaFormatter",(function(){return W})),n.d(t,"formatTime",(function(){return $})),n.d(t,"formatTimeWithGenericOptions",(function(){return q})),n.d(t,"rectContains",(function(){return Z})),n.d(t,"rectContainsPoint",(function(){return K})),n.d(t,"rectanglesIntersect",(function(){return Y})),n.d(t,"getUserRoleString",(function(){return X})),n.d(t,"getRoleIconName",(function(){return Q})),n.d(t,"getDensityScale",(function(){return te})),n.d(t,"getDensityScaleRepresentation",(function(){return ie})),n.d(t,"getMostConformingTextStyle",(function(){return oe})),n.d(t,"colorNameRegex",(function(){return ae})),n.d(t,"debounce",(function(){return z})),n.d(t,"debouncePromise",(function(){return V})),n.d(t,"stopPropagation",(function(){return re})),n.d(t,"preventDefault",(function(){return se})),n.d(t,"collectComponents",(function(){return le})),n.d(t,"formatCurrency",(function(){return H})),n.d(t,"formatList",(function(){return G})),n.d(t,"calculateOverlayIcon",(function(){return ue})),n.d(t,"pipe",(function(){return pe})),n.d(t,"getStateUpdateFunction",(function(){return he})),n.d(t,"groupBy",(function(){return fe})),n.d(t,"normalizeArray",(function(){return ge})),n.d(t,"groupMentionKeywords",(function(){return O}));var i=n(34),o=n(209),a=n.n(o),r=n(246),s=n(247);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function p(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")}function h(e){return u(e).replace(/^@/gm,"\\ufeff@")}function f(e){return e.replace(/[.+\-?^${}()|[\]\\]/g,"\\$&")}n.d(t,"permissions",(function(){return s.permissions})),n.d(t,"filterOut",(function(){return s.filterOut}));var g={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},m={role:(e,t)=>e.role!==t.role?g[t.role]-g[e.role]:"invited"!==e.user.status&&"invited"===t.user.status?-1:"invited"===e.user.status&&"invited"!==t.user.status?1:"invited"===e.user.status&&"invited"===t.user.status?e.user.email<t.user.email?-1:1:e.user.username<t.user.username?-1:1,date:b,created:b.bind(null,["created"]),updated:b.bind(null,["updated"]),authorized:b.bind(null,["authorizedAt"]),naturally:S.bind(null,null),name:S.bind(null,"name")};function b(e,t,n){let i=t,o=n;for(let a=0;a<e.length;a++)i=i[e[a]],o=o[e[a]];return new Date(o)-new Date(i)}function S(e,t,n){let i=t,o=n;e&&(i=t[e],o=n[e]);const a=i.toLowerCase().match(/\D+|\d+/g),r=o.toLowerCase().match(/\D+|\d+/g),s=Math.min(a.length,r.length),l=new Intl.Collator;for(let c=0;c<s;c++){if(a[c]===r[c])continue;const e=parseInt(a[c],10),t=parseInt(r[c],10);return isNaN(e)||isNaN(t)?l.compare(a[c],r[c]):e-t}return a.length-r.length}const y=a()();var C=/\ud83c[\udffb-\udfff]/g;function v(e){return e.replace(y,(function(e){return C.test(e)?'<span class="emoji skinType">'+e+"</span>":'<span class="emoji">'+e+"</span>"})).replace(/<\/span><span class="emoji skinType">/g,"")}const O=["everyone","project","organization"];function E(e){const t=[...O,e].join("|");return new RegExp(`@(?:${t})\\b`)}function T(e=[]){const t=e.filter(({user:{username:e}})=>e).map(({user:{username:e}})=>e),n=[...O,...t].join("|");return new RegExp(`@(?:${n})\\b`,"gi")}function _(e,t){const n=e.filter(({user:{username:e}})=>e&&e!==Zeplin.user.username).map(({user:{username:e}})=>e).join("|");return new RegExp(`@(?:${n})\\b`,"gi").test(t)}function P(e,t){const n="function"==typeof t?t:e=>e._id===t,i=e.findIndex(n);return-1===i?null:e.splice(i,1)[0]}function j(e,t){return e.fontSize>t.fontSize?-1:e.fontSize<t.fontSize?1:e.fontWeight>t.fontWeight?-1:e.fontWeight<t.fontWeight?1:e.color&&!t.color?-1:t.color&&!e.color?1:e.fontFace<t.fontFace?-1:e.fontFace>t.fontFace?1:e.name<t.name?-1:1}function D(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function k(e,t="object"){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||(i.withScope(n=>{n.setExtra("id",e),i.captureException(new Error(`Invalid ${t} id`))}),!1)}const I=["king","queen","rook","knight","pawn"];function R(e){return!e.users.length||I.includes(e.users[0].role)}function A(e){return(e=Math.round(e))?255===e?"1.0f ":e+".0f / 255.0f ":"0.0f "}function w(e){return(e=Math.round(e))?255===e?"1.0, ":e+".0 / 255.0, ":"0.0, "}const N={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer",osx:"macOS developer"};function L(e){return N[e]}const x=Object.freeze({android:"Android",base:"Base",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"});function M(e){return x[e]}function U(e){return(e.getDay()+6)%7}function B(e){var t=function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),i=new Date(n-864e5),o=new Date(n-864e5*U(e)),a=new Date(n-864e5*(U(e)+7)),r=new Date(n-864e5*(e.getDate()-1)),s=new Date(n-864e5*(e.getDate()+1));return s.setDate(1),[["today",t],["yesterday",i],["this week",o],["last week",a],["this month",r],["last month",s]]}().find((function(t){return e>=t[1]}));if(t)return t[0];var n={month:"long"};return(new Date).getFullYear()!==e.getFullYear()&&(n.year="numeric"),$(e,n)}function z(e,t){let n;return function(...i){const o=this;n?cancelAnimationFrame(n):t&&e.apply(o,i),n=requestAnimationFrame((function(){t||e.apply(o,i),n=null}))}}function V(e,t=1e3){let n=null,i=null;return function(...o){return clearTimeout(n),n=setTimeout(()=>{let t=e(...o);i(t),i=null},t),new Promise(e=>{i=e})}}var W=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});const F=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function H(e){return F.format(e)}function G(e,t="conjunction"){if(Intl.ListFormat)return new Intl.ListFormat("en-US",{type:t}).format(e.map(String));const n="disjunction"===t?"or":"and";return e.length<3?e.join(` ${n} `):`${e.slice(0,-1).join(", ")}, ${n} ${e[e.length-1]}`}function $(e,t){var n=new Intl.DateTimeFormat("en",t),i=n.resolvedOptions().timeZone;return i&&"etc/unknown"!==i.toLowerCase()||(t.timeZone="UTC",n=new Intl.DateTimeFormat("en",t)),n.format(new Date(e))}function q(e){return $(e,{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}function Z(e,t){const n=e.x+e.width,i=e.y+e.height,o=t.x+t.width,a=t.y+t.height;return e.x<=t.x&&e.y<=t.y&&n>=o&&i>=a}function K(e,t,n={}){const{left:i,right:o,top:a,bottom:r}=e,{x:s,y:l}=t,c=n.discardHorizontalPosition||s>=i&&s<o,d=n.discardVerticalPosition||l>=a&&l<r;return c&&d}function Y(e,t){return e.x<t.right&&e.right>t.x&&e.y<t.bottom&&e.bottom>t.y}var J={king:"Owner",queen:"Admin",rook:"Editor",knight:"Developer",pawn:"Reviewer",owner:"Owner",admin:"Admin",user:"Member"};function X(e){return J[e]||""}function Q(e){return"ic"+Object(r.uppercaseFirst)(e)}const ee=Object.freeze({mdpi:1,"1x":1,web:1,unknown:1,undefined:1,hdpi:1.5,xhdpi:2,"2x":2,xxhdpi:3,"3x":3,xxxhdpi:4,"4x":4});function te(e){return ee[e]}const ne=Object.freeze({1:"mdpi",1.5:"hdpi",2:"xhdpi",3:"xxhdpi",4:"xxxhdpi"});function ie(e,t){return t?"android"===e?ne[t]:t+"x":"unknown"}function oe(e,t){const n=e.reduce((e,n)=>{const{id:i,name:o,textStyles:a,isMember:r,isOrganizationBarrel:s}=n,l=function(e,t){return e.reduce((e,n)=>{if(t.sourceId&&n.sourceId&&t.sourceId===n.sourceId)return{textStyle:n,score:1e3};if(!t.conforms(n))return e;const i=Object.keys(n).filter(e=>void 0!==n[e]).length;return i>e.score?{textStyle:n,score:i}:e},{textStyle:null,score:0})}(a,t);return l.score>e.score?c({styleguideId:i,styleguideName:o,isMember:r,isOrganizationBarrel:s},l):e},{textStyle:null,score:0});if(!n.textStyle)return null;const{styleguideId:i,styleguideName:o,textStyle:a,isMember:r,isOrganizationBarrel:s}=n;return c({styleguideId:i,styleguideName:o,isMember:r,isOrganizationBarrel:s},a)}const ae=Object.freeze({ios:/[^\da-z]/gi,osx:/[^\da-z]/gi,web:/[^\w-]/g,base:/[^\w-]/g,android:/\W/g});function re(e){e.stopPropagation()}function se(e){e.preventDefault()}function le(e=[]){return[].concat(...e.map(e=>e.components.concat(le(e.componentSections))))}const ce=document.createElement("canvas");function de(e){return e/2*window.devicePixelRatio}function ue(){ce.width=16*window.devicePixelRatio,ce.height=ce.width;const e=ce.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(de(16),de(16),de(13),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(de(16),de(16),de(2),0,6.28,!1),e.fill(),ce.toDataURL()}function pe(...e){return e.reduce((e,t)=>n=>t(e(n)),e=>e)}function he(e){return t=>Object.keys(e).reduce((n,i)=>(t[i]===e[i]||(n||(n={}),n[i]=e[i]),n),null)}function fe(e,t){return e.reduce((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e),{})}function ge(e,t){return e.reduce((e,n)=>(e[n[t]]=n,e),{})}},function(e,t,n){"use strict";n.r(t),n.d(t,"pluralize",(function(){return a})),n.d(t,"lowercaseFirst",(function(){return r})),n.d(t,"uppercaseFirst",(function(){return s})),n.d(t,"getRandomString",(function(){return l})),n.d(t,"anyWordStartsWith",(function(){return c})),n.d(t,"getFirstWhitespaceIndex",(function(){return d})),n.d(t,"getFilenameWithoutExtensionFromPath",(function(){return u})),n.d(t,"getFileExtensionFromPath",(function(){return p})),n.d(t,"isLetter",(function(){return h}));const i=/\W/,o=/[\W_]/;function a(e,t,{suffix:n="s",one:i="1"}={}){return`${1===e?i:e} ${t}${1!==e?n:""}`}function r(e){return e.charAt(0).toLowerCase()+e.substring(1)}function s(e){return e.charAt(0).toUpperCase()+e.substring(1)}function l(e=1/0){return Math.random().toString(36).substr(2,e)}function c(e,t){return e.split(o).some(e=>e.startsWith(t))}function d(e,t){return t?e.length-e.split("").reverse().join("").search(i)-1:e.search(/\W/)}function u(e){return e.split("/").pop().split(".")[0]}function p(e){const t=e.split("/").pop();if(t.indexOf(".")>-1){const e=t.split(".");return e[e.length-1]}return null}function h(e){return/[\x41-\x5A\x61-\x7A\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/.test(e)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.permissions=t.filterOut=void 0;const o=i(n(248));t.filterOut=function(e,t){const n=Object.assign({},e);return delete n[t],n};const a=["user","admin","owner","pawn","knight","rook","queen","king"],r=e=>t=>((e,t)=>{if(!e)return!1;const n="string"==typeof e?e:e.role;return t.includes(n)})(t,e),s={isSuperior(e,t,n){const i=a.indexOf(e.role),o=a.indexOf(t.role);return n&&i===o||i>o},canTransferOwnership:r(o.default.canTransferOwnership),canReceiveOwnership:r(o.default.canReceiveOwnership),canLeaveProject:r(o.default.canLeaveProject),canCreateProject:r(o.default.canCreateProject),canUpdateProject:r(o.default.canUpdateProject),canCreateProjectSection:r(o.default.canCreateProjectSection),canChangeProjectAccesibility:r(o.default.canChangeProjectAccesibility),canChangeProjectStatus:r(o.default.canChangeProjectStatus),canDeleteProject:r(o.default.canDeleteProject),canCreateStyleguide:r(o.default.canCreateStyleguide),canDeleteStyleguide:r(o.default.canDeleteStyleguide),canLeaveStyleguide:r(o.default.canLeaveStyleguide),canUpdateStyleguide:r(o.default.canUpdateStyleguide),canChangeStyleguideStatus:r(o.default.canChangeStyleguideStatus),canManageScreens:r(o.default.canManageScreens),canMoveScreens:r(o.default.canMoveScreens),canRemoveVersions:r(o.default.canRemoveVersions),canManageColors:r(o.default.canManageColors),canManageTextStyles:r(o.default.canManageTextStyles),canManageSpacings:r(o.default.canManageSpacings),canRemoveNotes:r(o.default.canRemoveNotes),canRemoveExtensions:r(o.default.canRemoveExtensions),canManageRemSettings:r(o.default.canManageRemSettings),canManageWorkflowStatuses:r(o.default.canManageWorkflowStatuses),canMoveResources:r(o.default.canMoveResources),canManageWebhooks:r(o.default.canManageWebhooks)};t.permissions=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Object.freeze({canTransferOwnership:["king","queen","owner","admin"],canReceiveOwnership:["king","queen","owner","rook"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canCreateProjectSection:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canCreateStyleguide:["king","queen","rook"],canDeleteStyleguide:["king","queen","rook","owner"],canLeaveStyleguide:["king","queen","rook","knight","pawn","user","admin"],canUpdateStyleguide:["king","queen","rook","owner","admin","user"],canChangeStyleguideStatus:["king","queen","rook","owner","admin"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canRemoveVersions:["king","queen","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canManageSpacings:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"],canRemoveExtensions:["king","queen","rook","knight","owner","admin","user"],canManageRemSettings:["king","queen","rook","knight","owner","admin","user"],canManageWorkflowStatuses:["king","queen","rook","owner","admin","user"],canMoveResources:["king","queen","rook","owner","admin","user"],canManageWebhooks:["king","queen","owner","admin"]})},function(e,t,n){"use strict";n.r(t),n.d(t,"imageUrl",(function(){return a})),n.d(t,"emotarUrl",(function(){return s})),n.d(t,"srcset",(function(){return r})),n.d(t,"cropImage",(function(){return l})),n.d(t,"getResizedImageSources",(function(){return c})),n.d(t,"isLight",(function(){return d})),n.d(t,"getImageProperties",(function(){return p})),n.d(t,"getDominantColorOfImage",(function(){return h}));var i=n(246),o=n(250);function a(e){return new URL(e,location.origin).href}function r(e,t=["2x","3x"]){const n=e.match(/(.*)\.([^.]+)/);if(n&&3===n.length)return t.map(e=>`${n[1]}@${e}.${n[2]} ${e}`).join(", ")}function s(e){if("random"===e)return a("/img/emotars/icRandom.svg");return a(`/img/emotars/emotar${Object(i.uppercaseFirst)(e.replace(/_\w/g,e=>e.charAt(1).toUpperCase()))}.png`)}function l(e,t){return new Promise(n=>{const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const o=i.getContext("2d");o.webkitImageSmoothingEnabled=!0,o.mozImageSmoothingEnabled=!0,o.msImageSmoothingEnabled=!0,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="medium";const a=document.createElement("img");let r,s,l;a.crossOrigin="anonymous";let c=1,d=0,u=0;a.addEventListener("load",e=>{a.width<=i.width?(r=a.width,d=(i.width-a.width)/2):(c=i.width/a.width,r=i.width),t.height||(i.height=i.width*a.height/a.width),l=c*a.height,l<=i.height?(s=a.height,u=(i.height-l)/2):(s=i.height/c,l=i.height),o.drawImage(a,0,0,a.width,s,d,u,r,l),i.toBlob(e=>{n(URL.createObjectURL(e))})}),a.addEventListener("error",t=>{n(e)}),a.src=e})}function c(e,{width:t,height:n}){const i=`${Zeplin.urls.imgURL}/${encodeURIComponent(e)}`;let o="?w="+t,a="?w="+2*t;return n&&(o+=`&cropTop=0&cropLeft=0&cropWidth=${t}&cropHeight=${n}`,a+=`&cropTop=0&cropLeft=0&cropWidth=${2*t}&cropHeight=${2*n}`),{src:`${i}${o}`,srcset:`${i}${a} 2x`}}function d(e){for(let t=0;t<e.length;t+=4){const n=e[t+0],i=e[t+1],o=e[t+2];if(e[t+3]>=55&&(n<200||i<200||o<200))return!1}return!0}const u={};function p(e){return new Promise((t,n)=>{const i="string"==typeof e?e:e.src;if(i in u)t(u[i]);else{const o="string"==typeof e?document.createElement("img"):e;o.crossOrigin="anonymous",o.addEventListener("load",(function e(){o.removeEventListener("load",e);const n=document.createElement("canvas"),a=n.getContext("2d");n.width=o.width,n.height=o.height,a.drawImage(o,0,0);const r=d(a.getImageData(0,0,n.width,n.height).data)?"light":"dark",s={size:{width:o.width,height:o.height},lightness:r};u[i]=s,t(s)})),o.addEventListener("error",(function e(t){o.removeEventListener("error",e),n(t)})),"string"==typeof e&&(o.src=e)}})}function h(e){if(!e)return null;const t=document.createElement("canvas"),n=t.getContext("2d");let i;t.height=e.naturalHeight||e.offsetHeight||e.height,t.width=e.naturalWidth||e.offsetWidth||e.width,n.drawImage(e,0,0);try{i=n.getImageData(0,0,t.width,t.height).data}catch(l){return null}const a=i.length,r={};for(let c=0;c<a;c+=4){const e=i[c],t=i[c+1],n=i[c+2];if(0===i[c+3])continue;if(e===t&&t===n)continue;const a="#"+[e,t,n].map(o.default.componentToHex).join("");r[a]?r[a]++:r[a]=1}const s=Object.keys(r);return s.length?s.reduce((e,t)=>r[e]>r[t]?e:t):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Color}));var i=n(251),o=n(252),a=n(253);const r=Object.freeze({android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase",base:"kebabCase"}),s=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});function l(e){const t=Math.trunc(e+e/255);return Math.max(0,Math.min(t,255))}function c(e,t,n,i){return t||i?(e*t+n*i*(1-t))/(t+i*(1-t)):0}function d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}class Color extends a.default{constructor(e){if(e instanceof Color)return e;super();const{_id:t,id:n,name:i,r:o,g:a,b:r,a:s=1}=e;var c;this.id=t||n,this.r=l(o),this.g=l(a),this.b=l(r),this.a=(c=s,Math.max(0,Math.min(c,1))),this.name=i}static get NAMED_COLORS(){return o.CSS_NAMED_COLORS}static fromHex(e){let t=e.replace("#","");3!==t.length&&4!==t.length||(t=t.replace(/(.)/g,"$1$1"));const n=parseInt(t,16);let i=8*(t.length/2-1);const o=n>>i&255;i-=8;const a=n>>i&255;i-=8;const r=n>>i&255;i-=8;return new Color({r:o,g:a,b:r,a:i<0?1:(n>>i&255)/255})}static fromHSLA(e,t,n,i=1){let o,a,r;if(0===t)o=n,a=n,r=n;else{const i=n<.5?n*(1+t):n+t-n*t,s=2*n-i;o=d(s,i,e+1/3),a=d(s,i,e),r=d(s,i,e-1/3)}return o*=255,a*=255,r*=255,new Color({r:o,g:a,b:r,a:i})}formatName(e){return Object(i.default)(this.name,r[e])}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a,name:this.name}}equals(e){const t=new Color(e);return this.r===t.r&&this.g===t.g&&this.b===t.b&&s.format(this.a)===s.format(t.a)}blend(e){const t=new Color(e);return new Color({r:c(this.r,this.a,t.r,t.a),g:c(this.g,this.a,t.g,t.a),b:c(this.b,this.a,t.b,t.a),a:this.a+t.a*(1-this.a)})}static blendAll(e){let t=new Color(Color.NAMED_COLORS.transparent);for(const n of e)if(n.a&&(t=t.blend(n),1===t.a))break;return t}static componentToHex(e){const t=Math.max(0,Math.min(e,255));return(t<16?"0":"")+t.toString(16)}hexBase(){return this.constructor.componentToHex(this.r)+this.constructor.componentToHex(this.g)+this.constructor.componentToHex(this.b)}toHexString(e){let t=this.hexBase();if(this.a<1){const n=255*this.a,i=this.constructor.componentToHex(Math.trunc(n+n/255));t=e?i+t:t+i}return"#"+t}toRGBABase(){const e=`${this.r} ${this.g} ${this.b}`;return this.a<1?`rgba ${e}, ${s.format(this.a)}`:"rgb "+e}toRGBString(){return`rgb ${this.r} ${this.g} ${this.b}`}toRGBAString(){const e=`${this.r}, ${this.g}, ${this.b}`;return this.a<1?`rgba(${e}, ${s.format(this.a)})`:`rgb(${e})`}_toHSL(){const e=this.r/255,t=this.g/255,n=this.b/255,i=Math.max(e,t,n),o=Math.min(e,t,n),a=(i+o)/2;let r,s;if(i===o)r=0,s=0;else{const l=i-o;switch(s=a>.5?l/(2-i-o):l/(i+o),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:s,l:a}}toHSLAString(){const e=this._toHSL(),t=`${Math.round(360*e.h)}, ${Math.round(100*e.s)}%, ${Math.round(100*e.l)}%`;return this.a<1?`hsla(${t}, ${s.format(this.a)})`:`hsl(${t})`}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"web":return this.toCSS(t);case"base":case"ios":case"osx":default:return this.toRGBABase()}}toCSS(e){switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}generateName(e){let t=0,n=-1,a=-1;for(let s=0;s<o.colorNames.length;s++){const l=new Color(o.colorNames[s]);if(this.r===l.r&&this.g===l.g&&this.b===l.b)return Object(i.default)(l.name,r[e]);const c=this._toHSL();Object.keys(c).forEach(e=>c[e]*=255);const d=l._toHSL();Object.keys(d).forEach(e=>d[e]*=255),t=Math.pow(this.r-l.r,2)+Math.pow(this.g-l.g,2)+Math.pow(this.b-l.b,2)+2*(Math.pow(c.h-d.h,2)+Math.pow(c.s-d.s,2)+Math.pow(c.l-d.l,2)),(a<0||t<a)&&(a=t,n=s)}return Object(i.default)(o.colorNames[n].name,r[e])}}},function(e,t,n){"use strict";n.r(t);var i=n(246);var o=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.default=function(e,t){return function(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(i.uppercaseFirst).join("");return"camelCase"===t?Object(i.lowercaseFirst)(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}((n=e.match(o))?n.map((function(e){return e.toLowerCase()})):["invalid","name"],t);var n}},function(e,t,n){"use strict";n.r(t),n.d(t,"CSS_NAMED_COLORS",(function(){return i})),n.d(t,"colorNames",(function(){return o}));var i=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0},white:{name:"white",r:255,g:255,b:255,a:1}}),o=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";function i(){}n.r(t),i.prototype.toObject=function(){return{}},i.prototype.serialize=function(){return{model:this.constructor.name,data:this.toObject()}},t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"calculateMatchingScore",(function(){return o})),n.d(t,"matchUserWithFilterValue",(function(){return a}));var i=n(255);function o(e,t,n){const i=t.toLowerCase();if(e===i)return 1;let o=0,a=e.toLowerCase(),r=0;const s=n&&n.toLowerCase(),l=new RegExp(`\\s*\\b${s}\\b\\s*`,"ig");if(s&&l.test(a)&&(r=.3,a=a.replace(l," ").trim(),!a))return r;const c=i.indexOf(a);if(c>-1)return o+=.3,i.startsWith(a)?o+=.3:" "===i.charAt(c-1)&&(o+=.2),o+=(i.length-c)/i.length/200,o+r;let d=i.indexOf(a.charAt(0)),u=0,p=0;for(var h=d;h<i.length&&-1!==d;h++){u+=(i.length-d)/i.length/200," "===i.charAt(d>0?d-1:d)&&(u+=(i.length-d)/i.length/200);const e=a[++p];d=e?i.indexOf(e,d+1):-1}return p===a.length&&(o+=.05+u),o?o+r:0}function a(e,t){const{email:n,username:a,fullName:r}=e;return o(t,Object(i.getHandleText)(r,a))||o(t,n)}},function(e,t,n){"use strict";function i(e){const{username:t,fullName:n}=e;return n||t}function o(e,t){return t?e?`${e}, @${t}`:"@"+t:""}n.r(t),n.d(t,"getUserDisplayName",(function(){return i})),n.d(t,"getHandleText",(function(){return o}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.copyContent=void 0;const o=n(227),a=i(n(257));function r(e){const t=document.createElement("textarea");t.classList.add("copyContainer"),t.value=e,document.body.appendChild(t),t.focus(),function(e){if(o.isiOS()){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,e.value.length)}else e.select()}(t);let n=!1;try{n=document.execCommand("copy")}finally{t.remove()}return Promise.resolve(n)}function s(e){return navigator.clipboard.writeText(e).then(()=>!0).catch(()=>!1)}t.copyContent=function({content:e,toastContainer:t}){(navigator.clipboard?s:r)(e).then(n=>{n&&t&&a.default({text:"Copied to clipboard!",container:t,source:e})})}},function(e,t,n){"use strict";n.r(t);const i={source:null,text:null,container:null,visible:!1,removeTimeout:null};function o(e){return setTimeout(()=>{e.addEventListener("transitionend",()=>{e.remove(),i.visible=!1}),e.classList.remove("show")},3e3)}t.default=function({text:e,source:t,container:n=document.body}){let a=i.container&&i.container.querySelector(".toastContainer");if(i.visible&&!document.body.contains(a)&&(i.visible=!1),i.visible&&a){if(t===i.source&&e===i.text)return clearTimeout(i.removeTimeout),void(i.removeTimeout=o(a));a.remove()}const r=document.createElement("div");a=document.createElement("div"),a.appendChild(r),a.classList.add("toastContainer"),r.classList.add("toast"),r.textContent=e,n.appendChild(a),i.container=n,i.source=t,i.text=e,i.visible=!0,setTimeout(()=>{a.classList.add("show"),i.removeTimeout=o(a)},50)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(259),t)},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.developer=t.user=t.styleguide=t.project=t.checkWebhookUrlHealth=t.deleteWebhook=t.updateWebhook=t.createWebhook=t.getWebhook=t.getWebhooks=t.getAppStatus=t.renamePersonalAccessToken=t.deletePersonalAccessToken=t.createPersonalAccessToken=t.getPersonalAccessTokens=t.deleteApplication=t.updateApplication=t.createApplication=t.getOwnedApplication=t.getOwnedApplications=t.revokeAuthorizedApplication=t.getAuthorizedApplications=t.updateStyleguideComponentSectionsStyleguide=t.updateStyleguideTextStylesStyleguide=t.updateStyleguideColorsStyleguide=t.updateProjectComponentSectionsStyleguide=t.updateProjectTextStylesStyleguide=t.updateProjectColorsStyleguide=t.revokeAppToken=t.createUser=t.loginUser=t.verifyUser=t.requestVerification=t.getUserInvoices=t.requestInvoice=t.updateUserCard=t.getUserCards=t.updateUserBilling=t.updatePassword=t.deleteUser=t.updateUser=t.updateEmail=t.updateUsername=t.checkUsernameAvailable=t.getUserStatus=t.getUserProfile=t.deleteStyleguidesWorkflowStatus=t.updateStyleguidesWorkflowStatus=t.getStyleguideLocalConnectedComponents=t.getStyleguideConnectedComponents=t.updateStyleguideComponentSectionsOrder=t.updateStyleguideComponentsOrder=t.getStyleguideTeamsIntegration=t.deleteStyleguideIntegrationEvent=t.addStyleguideIntegrationEvent=t.getStyleguideIntegrationEvents=t.removeStyleguideParent=t.updateStyleguideParent=t.deleteStyleguideComponent=t.updateStyleguideComponent=t.createStyleguideComponentSectionVariantGroups=t.deleteStyleguideComponentSectionVariantProperty=t.updateStyleguideComponentsVariantProperty=t.updateStyleguideComponentSectionVariantPropertiesOrder=t.updateStyleguideComponentSectionVariantProperty=t.createStyleguideComponentSectionVariantProperty=t.convertStyleguideVariantSectionToComponentSection=t.convertStyleguideComponentSectionToVariantSection=t.mergeStyleguideComponentSection=t.updateStyleguideComponentSection=t.addStyleguideComponentSection=t.updateStyleguideRemPreferences=t.deleteStyleguideSpacingToken=t.updateStyleguideSpacingToken=t.createStyleguideSpacingToken=t.deleteStyleguideSpacingSection=t.updateStyleguideSpacingSection=t.createStyleguideSpacingSection=t.deleteStyleguideAllTextStyles=t.deleteStyleguideTextStyle=t.updateStyleguideTextStyle=t.createStyleguideTextStyle=t.deleteStyleguideAllColors=t.deleteStyleguideColor=t.updateStyleguideColor=t.createStyleguideColor=t.deleteStyleguideIntegration=t.getStyleguideSlackIntegrationEmojis=t.authStyleguideSlack=t.getStyleguideExtensions=t.updateStyleguideThumbnail=t.updateStyleguideAccessibility=t.updateStyleguideDensityScale=t.updateStyleguideDescription=t.updateStyleguideName=t.updateStyleguideUserRole=t.removeUserFromStyleguide=t.inviteStyleguideUsersByTag=t.inviteStyleguideUser=t.transferStyleguideOwnership=t.activateStyleguide=t.archiveStyleguide=t.deleteStyleguide=t.createStyleguide=t.getStyleguideProjects=t.getStyleguideOrganization=t.getStyleguide=t.getStyleguides=t.createIntercomUserTag=t.getOrganizationUpcomingInvoice=t.getUserUpcomingInvoice=t.createIntercomMessage=t.transferUserSubscription=t.downgradeOrganizationSubscription=t.cancelOrganizationSubscription=t.createUserSubscription=t.updateUserSubscription=t.cancelUserSubscription=t.updateUserEmotar=t.updateEmailNotifications=t.deleteUserSSOProvider=t.resetPassword=t.getSsoLoginParams=t.logoutUser=t.updateNotificationLastReadTime=t.getUserAcquaintances=t.updateNotificationEventReadStatus=t.updateNotificationReadStatus=t.getNotifications=t.deleteProjectsWorkflowStatus=t.updateProjectsWorkflowStatus=t.updateScreensTags=t.updateProjectThumbnail=t.deleteComment=t.updateDotCommentNote=t.createDotComment=t.updateCommitMessage=t.deleteDot=t.updateDot=t.createDot=t.getDots=t.getVersions=t.deleteVersion=t.updateCommitColor=t.getSnapshot=t.fetchSnapshot=t.getProjectTeamsIntegration=t.deleteProjectIntegrationEvent=t.addProjectIntegrationEvent=t.getProjectIntegrationEvents=t.removeProjectStyleguideLink=t.updateProjectStyleguideLink=t.updateProjectComponentSectionsOrder=t.updateProjectComponentsOrder=t.deleteProjectComponent=t.updateProjectComponent=t.createProjectComponentSectionVariantGroups=t.deleteProjectComponentSectionVariantProperty=t.updateProjectComponentsVariantProperty=t.updateProjectComponentSectionVariantPropertiesOrder=t.updateProjectComponentSectionVariantProperty=t.createProjectComponentSectionVariantProperty=t.convertProjectVariantSectionToComponentSection=t.convertProjectComponentSectionToVariantSection=t.mergeProjectComponentSection=t.updateProjectComponentSection=t.addProjectComponentSection=t.getProjectLocalConnectedComponents=t.getProjectConnectedComponents=t.getProjectComponentSections=t.updateProjectRemPreferences=t.deleteProjectSpacingToken=t.updateProjectSpacingToken=t.createProjectSpacingToken=t.deleteProjectSpacingSection=t.updateProjectSpacingSection=t.createProjectSpacingSection=t.deleteProjectAllTextStyles=t.deleteProjectTextStyle=t.updateProjectTextStyle=t.createProjectTextStyle=t.deleteProjectAllColors=t.deleteProjectColor=t.updateProjectColor=t.createProjectColor=t.deleteScreen=t.updateScreen=t.addExtensionToStyleguide=t.removeExtensionFromStyleguide=t.addExtensionToProject=t.removeExtensionFromProject=t.getProjectExtensions=t.deleteProjectIntegration=t.getProjectSlackIntegrationEmojis=t.authProjectSlack=t.updateSectionOrder=t.updateSection=t.deleteSection=t.updateSectionScreens=t.createSection=t.moveScreen=t.updateProjectAccessibility=t.updateProjectDensityScale=t.updateProjectDescription=t.updateProjectName=t.createProject=t.deleteProject=t.removeUserFromProject=t.updateProjectUserRole=t.transferProjectOwnership=t.inviteProjectUsersByTag=t.inviteProjectUser=t.archiveProject=t.activateProject=t.getProjectOrganization=t.getProject=t.deleteOrganizationSectionLink=t.updateOrganizationSectionLink=t.createOrganizationSectionLink=t.updateOrganizationSectionsOrder=t.updateOrganizationSectionProjects=t.deleteOrganizationSection=t.updateOrganizationSection=t.createOrganizationSection=t.getOrganizationSections=t.getOrganizationSection=t.removeBarrelFromOrganizationMemberFocus=t.addBarrelToOrganizationMemberFocus=t.getOrganizationMemberFocusedBarrels=t.getProjects=t.deleteOrganizationWorkflowStatus=t.updateOrganizationWorkflowStatus=t.addOrganizationWorkflowStatus=t.getCoupon=t.deleteOrganizationSSOGoogle=t.deleteOrganizationSSOSAML=t.updateOrganizationSSOProvider=t.updateOrganizationAllowExternalMembers=t.updateOrganizationSSOSessionDuration=t.updateOrganizationSSOPolicy=t.addOrganizationSSOSAML=t.addOrganizationSSOGoogle=t.getOrganizationSSOSAMLMetadata=t.getOrganizationSSO=t.createOrganization=t.getPlans=t.getApiConfig=t.requestOrganizationInvitation=t.getOrganizationMemberProfile=t.updateOrganizationCard=t.payUserInvoice=t.payOrganizationInvoice=t.getOrganizationInvoices=t.getOrganizationCards=t.updateOrganizationSubscription=t.createOrganizationSubscription=t.updateOrganizationName=t.updateOrganizationBilling=t.getOrganizationProration=t.getOrganizationBilling=t.transferOrganizationOwnership=t.removeMembersFromOrganization=t.updateOrganizationMembersTags=t.updateOrganizationMembersAccessibility=t.updateOrganizationMemberAccessibility=t.cancelOrganizationScheduledSeatsUpdate=t.getOrganizationScheduledSeatsUpdate=t.updateOrganizationSeats=t.updateOrganizationMembersRole=t.updateOrganizationMemberRole=t.inviteOrganizationMembers=t.getMemberSuggestions=t.getOrganizationMembers=t.getOrganization=t.getOrganizations=t.generateShortlink=t.checkResponseError=t.handleResponse=t.refreshToken=void 0;const a=o(n(260)),r=o(n(261)),s=n(262),l=n(231),c=o(n(232));function d(e){const t=e.headers.get("Zeplin-Token");t&&(c.default.set("userToken",t),Zeplin.headers.set("Zeplin-Token",t))}function u(e){return d(e),e.json().then(t=>{if(e.ok)return t;throw s.createError(e.status,t)})}function p(e){if(d(e),!e.ok)return e.json().then(t=>{throw s.createError(e.status,t)})}function h(e){return a.default.get(`${Zeplin.urls.baseURL}/v2/projects/${e}`).then(e=>(d(e),e.json().then(t=>{if(!e.ok)throw s.createError(e.status,t);return e.status===a.default.STATUS.PARTIAL_CONTENT&&(t.partial=!0),t})))}function f(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/organization`).then(u)}function g(e){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/activate`).then(p)}function m(e){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/archive`).then(p)}function b(e,t){const n=t?{handle:t}:null;return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/users`,n).then(u)}function S(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/projects/${t}/users`,{tag:n}).then(u)}function y(e,t,n=!1){const i=n?"organizations":"users",o=`${Zeplin.urls.baseURL}/projects/${e}/${i}/${t}/ownership`;return a.default.post(o).then(u)}function C(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/users/${t}/role`,{role:n}).then(p)}function v(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/users/${t}`;return a.default.delete(n).then(p)}function O(e){const t=`${Zeplin.urls.baseURL}/projects/${e}`;return a.default.delete(t).then(p)}function E(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/name`,{name:t}).then(p)}function T(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/description`,{description:t}).then(p)}function _(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/densityscale`,{densityScale:t}).then(p)}function P(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/public`,{public:t}).then(p)}function j(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/auth`;return a.default.post(i,{code:t,redirectURI:n}).then(e=>(d(e),e))}function D(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/emojis`).then(u)}function k(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/${t}/${n}`).then(p)}function I(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/extensions`).then(u).then(({extensions:e})=>e)}function R(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/extensions/${t}`).then(p)}function A(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/extensions`,{eid:t}).then(u)}function w(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions/${t}`).then(p)}function N(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`,{eid:t}).then(u)}function L(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(u)}function x(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`,n).then(p)}function M(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`).then(p)}function U(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(p)}function B(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(u)}function z(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`,n).then(p)}function V(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`).then(p)}function W(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(p)}function F(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections`,t).then(u)}function H(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`,n).then(p)}function G(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`).then(p)}function $(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens`,n).then(u)}function q(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(p)}function Z(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`).then(p)}function K(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/rempreferences`,t).then(p)}function Y(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/componentsections`).then(u)}function J(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/connectedcomponents`).then(u)}function X(e){return fetch(`http://127.0.0.1:9756/projects/${e}/connectedcomponents`).then(e=>e.ok?e.json().then(e=>e.connectedComponents):null).then(e=>({localConnectedComponents:e})).catch(()=>({localConnectedComponents:null}))}function Q(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections${(null==t?void 0:t.length)?`/${t.join("/")}/componentsections`:""}`,n).then(u)}function ee(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}`,n).then(p)}function te(e,t,n,i){const o=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/merge`,{componentSections:o}).then(p)}function ne(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant`).then(u)}function ie(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant`).then(p)}function oe(e,t,n,i){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties`,{name:n,values:i}).then(u)}function ae(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/${n}`,i).then(p)}function re(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/order`,n).then(p)}function se(e,t,n,i,o){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/components/variant/properties/${n}`,{components:i,value:o}).then(u)}function le(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/${n}`).then(p)}function ce(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/groups`,{propertyId:n}).then(u)}function de(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(p)}function ue(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`).then(u)}function pe(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/components/order`,t).then(u)}function he(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/order`,t).then(u)}function fe(e,t){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events`).then(u)}function ge(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(p)}function me(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(p)}function be(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/microsoftTeams`).then(u)}function Se(e){return fetch(e).then(u).then(e=>{var t,n;return null!==(t=e.layers)&&void 0!==t||(e.layers=[]),null!==(n=e.assets)&&void 0!==n||(e.assets=[]),e}).catch(()=>({layers:[],assets:[]}))}function ye(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/thumbnail`;return a.default.put(n,{thumbnail:t}).then(p)}function Ce(e,t){return a.default.put(Zeplin.urls.baseURL+"/projects/workflowStatus",{projects:e,wsid:t}).then(p)}function ve(e){return a.default.delete(Zeplin.urls.baseURL+"/projects/workflowStatus",{projects:e}).then(p)}function Oe(e,{projectId:t,styleguideId:n}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),fetch(`${Zeplin.urls.baseURL}/styleguides/${e}`,{headers:i}).then(e=>(d(e),e.json().then(t=>{if(!e.ok)throw s.createError(e.status,t);return e.status===a.default.STATUS.PARTIAL_CONTENT?t.partial=!0:t.status="active",t})))}function Ee(e){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/organization`).then(u)}function Te(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}`;return a.default.delete(t).then(p)}function _e(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/archive`;return a.default.post(t).then(p)}function Pe(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/activate`;return a.default.post(t).then(p)}function je(e,t,n=!1){const i=n?"organizations":"users",o=`${Zeplin.urls.baseURL}/styleguides/${e}/${i}/${t}/ownership`;return a.default.post(o).then(u)}function De(e,t){const n=t?{handle:t}:null;return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/users`,n).then(u)}function ke(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/styleguides/${t}/users`,{tag:n}).then(u)}function Ie(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}`;return a.default.delete(n).then(p)}function Re(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}/role`,{role:n}).then(p)}function Ae(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/name`,{name:t}).then(p)}function we(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/description`,{description:t}).then(p)}function Ne(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/densityscale`,{densityScale:t}).then(p)}function Le(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/public`,{public:t}).then(p)}function xe(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/thumbnail`;return a.default.put(n,{thumbnail:t}).then(p)}function Me(e){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`).then(u).then(({extensions:e})=>e)}function Ue(e,t,n){const i=`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/auth`;return a.default.post(i,{code:t,redirectURI:n}).then(e=>(d(e),e))}function Be(e){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/emojis`).then(u)}function ze(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/${t}/${n}`).then(p)}function Ve(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(u)}function We(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`,n).then(p)}function Fe(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`).then(p)}function He(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(p)}function Ge(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(u)}function $e(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`,n).then(p)}function qe(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`).then(p)}function Ze(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(p)}function Ke(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections`,t).then(u)}function Ye(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`,n).then(p)}function Je(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`).then(p)}function Xe(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens`,n).then(u)}function Qe(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(p)}function et(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`).then(p)}function tt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/rempreferences`,t).then(p)}function nt(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections${(null==t?void 0:t.length)?`/${t.join("/")}/componentsections`:""}`,n).then(u)}function it(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}`,n).then(p)}function ot(e,t,n,i){const o=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/merge`,{componentSections:o}).then(p)}function at(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant`).then(u)}function rt(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant`).then(p)}function st(e,t,n,i){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties`,{name:n,values:i}).then(u)}function lt(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/${n}`,i).then(p)}function ct(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/order`,n).then(p)}function dt(e,t,n,i,o){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/components/variant/properties/${n}`,{components:i,value:o}).then(u)}function ut(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/${n}`).then(p)}function pt(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/groups`,{propertyId:n}).then(u)}function ht(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(p)}function ft(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`).then(u)}function gt(e,t){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events`).then(u)}function mt(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(p)}function bt(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(p)}function St(e){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/microsoftTeams`).then(u)}function yt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/components/order`,t).then(u)}function Ct(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/order`,t).then(u)}function vt(e,{projectId:t,styleguideId:n}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/connectedcomponents`,{headers:i}).then(u)}function Ot(e){return fetch(`http://127.0.0.1:9756/styleguides/${e}/connectedcomponents`).then(e=>e.ok?e.json().then(e=>e.connectedComponents):null).then(e=>({localConnectedComponents:e})).catch(()=>({localConnectedComponents:null}))}function Et(e,t){return a.default.put(Zeplin.urls.baseURL+"/styleguides/workflowStatus",{styleguides:e,wsid:t}).then(p)}function Tt(e){return a.default.delete(Zeplin.urls.baseURL+"/styleguides/workflowStatus",{styleguides:e}).then(p)}function _t(e){return a.default.get(`${Zeplin.urls.baseURL}/users/${e}/status`).then(u)}function Pt(e){return a.default.post(`${Zeplin.urls.baseURL}/users/${e}/available`).then(p)}function jt(e,t){return a.default.post(Zeplin.urls.baseURL+"/users/login",{handle:e,password:t}).then(u)}function Dt(e,t){return fetch(Zeplin.urls.baseURL+"/users",{method:"POST",headers:t,body:JSON.stringify(e)}).then(u)}function kt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/styleguides/${t}`).then(p)}function It(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/textstyles/styleguides/${t}`).then(p)}function Rt(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(p)}function At(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/styleguides/${t}`).then(p)}function wt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textstyles/styleguides/${t}`).then(p)}function Nt(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(p)}function Lt(){return a.default.get(Zeplin.urls.baseURL+"/users/authorizedApplications").then(u).then(e=>e.applications)}function xt(e){return a.default.delete(`${Zeplin.urls.baseURL}/users/authorizedApplications/${e}`).then(p)}function Mt(){return a.default.get(Zeplin.urls.baseURL+"/users/applications").then(u).then(e=>e.applications)}function Ut(e){return a.default.get(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(u)}function Bt(e){return a.default.post(Zeplin.urls.baseURL+"/users/applications",e).then(u)}function zt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/users/applications/${e}`,t).then(p)}function Vt(e){return a.default.delete(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(p)}function Wt(){return a.default.get(Zeplin.urls.baseURL+"/users/personalAccessTokens").then(u).then(({personalAccessTokens:e})=>e)}function Ft(){return a.default.post(Zeplin.urls.baseURL+"/users/personalAccessTokens").then(u)}function Ht(e){return a.default.delete(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`).then(p)}function Gt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`,{name:t}).then(p)}function $t(e){return a.default.head(`${Zeplin.urls.baseURL}/oauth/token?client_id=${e}`).then(e=>"true"===e.headers.get("Oauth-Token-Exists"))}function qt(e){const t=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:Zeplin.urls.baseURL+"/users/webhooks";return a.default.get(t).then(u).then(e=>e.webhooks)}function Zt(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return a.default.get(n).then(u)}function Kt(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:Zeplin.urls.baseURL+"/users/webhooks";return a.default.post(n,t).then(u)}function Yt(e,t,n){const i=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return a.default.put(i,n).then(p)}function Jt(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return a.default.delete(n).then(p)}function Xt(e){return a.default.post(Zeplin.urls.baseURL+"/webhooks/urlhealthcheck",{url:e})}t.refreshToken=d,t.handleResponse=u,t.checkResponseError=p,t.generateShortlink=function(e,t){const n=t?"?path="+t:"";return a.default.post(`${Zeplin.urls.baseURL}/urls${n}`,{url:e}).then(u).then(({url:e})=>e).catch(()=>e)},t.getOrganizations=function(){return a.default.get(Zeplin.urls.baseURL+"/organizations").then(u).then(({organizations:e})=>e)},t.getOrganization=function(e){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}`).then(u)},t.getOrganizationMembers=function(e){const t=`${Zeplin.urls.baseURL}/v3/organizations/${e}/members`;return a.default.get(t).then(u)},t.getMemberSuggestions=function(e,t){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/suggestions`).then(u).then(({suggestedMembers:e})=>e)},t.inviteOrganizationMembers=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members`;return a.default.post(n,{members:t}).then(u)},t.updateOrganizationMemberRole=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/role`;return a.default.put(i,{role:n}).then(p)},t.updateOrganizationMembersRole=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/role`;return a.default.put(i,{memberIds:t,role:n}).then(u)},t.updateOrganizationSeats=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/seats`,t).then(u).then(({reservedSeatCount:e})=>e)},t.getOrganizationScheduledSeatsUpdate=function(e){return a.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptionSchedules/seats`).then(e=>u(e))},t.cancelOrganizationScheduledSeatsUpdate=function(e){return a.default.delete(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptionSchedules/seats`).then(p)},t.updateOrganizationMemberAccessibility=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/restricted`;return a.default.put(i,{restricted:Boolean(n)}).then(p)},t.updateOrganizationMembersAccessibility=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/restricted`;return a.default.put(i,{memberIds:t,restricted:Boolean(n)}).then(u)},t.updateOrganizationMembersTags=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/tags`;return a.default.put(n,{members:t}).then(p)},t.removeMembersFromOrganization=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/organizations/${e}/members`;return a.default.delete(n,{memberIds:t}).then(u)},t.transferOrganizationOwnership=function(e,t){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/ownership`).then(u)},t.getOrganizationBilling=function(e){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/billing`).then(u)},t.getOrganizationProration=function(e,t){const n=new URL(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/proration`);return n.search=new URLSearchParams(t).toString(),a.default.get(n.toString()).then(u)},t.updateOrganizationBilling=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/billing`,t).then(p)},t.updateOrganizationName=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/name`,t).then(p)},t.createOrganizationSubscription=function(e,t){return a.default.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(p)},t.updateOrganizationSubscription=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(p)},t.getOrganizationCards=function(e){return a.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`).then(u).then(({cards:e})=>e)},t.getOrganizationInvoices=function(e,t){const n=new URL(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices`);return n.search=new URLSearchParams(t).toString(),a.default.get(n.toString()).then(u)},t.payOrganizationInvoice=function(e,t){return a.default.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/${t?t+"/":""}pay`).then(u).then(({invoice:e,invoices:n})=>t?e:n)},t.payUserInvoice=function(e){return a.default.post(`${Zeplin.urls.baseURL}/stripe/users/invoices/${e?e+"/":""}pay`).then(u).then(({invoice:t,invoices:n})=>e?t:n)},t.updateOrganizationCard=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`,{stripeToken:t}).then(p)},t.getOrganizationMemberProfile=function(e,t){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/profile`).then(u)},t.requestOrganizationInvitation=function(e){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/requests/join`).then(p)},t.getApiConfig=function(){return a.default.get(Zeplin.urls.baseURL+"/api/config").then(u)},t.getPlans=function(){return a.default.get(Zeplin.urls.baseURL+"/api/config/plans").then(u)},t.createOrganization=function(e){return a.default.post(Zeplin.urls.baseURL+"/organizations",e).then(u)},t.getOrganizationSSO=function(e){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso`).then(u)},t.getOrganizationSSOSAMLMetadata=function(e){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml/metadata`).then(u)},t.addOrganizationSSOGoogle=function(e,t){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{redirectUri:l.GOOGLE_AUTH_SETUP_SSO_REDIRECT_URI,code:t}).then(u)},t.addOrganizationSSOSAML=function(e,t,n,i){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`,{signOnURL:t,identifier:n,certificate:i}).then(u)},t.updateOrganizationSSOPolicy=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/policy`,{policy:t}).then(p)},t.updateOrganizationSSOSessionDuration=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/sessionduration`,{sessionDuration:t}).then(p)},t.updateOrganizationAllowExternalMembers=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/allowexternalmembers`,{allowExternalMembers:t}).then(p)},t.updateOrganizationSSOProvider=function(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/provider`,{signOnURL:t,identifier:n,certificate:i}).then(p)},t.deleteOrganizationSSOSAML=function(e){return a.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`).then(p)},t.deleteOrganizationSSOGoogle=function(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{code:t,redirectUri:l.GOOGLE_AUTH_REMOVE_SSO_REDIRECT_URI}).then(p)},t.getCoupon=function(e){return a.default.get(`${Zeplin.urls.baseURL}/stripe/coupons/${e}`).then(u)},t.addOrganizationWorkflowStatus=function(e,t){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses`,t).then(u)},t.updateOrganizationWorkflowStatus=function(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`,n).then(p)},t.deleteOrganizationWorkflowStatus=function(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`).then(p)},t.getProjects=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/projects`:Zeplin.urls.baseURL+"/v2/projects";return a.default.get(t,{cache:"no-cache"}).then(u).then(({projects:e})=>e)},t.getOrganizationMemberFocusedBarrels=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`;return a.default.get(n).then(u).then(({focusedBarrels:e})=>e)},t.addBarrelToOrganizationMemberFocus=function({oid:e,mid:t,bid:n,barrelType:i}){const o=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,s={[i===r.default.PROJECT?"pid":"stid"]:n};return a.default.post(o,s).then(p)},t.removeBarrelFromOrganizationMemberFocus=function({oid:e,mid:t,bid:n,barrelType:i}){const o=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,r={["project"===i?"pid":"stid"]:n};return a.default.delete(o,r).then(p)},t.getOrganizationSection=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`;return a.default.get(n).then(u)},t.getOrganizationSections=function(e){const t=`${Zeplin.urls.baseURL}/organizations/${e}/sections`;return a.default.get(t).then(u).then(({sections:e})=>e)},t.createOrganizationSection=function({oid:e,index:t,name:n,description:i,projects:o}){const r=`${Zeplin.urls.baseURL}/organizations/${e}/sections`;return a.default.post(r,{index:t,name:n,description:i,projects:o}).then(u)},t.updateOrganizationSection=function(e){var{oid:t,oseid:n}=e,o=i(e,["oid","oseid"]);const r=`${Zeplin.urls.baseURL}/organizations/${t}/sections/${n}`;return a.default.put(r,o).then(p)},t.deleteOrganizationSection=function(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`).then(p)},t.updateOrganizationSectionProjects=function(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/projects`,{index:n,projects:i}).then(p)},t.updateOrganizationSectionsOrder=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/sections/order`;return a.default.put(i,{index:t,sections:n}).then(p)},t.createOrganizationSectionLink=function(e,t,n,i){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links`,{title:n,url:i}).then(u)},t.updateOrganizationSectionLink=function({oid:e,oseid:t,oselid:n,title:i,url:o}){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links/${n}`,{title:i,url:o}).then(p)},t.deleteOrganizationSectionLink=function(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links/${n}`).then(p)},t.getProject=h,t.getProjectOrganization=f,t.activateProject=g,t.archiveProject=m,t.inviteProjectUser=b,t.inviteProjectUsersByTag=S,t.transferProjectOwnership=y,t.updateProjectUserRole=C,t.removeUserFromProject=v,t.deleteProject=O,t.createProject=function({oid:e,platform:t,densityScale:n,name:i="Untitled",oseid:o}){const r=e&&"user"!==e?"/organizations/"+e:"";return a.default.post(`${Zeplin.urls.baseURL}${r}/projects`,{name:i,type:t,densityScale:n,oseid:o}).then(u)},t.updateProjectName=E,t.updateProjectDescription=T,t.updateProjectDensityScale=_,t.updateProjectAccessibility=P,t.moveScreen=function(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/projects/${t}`,{screens:n}).then(p)},t.createSection=function(e,t){const n={name:t.name};return"description"in t&&(n.description=t.description),"index"in t&&(n.index=t.index),"screens"in t&&(n.screens=t.screens),a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/sections`,n).then(u)},t.updateSectionScreens=function(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}/screens`,{index:n,screens:i}).then(p)},t.deleteSection=function(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`).then(p)},t.updateSection=function(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`,n).then(p)},t.updateSectionOrder=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/sections/order`;return a.default.put(n,{sections:t}).then(p)},t.authProjectSlack=j,t.getProjectSlackIntegrationEmojis=D,t.deleteProjectIntegration=k,t.getProjectExtensions=I,t.removeExtensionFromProject=R,t.addExtensionToProject=A,t.removeExtensionFromStyleguide=w,t.addExtensionToStyleguide=N,t.updateScreen=function(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`,n).then(p)},t.deleteScreen=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`;return a.default.delete(n).then(p)},t.createProjectColor=L,t.updateProjectColor=x,t.deleteProjectColor=M,t.deleteProjectAllColors=U,t.createProjectTextStyle=B,t.updateProjectTextStyle=z,t.deleteProjectTextStyle=V,t.deleteProjectAllTextStyles=W,t.createProjectSpacingSection=F,t.updateProjectSpacingSection=H,t.deleteProjectSpacingSection=G,t.createProjectSpacingToken=$,t.updateProjectSpacingToken=q,t.deleteProjectSpacingToken=Z,t.updateProjectRemPreferences=K,t.getProjectComponentSections=Y,t.getProjectConnectedComponents=J,t.getProjectLocalConnectedComponents=X,t.addProjectComponentSection=Q,t.updateProjectComponentSection=ee,t.mergeProjectComponentSection=te,t.convertProjectComponentSectionToVariantSection=ne,t.convertProjectVariantSectionToComponentSection=ie,t.createProjectComponentSectionVariantProperty=oe,t.updateProjectComponentSectionVariantProperty=ae,t.updateProjectComponentSectionVariantPropertiesOrder=re,t.updateProjectComponentsVariantProperty=se,t.deleteProjectComponentSectionVariantProperty=le,t.createProjectComponentSectionVariantGroups=ce,t.updateProjectComponent=de,t.deleteProjectComponent=ue,t.updateProjectComponentsOrder=pe,t.updateProjectComponentSectionsOrder=he,t.updateProjectStyleguideLink=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`,{styleguide:t}).then(p)},t.removeProjectStyleguideLink=function(e){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`).then(p)},t.getProjectIntegrationEvents=fe,t.addProjectIntegrationEvent=ge,t.deleteProjectIntegrationEvent=me,t.getProjectTeamsIntegration=be,t.fetchSnapshot=Se,t.getSnapshot=function(e,t,n){const i=`${Zeplin.urls.baseURL}/v3/projects/${e}/screens/${t}/versions/${n}/snapshot`;return a.default.get(i).then(e=>(d(e),e.json().then(t=>{if(e.ok)return"string"==typeof t.snapshot?Se(t.snapshot):t.snapshot;throw s.createError(e.status,t)})))},t.updateCommitColor=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/color`;return a.default.put(o,{color:i}).then(p)},t.deleteVersion=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}`;return a.default.delete(i).then(p)},t.getVersions=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/versions`;return a.default.get(n).then(u)},t.getDots=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`;return a.default.get(n).then(u)},t.createDot=function(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`,n).then(u)},t.updateDot=function(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`,i).then(p)},t.deleteDot=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`;return a.default.delete(i).then(p)},t.updateCommitMessage=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/message`;return a.default.put(o,{message:i}).then(p)},t.createDotComment=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots/${n}/comments`;return a.default.post(o,{note:i}).then(u)},t.updateDotCommentNote=function(e,t,n,i,o){const r=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}/note`;return a.default.put(r,{note:o}).then(p)},t.deleteComment=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}`;return a.default.delete(o).then(p)},t.updateProjectThumbnail=ye,t.updateScreensTags=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/tags`;return a.default.put(n,{screens:t}).then(p)},t.updateProjectsWorkflowStatus=Ce,t.deleteProjectsWorkflowStatus=ve,t.getNotifications=function(e,t){let n=`${Zeplin.urls.baseURL}/notifications?count=${t}`;return e&&(n+="&date_before="+e),a.default.get(n).then(u)},t.updateNotificationReadStatus=function(e,t){return a.default.put(Zeplin.urls.baseURL+"/notifications",{nids:e,markedAsRead:t}).then(p)},t.updateNotificationEventReadStatus=function(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/notifications/${e}/events`,{eventIds:t,markedAsRead:n}).then(p)},t.getUserAcquaintances=function(){return a.default.get(Zeplin.urls.baseURL+"/users/acquaintances").then(u)},t.updateNotificationLastReadTime=function(){return a.default.put(Zeplin.urls.baseURL+"/users/notificationLastReadTime").then(u)},t.logoutUser=function(){return a.default.post(Zeplin.urls.baseURL+"/users/logout")},t.getSsoLoginParams=function(e){const t=`${Zeplin.urls.baseURL}/users/auth/${e}/sso/loginparams`;return a.default.get(t).then(u)},t.resetPassword=function(e){const t=Zeplin.urls.baseURL+"/users/requests/password";return a.default.post(t,{handle:e}).then(p)},t.deleteUserSSOProvider=function(e,t,n){return a.default.delete(Zeplin.urls.baseURL+"/users/sso",{password:e,code:t,redirectUri:n}).then(u)},t.updateEmailNotifications=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/emailNotifications",{emailNotifications:e}).then(p)},t.updateUserEmotar=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/emotar",{emotar:e}).then(p)},t.cancelUserSubscription=function(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return a.default.delete(t,e).then(p)},t.updateUserSubscription=function(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return a.default.put(t,e).then(p)},t.createUserSubscription=function(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return a.default.post(t,e).then(p)},t.cancelOrganizationSubscription=function(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`;return a.default.delete(n,t).then(p)},t.downgradeOrganizationSubscription=function(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions/downgrade`;return a.default.post(n,t).then(p)},t.transferUserSubscription=function(e){const t=`${Zeplin.urls.baseURL}/users/subscriptions/${e}/ownership`;return a.default.post(t).then(u)},t.createIntercomMessage=function(e){return a.default.post(Zeplin.urls.baseURL+"/intercom/messages",{message:e}).then(p)},t.getUserUpcomingInvoice=function(){return a.default.get(Zeplin.urls.baseURL+"/stripe/users/invoices/next").then(u)},t.getOrganizationUpcomingInvoice=function(e){return a.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/next`).then(u)},t.createIntercomUserTag=function(e){return a.default.post(Zeplin.urls.baseURL+"/intercom/users/tags",{name:e}).then(p)},t.getStyleguides=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/styleguides`:Zeplin.urls.baseURL+"/styleguides";return a.default.get(t,{cache:"no-cache"}).then(u).then(({styleguides:e})=>e)},t.getStyleguide=Oe,t.getStyleguideOrganization=Ee,t.getStyleguideProjects=function(e){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/projects`).then(u)},t.createStyleguide=function({oid:e,platform:t,parent:n,name:i="Untitled"}){const o=e&&"user"!==e?"/organizations/"+e:"";return a.default.post(`${Zeplin.urls.baseURL}${o}/styleguides`,{name:i,type:t,parent:n,densityScale:1}).then(u)},t.deleteStyleguide=Te,t.archiveStyleguide=_e,t.activateStyleguide=Pe,t.transferStyleguideOwnership=je,t.inviteStyleguideUser=De,t.inviteStyleguideUsersByTag=ke,t.removeUserFromStyleguide=Ie,t.updateStyleguideUserRole=Re,t.updateStyleguideName=Ae,t.updateStyleguideDescription=we,t.updateStyleguideDensityScale=Ne,t.updateStyleguideAccessibility=Le,t.updateStyleguideThumbnail=xe,t.getStyleguideExtensions=Me,t.authStyleguideSlack=Ue,t.getStyleguideSlackIntegrationEmojis=Be,t.deleteStyleguideIntegration=ze,t.createStyleguideColor=Ve,t.updateStyleguideColor=We,t.deleteStyleguideColor=Fe,t.deleteStyleguideAllColors=He,t.createStyleguideTextStyle=Ge,t.updateStyleguideTextStyle=$e,t.deleteStyleguideTextStyle=qe,t.deleteStyleguideAllTextStyles=Ze,t.createStyleguideSpacingSection=Ke,t.updateStyleguideSpacingSection=Ye,t.deleteStyleguideSpacingSection=Je,t.createStyleguideSpacingToken=Xe,t.updateStyleguideSpacingToken=Qe,t.deleteStyleguideSpacingToken=et,t.updateStyleguideRemPreferences=tt,t.addStyleguideComponentSection=nt,t.updateStyleguideComponentSection=it,t.mergeStyleguideComponentSection=ot,t.convertStyleguideComponentSectionToVariantSection=at,t.convertStyleguideVariantSectionToComponentSection=rt,t.createStyleguideComponentSectionVariantProperty=st,t.updateStyleguideComponentSectionVariantProperty=lt,t.updateStyleguideComponentSectionVariantPropertiesOrder=ct,t.updateStyleguideComponentsVariantProperty=dt,t.deleteStyleguideComponentSectionVariantProperty=ut,t.createStyleguideComponentSectionVariantGroups=pt,t.updateStyleguideComponent=ht,t.deleteStyleguideComponent=ft,t.updateStyleguideParent=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/parent`,{parent:t}).then(p)},t.removeStyleguideParent=function(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/parent`;return a.default.delete(t).then(p)},t.getStyleguideIntegrationEvents=gt,t.addStyleguideIntegrationEvent=mt,t.deleteStyleguideIntegrationEvent=bt,t.getStyleguideTeamsIntegration=St,t.updateStyleguideComponentsOrder=yt,t.updateStyleguideComponentSectionsOrder=Ct,t.getStyleguideConnectedComponents=vt,t.getStyleguideLocalConnectedComponents=Ot,t.updateStyleguidesWorkflowStatus=Et,t.deleteStyleguidesWorkflowStatus=Tt,t.getUserProfile=function(){return a.default.get(Zeplin.urls.baseURL+"/users").then(u)},t.getUserStatus=_t,t.checkUsernameAvailable=Pt,t.updateUsername=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/username",{username:e}).then(p)},t.updateEmail=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/email",e).then(u)},t.updateUser=function(e,t){return a.default.put(Zeplin.urls.baseURL+"/users",{fullName:e,bio:t}).then(p)},t.deleteUser=function(e){return a.default.post(Zeplin.urls.baseURL+"/users/delete",{password:e}).then(p)},t.updatePassword=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/password",e).then(u)},t.updateUserBilling=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/billing",e).then(p)},t.getUserCards=function(){return a.default.get(Zeplin.urls.baseURL+"/stripe/users/cards").then(u).then(({cards:e})=>e)},t.updateUserCard=function(e){return a.default.put(Zeplin.urls.baseURL+"/stripe/users/cards",{stripeToken:e}).then(p)},t.requestInvoice=function(e,t){let n;return n=t?`${Zeplin.urls.baseURL}/stripe/organizations/${t}/invoices/${e}/send`:`${Zeplin.urls.baseURL}/stripe/users/invoices/${e}/send`,a.default.post(n).then(p)},t.getUserInvoices=function(e){const t=new URL(Zeplin.urls.baseURL+"/stripe/users/invoices");return t.search=new URLSearchParams(e).toString(),a.default.get(t.toString()).then(u)},t.requestVerification=function(){return a.default.post(Zeplin.urls.baseURL+"/users/requests/verification").then(p)},t.verifyUser=function(){const e=Zeplin.urls.baseURL+"/users/verify";return a.default.post(e).then(u)},t.loginUser=jt,t.createUser=Dt,t.revokeAppToken=function(e){return a.default.delete(Zeplin.urls.baseURL+"/oauth/token",{client_id:e}).then(p)},t.updateProjectColorsStyleguide=kt,t.updateProjectTextStylesStyleguide=It,t.updateProjectComponentSectionsStyleguide=Rt,t.updateStyleguideColorsStyleguide=At,t.updateStyleguideTextStylesStyleguide=wt,t.updateStyleguideComponentSectionsStyleguide=Nt,t.getAuthorizedApplications=Lt,t.revokeAuthorizedApplication=xt,t.getOwnedApplications=Mt,t.getOwnedApplication=Ut,t.createApplication=Bt,t.updateApplication=zt,t.deleteApplication=Vt,t.getPersonalAccessTokens=Wt,t.createPersonalAccessToken=Ft,t.deletePersonalAccessToken=Ht,t.renamePersonalAccessToken=Gt,t.getAppStatus=$t,t.getWebhooks=qt,t.getWebhook=Zt,t.createWebhook=Kt,t.updateWebhook=Yt,t.deleteWebhook=Jt,t.checkWebhookUrlHealth=Xt;const Qt={get:h,inviteUser:b,inviteUsersByTag:S,activate:g,archive:m,delete:O,getOrganization:f,updateName:E,updateDescription:T,updateDensityScale:_,updateThumbnail:ye,updateAccessibility:P,updateUserRole:C,transferOwnership:y,removeUser:v,getSlackIntegrationEmojis:D,deleteIntegration:k,getExtensions:I,addExtension:A,removeExtension:R,createColor:L,updateColor:x,deleteColor:M,deleteAllColors:U,updateColorsStyleguide:kt,createTextStyle:B,updateTextStyle:z,deleteTextStyle:V,deleteAllTextStyles:W,updateTextStylesStyleguide:It,createSpacingSection:F,updateSpacingSection:H,deleteSpacingSection:G,createSpacingToken:$,updateSpacingToken:q,deleteSpacingToken:Z,updateRemPreferences:K,getComponentSections:Y,addComponentSection:Q,updateComponentSection:ee,mergeComponentSection:te,convertComponentSectionToVariantSection:ne,convertVariantSectionToComponentSection:ie,createComponentSectionVariantProperty:oe,updateComponentSectionVariantProperty:ae,updateComponentSectionVariantPropertiesOrder:re,updateComponentsVariantProperty:se,deleteComponentSectionVariantProperty:le,createComponentSectionVariantGroups:ce,updateComponent:de,deleteComponent:ue,updateComponentsOrder:pe,updateComponentSectionsOrder:he,updateComponentSectionsStyleguide:Rt,authSlack:j,getIntegrationEvents:fe,addIntegrationEvent:ge,deleteIntegrationEvent:me,getTeamsIntegration:be,getConnectedComponents:J,getLocalConnectedComponents:X,updateWorkflowStatus:Ce,deleteWorkflowStatus:ve};t.project=Qt;const en={get:Oe,inviteUser:De,inviteUsersByTag:ke,activate:Pe,archive:_e,delete:Te,getOrganization:Ee,updateName:Ae,updateDescription:we,updateDensityScale:Ne,updateThumbnail:xe,updateAccessibility:Le,updateUserRole:Re,transferOwnership:je,removeUser:Ie,getSlackIntegrationEmojis:Be,deleteIntegration:ze,getExtensions:Me,addExtension:N,removeExtension:w,createColor:Ve,updateColor:We,deleteColor:Fe,deleteAllColors:He,updateColorsStyleguide:At,createTextStyle:Ge,updateTextStyle:$e,deleteTextStyle:qe,deleteAllTextStyles:Ze,updateTextStylesStyleguide:wt,createSpacingSection:Ke,updateSpacingSection:Ye,deleteSpacingSection:Je,createSpacingToken:Xe,updateSpacingToken:Qe,deleteSpacingToken:et,updateRemPreferences:tt,addComponentSection:nt,updateComponentSection:it,mergeComponentSection:ot,convertComponentSectionToVariantSection:at,convertVariantSectionToComponentSection:rt,createComponentSectionVariantProperty:st,updateComponentSectionVariantProperty:lt,updateComponentSectionVariantPropertiesOrder:ct,updateComponentsVariantProperty:dt,deleteComponentSectionVariantProperty:ut,createComponentSectionVariantGroups:pt,updateComponent:ht,deleteComponent:ft,updateComponentsOrder:yt,updateComponentSectionsOrder:Ct,updateComponentSectionsStyleguide:Nt,authSlack:Ue,getIntegrationEvents:gt,addIntegrationEvent:mt,deleteIntegrationEvent:bt,getTeamsIntegration:St,getConnectedComponents:vt,getLocalConnectedComponents:Ot,updateWorkflowStatus:Et,deleteWorkflowStatus:Tt};t.styleguide=en;const tn={checkUsernameAvailable:Pt,getUserStatus:_t,loginUser:jt,createUser:Dt};t.user=tn;const nn={getAuthorizedApplications:Lt,revokeAuthorizedApplication:xt,getOwnedApplications:Mt,getOwnedApplication:Ut,createApplication:Bt,updateApplication:zt,deleteApplication:Vt,getPersonalAccessTokens:Wt,createPersonalAccessToken:Ft,renamePersonalAccessToken:Gt,deletePersonalAccessToken:Ht,getAppStatus:$t,getWebhooks:qt,getWebhook:Zt,createWebhook:Kt,updateWebhook:Yt,deleteWebhook:Jt,checkWebhookUrlHealth:Xt};t.developer=nn},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={STATUS:{OK:200,NO_CONTENT:204,PARTIAL_CONTENT:206,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,GONE:410,PRECONDITION_FAILED:412},head(e,t={}){const n=Object.assign({headers:Zeplin.headers,method:"HEAD"},t);return fetch(e,n)},get:(e,t={})=>fetch(e,Object.assign({headers:Zeplin.headers},t)),post(e,t){const n={headers:Zeplin.headers,method:"POST"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},put(e,t){const n={headers:Zeplin.headers,method:"PUT"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},delete(e,t){const n={headers:Zeplin.headers,method:"DELETE"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)}};t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PROJECT="project",e.STYLEGUIDE="styleguide"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"createError",(function(){return c})),n.d(t,"handleError",(function(){return d}));var i=n(34),o=n(263),a=n(264),r=n(232),s=n(241),l=n(231);function c(e,t={}){return e>=400&&e<500?new o.default(e,t.title,t.message):e>=500&&e<600?new a.default(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")}function d(e,t){var n={title:e.title,message:e.message};if(l.FLAG_USE_CONSOLE_LOGGER&&console.error(e),e instanceof a.default)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.create(n)):s.create(n);else if(e instanceof o.default)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler)if("function"==typeof(d=t.clientErrorHandler[401]))return void d();r.default.remove("userToken"),localStorage.removeItem("user"),i.configureScope(e=>e.setUser(null)),s.create({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&i.captureException(e),t)if("clientErrorHandler"in t){var c=t.clientErrorHandler;if("function"==typeof c)c(e);else if("object"==typeof c){var d;"function"==typeof(d=c[e.status])?d(e):"default"in c&&c.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.create(n);else s.create(n);else if(i.captureException(e),t&&"fallbackHandler"in t)t.fallbackHandler();else{let e=l.FLAG_REMOVE_TEST_ID?null:{testid:"genericErrorDialog"};s.create(e)}}},function(e,t,n){"use strict";function i(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}n.r(t),i.prototype=Object.create(Error.prototype),i.prototype.name="ClientError",i.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message},t.default=i},function(e,t,n){"use strict";function i(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}n.r(t),i.prototype=Object.create(Error.prototype),i.prototype.name="ServerError",i.prototype.toString=function(){return"("+this.status+") "+this.message},t.default=i},,,function(e,t,n){"use strict";n.r(t);var i=n(229),o=n(228),a=n(268),r=n(365),s=n(369),l=n(372),c=n(373);n(374);function d({showBadge:e,appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i}){return[Object(a.default)(),Object(r.default)(),Object(s.default)(e),Object(l.default)(),Object(c.default)({appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i})]}o.isWindowsApp&&i.default.ipcRenderer.on("get-menu-template-v1",(e,{context:t})=>{i.default.ipcRenderer.send("menu-template-v1",{menuTemplate:d(t)})})},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(269),o=n.n(i),a=n(358),r=n(359),s=n(360),l=n(261),c=n.n(l);const d=/^\/login/;function u(e){const{[e+"s"]:t}=o.a.RecentlyLoadedBarrelsStore.getState(),n=e===c.a.PROJECT?r.default.OPEN_RECENT_PROJECT_SUBMENU:r.default.OPEN_RECENT_STYLEGUIDE_SUBMENU,i=e===c.a.PROJECT?r.default.OPEN_RECENT_PROJECT:r.default.OPEN_RECENT_STYLEGUIDE;return{label:"Open recent",id:n,enabled:t.length>0,submenu:t.map(({_id:e,name:t})=>({id:`${i}.${e}`,label:t}))}}function p(){const{selectedTab:e}=o.a.SpaceStore.getState(),{barrelId:t,barrelType:n}=o.a.BarrelStore.getState(),i=!t&&"projects"===e||t&&n===c.a.PROJECT,l=!t&&"styleguides"===e||t&&n===c.a.STYLEGUIDE;return d.test(location.pathname)?new a.default({id:r.default.PROJECT_SUBMENU,label:"Project",submenu:[{label:"New project",id:r.default.NEW_PROJECT,enabled:!1,accelerator:"CmdOrCtrl+N"},{label:"Open recent",id:r.default.OPEN_RECENT_PROJECT_SUBMENU,enabled:!1}]}):i?new a.default({id:r.default.PROJECT_SUBMENU,label:"Project",submenu:[{label:"New project",id:r.default.NEW_PROJECT,enabled:s.default.canCreateProject(),accelerator:"CmdOrCtrl+N"},u(c.a.PROJECT)]}):l?new a.default({id:r.default.STYLEGUIDE_SUBMENU,label:"Styleguide",submenu:[{label:"New styleguide",id:r.default.NEW_STYLEGUIDE,enabled:s.default.canCreateStyleguide(),accelerator:"CmdOrCtrl+N"},u(c.a.STYLEGUIDE)]}):new a.default({id:r.default.PROJECT_SUBMENU,label:"Project",enabled:!1})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(8),a=i(n(270)),r=i(n(275)),s=i(n(279)),l=i(n(283)),c=i(n(285)),d=i(n(287)),u=i(n(304)),p=i(n(306)),h=i(n(307)),f=i(n(315)),g=i(n(317)),m=i(n(332)),b=i(n(333)),S=i(n(335)),y=i(n(336)),C=i(n(339)),v=i(n(342)),O=i(n(343)),E=i(n(344)),T=i(n(346)),_=i(n(347)),P=i(n(349)),j=i(n(351)),D=i(n(352)),k=i(n(355));t.default=new class{constructor(){this.dispatcher=new o.Dispatcher}initializeStores(e){e?e(this):(this.ActivitiesViewStore=new a.default(this.dispatcher),this.AppStore=new r.default(this.dispatcher),this.AppsStore=new s.default(this.dispatcher),this.BarrelStore=new l.default(this.dispatcher),this.DashboardStore=new c.default(this.dispatcher),this.ExtensionsStore=new d.default(this.dispatcher),this.MoveResourcesStore=new u.default(this.dispatcher),this.NotificationsStore=new p.default(this.dispatcher),this.OrganizationStore=new h.default(this.dispatcher),this.OrganizationBillingStore=new f.default(this.dispatcher),this.ProjectsDataStore=new g.default(this.dispatcher),this.RecentlyLoadedBarrelsStore=new m.default(this.dispatcher),this.ComponentVariantStore=new b.default(this.dispatcher),this.DotsStore=new S.default(this.dispatcher),this.ScreenStore=new y.default(this.dispatcher),this.SlackPreferencesStore=new C.default(this.dispatcher),this.StyleguideStore=new E.default(this.dispatcher),this.StyleguidesDataStore=new T.default(this.dispatcher),this.SpaceStore=new v.default(this.dispatcher),this.ProjectSelectionStore=new O.default(this.dispatcher),this.SupportButtonStore=new _.default(this.dispatcher),this.TeamsIntegrationStore=new P.default(this.dispatcher),this.UserStore=new k.default(this.dispatcher),this.VersionImportsStore=new j.default(this.dispatcher),this.WebhooksDataStore=new D.default(this.dispatcher))}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),a=i(n(271)),r=i(n(272)),s=i(n(273)),l=i(n(274));class c extends o.default{constructor(e){super(e)}getInitialState(){return{selectedOrganizationId:"user",category:r.default.All,barrelSelection:{type:"all"},projectsWithUpdatesOnly:!0,dotsLoaded:!1,selectedEventIds:[]}}resetSelection(e){return Object.assign(Object.assign({},e),{selectedId:void 0,selectedEventIds:[],dotsLoaded:!1})}resetSelectionAndNoteFilters(e){return this.resetSelection(Object.assign(Object.assign({},e),{noteStatusFilterType:void 0,color:void 0,memberId:void 0,sectionId:void 0}))}select(e,{activity:t,eventIds:n=[],options:{reselect:i}}){return i?e:Object.assign(Object.assign({},e),{selectedId:t._id,selectedEventIds:n,dotsLoaded:!1})}setDotsLoaded(e,{activity:t}){return e.selectedId===t._id?Object.assign(Object.assign({},e),{dotsLoaded:!0}):e}selectCategory(e,{category:t}){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{category:t}))}selectAllBarrels(e){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{barrelSelection:{type:"all"}}))}selectBarrel(e,{id:t,isPinned:n,barrelType:i}){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{barrelSelection:{id:t,isPinned:n,type:i}}))}setProjectsWithUpdatesOnly(e,{projectsWithUpdatesOnly:t}){return Object.assign(Object.assign({},e),{projectsWithUpdatesOnly:t})}selectNoteStatusFilterType(e,{noteStatusFilterType:t}){return this.resetSelection(Object.assign(Object.assign({},e),{noteStatusFilterType:t}))}selectColor(e,{color:t}){return this.resetSelection(Object.assign(Object.assign({},e),{color:t}))}selectMember(e,{memberId:t}){return this.resetSelection(Object.assign(Object.assign({},e),{memberId:t}))}selectSection(e,{sectionId:t}){return this.resetSelection(Object.assign(Object.assign({},e),{sectionId:t}))}reset(e){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{selectedOrganizationId:void 0,sidebarWidth:void 0}))}load(e,{data:{selectedOrganizationId:t,sidebarWidth:n,notificationWelcomeMessageMinimized:i}}){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{selectedOrganizationId:t,sidebarWidth:n,notificationWelcomeMessageMinimized:i}))}setSidebarWidth(e,{sidebarWidth:t}){return Object.assign(Object.assign({},e),{sidebarWidth:t})}setNotificationWelcomeMessageMinimized(e,{notificationWelcomeMessageMinimized:t}){return Object.assign(Object.assign({},e),{notificationWelcomeMessageMinimized:t})}reduce(e,t){switch(t.type){case s.default.SET_PAGE:return this.reset(e);case a.default.Load:return this.load(e,t);case a.default.Select:return this.select(e,t);case a.default.SetDotsLoaded:return this.setDotsLoaded(e,t);case a.default.SelectCategory:return this.selectCategory(e,t);case a.default.SelectAllBarrels:return this.selectAllBarrels(e);case a.default.SelectBarrel:return this.selectBarrel(e,t);case a.default.SetProjectsWithUpdatesOnly:return this.setProjectsWithUpdatesOnly(e,t);case a.default.SelectNoteStatusFilterType:return this.selectNoteStatusFilterType(e,t);case a.default.SelectColor:return this.selectColor(e,t);case a.default.SelectMember:return this.selectMember(e,t);case a.default.SelectSection:return this.selectSection(e,t);case a.default.SetSidebarWidth:return this.setSidebarWidth(e,t);case a.default.SetNotificationWelcomeMessageMinimized:return this.setNotificationWelcomeMessageMinimized(e,t);case l.default.GET_NOTIFICATIONS_SUCCESS:return this.resetSelection(e);default:return e}}}t.default=c},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Select="activities/select",e.SetDotsLoaded="activities/setDotsLoaded",e.SelectCategory="activities/selectCategory",e.SelectAllBarrels="activities/selectAllBarrels",e.SelectBarrel="activities/selectBarrel",e.SetProjectsWithUpdatesOnly="activities/setProjectsWithUpdatesOnly",e.SetReadStatus="activities/setReadStatus",e.Load="activities/load",e.SelectNoteStatusFilterType="activities/selectNoteStatusFilterType",e.SelectColor="activities/selectColor",e.SelectMember="activities/selectMember",e.SelectSection="activities/selectSection",e.RequestRelatedUsers="activities/requestRelatedUsers",e.SetSidebarWidth="activities/setSidebarWidth",e.SetNotificationWelcomeMessageMinimized="activities/notificationWelcomeMessageMinimized"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.All="All",e.Note="Note",e.Screen="Screen",e.Styleguide="Styleguide",e.Other="Other"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LOAD_WORKSPACE_DATA="app/loadWorkspaceData",e.RESET="app/reset",e.HYDRATE_EMBEDDED_DATA="app/hydrateEmbeddedData",e.INIT_RECENTLY_LOADED_BARRELS="app/initRecentlyLoadedBarrels",e.RESET_BACK_BUTTON="app/resetBackButton",e.SET_BACK_BUTTON="app/setBackButton",e.SET_SHORTLINK="app/setShortlink",e.SET_PAGE="app/setPage",e.SSO_TOKEN_EXPIRED="app/ssoTokenExpired",e.UNSET_SSO_TOKEN_EXPIRED="app/unsetSSOTokenExpired",e.LOGIN_SSO="app/loginSSO",e.SWITCH_TO_OLD_NOTIFICATION_EXPERIENCE="app/switchToOldNotificationExperience",e.SWITCH_TO_NEW_NOTIFICATION_EXPERIENCE="app/switchToNewNotificationExperience"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ADD_NOTIFICATION="addNotification",e.GET_NOTIFICATIONS_REQUESTED="getNotificationsRequested",e.GET_NOTIFICATIONS_SUCCESS="getNotificationsSuccess",e.GET_NOTIFICATIONS_FAILED="getNotificationsFailed",e.UPDATE_NOTIFICATION_LAST_READ_TIME="updateNotificationLastReadTime",e.SET_READ_STATUS="setNotificationReadStatus",e.RESTORE_READ_STATUS="restoreNotificationReadStatus",e.SET_READ_STATUS_OFFLINE="setNotificationReadStatusOffline",e.SET_EVENT_READ_STATUS="setNotificationEventReadStatus",e.SET_EVENT_READ_STATUS_OFFLINE="setNotificationEventReadStatusOffline"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(273),r=n.n(a),s=n(276),l=n.n(s),c=n(277),d=n.n(c),u=n(278),p=n.n(u);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.a{getInitialState(){return{backButtonLabel:null,backButtonLink:null,page:"workspace",ssoTokenExpired:"",oldNotificationExperience:!1}}reset(){return this.getInitialState()}resetBackButton(e){return f(f({},e),{},{backButtonLabel:null,backButtonLink:null})}setBackButton(e,{label:t,link:n}){return f(f({},e),{},{backButtonLabel:t,backButtonLink:n})}updateForUpdateComponent(e,{coid:t,componentData:n}){if(!("name"in n))return e;const{backButtonLink:i}=e;if(!i)return e;return t!==new URL(i).searchParams.get("coid")?e:f(f({},e),{},{backButtonLabel:n.name})}updateForRemoveComponent(e,{coid:t}){const{backButtonLink:n}=e;if(!n)return e;return t!==new URL(e.backButtonLink).searchParams.get("coid")?e:this.resetBackButton(e)}updateForUpdateScreenName(e,{sid:t,name:n}){const{backButtonLink:i}=e;return i&&i.endsWith(t)?f(f({},e),{},{backButtonLabel:n}):e}updateForRemoveScreen(e,{sid:t}){const{backButtonLink:n}=e;return n&&n.endsWith(t)?this.resetBackButton(e):e}setPage(e,{page:t}){return f(f({},e),{},{page:t})}ssoTokenExpired(e,{frequency:t}){return f(f({},e),{},{ssoTokenExpired:t})}unsetSSOTokenExpired(e){return f(f({},e),{},{ssoTokenExpired:""})}setOldNotificationExperience(e,{oldNotificationExperience:t}={}){return void 0===t?e:f(f({},e),{},{oldNotificationExperience:t})}enableOldNotificationExperience(e){return f(f({},e),{},{oldNotificationExperience:!0})}enableNewNotificationExperience(e){return f(f({},e),{},{oldNotificationExperience:!1})}reduce(e,t){switch(t.type){case r.a.RESET:return this.reset(e);case r.a.RESET_BACK_BUTTON:return this.resetBackButton(e);case r.a.SET_BACK_BUTTON:return this.setBackButton(e,t);case r.a.SET_PAGE:return this.setPage(e,t);case r.a.SSO_TOKEN_EXPIRED:return this.ssoTokenExpired(e,t);case r.a.UNSET_SSO_TOKEN_EXPIRED:return this.unsetSSOTokenExpired(e,t);case r.a.SWITCH_TO_OLD_NOTIFICATION_EXPERIENCE:return this.enableOldNotificationExperience(e);case r.a.SWITCH_TO_NEW_NOTIFICATION_EXPERIENCE:return this.enableNewNotificationExperience(e);case p.a.UPDATE_PAGE_STATE:return this.setOldNotificationExperience(e,t.updateState);case l.a.UPDATE_COMPONENT:return this.updateForUpdateComponent(e,t);case l.a.REMOVE_COMPONENT:return this.updateForRemoveComponent(e,t);case l.a.LOAD:return this.setOldNotificationExperience(e,t.notifications);case d.a.UPDATE_NAME:return this.updateForUpdateScreenName(e,t);case d.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);default:return e}}}t.default=m},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RESET="barrel/reset",e.LOAD="barrel/load",e.UPDATE_STATE="barrel/updateState",e.SET_ORGANIZATION_ID="barrel/setOrganizationId",e.SET_BARREL_ID="barrel/setBarrelId",e.CHANGE_SELECTED_VIEW="barrel/changeSelectedView",e.ADD_TO_SLACK="barrel/addToSlack",e.ADD="barrel/add",e.ACTIVATE="barrel/activate",e.ARCHIVE="barrel/archive",e.REMOVE="barrel/remove",e.UPDATE_NAME="barrel/updateName",e.UPDATE_DESCRIPTION="barrel/updateDescription",e.UPDATE_DENSITY_SCALE="barrel/updateDensityScale",e.UPDATE_THUMBNAIL="barrel/updateThumbnail",e.ADD_INTEGRATION="barrel/addIntegration",e.REMOVE_INTEGRATION="barrel/removeIntegration",e.ADD_MEMBERS="barrel/addMembers",e.UPDATE_USER_ROLE="barrel/updateUserRole",e.UPDATE_USER_DATA="barrel/updateUserData",e.TRANSFER_OWNERSHIP="barrel/transferOwnership",e.OWNERSHIP_TRANSFERRED="barrel/ownershipTransferred",e.REMOVE_MEMBER="barrel/removeMember",e.ADD_COLOR="barrel/addColor",e.ADD_MULTIPLE_COLORS="barrel/addMultipleColors",e.UPDATE_COLOR="barrel/updateColor",e.REMOVE_COLOR="barrel/removeColor",e.REMOVE_ALL_COLORS="barrel/removeAllColors",e.ADD_TEXT_STYLE="barrel/addTextStyle",e.ADD_MULTIPLE_TEXT_STYLES="barrel/addMultipleTextStyles",e.UPDATE_TEXT_STYLE="barrel/updateTextStyle",e.REMOVE_TEXT_STYLE="barrel/removeTextStyle",e.REMOVE_ALL_TEXT_STYLES="barrel/removeAllTextStyles",e.ADD_SPACING_SECTION="barrel/addSpacingSection",e.UPDATE_SPACING_SECTION="barrel/updateSpacingSection",e.REMOVE_SPACING_SECTION="barrel/removeSpacingSection",e.ADD_SPACING_TOKEN="barrel/addSpacingToken",e.UPDATE_SPACING_TOKEN="barrel/updateSpacingToken",e.REMOVE_SPACING_TOKEN="barrel/removeSpacingToken",e.UPDATE_REM_PREFERENCES="barrel/updateRemPreferences",e.ADD_COMPONENT="barrel/addComponent",e.UPDATE_COMPONENT="barrel/updateComponent",e.REMOVE_COMPONENT="barrel/removeComponent",e.SET_COMPONENT_SNAPSHOT="barrel/setComponentSnapshot",e.ADD_COMPONENT_VERSION="barrel/addComponentVersion",e.UPDATE_COMPONENTS_ORDER="barrel/updateComponentsOrder",e.ADD_COMPONENT_SECTION="barrel/addComponentSection",e.UPDATE_COMPONENT_SECTION="barrel/updateComponentSection",e.MERGE_COMPONENT_SECTION="barrel/mergeComponentSection",e.REMOVE_COMPONENT_SECTION="barrel/removeComponentSection",e.REMOVE_COMPONENT_SECTIONS="barrel/removeComponentSections",e.UPDATE_COMPONENT_SECTIONS_ORDER="barrel/updateComponentSectionsOrder",e.COPY_COMPONENT_SECTION_WEB_LINK="barrel/copyComponentSectionWebLink",e.COPY_COMPONENT_SECTION_APP_URI="barrel/copyComponentSectionAppURI",e.FETCH_COMPONENT_SECTION_SHORT_LINK="barrel/fetchComponentSectionShortLink",e.GO_TO_DASHBOARD="barrel/goToDashboard",e.GO_TO_STYLEGUIDE="barrel/goToStyleguide",e.SET_ASSET_EXPORT_TARGET="barrel/setAssetExportTarget",e.CHANGE_ASSET_NAME="barrel/changeAssetName",e.CHANGE_ASSET_DENSITY_SCALE_PREF="barrel/changeAssetDensityScalePref",e.CHANGE_ASSET_NAMING_CONVENTION="barrel/changeAssetNamingConvention",e.TOGGLE_SVG_OPTIMIZATION="barrel/toggleSVGOptimization",e.CHANGE_EXPORT_TARGET="barrel/changeExportTarget",e.OPEN_EXPORT_TARGET="barrel/openExportTarget",e.DOWNLOAD_ASSET="barrel/downloadAsset",e.DOWNLOAD_MULTIPLE_ASSET="barrel/downloadMultipleAsset",e.EXPORT_CODE="barrel/exportCode",e.COPY_CODE="barrel/copyCode",e.HIDE_NO_VECTOR_ASSET_INFO="barrel/hideNoVectorAssetInfo",e.HIDE_DENSITY_MISMATCH_WARNING="barrel/hideDensityMismatchWarning",e.HIDE_SOURCE_FILE_INFO="barrel/hideSourceFileInfo",e.DISMISS_FLOW_LINK_INFO="barrel/dismissFlowLinkInfo",e.DISMISS_NO_RESOURCE_INFO="barrel/dismissNoResourceInfo",e.HIDE_SLACK_RECONNECTION_AUNTIE="barrel/hideSlaclReconnectionAuntie",e.OPEN_JUMP_TO_POPUP="barrel/openJumpToPopup",e.CLOSE_JUMP_TO_POPUP="barrel/closeJumpToPopup",e.TOGGLE_SCENE="barrel/toggleScene",e.JOIN="barrel/join",e.STOP_JOIN_LOADING="barrel/stopLoadingJoin",e.MOVE_RESOURCES_REQUEST="barrel/moveResourcesRequest",e.MOVE_RESOURCES_SUCCESS="barrel/moveResourcesSuccess",e.MOVE_RESOURCES_FAIL="barrel/movesResourcesFail",e.ATTACH_JIRA_ISSUE="barrel/attachJiraIssue",e.REMOVE_JIRA_ISSUE_ATTACHMENT="barrel/removeJiraIssueAttachment",e.ENABLE_DEV_MODE="barrel/enableDevMode",e.DISABLE_DEV_MODE="barrel/disableDevMode",e.SET_LOCAL_CONNECTED_COMPONENTS="barrel/setLocalConnectedComponents",e.RELOAD_LOCAL_CONNECTED_COMPONENTS="barrel/reloadLocalConnectedComponents",e.UPDATE_CONNECTED_COMPONENTS="barrel/updateConnectedComponents",e.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE="barrel/setConnectedComponentsLocalWorkspace",e.GET_CONNECTED_COMPONENTS_EDITOR_INFO="barrel/getConnectedComponentsEditorInfo",e.SET_CONNECTED_COMPONENTS_EDITOR_INFO="barrel/setConnectedComponentsEditorInfo",e.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE="barrel/setConnectedComponentsEditorPreference",e.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER="barrel/selectConnectedComponentsWorkspaceFolder",e.OPEN_COMPONENT_FILE_IN_EDITOR="barrel/openComponentFileInEditor",e.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH="barrel/setConnectedComponentsWorkspacePath",e.UPDATE_WORKFLOW_STATUS="barrel/updateWorkflowStatus",e.UPDATE_WORKFLOW_STATUSES="barrel/updateWorkflowStatuses",e.DELETE_WORKFLOW_STATUS="barrel/deleteWorkflowStatus",e.DELETE_WORKFLOW_STATUSES="barrel/deleteWorkflowStatuses",e.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED="barrel/highlightedConnectToCodeButtonViewed",e.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN="barrel/markConnectedComponentsOnboardingDialogAsSeen"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN_SCREEN="screen/openScreen",e.SELECT_LAYER="screen/selectLayer",e.DESELECT_LAYER="screen/deselectLayer",e.ENTER_LAYER="screen/enterLayer",e.LEAVE_LAYER="screen/leaveLayer",e.ENABLE_PERCENTAGE_MODE="screen/enablePercentageMode",e.DISABLE_PERCENTAGE_MODE="screen/disablePercentageMode",e.ADD_SCREEN="screen/addScreen",e.UPDATE_DESCRIPTION="screen/updateDescription",e.UPDATE_NAME="screen/updateName",e.REMOVE_SCREEN="screen/removeScreen",e.OPEN_TAG_MANAGER="screen/openTagManager",e.CLOSE_TAG_MANAGER="screen/closeTagManager",e.UPDATE_TAGS="screen/updateTags",e.OPEN_SOURCE_FILE="screen/openSourceFile",e.OPEN_SOURCE_FOLDER="screen/openSourceFolder",e.OPEN_POPOUT="screen/openPopout",e.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX="screen/hideComponentVariantsOnboardingHintbox",e.SET_DOTS="screen/setDots",e.SELECT_DOT="screen/selectDot",e.CLOSE_DOT_POPUP="screen/closeDotPopup",e.CHANGE_DOT_FILTER="screen/changeDotFilter",e.DOTS_FLASHED="screen/dotsFlashed",e.HIGHLIGHT_DOTS="screen/highlightDots",e.UNHIGHLIGHT_DOT="screen/unhighlightDot",e.ADD_DOT="screen/addDot",e.UPDATE_DOT="screen/updateDot",e.UPDATE_DOT_COLOR="screen/updateDotColor",e.UPDATE_DOT_POSITION="screen/updateDotPosition",e.UPDATE_DOT_STATUS="screen/updateDotStatus",e.REMOVE_DOT="screen/removeDot",e.CREATE_COMMENT="screen/createComment",e.ADD_COMMENT="screen/addComment",e.UPDATE_COMMENT="screen/updateComment",e.REMOVE_COMMENT="screen/removeComment",e.OPEN_DOT_MENU="screen/openDotMenu",e.CLOSE_DOT_MENU="screen/closeDotMenu",e.CHANGE_ZOOM_LEVEL="screen/changeZoomLevel",e.ZOOM_IN="screen/zoomIn",e.ZOOM_OUT="screen/zoomOut",e.RESET_ZOOM="screen/resetZoom",e.ZOOM_APPLIED="screen/zoomApplied",e.START_GESTURE="screen/startGesture",e.ZOOM_WITH_GESTURE="screen/zoomWithGesture",e.ZOOM_WITH_WHEEL="screen/zoomWithWheel",e.TOGGLE_LAYOUT_GRID="screen/toggleLayoutGrid",e.ENABLE_NOTE_MODE="screen/enableNoteMode",e.DISABLE_NOTE_MODE="screen/disableNoteMode",e.CREATE_NOTE="screen/createNote",e.SHOW_NOTES="screen/showNotes",e.HIDE_NOTES="screen/hideNotes",e.CHANGE_NOTE_STATUS_FILTER="screen/changeNoteStatusFilter",e.CHANGE_NOTE_COLOR_FILTER="screen/changeNoteColorFilter",e.SHOW_FLOW_LINKS="screen/showFlowLinks",e.HIDE_FLOW_LINKS="screen/hideFlowLinks",e.CHANGE_SIDEBAR_TAB="screen/changeSidebarTab",e.CHANGE_SCREEN_SIDEBAR_WIDTH="screen/changeScreenSidebarWidth",e.GET_VERSIONS="screen/getVersions",e.SET_VERSIONS="screen/setVersions",e.SET_VERSION_ID="screen/setVersionId",e.SET_SNAPSHOT="screen/setSnapshot",e.SHOW_VERSIONS="screen/showVersions",e.HIDE_VERSIONS="screen/hideVersions",e.TOGGLE_VERSIONS="screen/toggleVersions",e.ENABLE_VERSIONS_COMPACT_MODE="screen/enableVersionsCompactMode",e.DISABLE_VERSIONS_COMPACT_MODE="screen/disableVersionsCompactMode",e.SHOW_VERSIONS_AUNTIE="screen/showVersionsAuntie",e.HIDE_VERSIONS_AUNTIE="screen/hideVersionsAuntie",e.NEW_VERSIONS_FOUND="screen/newVersionsFound",e.CHANGE_VERSIONS_SIDEBAR_WIDTH="screen/changeVersionsSidebarWidth",e.ADD_VERSION="screen/addVersion",e.UPDATE_COMMIT_COLOR="screen/updateCommitColor",e.UPDATE_COMMIT_MESSAGE="screen/updateCommitMessage",e.REMOVE_VERSION="screen/removeVersion",e.SET_SOURCE_FILE="screen/setSourceFile"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UPDATE_PAGE_STATE="space/updatePageState",e.CHANGE_SELECTED_TAB="space/changeSelectedTab",e.CHANGE_SELECTED_ORGANIZATION="space/changeSelectedOrganization",e.CHANGE_FILTER_VALUE="space/changeFilterValue",e.CHANGE_PROJECT_SELECTED_SORT_TYPE="space/changeProjectSelectedSortType",e.TOGGLE_ARCHIVED_PROJECTS="space/toggleArchivedProjects",e.CHANGE_WORKFLOW_STATUS_FILTER="space/changeWorkflowStatusFilter",e.UNHIGHLIGHT_BARREL="space/unhighlightBarrel",e.HIGHLIGHT_SECTION="space/highlightSection",e.UNHIGHLIGHT_SECTION="space/unhighlightSection",e.EXPAND_SECTIONS="space/expandSections",e.COLLAPSE_SECTIONS="space/collapseSections",e.SET_STYLEGUIDES_TAB_VISITED="space/setStyleguidesTabVisited",e.OPEN_DIALOG="space/openDialog",e.CLOSE_DIALOG="space/closeDialog",e.HIDE_LOADING="space/hideLoading",e.SET_WORKSPACE_LOADING="space/setWorkspaceLoading",e.TRACK_BARREL_CLICK="space/trackBarrelClick",e.TOGGLE_PROJECT_SELECTION="space/toggleProjectSelection",e.CLEAR_PROJECT_SELECTION="space/clearProjectSelection",e.SELECT_PROJECTS="space/selectProjects",e.DESELECT_PROJECTS="space/deselectProjects",e.SET_AUTO_EXPAND_NOTIFICATIONS="space/setAutoExpandNotifications"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(280),r=n(281),s=n(282);function l(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a{getInitialState(){return{loadingConnectedAppsData:!0,loadingDeveloperData:!1,loadingApplication:!1,revokingAuthorizedApplication:!1,deletingPersonalAccessToken:!1,creatingAccessToken:!1,creatingApplication:!1,updatingApplication:!1,deletingApplication:!1,authorizedApplications:[],ownedApplications:[],personalAccessTokens:[],fetchedApplicationIds:[],officialApps:s.OFFICIAL_APPS.reduce((e,t)=>d(d({},e),{},{[t._id]:d(d({},t),{},{token:null,status:s.appStatus.UNCONNECTED})}),{})}}loadConnectedAppsData(e,{authorizedApplications:t,officialApps:n}){return d(d({},e),{},{authorizedApplications:t.map(e=>new r.default(e)),officialApps:n,loadingConnectedAppsData:!1})}loadDeveloperDataRequest(e){return d(d({},e),{},{loadingDeveloperData:!0})}loadDeveloperData(e,{ownedApplications:t,personalAccessTokens:n}){return d(d({},e),{},{ownedApplications:t.map(e=>new r.default(e)),personalAccessTokens:n,loadingDeveloperData:!1})}getApplicationRequest(e){return d(d({},e),{},{loadingApplication:!0})}loadApplication(e,{application:t}){const{ownedApplications:n,fetchedApplicationIds:i}=e;return d(d({},e),{},{ownedApplications:n.map(e=>t._id===e._id?new r.default(t):e),fetchedApplicationIds:[...i,t._id],loadingApplication:!1})}revokeAuthorizedApplicationSuccess(e,{authorizedApplication:t}){return d(d({},e),{},{authorizedApplications:e.authorizedApplications.filter(({_id:e})=>t._id!==e),revokingAuthorizedApplication:!1})}revokeAuthorizedApplicationFailure(e){return d(d({},e),{},{revokingAuthorizedApplication:!1})}deletePersonalAccessTokenRequest(e){return d(d({},e),{},{deletingPersonalAccessToken:!0})}deletePersonalAccessTokenSuccess(e,{personalAccessToken:t}){return d(d({},e),{},{personalAccessTokens:e.personalAccessTokens.filter(({_id:e})=>t._id!==e),deletingPersonalAccessToken:!1})}deletePersonalAccessTokenFailure(e){return d(d({},e),{},{deletingPersonalAccessToken:!1})}createPersonalAccessTokenRequest(e){return d(d({},e),{},{creatingAccessToken:!0})}createPersonalAccessTokenSuccess(e,{personalAccessToken:t}){return d(d({},e),{},{personalAccessTokens:[t,...e.personalAccessTokens],creatingAccessToken:!1})}createPersonalAccessTokenFailure(e){return d(d({},e),{},{creatingAccessToken:!1})}createApplicationRequest(e){return d(d({},e),{},{creatingApplication:!0})}createApplicationSuccess(e,{application:t}){return d(d({},e),{},{ownedApplications:[t,...e.ownedApplications],creatingApplication:!1})}createApplicationFailure(e){return d(d({},e),{},{creatingApplication:!1})}updateApplicationRequest(e){return d(d({},e),{},{updatingApplication:!0})}updateApplicationSuccess(e,{appId:t,application:n}){return d(d({},e),{},{ownedApplications:e.ownedApplications.map(e=>e._id===t?new r.default(d({_id:t},n)):e),updatingApplication:!1})}updateApplicationFailure(e){return d(d({},e),{},{updatingApplication:!1})}deleteApplicationRequest(e){return d(d({},e),{},{deletingApplication:!0})}deleteApplicationSuccess(e,{application:{_id:t}}){let{ownedApplications:n}=e;return d(d({},l(e,["ownedApplications"])),{},{ownedApplications:n.filter(e=>e._id!==t),deletingApplication:!1})}deleteApplicationFailure(e){return d(d({},e),{},{deletingApplication:!1})}renamePersonalAccessToken(e,{tokenId:t,name:n}){return d(d({},e),{},{personalAccessTokens:e.personalAccessTokens.map(e=>e._id===t?d(d({},e),{},{name:n}):e)})}setRevokingAuthorizedApplication(e){return d(d({},e),{},{revokingAuthorizedApplication:!0})}setOfficialAppConnecting(e,{appId:t}){return d(d({},e),{},{officialApps:d(d({},e.officialApps),{},{[t]:d(d({},e.officialApps[t]),{},{token:null,status:s.appStatus.CONNECTING})})})}connectOfficalAppSuccess(e,{appId:t,token:n}){return d(d({},e),{},{officialApps:d(d({},e.officialApps),{},{[t]:d(d({},e.officialApps[t]),{},{token:n,status:s.appStatus.CONNECTED})})})}connectOfficialAppFailure(e,{appId:t}){return d(d({},e),{},{officialApps:d(d({},e.officialApps),{},{[t]:d(d({},e.officialApps[t]),{},{token:null,status:s.appStatus.UNCONNECTED})})})}revokeOfficialApp(e,{authorizedApplication:t}){return d(d({},e),{},{officialApps:d(d({},e.officialApps),{},{[t._id]:d(d({},e.officialApps[t._id]),{},{token:null,status:s.appStatus.UNCONNECTED})}),revokingAuthorizedApplication:!1})}reduce(e,t){switch(t.type){case a.default.GET_CONNECTED_APPS_DATA_SUCCESS:return this.loadConnectedAppsData(e,t);case a.default.GET_DEVELOPER_DATA_REQUEST:return this.loadDeveloperDataRequest(e,t);case a.default.GET_DEVELOPER_DATA_SUCCESS:return this.loadDeveloperData(e,t);case a.default.GET_APPLICATION_REQUEST:return this.getApplicationRequest(e,t);case a.default.GET_APPLICATION_SUCCESS:return this.loadApplication(e,t);case a.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST:return this.setRevokingAuthorizedApplication(e);case a.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS:return s.OFFICIAL_APPS.some(({_id:e})=>t.authorizedApplication._id===e)?this.revokeOfficialApp(e,t):this.revokeAuthorizedApplicationSuccess(e,t);case a.default.REVOKE_AUTHORIZED_APPLICATION_FAILURE:return this.revokeAuthorizedApplicationFailure(e,t);case a.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:return this.deletePersonalAccessTokenRequest(e);case a.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:return this.deletePersonalAccessTokenSuccess(e,t);case a.default.DELETE_PERSONAL_ACCESS_TOKEN_FAILURE:return this.deletePersonalAccessTokenFailure(e,t);case a.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:return this.createPersonalAccessTokenRequest(e,t);case a.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:return this.createPersonalAccessTokenSuccess(e,t);case a.default.CREATE_PERSONAL_ACCESS_TOKEN_FAILURE:return this.createPersonalAccessTokenFailure(e,t);case a.default.CREATE_APPLICATION_REQUEST:return this.createApplicationRequest(e,t);case a.default.CREATE_APPLICATION_SUCCESS:return this.createApplicationSuccess(e,t);case a.default.CREATE_APPLICATION_FAILURE:return this.createApplicationFailure(e,t);case a.default.UPDATE_APPLICATION_REQUEST:return this.updateApplicationRequest(e,t);case a.default.UPDATE_APPLICATION_SUCCESS:return this.updateApplicationSuccess(e,t);case a.default.UPDATE_APPLICATION_FAILURE:return this.updateApplicationFailure(e,t);case a.default.DELETE_APPLICATION_REQUEST:return this.deleteApplicationRequest(e,t);case a.default.DELETE_APPLICATION_SUCCESS:return this.deleteApplicationSuccess(e,t);case a.default.DELETE_APPLICATION_FAILURE:return this.deleteApplicationFailure(e,t);case a.default.RENAME_PERSONAL_ACCESS_TOKEN:return this.renamePersonalAccessToken(e,t);case a.default.CONNECT_OFFICIAL_APP_REQUEST:return this.setOfficialAppConnecting(e,t);case a.default.CONNECT_OFFICIAL_APP_SUCCESS:return this.connectOfficalAppSuccess(e,t);case a.default.CONNECT_OFFICIAL_APP_FAILURE:return this.connectOfficialAppFailure(e,t);default:return e}}}t.default=p},function(e,t,n){"use strict";n.r(t);t.default={GET_CONNECTED_APPS_DATA_REQUEST:"getConnectedAppsDataRequest",GET_CONNECTED_APPS_DATA_SUCCESS:"getConnectedAppsDataSuccess",GET_DEVELOPER_DATA_REQUEST:"getDeveloperDataRequest",GET_DEVELOPER_DATA_SUCCESS:"getDeveloperDataSuccess",GET_APPLICATION_REQUEST:"getApplicationRequest",GET_APPLICATION_SUCCESS:"getApplicationSuccess",CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:"createPersonalAccessTokenRequest",CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:"createPersonalAccessTokenSuccess",CREATE_PERSONAL_ACCESS_TOKEN_FAILURE:"createPersonalAccessTokenFailure",CREATE_APPLICATION_REQUEST:"createApplicationRequest",CREATE_APPLICATION_SUCCESS:"createApplicationSuccess",CREATE_APPLICATION_FAILURE:"createApplicationFailure",UPDATE_APPLICATION_REQUEST:"updateApplicationRequest",UPDATE_APPLICATION_SUCCESS:"updateApplicationSuccess",UPDATE_APPLICATION_FAILURE:"updateApplicationFailure",DELETE_APPLICATION_REQUEST:"deleteApplicationRequest",DELETE_APPLICATION_SUCCESS:"deleteApplicationSuccess",DELETE_APPLICATION_FAILURE:"deleteApplicationFailure",DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:"deletePersonalAccessTokenRequest",DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:"deletePersonalAccessTokenSuccess",DELETE_PERSONAL_ACCESS_TOKEN_FAILURE:"deletePersonalAccessTokenFailure",REVOKE_AUTHORIZED_APPLICATION_REQUEST:"revokeAuthorizedApplicationRequest",REVOKE_AUTHORIZED_APPLICATION_SUCCESS:"revokeAuthorizedApplicationSuccess",REVOKE_AUTHORIZED_APPLICATION_FAILURE:"revokeAuthorizedApplicationFailure",RENAME_PERSONAL_ACCESS_TOKEN:"renamePersonalAccessToken",CONNECT_OFFICIAL_APP_REQUEST:"connectOfficialAppRequest",CONNECT_OFFICIAL_APP_SUCCESS:"connectOfficialAppSuccess",CONNECT_OFFICIAL_APP_FAILURE:"connectOfficialAppFailure"}},function(e,t,n){"use strict";n.r(t);var i=n(253);class o extends i.default{constructor(e){if(super(),!e)return;const{_id:t,name:n,description:i,logo:o,owner:a,website:r,secret:s,redirectURIs:l,numberOfUsers:c,created:d,updated:u,authorizedAt:p}=e;this.id=t,this._id=t,this.name=n,this.description=i,this.logo=o,this.owner=a,this.website=r,this.secret=s,this.redirectURIs=l,this.numberOfUsers=c,this.created=d,this.updated=u,this.authorizedAt=p}addRedirectURI(e){this.redirectURIs.push(e)}removeRedirectURI(e){this.redirectURIs.filter(t=>e!==t)}}t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"OFFICIAL_APPS",(function(){return a})),n.d(t,"appStatus",(function(){return r}));var i=n(231),o=n(249);const a=[{_id:i.CLI_CLIENT_ID,name:"CLI",emoji:"🧩",description:"Connect components in Zeplin to components in code using Zeplin CLI."},{_id:i.ZEM_CLIENT_ID,name:"zem",logo:Object(o.imageUrl)("img/ntf/icExtension.svg"),description:"Create, test and publish Zeplin extensions with no build configuration."}],r=Object.freeze({CONNECTED:"connected",CONNECTING:"connecting",UNCONNECTED:"unconnected"})},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(273),r=n.n(a),s=n(276),l=n.n(s),c=n(284),d=n(277),u=n.n(d),p=n(230),h=n(261),f=n.n(h);function g(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function m(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends o.a{getInitialState(){return{loading:!0,loadingJoin:!1,organizationId:null,barrelType:f.a.PROJECT,barrelId:null,selectedView:p.ProjectViewTypes.DASHBOARD,assetExportTarget:null,assetDensityScalePrefs:null,assetNamingConvention:"camelCase",showOptimizedSVG:!0,noVectorAssetInfoHidden:!1,densityMismatchWarningHidden:!1,noResourceInfoDismissed:!1,sourceFileInfoHidden:!1,flowLinkInfoDismissed:!1,showSlackReconnectionAuntie:!1,jumpToPopupOpen:!1,linkingProjectToStyleguide:"",movingResourcesToStyleguide:"",connectedComponentsDevModeEnabled:!1,connectedComponentsLocalWorkspace:null,componentVariantsOnboardingHintboxSeen:!1,connectedComponentsEditorInfo:{},screenVersionsLastSeen:null,connectedComponentsOnboardingDialogSeen:!1,numberOfHighlightedConnectToCodeButtonViews:0}}reset(){return this.getInitialState()}load(e){return S(S({},this.getInitialState()),{},{loading:!1},e)}updateState(e,t){return S(S({},e),t)}updateForArchive(e,{bid:t}){return t===e.barrelId?this.reset():e}updateForRemoveMember(e,{bid:t,shouldRemoveBarrel:n}){return t===e.barrelId&&n?this.reset():e}updateForRemove(e,{bid:t}){return t===e.barrelId?this.reset():e}setOrganizationId(e,t){return S(S({},e),{},{organizationId:t})}setBarrelId(e,t){return S(S({},e),{},{barrelId:t})}changeSelectedView(e,t){return S(S({},e),{},{selectedView:t})}setAssetExportTarget(e,t){return S(S({},e),{},{assetExportTarget:t})}changeAssetName(e){return S({},e)}changeAssetDensityScalePref(e,t,n){const i=S(S({},e.assetDensityScalePrefs),{},{[t]:n});return S(S({},e),{},{assetDensityScalePrefs:i})}changeAssetNamingConvention(e,t){return S(S({},e),{},{assetNamingConvention:t})}toggleSVGOptimization(e,t){return S(S({},e),{},{showOptimizedSVG:t})}dismissNoResourceInfo(e){return S(S({},e),{},{noResourceInfoDismissed:!0})}hideNoVectorAssetInfo(e){return S(S({},e),{},{noVectorAssetInfoHidden:!0})}hideDensityMismatchWarning(e){return S(S({},e),{},{densityMismatchWarningHidden:!0})}hideSourceFileInfo(e){return S(S({},e),{},{sourceFileInfoHidden:!0})}dismissFlowLinkInfo(e){return S(S({},e),{},{flowLinkInfoDismissed:!0})}hideSlackReconnectionAuntie(e){return S(S({},e),{},{showSlackReconnectionAuntie:!1})}hideComponentVariantsOnboardingHintbox(e){return S(S({},e),{},{componentVariantsOnboardingHintboxSeen:!0})}openJumpToPopup(e){return S(S({},e),{},{jumpToPopupOpen:!0})}closeJumpToPopup(e){return S(S({},e),{},{jumpToPopupOpen:!1})}join(e){return S(S({},e),{},{loadingJoin:!0})}stopLoadingJoin(e){return S(S({},e),{},{loadingJoin:!1})}moveResourcesRequest(e,{targetStyleguideId:t}){return S(S({},e),{},{movingResourcesToStyleguide:t})}moveResourcesSuccess(e){return S(S({},e),{},{movingResourcesToStyleguide:""})}moveResourcesFail(e){return S(S({},e),{},{movingResourcesToStyleguide:""})}linkProjectToStyleguideRequest(e,{styleguide:t}){return S(S({},e),{},{linkingProjectToStyleguide:t._id})}linkProjectToStyleguideSuccess(e){return S(S({},e),{},{linkingProjectToStyleguide:""})}updateForOpenScreen(e,{screenVersionsLastSeen:t}){return S(S({},this.updateScreenVersionsLastSeen(e,t)),{},{jumpToPopupOpen:!1,selectedView:p.ProjectViewTypes.SCREEN})}updateForRemoveScreen(e,{removingCurrentScreen:t}){const{selectedView:n}=e;return n===p.ProjectViewTypes.SCREEN&&t?this.changeSelectedView(e,p.ProjectViewTypes.DASHBOARD):e}enableDevMode(e){return S(S({},e),{},{connectedComponentsDevModeEnabled:!0})}disableDevMode(e){return S(S({},e),{},{connectedComponentsDevModeEnabled:!1})}setConnectedComponentsLocalWorkspace(e,{workspace:t}){return S(S({},e),{},{connectedComponentsLocalWorkspace:t})}setConnectedComponentsEditorInfo(e,{editorInfo:t}){return S(S({},e),{},{connectedComponentsEditorInfo:t})}setConnectedComponentsEditorPreference(e,{extension:t,editor:n}){const{connectedComponentsEditorInfo:i}=e,{defaultEditorPreferences:o}=i,a=m(i,["defaultEditorPreferences"]),{[t]:r}=o,s=m(o,[t].map(g));return n&&(s[t]=n),S(S({},e),{},{connectedComponentsEditorInfo:S(S({},a),{},{defaultEditorPreferences:s})})}setConnectedComponentsWorkspacePath(e,{workspacePath:t}){const{connectedComponentsEditorInfo:n}=e;return S(S({},e),{},{connectedComponentsEditorInfo:S(S({},n),{},{workspacePath:t})})}updateScreenVersionsLastSeen(e,{sid:t,date:n}){return t?S(S({},e),{},{screenVersionsLastSeen:S(S({},e.screenVersionsLastSeen),{},{[t]:n})}):e}highlightedConnectToCodeButtonViewed(e){return S(S({},e),{},{numberOfHighlightedConnectToCodeButtonViews:e.numberOfHighlightedConnectToCodeButtonViews+1})}markConnectedComponentsOnboardingDialogAsSeen(e){return S(S({},e),{},{connectedComponentsOnboardingDialogSeen:!0})}reduce(e,t){switch(t.type){case r.a.RESET:case l.a.RESET:return this.reset();case l.a.ARCHIVE:return this.updateForArchive(e,t);case l.a.REMOVE_MEMBER:return this.updateForRemoveMember(e,t);case l.a.REMOVE:return this.updateForRemove(e,t);case l.a.LOAD:return this.load(t.barrel);case l.a.UPDATE_STATE:return this.updateState(e,t.update);case l.a.SET_ORGANIZATION_ID:return this.setOrganizationId(e,t.oid);case l.a.SET_BARREL_ID:return this.setBarrelId(e,t.barrelId);case l.a.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t.selectedView);case l.a.SET_ASSET_EXPORT_TARGET:return this.setAssetExportTarget(e,t.assetExportTarget);case l.a.CHANGE_ASSET_NAME:return this.changeAssetName(e,t);case l.a.CHANGE_ASSET_DENSITY_SCALE_PREF:return this.changeAssetDensityScalePref(e,t.format,t.assetDensityScalePrefsOfFormat);case l.a.CHANGE_ASSET_NAMING_CONVENTION:return this.changeAssetNamingConvention(e,t.assetNamingConvention);case l.a.TOGGLE_SVG_OPTIMIZATION:return this.toggleSVGOptimization(e,t.showOptimizedSVG);case l.a.HIDE_NO_VECTOR_ASSET_INFO:return this.hideNoVectorAssetInfo(e);case l.a.HIDE_DENSITY_MISMATCH_WARNING:return this.hideDensityMismatchWarning(e);case l.a.HIDE_SOURCE_FILE_INFO:return this.hideSourceFileInfo(e);case l.a.DISMISS_FLOW_LINK_INFO:return this.dismissFlowLinkInfo(e);case l.a.DISMISS_NO_RESOURCE_INFO:return this.dismissNoResourceInfo(e);case l.a.HIDE_SLACK_RECONNECTION_AUNTIE:return this.hideSlackReconnectionAuntie(e);case l.a.OPEN_JUMP_TO_POPUP:return this.openJumpToPopup(e);case l.a.CLOSE_JUMP_TO_POPUP:return this.closeJumpToPopup(e);case l.a.JOIN:return this.join(e);case l.a.STOP_JOIN_LOADING:return this.stopLoadingJoin(e);case l.a.MOVE_RESOURCES_REQUEST:return this.moveResourcesRequest(e,t);case l.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e);case l.a.MOVE_RESOURCES_FAIL:return this.moveResourcesFail(e);case l.a.ENABLE_DEV_MODE:return this.enableDevMode(e);case l.a.DISABLE_DEV_MODE:return this.disableDevMode(e);case c.default.LINK_PROJECT_REQUEST:return this.linkProjectToStyleguideRequest(e,t);case c.default.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case u.a.OPEN_SCREEN:return this.updateForOpenScreen(e,t);case u.a.ADD_VERSION:case u.a.SHOW_VERSIONS:case u.a.TOGGLE_VERSIONS:return this.updateScreenVersionsLastSeen(e,t.screenVersionsLastSeen);case u.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);case l.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:return this.setConnectedComponentsLocalWorkspace(e,t);case l.a.SET_CONNECTED_COMPONENTS_EDITOR_INFO:return this.setConnectedComponentsEditorInfo(e,t);case l.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:return this.setConnectedComponentsEditorPreference(e,t);case l.a.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH:return this.setConnectedComponentsWorkspacePath(e,t);case l.a.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED:return this.highlightedConnectToCodeButtonViewed(e);case l.a.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN:return this.markConnectedComponentsOnboardingDialogAsSeen(e);default:return e}}}t.default=C},function(e,t,n){"use strict";n.r(t);t.default={LINK_PROJECT:"project/linkProject",LINK_PROJECT_REQUEST:"project/linkProjectRequest",LINK_PROJECT_SUCCESS:"project/linkProjectSuccess",LINK_PROJECT_FAILED:"project/linkProjectFailed",UNLINK_PROJECT:"project/unlinkProject"}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(286),r=n(273),s=n.n(r),l=n(276),c=n.n(l),d=n(261),u=n.n(d),p=n(277),h=n.n(p),f=n(230);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends o.a{getInitialState(){return{sortType:f.SortTypes.SECTIONS,filterValue:"",fixedThumbnailSize:!1,sidebarWidth:280,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],collapsedSections:{},highlightedSection:null,highlightedScreens:[]}}reset(){return this.getInitialState()}changeSelectedView(e,t){const{sids:n,seid:i,filterValue:o,tags:a,jiraIssues:r,untagged:s,sectionsToExpand:l}=t,c=m(m({},e),{},{tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[]});return n?m(m({},c),{},{highlightedScreens:this.highlightScreens(e,n).highlightedScreens,collapsedSections:this.expandSections(e,l).collapsedSections}):i?m(m({},c),{},{highlightedSection:this.highlightSection(e,i).highlightedSection,collapsedSections:this.expandSections(e,l).collapsedSections}):e.filterValue!==o?this.changeFilterValue(e,o):a?this.changeTagFilter(e,{tags:a,untagged:!1}):r?this.changeJiraIssueFilter(e,r):s?this.changeTagFilter(e,{tags:[],untagged:!0}):c}changeSortType(e,t){return m(m({},e),{},{sortType:t,highlightedScreens:[]})}changeFilterValue(e,t){return m(m({},e),{},{filterValue:t,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],highlightedScreens:[]})}changeTagFilter(e,t){return m(m({},e),{},{tagFilter:t,filterValue:"",highlightedScreens:[]})}changeJiraIssueFilter(e,t){return m(m({},e),{},{jiraIssueFilter:t,filterValue:"",tagFilter:{tags:[],untagged:!1},highlightedScreens:[]})}convertTagToSection(e,t){const{tags:n,untagged:i}=e.tagFilter,o=n.filter(e=>e!==t);return m(m({},e),{},{tagFilter:{tags:o,untagged:i}})}toggleFixedThumbnailSize(e){return m(m({},e),{},{fixedThumbnailSize:!e.fixedThumbnailSize})}changeSidebarWidth(e,t){return m(m({},e),{},{sidebarWidth:t})}expandSections(e,t){return m(m({},e),{},{collapsedSections:m(m({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!1])))})}collapseSections(e,t){return m(m({},e),{},{collapsedSections:m(m({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}highlightScreens(e,t){return m(m({},e),{},{highlightedScreens:[].concat(t).filter(Boolean)})}unhighlightScreen(e,t){return m(m({},e),{},{highlightedScreens:e.highlightedScreens.filter(e=>e!==t)})}highlightSection(e,t){return m(m({},e),{},{highlightedSection:t})}unhighlightSection(e){return m(m({},e),{},{highlightedSection:null})}highlightUpdatedSection(e,{seid:t,highlight:n,sectionData:i}){if(!n)return e;const o=i._id||t;return m(m({},e),{},{highlightedSection:o})}updateForOpenScreen(e,{screenId:t,shouldResetDashboardFilters:n}){let i={};return n&&(i={tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[]}),m(m(m({},e),i),{},{highlightedScreens:[t]})}load(e,t){const{barrel:{barrelType:n},dashboard:i={},data:{project:o}}=t;return n===u.a.STYLEGUIDE||o.partial?e:m(m({},e),i)}reduce(e,t){switch(t.type){case c.a.LOAD:return this.load(e,t);case s.a.RESET:case c.a.RESET:return this.reset();case c.a.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t.viewUpdate);case a.default.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case a.default.CHANGE_TAG_FILTER:return this.changeTagFilter(e,t.tagFilter);case a.default.CONVERT_TAG_TO_SECTION:return this.convertTagToSection(e,t.section.name);case a.default.TOGGLE_FIXED_THUMBNAIL_SIZE:return this.toggleFixedThumbnailSize(e);case a.default.CHANGE_SIDEBAR_WIDTH:return this.changeSidebarWidth(e,t.sidebarWidth);case a.default.EXPAND_SECTIONS:return this.expandSections(e,t.seids);case a.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t.seids);case a.default.UNHIGHLIGHT_SCREEN:return this.unhighlightScreen(e,t.sid);case a.default.HIGHLIGHT_SECTION:return this.highlightSection(e,t.seid);case a.default.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case a.default.UPDATE_SECTION:return this.highlightUpdatedSection(e,t);case h.a.OPEN_SCREEN:return this.updateForOpenScreen(e,t);default:return e}}}t.default=S},function(e,t,n){"use strict";n.r(t);t.default={CHANGE_SORT_TYPE:"dashboard/changeSortType",CHANGE_TAG_FILTER:"dashboard/changeTagFilter",TOGGLE_FIXED_THUMBNAIL_SIZE:"dashboard/toggleFixedThumbnailSize",CHANGE_SIDEBAR_WIDTH:"dashboard/changeSidebarWidth",EXPAND_SECTIONS:"dashboard/expandSections",COLLAPSE_SECTIONS:"dashboard/collapseSections",DOWNLOAD_SCREENS:"dashboard/downloadScreens",UNHIGHLIGHT_SCREEN:"dashboard/unhighlightScreen",HIGHLIGHT_SECTION:"dashboard/highlightSection",UNHIGHLIGHT_SECTION:"dashboard/unhighlightSection",CREATE_SECTION:"dashboard/createSection",CONVERT_TAG_TO_SECTION:"dashboard/convertTagToSection",ADD_SECTION:"dashboard/addSection",UPDATE_SECTION:"dashboard/updateSection",RENAME_SECTION:"dashboard/renameSection",UPDATE_SECTION_DESCRIPTION:"dashboard/updateSectionDescription",UPDATE_SECTION_ORDER:"dashboard/updateSectionOrder",REMOVE_SECTION:"dashboard/removeSection",UPDATE_SCREEN_ORDER:"dashboard/updateScreenOrder"}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(276),r=n.n(a),s=n(288),l=n(289);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a{getInitialState(){return{loading:!0,dialogOpen:!1,extensionId:null,extensions:[],enabledExtensions:[]}}reset(e){return e.extensions.forEach(e=>{e.terminate()}),this.getInitialState()}loadExtensions(e,{extensions:t,enabledExtensions:n}){return e.extensions.forEach(e=>{e.terminate()}),{loading:!1,enabledExtensions:n,extensions:t}}reload(e){const t=e.extensions.filter(e=>e.local);return t.length?(t.forEach(e=>{console.log(`Local extension "${e.name}" reloaded`),e.reload()}),d({},e)):e}openSettings(e,{extensionId:t}){return d(d({},e),{},{dialogOpen:!0,extensionId:t})}closeSettings(e){return d(d({},e),{},{dialogOpen:!1,extensionId:null})}add(e,{extension:t,local:n,openSettings:i}){const{extensions:o,enabledExtensions:a}=e,r=o.find(e=>t.id===e.id);let s=e;return i&&(s=this.openSettings(s,{extensionId:t.id})),r?(n&&r.reload(),this.enable(s,{eid:r.id})):d(d({},s),{},{enabledExtensions:a.concat(t.id),extensions:o.concat(t)})}enable(e,{eid:t}){const{enabledExtensions:n}=e;return d(d({},e),{},{enabledExtensions:n.concat(t)})}updateOption(e,{eid:t,name:n,value:i}){const o=e.extensions.map(e=>{if(e.id!==t)return e;const o=new l.WebappExtension(d({},e));return o.setOption(n,i),o});return d(d({},e),{},{extensions:o})}disable(e,{eid:t}){const{enabledExtensions:n}=e;return d(d({},e),{},{enabledExtensions:n.filter(e=>e!==t)})}remove(e,{eid:t}){const{extensions:n,enabledExtensions:i}=e;return d(d({},e),{},{enabledExtensions:i.filter(e=>e!==t),extensions:n.filter(e=>e.id!==t)})}reduce(e,t){switch(t.type){case r.a.RESET:return this.reset(e);case s.default.LOAD_EXTENSIONS:return this.loadExtensions(e,t);case s.default.RELOAD:return this.reload(e);case s.default.OPEN_SETTINGS:return this.openSettings(e,t);case s.default.CLOSE_SETTINGS:return this.closeSettings(e);case s.default.ADD:return this.add(e,t);case s.default.ENABLE:return this.enable(e,t);case s.default.UPDATE_OPTION:return this.updateOption(e,t);case s.default.DISABLE:return this.disable(e,t);case s.default.REMOVE:return this.remove(e,t);default:return e}}}t.default=p},function(e,t,n){"use strict";n.r(t);t.default={INIT:"extensions/init",LOAD_EXTENSIONS:"extensions/loadExtensions",LOAD:"extensions/load",RELOAD:"extensions/reload",OPEN_SETTINGS:"extensions/openSettings",CLOSE_SETTINGS:"extensions/closeSettings",ADD:"extensions/add",ENABLE:"extensions/enable",UPDATE_OPTION:"extensions/updateOption",DISABLE:"extensions/disable",REMOVE:"extensions/remove"}},function(e,t,n){"use strict";n.r(t),n.d(t,"WebappExtension",(function(){return d}));var i=n(34),o=n(290),a=n(291),r=n(261),s=n.n(r),l=n(292);const c=["load","layer","screen","component","comment","colors","textStyles","spacing","exportColors","exportTextStyles","exportSpacing","styleguideColors","styleguideTextStyles","exportStyleguideColors","exportStyleguideTextStyles"];class d{constructor(e){var t,n,o;o=(e,t={})=>{this.local?(console.error(`Zeplin extension error (${this.name}):`,e),console.error("Data:",t)):i.withScope(n=>{n.setExtra("extension",{name:this.name,id:this._id}),Object.entries(t).forEach(([e,t])=>n.setExtra(e,t)),i.captureException(e)})},(n="workerLogger")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o;const{_id:a,name:r,description:l,manifestURL:c,default:d,users:u,manifest:p,local:h,options:f={},storage:g,supervisor:m,barrelType:b=s.a.PROJECT,loaded:S=!1,methods:y=[]}=e;this._id=a,this.name=r,this.description=l,this.manifestURL=c,this.default=d,this.users=u,this.manifest=p,this.local=h,this.options=f,this.storage=g,this.supervisor=m,this.barrelType=b,this.loaded=S,this.methods=y}static async loadManifest(e){const t=await fetch(e);if(!t.ok)throw new Error("Cannot load extension manifest: "+e);return t.json()}static async createLocal(e){const t=e.endsWith("manifest.json")?e:e.replace(/\/$/,"")+"/manifest.json",n=await d.loadManifest(t),{name:i,description:o}=n;return new d({_id:i,name:i,description:o,manifestURL:t,manifest:n,default:!1,users:[{user:{displayName:Zeplin.user.displayName||Zeplin.user.username},role:"owner"}],local:!0})}initWorker(e){return this.supervisor=new o.default(new Worker(Zeplin.config.extensionWorkerPath),{errorLogger:this.workerLogger,methods:c}),this.supervisor.load(e)}async initOptions(e,t,n){const i=Object.fromEntries(n.map(({id:e,default:t})=>[e,t]));this.storage=a.default.create(e,t,i),this.options=await this.storage.getAll()}async load(e,t=s.a.PROJECT){this.barrelType=t;try{this.local||(this.manifest=await d.loadManifest(this.manifestURL)),await this.initOptions(this._id,e,this.optionsSchema);const t=new URL(this.manifest.moduleURL,this.manifestURL).toString(),n=await this.initWorker(t);this.loaded=!0,this.methods=n}catch(n){}return this}reload(){if(!this.loaded)return;const e=new URL(this.manifest.moduleURL,this.manifestURL).toString();return this.supervisor.load(e)}get id(){return this._id}get optionsSchema(){return this.manifest&&this.manifest.options||[]}get author(){const{user:e={displayName:"Anonymous"}}=this.users.find(({role:e})=>"owner"===e);return{displayName:e.displayName,url:this.manifest&&this.manifest.author&&this.manifest.author.url}}get repository(){return this.manifest&&this.manifest.repository}terminate(){this.supervisor&&this.supervisor.terminate(),this.local&&a.default.clear(this._id)}setOption(e,t){this.options[e]=t,this.storage.set(e,t)}getOption(e){return this.options[e]}getContext(e){const t=this.barrelType===s.a.PROJECT,n={options:this.options};return t?n.project=e:n.styleguide=e,{model:"Context",data:n}}getDeprecatedContext(e){return{model:"Context",data:{project:e,options:this.options}}}hasMethod(e){return this.methods.includes(e)}styleguideColors(e){return this.hasMethod("colors")?this.supervisor.colors(this.getContext(e)):this.supervisor.styleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(l.serializeData)(e,"Color")))}styleguideTextStyles(e){return this.hasMethod("textStyles")?this.supervisor.textStyles(this.getContext(e)):this.supervisor.styleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(l.serializeData)(e,"Font")))}styleguideSpacings(e){return this.supervisor.spacing(this.getContext(e))}layer(e,t,n){const i=Object(l.findLayerIndexPath)(n.snapshot,t.id);return i?this.supervisor.layer(this.getContext(e),i,Object(l.serializeVersion)(n)):Promise.resolve(null)}screen(e,t,n){return this.supervisor.screen(this.getContext(e),Object(l.serializeVersion)(t),Object(l.serializeScreen)(n))}component(e,t,n,i){if(i){const o=Object(l.serializeVariantSection)(i),a=o.data.components.findIndex(e=>e.id===n._id);return this.supervisor.component(this.getContext(e),Object(l.serializeVersion)(t),a,o)}return this.supervisor.component(this.getContext(e),Object(l.serializeVersion)(t),Object(l.serializeComponent)(n))}comment(e,t){return this.supervisor.comment(this.getContext(e),t)}exportStyleguideColors(e){return this.hasMethod("exportColors")?this.supervisor.exportColors(this.getContext(e)):this.supervisor.exportStyleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(l.serializeData)(e,"Color")))}exportStyleguideTextStyles(e){return this.hasMethod("exportTextStyles")?this.supervisor.exportTextStyles(this.getContext(e)):this.supervisor.exportStyleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(l.serializeData)(e,"Font")))}exportStyleguideSpacings(e){return this.supervisor.exportSpacing(this.getContext(e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));let i=0;class o{constructor(e,t){this.worker=e,this.callbacks={},this.errorLogger=t&&t.errorLogger,this.attachToWorker();const n=t&&t.methods;n&&Array.isArray(n)&&n.forEach(e=>{Object.defineProperty(this,e,{value(...t){return this.invoke(e,t)}})})}static getInvocationId(){return++i}attachToWorker(){this.worker.addEventListener("message",e=>{if("invokeResult"!==e.data.type)return;const t=e.data.data,n=this.callbacks[t.id];if(n)if(delete this.callbacks[t.id],"result"in t)n.resolve(t.result);else if("error"in t){const e=new Error;Object.assign(e,t.error),n.reject(e)}})}invoke(e,t){return new Promise((n,i)=>{const o=this.constructor.getInvocationId();this.callbacks[o]={resolve:n,reject:i},this.worker.postMessage({type:"invoke",data:{id:o,name:e,args:t}})}).catch(n=>{throw this.errorLogger&&this.errorLogger(n,{fnName:e,args:t}),n})}terminate(){this.worker.terminate()}}},function(e,t,n){"use strict";n.r(t);var i=n(234);const o={create:function(e,t,n={}){return{get:o=>i.extensionPrefs.get(e,t,o).then((function(e){return null==e?n[o]:e})),getAll:()=>i.extensionPrefs.get(e,t).then((function(e){return Object.assign({},n,e)})),set:(n,o)=>i.extensionPrefs.set(e,t,n,o)}},clear:function(e){return i.extensionPrefs.remove(e)}};t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"serializeData",(function(){return d})),n.d(t,"serializeScreen",(function(){return u})),n.d(t,"serializeComponent",(function(){return p})),n.d(t,"serializeVersion",(function(){return h})),n.d(t,"serializeVariantSection",(function(){return f})),n.d(t,"transformBarrelToObject",(function(){return b})),n.d(t,"findLayerIndexPath",(function(){return g}));var i=n(293),o=n(261),a=n.n(o),r=n(245);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return{model:t,data:e}}function u(e){const{name:t,description:n,tags:i}=e;return{model:"Screen",data:{name:t,description:n,tags:i}}}function p(e){const{_id:t,name:n,description:i,latestVersion:o,variant:a}=e;return{model:"Component",data:{id:t,name:n,description:i,latestVersion:o,properties:a&&a.values.map(({propertyId:e,value:t})=>({id:e,value:t}))}}}function h(e){const t=Object.assign({},e,{snapshot:Object.assign({},e.snapshot)}),n=t.snapshot.layers||[];return t.snapshot.layers=n.map(e=>new i.default(e).toObject()),{model:"Version",data:t}}function f(e){const t=e.variant.properties.map(({_id:e,name:t,values:n})=>({id:e,name:t,values:n})),n=Object(r.collectComponents)([e]).map(e=>p(e).data);return{model:"ComponentVariant",data:{name:e.name,propertyDescriptors:t,components:n}}}function g(e,t,n=[]){if(!e.layers||0===e.layers.length)return null;for(const[i,o]of e.layers.entries()){if(o._id===t)return n.concat(i);const e=g(o,t,n.concat(i));if(e)return e}return null}function m(e,t){let n=t[e],i=n.toObject();const o=i;for(;n;){const e=t[n.parent],o=e?e.toObject():null;n=e,i.parent=o,i=o}return o}function b(e,t,n,i){const o=e.toObject();return o.remPreferences=l(l({},n[0].remPreferences),{},{rootFontSize:n[0].remPreferences.remRootFontSize}),t===a.a.PROJECT&&e.styleguideLink&&"active"===e.styleguideLink.status?o.styleguide=m(e.styleguideLink.styleguide._id,i):t===a.a.STYLEGUIDE&&e.parent&&(o.parent=m(e.parent,i)),o}},function(e,t,n){"use strict";n.r(t);var i=n(294),o=n(295),a=n(296),r=n(297),s=n(300),l=n(253),c=n(302),d=n(303),u=n.n(d);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=["text","shape","group"];function Layer(e){var t=Object.assign({},e);t.blur&&(t.blur=new o.default(t.blur)),t.layout&&(t.layout=new u.a(t.layout)),t.borders=t.borders.map(e=>new a.default(e,t.rect.width,t.rect.height)),t.fills=t.fills.map(e=>new r.default(e,t.rect.width,t.rect.height)),t.shadows=t.shadows.map(e=>new c.default(e)),t.textStyles=(t.textStyles||[]).map(e=>{const n=parseInt(e.range.location,10);let i=parseInt(e.range.length,10);1===t.textStyles.length&&0===i&&t.content&&(i=t.content.length);return{range:{start:n,end:n+i},font:new s.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sourceId:t.textStyleSourceId},e.style))}}),t.layers=(t.layers||[]).map(e=>new Layer(e)),t.asset?t.assets=t.asset.contents.map(({densityScale:e,format:t})=>({densityScale:e,format:t})):t.assets=[],Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:()=>t.type,set(e){if(-1===f.indexOf(e))throw new TypeError(`Unknown layer type: '${e}'. Possible values: `+JSON.stringify(f));t.type=e}},name:{get:()=>t.name,set(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:()=>t.rotation,set(e){t.rotation=e}},opacity:{get:()=>t.opacity,set(e){if(e<0||e>1)throw new RangeError(`Invalid opacity value: '${e}'. Valid range: [0, 1]`);t.opacity=e}},blendMode:{get:()=>t.blendMode,set(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError(`Unknown blend mode: '${e}'. Possible values: `+JSON.stringify(i.BLEND_MODES));t.blendMode=e}},borderRadius:{get:()=>t.borderRadius,set(e){if(e<0)throw new RangeError(`Invalid radius value: '${e}'. Valid range: [0, ∞)`);t.borderRadius=e}},blur:{get:()=>t.blur,set(e){t.blur=new o.default(e)}},absoluteRect:{get:()=>t.absoluteRect,set(e){t.absoluteRect=e}},rect:{get:()=>t.rect,set(e){t.rect=e}},content:{get:()=>"text"===t.type&&t.content||"",set(e){"text"===t.type&&(t.content=e)}},textStyles:{get:()=>t.textStyles},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows},assets:{value:t.assets},assetData:{value:t.asset},layers:{value:t.layers},componentName:{value:t.componentName},sourceId:{value:t.sourceId},textStyleSourceId:{value:t.textStyleSourceId},layout:{get:()=>t.layout,set(e){t.layout=new u.a(e)}},layoutGrow:{value:t.layoutGrow},layoutAlignment:{value:t.layoutAlignment},styleName:{value:t.styleName},interactionLevel:{value:t.interactionLevel}})}Layer.prototype=Object.create(l.default.prototype),Layer.prototype.constructor=Layer,Layer.prototype.toObject=function(){var e={type:this.type,name:this.name,exportable:this.exportable,rotation:this.rotation||0,opacity:this.opacity,blendMode:this.blendMode||"normal",borderRadius:this.borderRadius||0,absoluteRect:this.absoluteRect,rect:this.rect,content:this.content,borders:this.borders.map(e=>e.toObject()),fills:this.fills.map(e=>e.toObject()),shadows:this.shadows.map(e=>e.toObject()),textStyles:this.textStyles.map(e=>{var{range:t}=e;return{range:{location:t.start,length:t.end-t.start},style:e.font.toObject()}}),assets:this.assets,layers:this.layers.map(e=>e.toObject()),componentName:this.componentName,styleName:this.styleName,sourceId:this.sourceId,interactionLevel:this.interactionLevel,layoutGrow:this.layoutGrow,layoutAlignment:this.layoutAlignment};return this.blur&&(e.blur=this.blur.toObject()),this.layout&&(e.layout=this.layout.toObject()),e},Layer.prototype.hasGradient=function(){return this.fills.some(e=>"gradient"===e.type)},Layer.prototype.hasBlendMode=function(){return this.fills.some(e=>e.blendMode&&"normal"!==e.blendMode)},Layer.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach(i=>{var o=t.find(e=>e.font.equals(i.font)),a=i.range.end-i.range.start;o||(o={font:i.font,totalLength:0},t.push(o)),o.totalLength+=a,o.totalLength>n&&(n=o.totalLength,e=o)}),e&&e.font}},t.default=Layer},function(e,t,n){"use strict";n.r(t),n.d(t,"BLEND_MODES",(function(){return i}));var i=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t,n){"use strict";n.r(t);var i=n(253),o=["gaussian","background"];function a(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===o.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(o));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}a.prototype=Object.create(i.default.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){return{type:this.type,radius:this.radius}},t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(297),o=n(253);function a(e,t,n){var o=Object.assign({},e);o.fill=new i.default({fillType:o.fillType,color:o.color,gradient:o.gradient,opacity:o.opacity,blendMode:o.blendMode},t,n),delete o.fillType,delete o.color,delete o.gradient,delete o.opacity,delete o.blendMode,Object.defineProperties(this,{position:{get:function(){return o.position},set:function(e){o.position=e}},thickness:{get:function(){return o.thickness},set:function(e){o.thickness=e}},fill:{get:function(){return o.fill},set:function(e){o.fill=e}}})}a.prototype=Object.create(o.default.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){const e={position:this.position,thickness:this.thickness,fillType:this.fill.type,opacity:this.fill.opacity,blendMode:this.fill.blendMode};return this.fill.color?e.color=this.fill.color.toObject():this.fill.gradient&&(e.gradient=this.fill.gradient.toObject()),e},t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(294),o=n(250),a=n(298),r=n(253),s=["color","gradient"];function l(e,t,n){var r=Object.assign({},e);if(r.type=r.fillType,delete r.fillType,"color"===r.type)r.color=new o.default(r.color),delete r.gradient;else{if("gradient"!==r.type)throw new TypeError("Unknown fill type: '"+r.type+"'. Possible values: "+JSON.stringify(s));r.gradient=new a.default(r.gradient,t,n),delete r.color}Object.defineProperties(this,{type:{get:function(){return r.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(s));r.type=e}},color:{get:function(){return r.color},set:function(e){r.type="color",r.color=new o.default(e),delete r.gradient}},gradient:{get:function(){return r.gradient},set:function(e){r.type="gradient",r.gradient=new a.default(e,t,n),delete r.color}},opacity:{get:function(){return r.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");r.opacity=e}},blendMode:{get:function(){return r.blendMode},set:function(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.BLEND_MODES));r.blendMode=e}},fill:{get:function(){return"color"===r.type?this.color:this.gradient},set:function(){}}})}l.prototype=Object.create(r.default.prototype),l.prototype.constructor=l,l.prototype.toObject=function(){var e={fillType:this.type,opacity:this.opacity,blendMode:this.blendMode,fill:this.fill.toObject()};return this.color?e.color=this.color.toObject():this.gradient&&(e.gradient=this.gradient.toObject()),e},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(299),o=n(253),a=["linear","radial","angular"];function r(e,t,n){var o=Object.assign({},e);o.colorStops=o.colorStops.map((function(e){return new i.default(e)})),Object.defineProperties(this,{type:{get:function(){return o.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(a));o.type=e},enumerable:!0},from:{get:function(){return o.from},set:function(e){o.from=e},enumerable:!0},to:{get:function(){return o.to},set:function(e){o.to=e},enumerable:!0},angle:{get:function(){return o.angle},set:function(e){o.angle=e},enumerable:!0},scale:{get:function(){return o.scale},set:function(e){o.scale=e},enumerable:!0},colorStops:{value:o.colorStops,enumerable:!0}})}r.prototype=Object.create(o.default.prototype),r.prototype.constructor=r,r.prototype.toObject=function(){const e={type:this.type,from:this.from,to:this.to,scale:this.scale,colorStops:this.colorStops.map((function(e){return e.toObject()}))};return void 0!==this.angle&&(e.angle=this.angle),e},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(250),o=n(253);function a(e){var t=Object.assign({},e);t.color=new i.default(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new i.default(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}a.prototype=Object.create(o.default.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){return{color:this.color.toObject(),position:this.position}},t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(301),o=n(250),a=n(253);const r=Object.freeze({WEIGHT:"wght",WIDTH:"wdth",SLANT:"slnt",ITALIC:"ital",OPTICAL_SIZING:"opsz"}),s=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]\d{2}$)/gi,l=/(italic|oblique)/gi,c=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi;function d(e,t){const n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}const u=Object.freeze({100:"thin",200:"extra light",300:"light",400:"regular",500:"medium",600:"semi bold",700:"bold",800:"extra bold",900:"black",950:"extra black"}),p=Object.freeze({THIN:100,EXTRA_LIGHT:200,LIGHT:300,REGULAR:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900,EXTRA_BLACK:950});const h=Object.freeze({50:"ultra condensed",62.5:"extra condensed",75:"condensed",87.5:"semi condensed",100:"normal",112.5:"semi expanded",125:"expanded",150:"extra expanded",200:"ultra expanded"}),f=Object.freeze({ULTRA_CONDENSED:50,EXTRA_CONDENSED:62.5,CONDENSED:75,SEMI_CONDENSED:87.5,NORMAL:100,SEMI_EXPANDED:112.5,EXPANDED:125,EXTRA_EXPANDED:150,ULTRA_EXPANDED:200});function g(e){let t=function(e){return/^Arial/.test(e)?e.replace("MT",""):/^Lato/.test(e)?e.replace(/thin/i,p.EXTRA_LIGHT).replace(/heavy/i,p.EXTRA_BOLD):e}(e),n=t.match(s);n?(n=n[n.length-1],t=d(t,n),n=function(e){return/black|heavy|900/gi.test(e)?p.BLACK:/((ex|ul)tra)\s?bold|800/gi.test(e)?p.EXTRA_BOLD:/([ds]emi)\s?bold|600/gi.test(e)?p.SEMI_BOLD:/bold|700/gi.test(e)?p.BOLD:/medium|500/gi.test(e)?p.MEDIUM:/((ex|ul)tra)\s?light|200/gi.test(e)?p.EXTRA_LIGHT:/light|300/gi.test(e)?p.LIGHT:/thin|hairline|100/gi.test(e)?p.THIN:p.REGULAR}(n.toLowerCase())):n=p.REGULAR;let i=t.match(l);i?(i=i[i.length-1],t=d(t,i),i=i.toLowerCase()):i="normal";let o=t.match(c);o?(o=o[o.length-1],t=d(t,o),o=function(e){return/(ultra(\s|-)?)+condensed/i.test(e)?f.ULTRA_CONDENSED:/(extra(\s|-)?)+condensed/i.test(e)?f.EXTRA_CONDENSED:/(semi(\s|-)?)+condensed/i.test(e)?f.SEMI_CONDENSED:/condensed/i.test(e)?f.CONDENSED:/(ultra(\s|-)?)+expanded/i.test(e)?f.ULTRA_EXPANDED:/(extra(\s|-)?)+expanded/i.test(e)?f.EXTRA_EXPANDED:/(semi(\s|-)?)+expanded/i.test(e)?f.SEMI_EXPANDED:/expanded/i.test(e)?f.EXPANDED:f.NORMAL}(o.toLowerCase())):o=f.NORMAL;return{family:function(e){return e.replace(/-+/g,"-").replace(/-$/,"").trim()}(t),style:i,weight:n,stretch:o}}class Font extends a.default{constructor(e){super();const{_id:t,id:n=t,sourceId:i,name:a,fontFace:s,fontSize:l,lineHeight:c,textAlign:d,letterSpacing:u,fontVariationSettings:h,color:m}=e;let b,S,y,C;this.id=n,this.sourceId=i,this.name=a,this.fontFace=s,this.fontSize=l,this.lineHeight=c,this.textAlign=d,this.letterSpacing=u,this.color=m&&new o.default(m),h?(this.fontVariationSettings=h,b=s,({style:S,weight:y,stretch:C}=function(e){const t=r.WEIGHT in e?e[r.WEIGHT]:p.REGULAR,n=r.WIDTH in e?e[r.WIDTH]:f.NORMAL;let i;return i=r.SLANT in e?`oblique ${e[r.SLANT]}deg`:e[r.ITALIC]?"italic":"normal",{style:i,weight:t,stretch:n}}(h))):({family:b,style:S,weight:y,stretch:C}=g(s)),this.fontFamily=b,this.fontStyle=S,this.fontWeight=y,this.fontStretch=C}get weightText(){return u[this.fontWeight]||String(this.fontWeight)}get stretchText(){return h[this.fontStretch]||String(this.fontStretch)}toObject(){const e={name:this.name,fontFace:this.fontFace,fontSize:this.fontSize,lineHeight:this.lineHeight,textAlign:this.textAlign,letterSpacing:this.letterSpacing};return this.fontVariationSettings&&(e.fontVariationSettings=this.fontVariationSettings),this.color&&(e.color=this.color.toObject()),e}isFontVariationSettingsEqual(e){return Object.keys(this.fontVariationSettings).length===Object.keys(e).length&&Object.entries(this.fontVariationSettings).every(([t,n])=>Object(i.isAlmostEqual)(e[t],n))}equals(e){const t=this.fontFamily===e.fontFamily&&Object(i.isAlmostEqual)(this.fontSize,e.fontSize)&&Object(i.isAlmostEqual)(this.lineHeight,e.lineHeight)&&Object(i.isAlmostEqual)(this.letterSpacing,e.letterSpacing)&&this.textAlign===e.textAlign&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}conforms(e){const t=this.fontFamily===e.fontFamily&&Object(i.isAlmostEqual)(this.fontSize,e.fontSize)&&(this.textAlign===e.textAlign||!e.textAlign)&&(!e.lineHeight||Object(i.isAlmostEqual)(this.lineHeight,e.lineHeight))&&(!e.letterSpacing||Object(i.isAlmostEqual)(this.letterSpacing,e.letterSpacing))&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}}t.default=Font},function(e,t,n){"use strict";n.r(t),n.d(t,"clamp",(function(){return i})),n.d(t,"round",(function(){return o})),n.d(t,"toPercentage",(function(){return a})),n.d(t,"percentageLength",(function(){return r})),n.d(t,"isAlmostEqual",(function(){return s})),n.d(t,"toRemSize",(function(){return l}));function i(e,t,n){return Math.max(t,Math.min(e,n))}function o(e,t){const n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function a(e,t){return 100*e/t+"%"}function r(e,t){return o(100*e/t,1)+"%"}function s(e,t,n=1e-4){return e===t||Math.abs(e-t)<n}function l(e,t){return o(e/t,3)+"rem"}},function(e,t,n){"use strict";n.r(t);var i=n(250),o=n(253),a=["outer","inner"];function r(e){var t=Object.assign({},e);t.color=new i.default(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(a));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new i.default(e)}}})}r.prototype=Object.create(o.default.prototype),r.prototype.constructor=r,r.prototype.toObject=function(){return{type:this.type,offsetX:this.offsetX,offsetY:this.offsetY,blurRadius:this.blurRadius,spread:this.spread,color:this.color.toObject()}},t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutDistribution=t.LayoutAlignment=t.LayoutSizingMode=t.LayoutDirection=void 0;const o=i(n(253));!function(e){e.ROW="row",e.COLUMN="column"}(t.LayoutDirection||(t.LayoutDirection={})),function(e){e.FIXED="fixed",e.AUTO="auto"}(t.LayoutSizingMode||(t.LayoutSizingMode={})),function(e){e.MIN="min",e.CENTER="center",e.MAX="max",e.STRETCH="stretch",e.INHERIT="inherit"}(t.LayoutAlignment||(t.LayoutAlignment={})),function(e){e.CENTER="center",e.MAX="max",e.MIN="min",e.SPACE_BETWEEN="space-between"}(t.LayoutDistribution||(t.LayoutDistribution={}));class a extends o.default{constructor({direction:e,padding:t,gap:n,sizingMode:i,itemAlignment:o,distribution:a,alignment:r}){super(),this.direction=e,this.padding=Object.assign({},t),this.gap=n,this.sizingMode=i,this.alignment=r,this.itemAlignment=o,this.distribution=a}toObject(){return{direction:this.direction,padding:Object.assign({},this.padding),gap:this.gap,sizingMode:this.sizingMode,alignment:this.alignment,itemAlignment:this.itemAlignment,distribution:this.distribution}}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(305);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a{getInitialState(){return{open:!1,targetNode:null,resourceId:null,resourceType:null}}open(e,{targetNode:t,resourceId:n,resourceType:i}){return s(s({},e),{},{open:!0,targetNode:t,resourceId:n,resourceType:i})}close(e){return s(s({},e),{},{open:!1,targetNode:null,resourceId:null,resourceType:null})}reduce(e,t){switch(t.type){case a.default.OPEN:return this.open(e,t);case a.default.CLOSE:return this.close(e);default:return e}}}t.default=c},function(e,t,n){"use strict";n.r(t);t.default={OPEN:"moveResources/open",CLOSE:"moveResources/close",MOVE:"moveResources/move",MOVE_SCREEN:"moveResources/moveScreen"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),a=i(n(274)),r=i(n(276));class s extends o.default{constructor(e){super(e)}getInitialState(){return{notifications:[],hasMore:null,loading:null,error:null,notificationLastReadTime:new Date}}load(e,t={}){return"notificationLastReadTime"in t&&"string"==typeof t.notificationLastReadTime&&(t.notificationLastReadTime=new Date(t.notificationLastReadTime)),Object.assign(Object.assign({},e),t)}getNotificationsRequested(e){return Object.assign({},e,{loading:!0})}mergeNotifications(e,t){let n=[];for(let i=0;i<e.length;i++)if(e[i]._id===t[0]._id){n=e.slice(0,i);break}return n.concat(t)}getNotificationsSuccess(e,t,n){return Object.assign({},e,{notifications:this.mergeNotifications(e.notifications,t),loading:!1,hasMore:n})}getNotificationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}addNotification(e,t){const n=e.notifications.filter(e=>e._id!==t._id);return Object.assign(Object.assign({},e),{notifications:[t].concat(n)})}updateLastReadTime(e,t){const n="string"==typeof t?new Date(t):t;return Object.assign(Object.assign({},e),{notificationLastReadTime:n})}setReadStatus(e,t,n){const i=e.notifications.map(e=>t.includes(e._id)?Object.assign(Object.assign({},e),{markedAsRead:n,events:e.events.map(e=>Object.assign(Object.assign({},e),{markedAsRead:n}))}):e);return Object.assign(Object.assign({},e),{notifications:i})}restoreReadStatus(e,t){const n=e.notifications.map(e=>{const n=t.find(({_id:t})=>t===e._id);return n?Object.assign(Object.assign({},e),{markedAsRead:n.markedAsRead,events:e.events.map(e=>{const t=n.events.find(({_id:t})=>t===e._id);return t?Object.assign(Object.assign({},e),{markedAsRead:t.markedAsRead}):e})}):e});return Object.assign(Object.assign({},e),{notifications:n})}setEventReadStatus(e,t,n,i){const o=e.notifications.map(e=>{if(t!==e._id)return e;const o=e.events.map(e=>n.includes(e._id)?Object.assign(Object.assign({},e),{markedAsRead:i}):e);return Object.assign(Object.assign({},e),{events:o,markedAsRead:o.every(e=>e.markedAsRead)})});return Object.assign(Object.assign({},e),{notifications:o})}reduce(e,t){switch(t.type){case r.default.LOAD:return this.load(e,t.notifications);case a.default.GET_NOTIFICATIONS_REQUESTED:return this.getNotificationsRequested(e);case a.default.GET_NOTIFICATIONS_SUCCESS:return this.getNotificationsSuccess(e,t.notifications,t.hasMore);case a.default.GET_NOTIFICATIONS_FAILED:return this.getNotificationsFailed(e,t.error);case a.default.UPDATE_NOTIFICATION_LAST_READ_TIME:return this.updateLastReadTime(e,t.notificationLastReadTime);case a.default.ADD_NOTIFICATION:return this.addNotification(e,t.notification);case a.default.SET_READ_STATUS:return this.setReadStatus(e,t.notifications.map(({_id:e})=>e),t.markedAsRead);case a.default.RESTORE_READ_STATUS:return this.restoreReadStatus(e,t.notifications);case a.default.SET_READ_STATUS_OFFLINE:return this.setReadStatus(e,t.nids,t.markedAsRead);case a.default.SET_EVENT_READ_STATUS:return this.setEventReadStatus(e,t.notification._id,t.eventIds,t.markedAsRead);case a.default.SET_EVENT_READ_STATUS_OFFLINE:return this.setEventReadStatus(e,t.nid,t.eventIds,t.markedAsRead);default:return e}}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(308),r=n(309),s=n.n(r),l=n(310),c=n(278),d=n.n(c),u=n(273),p=n.n(u),h=n(276),f=n.n(h),g=n(311),m=n(312),b=n(261),S=n.n(b),y=n(245),C=n(313),v=n(314);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _=0;class P extends o.a{getInitialState(){return{loading:!0,loadingProfiles:!0,loadingBarrels:!0,loadingOrganization:!0,error:null,organizations:[],organizationProfiles:{},organizationProjects:{},organizationStyleguides:{},focusedBarrels:{},dialogDismissStates:{}}}reset(){return this.getInitialState()}load(e,{data:{organization:t,organizations:n,organizationProfiles:i,organizationProjects:o,organizationStyleguides:a,focusedBarrels:r,dialogDismissStates:s},barrel:{organizationId:l}}){let c=E(E({},e),{},{loading:!1});return n&&(c=this.getOrganizationsSuccess(c,n)),t&&(c=this.addOrganization(c,t)),i&&(c=this.getOrganizationMemberProfilesSuccess(c,i)),o&&(c=this.loadOrganizationProjects(c,{projects:o,oid:l})),a&&(c=this.loadOrganizationStyleguides(c,{styleguides:a,oid:l})),r&&(c=this.getFocusedBarrelsSuccess(c,r)),s&&(c=this.updateDialogDismissStates(c,{oid:l,dialogDismissParams:s})),c}addOrganization(e,t){const n=e.organizations.find(({_id:e})=>e===t._id),i=n?new g.default(E(E({},n),t)):new g.default(t);return E(E({},e),{},{organizations:e.organizations.filter(({_id:e})=>e!==t._id).concat(i),loadingOrganization:!1})}addOrganizationWorkflowStatus(e,{oid:t,workflowStatusData:n}){const i=e.organizations.find(({_id:e})=>e===t),o=i.workflowStatuses.find(({_id:e})=>e===n._id&&e.startsWith("newWorkflowStatusId"))||{},a=i.workflowStatuses.map(e=>e._id===o._id?new m.default(n):e);return o._id||a.push(new m.default(n)),E(E({},e),{},{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),{},{workflowStatuses:a})):e)})}updateOrganization(e,t,n){return Object.assign({},e,{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),n)):e),loadingOrganization:!1})}updateOrganizationProfile(e,t,n){const i=e.organizationProfiles[t];if(!i)return;const o=Object.assign({},i,n);return Object.assign({},e,{organizationProfiles:Object.assign({},e.organizationProfiles,{[t]:o})})}updateOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n,workflowStatusData:i,oldWorkflowStatusData:o}){const a=new m.default(E(E({},o),i));return E(E({},e),{},{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),{},{workflowStatuses:e.workflowStatuses.map(e=>e._id===n?a:e)})):e)})}removeOrganization(e,t){return Object.assign({},e,{organizations:e.organizations.filter(e=>e._id!==t)})}deleteOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n}){return E(E({},e),{},{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),{},{workflowStatuses:e.workflowStatuses.filter(({_id:e})=>e!==n)})):e)})}getOrganizationsRequested(e){return Object.assign({},e,{loading:!0})}getOrganizationsSuccess(e,t){return E(E({},e),{},{organizations:t.map(e=>new g.default(e)),loading:!1})}getOrganizationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}getOrganizationSuccess(e,{organization:t}){if(!t)return E(E({},e),{},{loadingOrganization:!1});return e.organizations.find(({_id:e})=>e===t._id)?this.updateOrganization(e,t._id,t):this.addOrganization(e,t)}getOrganizationSectionsSuccess(e,{sections:t,oid:n}){const i=e.organizations.find(({_id:e})=>e===n);return i?this.updateOrganization(e,i._id,{sections:t}):e}organizationMembersRequested(e,{oid:t}){const n=e.organizations.find(({_id:e})=>e===t);return n?this.updateOrganization(e,n._id,{membersLoading:!0,membersError:null,members:null}):e}getOrganizationMembersSuccess(e,{organizationMembers:t}){const{_id:n,members:i}=t||{},o=e.organizations.find(({_id:e})=>e===n);return o?this.updateOrganization(e,o._id,{membersLoading:!1,members:i}):e}getOrganizationMembersFailed(e,{oid:t,error:n}){const i=e.organizations.find(({_id:e})=>e===t);return i?this.updateOrganization(e,i._id,{membersLoading:!1,membersError:n}):e}getOrganizationMemberProfilesRequested(e){return Object.assign({},e,{loadingProfiles:!0})}getOrganizationMemberProfilesSuccess(e,t){return Object.assign({},e,{organizationProfiles:t,loadingProfiles:!1})}addOrganizationMemberProfile(e,{organizationProfile:t,oid:n}){return E(E({},e),{},{organizationProfiles:E(E({},e.organizationProfiles),{},{[n]:t})})}addProjectToOrganizationSection(e,{pid:t,oid:n,oseid:i}){const o=e.organizations.find(({_id:e})=>e===n);if(!o||!o.sections)return e;let a;return a=i?o.sections.find(e=>e._id===i):o.sections[0],!a||a.projects.includes(t)?e:E(E({},e),{},{organizations:e.organizations.map(e=>e._id===n?new g.default(E(E({},e),{},{sections:e.sections.map(e=>e._id===a._id?new C.default(E(E({},e),{},{projects:[...e.projects,t]})):e)})):e)})}addBarrel(e,{barrel:{_id:t},oid:n,oseid:i,barrelType:o}){const{organizationProjects:a,organizationStyleguides:r}=e;let s=e;if(o===S.a.PROJECT){s=this.addProjectToOrganizationSection(e,{pid:t,oid:n,oseid:i});const o=a[n];if(o&&!o.includes(t))return E(E({},s),{},{organizationProjects:E(E({},a),{},{[n]:[...o,t]})})}else{const i=r[n];if(i&&!i.includes(t))return E(E({},e),{},{organizationStyleguides:E(E({},r),{},{[n]:[...i,t]})})}return s}removeProjectFromOrganizationSection(e,{pid:t,oid:n,oseid:i}){const o=e.organizations.find(({_id:e})=>e===n),{sectionIds:a,sections:r}=E({},o)||{};if(!r)return e;const s=r.find(e=>e._id===i);return s?(Object(y.arrayRemove)(s.projects,e=>e===t),this.sortAndPurgeEmptySections(e,{oid:n,sections:r,sectionIds:a})):e}removeBarrel(e,{bid:t,oid:n,oseid:i}){const{organizationProjects:o,organizationStyleguides:a}=e;let r=e;i&&(r=this.removeProjectFromOrganizationSection(e,{oid:n,pid:t,oseid:i}));const s=o[n];if(s&&s.includes(t))return E(E({},r),{},{organizationProjects:E(E({},o),{},{[n]:s.filter(e=>e!==t)})});const l=a[n];return l&&l.includes(t)?E(E({},r),{},{organizationStyleguides:E(E({},a),{},{[n]:l.filter(e=>e!==t)})}):r}loadOrganizationProjects(e,{projects:t,oid:n}){return E(E({},e),{},{organizationProjects:E(E({},e.organizationProjects),{},{[n]:t.map(e=>e._id)}),loadingBarrels:!1})}transferOrganizationProject(e,{bid:t,targetId:n,toOrganization:i,oid:o}){if(!i&&"user"===o)return e;const a=this.removeBarrel(e,{bid:t,oid:o}),r="user"===o?a:this.removeBarrelFromFocus(a,{bid:t,oid:o});return this.addBarrel(r,{barrel:{_id:t},oid:i?n:"user",barrelType:S.a.PROJECT})}loadOrganizationStyleguides(e,{styleguides:t,oid:n}){return E(E({},e),{},{organizationStyleguides:E(E({},e.organizationStyleguides),{},{[n]:t.map(e=>e._id)}),loadingBarrels:!1})}transferOrganizationStyleguide(e,{affectedIds:t,targetId:n,toOrganization:i,oid:o}){if(!i&&"user"===o)return e;const{organizationStyleguides:a}=e,r=a[o],s=i?n:"user",l=a[s];return E(E({},e),{},{organizationStyleguides:{[o]:r.filter(e=>!t.includes(e)),[s]:l&&[...l,...t]}})}setWorkspaceLoading(e,{oid:t}){const{organizationProjects:n,organizationStyleguides:i}=e,o=!n[t]||!i[t];let a=!1;if("user"!==t){const n=e.organizations.find(({_id:e})=>e===t);a=!n||!n.complete}return E(E({},e),{},{loadingBarrels:o,loadingOrganization:a})}getFocusedBarrelsSuccess(e,{focusedBarrels:t,oid:n}){return t?E(E({},e),{},{focusedBarrels:E(E({},e.focusedBarrels),{},{[n]:t})}):e}addBarrelToFocus(e,{oid:t,bid:n,barrelType:i,shouldPopOldestBarrel:o}){const a=e.focusedBarrels[t];if(!a)return e;const r=a.filter(({unpinned:e})=>!e);return r.includes(n)?e:(o&&r.shift(),E(E({},e),{},{focusedBarrels:E(E({},e.focusedBarrels),{},{[t]:[...r,{barrelType:i,barrelId:n}]})}))}removeBarrelFromFocus(e,{oid:t,bid:n,poppedBarrel:i}){const o=e.focusedBarrels[t];if(!o)return e;const a=o.slice();return i&&a.unshift(i),E(E({},e),{},{focusedBarrels:E(E({},e.focusedBarrels),{},{[t]:a.filter(({barrelId:e})=>e!==n)})})}unpinBarrelFromFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return E(E({},e),{},{focusedBarrels:E(E({},e.focusedBarrels),{},{[t]:i.map(e=>e.barrelId===n?E(E({},e),{},{unpinned:!0}):e)})})}removeArchivedBarrelFromFocus(e,{bid:t}){return Object.keys(e.focusedBarrels).reduce((e,n)=>this.removeBarrelFromFocus(e,{oid:n,bid:t}),e)}repinBarrelToFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return E(E({},e),{},{focusedBarrels:{[t]:i.map(e=>e.barrelId===n?E(E({},e),{},{unpinned:!1}):e)}})}removeUnjoinedBarrels(e,{oid:t,remainingProjects:n,remainingStyleguides:i}){const o=this.updateMemberAccessibility(e,{oid:t,restricted:!0});return E(E({},o),{},{organizationProjects:E(E({},o.organizationProjects),{},{[t]:n}),organizationStyleguides:E(E({},o.organizationStyleguides),{},{[t]:i})})}updateMemberAccessibility(e,{oid:t,restricted:n=!1}){return E(E({},e),{},{organizationProfiles:E(E({},e.organizationProfiles),{},{[t]:E(E({},e.organizationProfiles[t]),{},{restricted:n})})})}updateMemberTags(e,{oid:t,mid:n,operation:i,tags:o}){const a=e.organizations.find(({_id:e})=>e===t);if(!a)return e;const r=Boolean(a.members)&&a.members.find(({user:{_id:e}})=>e===n);if(!r)return e;let s=[];return"add"===i?s=r.tags.concat(o):"remove"===i&&(s=r.tags.filter(e=>!o.includes(e))),E(E({},e),{},{organizations:e.organizations.map(e=>{if(e._id!==t)return e;const i=(e.members||[]).map(e=>e.user._id!==n?e:E(E({},e),{},{tags:s}));return new g.default(E(E({},e),{},{members:i}))})})}updateMemberData(e,{uid:t,userData:n}){return E(E({},e),{},{organizations:e.organizations.map(e=>{if(!e.members)return e;const i=e.members.map(e=>e.user._id!==t?e:E(E({},e),{},{user:E(E({},e.user),n)}));return new g.default(E(E({},e),{},{members:i}))})})}sortAndPurgeEmptySections(e,{oid:t,sections:n,sectionIds:i}){const o=e.organizationProjects[t],a=e.organizationProfiles[t],r=i.map((e,t)=>{const i=n.find(t=>t._id===e);return i&&a.restricted&&t>0&&!i.projects.some(e=>o.includes(e))?null:i}).filter(Boolean);return E(E({},e),{},{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),{},{sections:r,sectionIds:i})):e)})}addProjectSection(e,{oid:t,index:n,sectionData:i,dialogDismissParams:o}){const a=e.organizations.find(({_id:e})=>e===t),{sectionIds:r,sections:s}=E({},a)||{};if(!r)return e;i.projects&&i.projects.forEach(e=>{const t=s.find(t=>t.projects.includes(e));t&&Object(y.arrayRemove)(t.projects,t=>t===e)});const l=new C.default(i);l._id||(l._id=v.TEMPORARY_PROJECT_SECTION_ID,l.newSection=!0,l.key="newProjectSection-"+_++),l._id!==v.TEMPORARY_PROJECT_SECTION_ID&&r.includes(l._id)||r.splice(n,0,l._id),s.push(l);const c=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:o});return this.sortAndPurgeEmptySections(c,{oid:t,sections:s,sectionIds:r})}addProjectSectionId(e,{oid:t,index:n,oseid:i}){const o=e.organizations.find(({_id:e})=>e===t),{sectionIds:a}=E({},o)||{};return a.splice(n,0,i),E(E({},e),{},{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),{},{sectionIds:a})):e)})}updateProjectSection(e,{oid:t,oseid:n,sectionData:i}){const o=e.organizations.find(({_id:e})=>e===t),{sections:a,sectionIds:r}=E({},o)||{};if(!a)return e;return E({},a.find(e=>e._id===n))?E(E({},e),{},{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),{},{sections:a.map(e=>e._id===n?new C.default(E(E({},e),i)):e),sectionIds:r.map(e=>e===n&&i._id&&i._id!==e?i._id:e)})):e)}):e}removeProjectSection(e,{oid:t,oseid:n}){const i=e.organizations.find(({_id:e})=>e===t),{sectionIds:o,sections:a}=E({},i)||{};if(!o)return e;const r=E({},a[0]),s=a.find(({_id:e})=>e===n);return s&&r.projects.push(...s.projects),E(E({},e),{},{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),{},{sections:a.map((e,t)=>0===t?r:e._id===n?null:e).filter(Boolean),sectionIds:o.filter(e=>e!==n)})):e)})}updateProjectSectionOrder(e,{oid:t,oseid:n,index:i,dialogDismissParams:o}){const a=e.organizations.find(({_id:e})=>e===t),{sectionIds:r,sections:s}=E({},a);if(!r)return e;const l=r.indexOf(n);if(l<0)return e;r.splice(l,1),r.splice(i,0,n);const c=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:o});return this.sortAndPurgeEmptySections(c,{oid:t,sections:s,sectionIds:r})}updateProjectOrder(e,{oid:t,oseid:n,index:i,projects:o,dialogDismissParams:a}){const r=e.organizations.find(({_id:e})=>e===t),s=e.organizationProjects[t],l=e.organizationProfiles[t],{sections:c,sectionIds:d}=E({},r);if(!s||!l||!c)return e;o.forEach(e=>{const t=c.find(t=>t.projects.includes(e));t&&Object(y.arrayRemove)(t.projects,t=>t===e)});const u=c.find(e=>e._id===n);if(!u)return e;u.projects.splice(i,0,...o);const p=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:a});return this.sortAndPurgeEmptySections(p,{oid:t,sections:c,sectionIds:d})}addSectionLink(e,{oid:t,oseid:n,linkData:i}){const o=e.organizations.find(({_id:e})=>e===t);if(!o.sections)return e;const a=o.sections.find(({_id:e})=>e===n);if(!a)return e;const r=new C.default(E(E({},a),{},{links:[...a.links,i]})),s=o.sections.map(e=>e._id===n?r:e);return E(E({},e),{},{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),{},{sections:s})):e)})}updateSectionLink(e,{oid:t,oseid:n,oselid:i,linkData:o}){const a=e.organizations.find(({_id:e})=>e===t);if(!a.sections)return e;const r=a.sections.find(({_id:e})=>e===n);if(!r)return e;const s=r.links.map(e=>e._id===i?o:e),l=new C.default(E(E({},r),{},{links:s})),c=a.sections.map(e=>e._id===n?l:e);return E(E({},e),{},{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),{},{sections:c})):e)})}removeSectionLink(e,{oid:t,oseid:n,oselid:i}){const o=e.organizations.find(({_id:e})=>e===t);if(!o.sections)return e;const a=o.sections.find(({_id:e})=>e===n);if(!a)return e;const r=a.links.filter(e=>e._id!==i),s=new C.default(E(E({},a),{},{links:r})),l=o.sections.map(e=>e._id===n?s:e);return E(E({},e),{},{organizations:e.organizations.map(e=>e._id===t?new g.default(E(E({},e),{},{sections:l})):e)})}updateDialogDismissStates(e,{oid:t,dialogDismissParams:n}){return n?E(E({},e),{},{dialogDismissStates:E(E({},e.dialogDismissStates),{},{[t]:E(E({},e.dialogDismissStates[t]),n)})}):e}loadWorkspaceData(e,t){const n=this.getOrganizationSuccess(e,t),i=this.getFocusedBarrelsSuccess(n,t),o=this.loadOrganizationProjects(i,t),a=this.updateDialogDismissStates(o,t);return this.loadOrganizationStyleguides(a,t)}hydrateEmbeddedData(e,t){const{projects:n,oid:i,styleguides:o,focusedBarrels:a,organizationProfiles:r}=t;let s=e;return n&&i&&(s=this.loadOrganizationProjects(s,{projects:n,oid:i})),o&&i&&(s=this.loadOrganizationStyleguides(s,{styleguides:o,oid:i})),a&&i&&(s=this.getFocusedBarrelsSuccess(s,{focusedBarrels:a,oid:i})),r&&(s=this.getOrganizationMemberProfilesSuccess(s,r)),s}reduce(e,t){switch(t.type){case d.a.SET_WORKSPACE_LOADING:return this.setWorkspaceLoading(e,t);case f.a.LOAD:return this.load(e,t);case f.a.ADD:return this.addBarrel(e,t);case f.a.REMOVE:return this.removeBarrel(e,t);case f.a.REMOVE_MEMBER:return t.shouldRemoveBarrel?this.removeBarrel(e,t):e;case f.a.ARCHIVE:return this.removeArchivedBarrelFromFocus(e,t);case s.a.GET_PROJECTS_SUCCESS:return this.loadOrganizationProjects(e,t);case l.default.GET_STYLEGUIDES_SUCCESS:return this.loadOrganizationStyleguides(e,t);case s.a.TRANSFER_OWNERSHIP:case l.default.TRANSFER_OWNERSHIP:case f.a.OWNERSHIP_TRANSFERRED:return t.affectedIds?this.transferOrganizationStyleguide(e,t):this.transferOrganizationProject(e,t);case a.default.ADD_ORGANIZATION:return this.addOrganization(e,t.organization);case a.default.ADD_ORGANIZATION_WORKFLOW_STATUS:return this.addOrganizationWorkflowStatus(e,t);case a.default.UPDATE_ORGANIZATION:return this.updateOrganization(e,t.id,t.organization);case a.default.UPDATE_ORGANIZATION_PROFILE:return this.updateOrganizationProfile(e,t.id,t.organizationProfile);case a.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS:return this.updateOrganizationWorkflowStatus(e,t);case a.default.REMOVE_ORGANIZATION:return this.removeOrganization(e,t.id);case a.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.deleteOrganizationWorkflowStatus(e,t);case a.default.GET_ORGANIZATIONS_REQUESTED:return this.getOrganizationsRequested(e);case a.default.GET_ORGANIZATIONS_SUCCESS:return this.getOrganizationsSuccess(e,t.organizations);case a.default.GET_ORGANIZATIONS_FAILED:return this.getOrganizationsFailed(e,t.error);case a.default.GET_ORGANIZATION_SUCCESS:return this.getOrganizationSuccess(e,t);case a.default.GET_ORGANIZATION_SECTIONS_SUCCESS:return this.getOrganizationSectionsSuccess(e,t);case a.default.ORGANIZATION_MEMBERS_REQUESTED:return this.organizationMembersRequested(e,t);case a.default.GET_ORGANIZATION_MEMBERS_SUCCESS:return this.getOrganizationMembersSuccess(e,t);case a.default.GET_ORGANIZATION_MEMBERS_FAILED:return this.getOrganizationMembersFailed(e,t);case a.default.GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED:return this.getOrganizationMemberProfilesRequested(e);case a.default.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS:return this.getOrganizationMemberProfilesSuccess(e,t.organizationProfiles);case a.default.ADD_ORGANIZATION_MEMBER_PROFILE:return this.addOrganizationMemberProfile(e,t);case a.default.GET_FOCUSED_BARRELS_SUCCESS:return this.getFocusedBarrelsSuccess(e,t);case a.default.ADD_BARREL_TO_FOCUS:return this.addBarrelToFocus(e,t);case a.default.UNPIN_BARREL_FROM_FOCUS:return this.unpinBarrelFromFocus(e,t);case a.default.REMOVE_BARREL_FROM_FOCUS:return this.removeBarrelFromFocus(e,t);case a.default.REPIN_BARREL_TO_FOCUS:return this.repinBarrelToFocus(e,t);case a.default.REMOVE_UNJOINED_BARRELS:return this.removeUnjoinedBarrels(e,t);case a.default.GET_BARRELS:return this.updateMemberAccessibility(e,t);case a.default.UPDATE_MEMBER_TAGS:return this.updateMemberTags(e,t);case f.a.UPDATE_USER_DATA:return this.updateMemberData(e,t);case a.default.ADD_PROJECT_SECTION:return this.addProjectSection(e,t);case a.default.UPDATE_PROJECT_SECTION:return this.updateProjectSection(e,t);case a.default.REMOVE_PROJECT_SECTION:return this.removeProjectSection(e,t);case a.default.UPDATE_PROJECT_SECTION_ORDER:return this.updateProjectSectionOrder(e,t);case a.default.UPDATE_PROJECT_ORDER:return this.updateProjectOrder(e,t);case a.default.ADD_SECTION_LINK:return this.addSectionLink(e,t);case a.default.UPDATE_SECTION_LINK:return this.updateSectionLink(e,t);case a.default.REMOVE_SECTION_LINK:return this.removeSectionLink(e,t);case p.a.LOAD_WORKSPACE_DATA:return this.loadWorkspaceData(e,t);case p.a.RESET:return this.reset();case p.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=P},function(e,t,n){"use strict";n.r(t);t.default={GET_BARRELS:"organizaton/getBarrels",REQUEST_INVITE:"requestInvite",ADD_ORGANIZATION:"addOrganization",ADD_ORGANIZATION_WORKFLOW_STATUS:"addOrganizationWorkflowStatus",UPDATE_ORGANIZATION:"updateOrganization",UPDATE_ORGANIZATION_PROFILE:"updateOrganizationProfile",UPDATE_ORGANIZATION_WORKFLOW_STATUS:"updateOrganizationWorkflowStatus",REMOVE_ORGANIZATION:"removeOrganization",DELETE_ORGANIZATION_WORKFLOW_STATUS:"deleteOrganizationWorkflowStatus",GET_ORGANIZATIONS_REQUESTED:"getOrganizationsRequested",GET_ORGANIZATIONS_SUCCESS:"getOrganizationsSuccess",GET_ORGANIZATIONS_FAILED:"getOrganizationsFailed",GET_ORGANIZATION_SUCCESS:"getOrganizationSuccess",GET_ORGANIZATION_SECTIONS_SUCCESS:"getOrganizationSectionsSuccess",ORGANIZATION_MEMBERS_REQUESTED:"organizationMembersRequested",GET_ORGANIZATION_MEMBERS_SUCCESS:"getOrganizationMembersSuccess",GET_ORGANIZATION_MEMBERS_FAILED:"getOrganizationMembersFailed",GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED:"getOrganizationMemberProfilesRequested",GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS:"getOrganizationMemberProfilesSuccess",ADD_ORGANIZATION_MEMBER_PROFILE:"addOrganizationMemberProfile",GET_FOCUSED_BARRELS_SUCCESS:"getFocusedBarrelsSuccess",ADD_BARREL_TO_FOCUS:"addBarrelToFocus",ADD_BARREL_TO_FOCUS_SUCCESS:"addBarrelToFocusSuccess",REMOVE_BARREL_FROM_FOCUS:"removeBarrelFromFocus",UNPIN_BARREL_FROM_FOCUS:"unpinBarrelFromFocus",UNPIN_BARREL_FROM_FOCUS_SUCCESS:"unpinBarrelFromFocusSuccess",REPIN_BARREL_TO_FOCUS:"repinBarrelToFocus",HIT_PIN_LIMIT:"hitPinLimit",REMOVE_UNJOINED_BARRELS:"organization/removeUnjoinedBarrels",UPDATE_MEMBER_TAGS:"organization/updateMemberTags",ADD_PROJECT_SECTION:"addProjectSection",ADD_PROJECT_SECTION_ID:"addProjectSectionId",UPDATE_PROJECT_SECTION:"updateProjectSection",REMOVE_PROJECT_SECTION:"removeProjectSection",UPDATE_PROJECT_SECTION_ORDER:"updateProjectSectionOrder",UPDATE_PROJECT_ORDER:"updateProjectOrder",ADD_SECTION_LINK:"createSectionLink",UPDATE_SECTION_LINK:"updateSectionLink",REMOVE_SECTION_LINK:"removeSectionLink"}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_PROJECTS_SUCCESS="projects/getProjectsSuccess",e.GET_PROJECTS_FAILED="projects/getProjectsFailed",e.REQUEST_PROJECT="projects/requestProject",e.GET_PROJECT_REQUESTED="projects/getProjectRequested",e.GET_PROJECT_SUCCESS="projects/getProjectSuccess",e.GET_PROJECT_FAILED="projects/getProjectFailed",e.UPDATE_PROJECT="projects/updateProject",e.TRANSFER_OWNERSHIP="projects/transferOwnerShip",e.CREATE_PROJECT="projects/createProject",e.INIT_TRANSFER_OWNERSHIP="projects/initTransferOwnerShip",e.INVITE_USER="projects/inviteUser",e.TOGGLE_PROJECT_SELECTION="projects/toggleProjectSelection"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);t.default={GET_STYLEGUIDES_SUCCESS:"styleguides/getStyleguidesSuccess",GET_STYLEGUIDES_FAILED:"styleguides/getStyleguidesFailed",GET_STYLEGUIDE_REQUESTED:"styleguides/getStyleguideRequested",GET_STYLEGUIDE_SUCCESS:"styleguides/getStyleguideSuccess",GET_STYLEGUIDE_FAILED:"styleguides/getStyleguidesFailed",UPDATE_STYLEGUIDE:"styleguides/updateStyleguide",TRANSFER_OWNERSHIP:"styleguides/transferOwnership",SELECT_PARENT:"styleguides/selectParent",REMOVE_PARENT:"styleguides/removeParent",SELECT_PARENT_REQUEST:"styleguides/selectParentRequest",SELECT_PARENT_SUCCESS:"styleguides/selectParentSuccess",SELECT_PARENT_FAILED:"styleguides/selectParentFailed",CREATE_STYLEGUIDE:"styleguides/createStyleguide",INIT_TRANSFER_OWNERSHIP:"styleguides/initTransferOwnership",INVITE_USER:"styleguides/inviteUser"}},function(e,t,n){"use strict";n.r(t);var i=n(253),o=n(312),a=n(313);class r extends i.default{constructor(e){if(super(),!e)return;const{_id:t,id:n,name:i,status:r,domain:s,logo:l,paymentPlan:c,reservedSeatCount:d,subscriptionStatus:u,subscriptionCancelAt:p,sso:h,membersLoading:f,membersError:g,members:m,workflowStatuses:b=[],sectionIds:S=[],sections:y=[],complete:C=!1,created:v,recentlyUpgradedFromUserPlan:O}=e;this.id=t||n,this._id=t||n,this.name=i,this.status=r,this.domain=s,this.logo=l,this.paymentPlan=c,this.reservedSeatCount=d,this.subscriptionStatus=u,this.subscriptionCancelAt=p,this.sso=h,this.membersLoading=f,this.membersError=g,this.members=m,this.workflowStatuses=b.map(e=>new o.default(e)),this.sectionIds=S,this.sections=y.map(e=>new a.default(e)),this.complete=C,this.created=v,this.recentlyUpgradedFromUserPlan=O}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(253),o=n(250),a=n(246);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.default{constructor(e){if(super(),!e)return s.NoStatus;const{_id:t="newWorkflowStatusId-"+Object(a.getRandomString)(),name:n,color:i=new o.default({name:"yellow",r:254,g:207,b:51})}=e;this._id=t,this.name=n,this.color=new o.default(i)}static generateNew(e){if(!e||!e.startsWith("New Status"))return new s({name:"New Status"});const t=parseInt(e.substring("New Status".length),10)||0;return new s({name:"New Status "+(t+1)})}}r(s,"All",new s({_id:"All",name:"All",color:new o.default({name:"karl",r:237,g:236,b:237})})),r(s,"NoStatus",new s({_id:"No Status",name:"No Status",color:new o.default({name:"clooney",r:193,g:190,b:193})})),t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(253);class o extends i.default{constructor(e){if(super(),!e)return;const{_id:t,key:n,name:i,description:o,links:a=[],projects:r,newSection:s}=e;this._id=t,this.key=n||t,this.name=i,this.description=o,this.links=a,this.projects=r,this.newSection=s}}t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"TEMPORARY_COMPONENT_SECTION_ID",(function(){return i})),n.d(t,"TEMPORARY_PROJECT_SECTION_ID",(function(){return o}));const i="newComponentSection",o="newProjectSection"},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),a=i(n(316));class r extends o.default{constructor(e){super(e)}getInitialState(){return{newReservedSeatCount:0,scheduledSeatsUpdate:null,isUpdateSeatsPending:!1,isCancelScheduledSeatsUpdatePending:!1}}reset(){return this.getInitialState()}updateSeatsRequest(e){return Object.assign(Object.assign({},e),{isUpdateSeatsPending:!0})}updateSeatsSuccess(e,t){return Object.assign(Object.assign({},e),{newReservedSeatCount:t,scheduledSeatsUpdate:null,isUpdateSeatsPending:!1})}updateSeatsFailure(e){return Object.assign(Object.assign({},e),{isUpdateSeatsPending:!1})}getScheduledSeatsUpdateSuccess(e,t){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:t})}cancelScheduledSeatsUpdateRequest(e){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:null,isCancelScheduledSeatsUpdatePending:!0})}cancelScheduledSeatsUpdateSuccess(e){return Object.assign(Object.assign({},e),{isCancelScheduledSeatsUpdatePending:!1})}cancelScheduledSeatsUpdateFailure(e,t){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:t,isCancelScheduledSeatsUpdatePending:!1})}reduce(e,t){switch(t.type){case a.default.RESET:return this.reset();case a.default.UPDATE_SEATS_REQUEST:return this.updateSeatsRequest(e);case a.default.UPDATE_SEATS_SUCCESS:return this.updateSeatsSuccess(e,t.reservedSeatCount);case a.default.UPDATE_SEATS_FAILURE:return this.updateSeatsFailure(e);case a.default.GET_SCHEDULED_SEATS_UPDATE_SUCCESS:return this.getScheduledSeatsUpdateSuccess(e,t.scheduledSeatsUpdate);case a.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST:return this.cancelScheduledSeatsUpdateRequest(e);case a.default.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS:return this.cancelScheduledSeatsUpdateSuccess(e);case a.default.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE:return this.cancelScheduledSeatsUpdateFailure(e,t.cancelledScheduledSeatsUpdate);default:return e}}}t.default=r},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RESET="organizationBilling/reset",e.UPDATE_SEATS_REQUEST="organizationBilling/updateSeatsRequest",e.UPDATE_SEATS_SUCCESS="organizationBilling/updateSeatsSuccess",e.UPDATE_SEATS_FAILURE="organizationBilling/updateSeatsFailure",e.GET_SCHEDULED_SEATS_UPDATE_REQUEST="organizationBilling/getScheduledSeatsUpdateRequest",e.GET_SCHEDULED_SEATS_UPDATE_SUCCESS="organizationBilling/getScheduledSeatsUpdateSuccess",e.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST="organizationBilling/cancelScheduledSeatsUpdateRequest",e.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS="organizationBilling/cancelScheduledSeatsUpdateSuccess",e.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE="organizationBilling/cancelScheduledSeatsUpdateFailure"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(318),r=n(261),s=n.n(r),l=n(321),c=n(309),d=n.n(c),u=n(284),p=n(276),h=n.n(p),f=n(328),g=n(286),m=n(277),b=n.n(m),S=n(330),y=n(305),C=n(308),v=n(245),O=n(273),E=n.n(O),T=n(331);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}class I extends o.a{constructor(e){super(e),this.reducer=new f.default({bidPropertyName:"pid",barrelPropertyName:"project",barrelsPropertyName:"projects",loadingBarrelPropertyName:"loadingProject",loadingBarrelsPropertyName:"loadingProjects"},{deleteBarrel:this.remove})}getInitialState(){return{loadingProject:!0,loadingProjects:!0,projects:{}}}reset(){return this.getInitialState()}add(e,{barrel:t,barrelType:n}){return n!==s.a.PROJECT?e:this.reducer.addBarrel(e,{barrel:t})}activate(e,{bid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"status",value:"active"})}archive(e,{bid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"status",value:"archived"})}remove(e,{bid:t}){const n=e.projects,{[t]:i}=n,o=D(n,[t].map(k));return P(P({},e),{},{projects:P({},o)})}linkProjectToStyleguide(e,{project:{_id:t,remPreferences:n},styleguide:i}){return this.reducer.updateBarrel(e,{pid:t,data:{styleguideLink:{styleguide:i,status:"active"},remPreferences:new l.default(P(P({},n),{},{status:"linked"}))}})}unlinkProjectFromStyleguide(e,{pid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"styleguideLink",value:null})}updateUserData(e,{bid:t,uid:n,userData:i}){const o=e.projects[t];if(!o)return e;const r=o.users.map(({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:P(P({},t),i)});let s=o.screens;return s&&(s=o.screens.map(e=>{let t=e.dots;t&&(t=t.map(e=>{const t=e.comments.map(e=>e.author&&e.author._id===n?P(P({},e),{},{author:P(P({},e.author),i)}):e);return e.creator&&e.creator._id===n?P(P({},e),{},{comments:t,creator:P(P({},e.creator),i)}):P(P({},e),{},{comments:t})}));const o=e.versions.map(e=>{let{creator:t,commit:o}=e,a=D(e,["creator","commit"]);const r=t&&t._id===n?P(P({},t),{},{userData:i}):t,s=o.author&&o.author._id===n?P(P({},o),{},{author:P(P({},o.author),{},{userData:i})}):o;return P(P({},a),{},{creator:r,commit:s})});return P(P({},e),{},{versions:o,dots:t})})),this.reducer.updateBarrel(e,{pid:t,data:new a.default(P(P({},o),{},{screens:s,users:r}))})}transferOwnership(e,{bid:t,fromUserId:n,targetId:i,toOrganization:o,users:a,oid:r}){if(!e.projects[t])return e;if(o||"user"!==r){const o=this.reducer.deleteWorkflowStatus(e,{bid:t});return a?this.reducer.updateBarrelValue(o,{pid:t,key:"users",value:e=>e.users.map(e=>{if(e.user._id===n||e.user._id===i){const t=a.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e})}):o}return this.reducer.updateBarrelValue(e,{pid:t,key:"users",value:e=>e.users.map(e=>{if(a){if(e.user._id===n||e.user._id===i){const t=a.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===i&&(e.role="owner"),e.user._id===n&&(e.role="admin"),e})})}load(e,t){const{data:{project:n,organizationProjects:i}}=t;let o=e;return i&&(o=this.reducer.getBarrelsSuccess(o,{projects:i})),n&&(o=this.reducer.getBarrelSuccess(o,{project:n})),o}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:o}){if(o!==s.a.PROJECT)return e;const a=Object(T.default)(t);return this.reducer.updateBarrelValue(e,{pid:i,key:a,value:e=>e[a].filter(e=>!n.includes(e))})}addSection(e,{pid:t,section:n,index:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e||0===i)return e;const t=e[i-1];return t.screens=t.screens.filter(e=>!n.screens.includes(e)),e.splice(i,0,n),e}})}createSection(e,{pid:t,section:n}){const{_id:i,name:o}=n;return this.renameSection(e,{pid:t,seid:i,name:o})}updateSection(e,{pid:t,seid:n,sectionData:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:P(P({},e),i)):e})}renameSection(e,{pid:t,seid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:P(P({},e),{},{name:i})):e})}updateSectionDescription(e,{pid:t,seid:n,description:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:P(P({},e),{},{description:i})):e})}updateSectionOrder(e,{pid:t,seid:n,index:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=Object(v.arrayRemove)(e,n);return t?(e.splice(i,0,t),e):e}})}removeSection(e,{pid:t,seid:n}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=e.findIndex(e=>e._id===n);if(t<1)return e;const i=e[t];return e[t-1].screens.push(...i.screens),e.filter(e=>e._id!==n)}})}updateScreenOrder(e,{pid:t,screens:n,targetSectionId:i,targetIndex:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;n.forEach(t=>{const n=e.find(e=>e.screens.includes(t));n&&Object(v.arrayRemove)(n.screens,e=>e===t)});const t=e.find(e=>e._id===i);return t?(t.screens.splice(o,0,...n),e):void 0}})}addScreen(e,{pid:t,seid:n,index:i,screen:o}){const a=e.projects[t];if(!a||!a.screens)return e;if(a.screens.find(e=>e._id===o._id))return e;const r=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>[...e,o]});return this.reducer.updateBarrelValue(r,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=n?e.find(e=>e._id===n):e[0],a=void 0===i?t.screens.length:i;return t.screens.splice(a,0,o._id),[...e]}})}removeScreen(e,{pid:t,sid:n}){const i=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.filter(e=>e._id!==n):e});return this.reducer.updateBarrelValue(i,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>(e.screens.includes(n)&&(e.screens=e.screens.filter(e=>e!==n)),e)):e})}updateScreenDescription(e,{pid:t,sid:n,description:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n?P(P({},e),{},{description:i}):e):e})}updateScreenName(e,{pid:t,sid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n?P(P({},e),{},{name:i}):e):e})}moveScreen(e,t){const{spid:n,tpid:i,screen:o}=t,a=this.removeScreen(e,{pid:n,sid:o._id});return this.addScreen(a,{pid:i,screen:o})}updateTags(e,{pid:t,updates:n}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?(n.forEach(({_id:t,operation:n,tags:i})=>{const o=e.find(e=>e._id===t);o.tags="add"===n?(o.tags||[]).concat(i):o.tags.filter(e=>!i.includes(e))}),e):e})}setDots(e,{pid:t,sid:n,dots:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:e=>(e.screens||(e.screens=[]),e.screens.find(({_id:e})=>e===n)||e.screens.push({_id:n}),e.screens.map(e=>(e._id===n&&(e.dots=i),e)))})}addDot(e,{pid:t,sid:n,dot:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n)return e;return e.dots&&e.dots.find(e=>e._id===i._id)||(e.dots=(e.dots||[]).concat(i)),e}):e})}updateDot(e,{pid:t,sid:n,did:i,dotData:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:P(P({},e),o)),e):e):e})}updateDotColor(e,{pid:t,sid:n,did:i,color:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:P(P({},e),{},{color:o})),e):e):e})}updateDotPosition(e,{pid:t,sid:n,did:i,x:o,y:a}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:P(P({},e),{},{x:o,y:a})),e):e):e})}updateDotStatus(e,{pid:t,sid:n,did:i,status:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:P(P({},e),{},{status:o})),e):e):e})}removeDot(e,{pid:t,sid:n,did:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.filter(({_id:e})=>e!==i),e):e):e})}addComment(e,{pid:t,sid:n,did:i,comment:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n||!e.dots)return e;const t=e.dots.find(e=>e._id===i);if(!t)return e;return t.comments.find(e=>e._id===o._id)||t.comments.push(o),e}):e})}updateComment(e,{pid:t,sid:n,did:i,cmid:o,commentData:a}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>(e._id!==i||(e.comments=e.comments.map(e=>e._id!==o?e:P(P({},e),a))),e)),e):e):e})}removeComment(e,{pid:t,sid:n,did:i,cmid:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n||!e.dots)return e;const t=e.dots.find(e=>e._id===i);return t?(t.comments=t.comments.filter(e=>e._id!==o),e):e}):e})}setVersions(e,{pid:t,sid:n,versions:i,totalVersionCount:o,allowedVersionCount:a}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id===n&&(e.versions=i,e.totalVersionCount=o,e.allowedVersionCount=a),e)):e})}setSnapshot(e,{pid:t,sid:n,vid:i,snapshot:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find(e=>e._id===n);if(!t)return e;const a=t.versions.find(e=>e._id===i);return a&&Object.assign(a.snapshot,o),e}})}addVersion(e,{pid:t,sid:n,version:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find(e=>e._id===n);if(!t)return e;return t.versions.some(e=>e._id===i._id)||(t.updated=(new Date).toISOString(),t.versions.unshift(i),t.totalVersionCount&&t.totalVersionCount++,t.versions.length>t.allowedVersionCount&&t.versions.pop()),e}})}updateCommitColor(e,{pid:t,sid:n,vid:i,color:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.map(e=>e._id!==i?e:P(P({},e),{},{commit:P(P({},e.commit),{},{color:o})}))),e)):e})}updateCommitMessage(e,{pid:t,sid:n,vid:i,message:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.map(e=>e._id!==i?e:P(P({},e),{},{commit:P(P({},e.commit),{},{message:o})}))),e)):e})}removeVersion(e,{pid:t,sid:n,vid:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.filter(({_id:e})=>e!==i)),e)):e})}hydrateEmbeddedData(e,t){const{project:n,projects:i}=t;let o=e;return i&&(o=this.reducer.getBarrelsSuccess(o,{projects:i})),n&&(o=this.reducer.getBarrelSuccess(o,{project:n})),o}deleteWorkflowStatuses(e,{statusDeletedBarrels:t}){const n=P({},e);return t.reduce((e,{bid:t})=>this.reducer.deleteWorkflowStatus(e,{bid:t}),n)}updateWorkflowStatuses(e,{statusUpdatedBarrels:t,workflowStatus:n}){const i=P({},e);return t.reduce((e,{bid:t})=>this.reducer.updateWorkflowStatus(e,{bid:t,workflowStatus:n}),i)}reduce(e,t){switch(t.type){case d.a.GET_PROJECTS_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case d.a.GET_PROJECTS_FAILED:return this.reducer.getBarrelsFailed(e,t);case d.a.GET_PROJECT_REQUESTED:return this.reducer.getBarrelRequested(e);case d.a.GET_PROJECT_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case d.a.GET_PROJECT_FAILED:return this.reducer.getBarrelFailed(e,t);case d.a.UPDATE_PROJECT:return this.reducer.updateBarrel(e,t);case h.a.UPDATE_NAME:return this.reducer.updateName(e,t);case h.a.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case h.a.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case h.a.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case h.a.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case h.a.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case h.a.ADD_MEMBERS:return this.reducer.addMembers(e,t);case h.a.ADD_COLOR:return this.reducer.addColor(e,t);case h.a.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case h.a.UPDATE_COLOR:return this.reducer.updateColor(e,t);case h.a.REMOVE_COLOR:return this.reducer.removeColor(e,t);case h.a.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case h.a.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case h.a.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case h.a.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case h.a.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case h.a.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case h.a.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case h.a.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case h.a.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case h.a.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case h.a.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case h.a.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case h.a.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case h.a.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case h.a.ADD_COMPONENT:return this.reducer.addComponent(e,t);case h.a.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case h.a.SET_COMPONENT_SNAPSHOT:return this.reducer.setComponentSnapshot(e,t);case h.a.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case h.a.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case h.a.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case h.a.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case h.a.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case h.a.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case h.a.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case h.a.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case h.a.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case h.a.ATTACH_JIRA_ISSUE:return this.reducer.attachJiraIssue(e,t);case h.a.REMOVE_JIRA_ISSUE_ATTACHMENT:return this.reducer.removeJiraIssueAttachment(e,t);case h.a.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case h.a.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case h.a.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case h.a.UPDATE_WORKFLOW_STATUSES:return this.updateWorkflowStatuses(e,t);case h.a.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case h.a.DELETE_WORKFLOW_STATUSES:return this.deleteWorkflowStatuses(e,t);case h.a.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case h.a.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case h.a.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case h.a.ADD:return this.add(e,t);case h.a.ACTIVATE:return this.activate(e,t);case h.a.ARCHIVE:return this.archive(e,t);case h.a.REMOVE:return this.remove(e,t);case u.default.LINK_PROJECT_SUCCESS:case u.default.LINK_PROJECT:return this.linkProjectToStyleguide(e,t);case u.default.UNLINK_PROJECT:return this.unlinkProjectFromStyleguide(e,t);case h.a.UPDATE_USER_DATA:return this.updateUserData(e,t);case d.a.TRANSFER_OWNERSHIP:case h.a.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case h.a.LOAD:return this.load(e,t);case h.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case C.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case C.default.REMOVE_UNJOINED_BARRELS:return this.reducer.removeUnjoinedBarrels(e,t);case y.default.MOVE_SCREEN:return this.moveScreen(e,t);case g.default.ADD_SECTION:case g.default.CONVERT_TAG_TO_SECTION:return this.addSection(e,t);case g.default.UPDATE_SECTION:return this.updateSection(e,t);case g.default.CREATE_SECTION:return this.createSection(e,t);case g.default.RENAME_SECTION:return this.renameSection(e,t);case g.default.UPDATE_SECTION_DESCRIPTION:return this.updateSectionDescription(e,t);case g.default.UPDATE_SECTION_ORDER:return this.updateSectionOrder(e,t);case g.default.REMOVE_SECTION:return this.removeSection(e,t);case g.default.UPDATE_SCREEN_ORDER:return this.updateScreenOrder(e,t);case b.a.ADD_SCREEN:return this.addScreen(e,t);case b.a.UPDATE_DESCRIPTION:return this.updateScreenDescription(e,t);case b.a.UPDATE_NAME:return this.updateScreenName(e,t);case b.a.REMOVE_SCREEN:return this.removeScreen(e,t);case b.a.UPDATE_TAGS:return this.updateTags(e,t);case b.a.SET_DOTS:return this.setDots(e,t);case b.a.CREATE_NOTE:case b.a.ADD_DOT:return this.addDot(e,t);case b.a.UPDATE_DOT:return this.updateDot(e,t);case b.a.UPDATE_DOT_COLOR:return this.updateDotColor(e,t);case b.a.UPDATE_DOT_POSITION:return this.updateDotPosition(e,t);case b.a.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t);case b.a.REMOVE_DOT:return this.removeDot(e,t);case b.a.CREATE_COMMENT:case b.a.ADD_COMMENT:return this.addComment(e,t);case b.a.UPDATE_COMMENT:return this.updateComment(e,t);case b.a.REMOVE_COMMENT:return this.removeComment(e,t);case b.a.SET_VERSIONS:return this.setVersions(e,t);case b.a.SET_SNAPSHOT:return this.setSnapshot(e,t);case b.a.ADD_VERSION:return this.addVersion(e,t);case b.a.UPDATE_COMMIT_COLOR:return this.updateCommitColor(e,t);case b.a.UPDATE_COMMIT_MESSAGE:return this.updateCommitMessage(e,t);case b.a.REMOVE_VERSION:return this.removeVersion(e,t);case E.a.LOAD_WORKSPACE_DATA:return this.reducer.getBarrelsSuccess(e,t);case E.a.RESET:return this.reset();case E.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);case S.default.CREATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.addComponentVariantProperty(e,t);case S.default.UPDATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.updateComponentVariantProperty(e,t);case S.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return this.reducer.updateComponentVariantPropertyName(e,t);case S.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return this.reducer.updateComponentVariantPropertyValues(e,t);case S.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:return this.reducer.updateComponentVariantPropertiesOrder(e,t);case S.default.SET_COMPONENT_VARIANT_DATA:return this.reducer.setComponentVariantData(e,t);case S.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return this.reducer.removeComponentVariantProperty(e,t);case S.default.REMOVE_COMPONENT_VARIANT_DATA:return this.reducer.removeComponentVariantData(e,t);case S.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY:return this.reducer.groupComponentsByVariantProperty(e,t);default:return e}}}t.default=I},function(e,t,n){"use strict";n.r(t);var i=n(245),o=n(250),a=n(300),r=n(319),s=n(321),l=n(253),c=n(322),d=n(312),u=n(326),p=n(327);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){let n,i;if(e)switch(t){case"android":n="dp",i="sp";break;case"ios":case"osx":n="pt",i="pt";break;case"web":default:n="px",i="px"}else n="px",i="px";return{textDimensionSuffix:i,dimensionSuffix:n}}function b(e,t){if(e.length){var n=e[0].fontSize/t,i=e[e.length-1].fontSize/t;if(n<=36&&i>=14)e.forEach((function(e){e.scaledFontSize=e.fontSize/t}));else{var o,a;n<14?(o=24,a=14):i>36?(o=36,a=24):(o=Math.min(36,n),a=Math.max(14,i));var r=n===i?0:(o-a)/(n-i);e[0].scaledFontSize=Math.round(o);for(var s=1;s<e.length;s++){var l=e[s-1].fontSize/t,c=e[s].fontSize/t;e[s].scaledFontSize=Math.round(e[s-1].scaledFontSize-(l-c)*r)}}}}function S(e,t,n){let i;switch(n){case"ios":case"osx":i=t.replace(/\s+/g,"");break;case"android":i="_"+t.replace(/\s+/g,"_").toLowerCase();break;case"web":default:i="-"+t.replace(/\s+/g,"-").toLowerCase()}return e+i}function y(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(e>19){var n=e%10;return["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(e/10)]+(n?" "+t[n]:"")}return t[e]}function C(e,t,n){let i;for(const o of e){if(i=o.components.find(e=>e[t]===n),i)return i;if(i=C(o.componentSections,t,n),i)return i}return null}function v(e,t){e.forEach(e=>{const n=[...t,e._id];e.idPath=n,e.components.forEach(e=>{e.idPath=[...n,e._id]}),v(e.componentSections,n)})}function O(e){return e.components.concat(...e.componentSections.map(O))}function E(e){const t=f({},e);if(t.status||(t.status="active"),t.users&&(t.users=t.users.map(e=>new r.default(e))),t.users.sort(i.sortBy.role),t.integration=new c.default(t.integration),t.extensions||(t.extensions=[]),t.colors?t.colors=t.colors.map(e=>new o.default(e)):t.colors=[],t.textStyles?(t.textStyles=t.textStyles.map(e=>new a.default(e)).sort(i.fontSort),b(t.textStyles,t.densityScale)):t.textStyles=[],t.screens){if(t.sections){const e=t.screens.map(e=>e._id);t.sections.forEach(t=>{t.screens=t.screens.filter(t=>e.includes(t))})}t.screens.forEach(e=>{"versions"in e||(e.description=e.description||"",e.tags=e.tags||[],e.latestVersion&&(e.latestVersion.commit=e.latestVersion.commit||{message:"",color:Object(u.getColorValueByName)("yellow"),author:e.latestVersion.creator},e.latestVersion.snapshot.componentNames=e.latestVersion.snapshot.componentNames||[],e.versions=[e.latestVersion],delete e.latestVersion))})}t.componentSections&&v(t.componentSections,[]),t.remPreferences=new s.default(t.remPreferences),t.workflowStatus=new d.default(t.workflowStatus),Object.defineProperties(this,{_id:{value:t._id,enumerable:!0},id:{value:t._id,enumerable:!0},partial:{value:t.partial,enumerable:!0},complete:{value:t.complete,enumerable:!0},type:{value:t.type,enumerable:!0},name:{get:()=>t.name,set(e){t.name=e},enumerable:!0},description:{get:()=>t.description,set(e){t.description=e},enumerable:!0},colors:{get:()=>t.colors,enumerable:!0},densityScale:{get:()=>t.densityScale,set(e){t.densityScale=e},enumerable:!0},extensions:{get:()=>t.extensions,set(e){t.extensions=e},enumerable:!0},icon:{value:t.icon,enumerable:!0},integration:{get:()=>t.integration,set(e){t.integration=e},enumerable:!0},prefix:{get:()=>t.prefix,set(e){t.prefix=e},enumerable:!0},public:{get:()=>t.public,set(e){t.public=e},enumerable:!0},screens:{get:()=>t.screens,set(e){t.screens=e},enumerable:!0},sections:{get:()=>t.sections,set(e){t.sections=e},enumerable:!0},status:{get:()=>t.status,set(e){t.status=e},enumerable:!0},textStyles:{get:()=>t.textStyles,enumerable:!0},thumbnail:{get:()=>t.thumbnail,set(e){t.thumbnail=e},enumerable:!0},users:{get:()=>t.users,enumerable:!0},slackTeamId:{get(){if(t.integration.slacks.length)return t.integration.slacks[0].teamId},enumerable:!0},tags:{get:()=>Object(p.extractTagsFromScreens)(t.screens),enumerable:!0},dimensionSuffix:{get:()=>m(t.densityScale,t.type).dimensionSuffix,enumerable:!0},textDimensionSuffix:{get:()=>m(t.densityScale,t.type).textDimensionSuffix,enumerable:!0},created:{get:()=>t.created,set(e){t.created=e},enumerable:!0},updated:{get:()=>t.updated,set(e){t.updated=e},enumerable:!0},componentSections:{get:()=>t.componentSections,set(e){t.componentSections=e},enumerable:!0},connectedComponents:{get:()=>t.connectedComponents,set(e){t.connectedComponents=e},enumerable:!0},localConnectedComponents:{get:()=>t.localConnectedComponents,set(e){t.localConnectedComponents=e},enumerable:!0},parent:{get:()=>t.parent,set(e){t.parent=e},enumerable:!0},styleguideLink:{value:t.styleguideLink,enumerable:!0},ancestors:{get:()=>t.ancestors,set(e){t.ancestors=e},enumerable:!0},linkedProjects:{value:t.linkedProjects,enumerable:!0},spacingSections:{get:()=>t.spacingSections,set(e){t.spacingSections=e},enumerable:!0},remPreferences:{get:()=>t.remPreferences,set(e){t.remPreferences=new s.default(e)},enumerable:!0},workflowStatus:{get:()=>t.workflowStatus,set(e){t.workflowStatus=new d.default(e)},enumerable:!0}})}E.prototype=Object.create(l.default.prototype),E.prototype.constructor=E,E.prototype.toObject=function(){return{type:this.type,name:this.name,colors:this.colors.map((function(e){return e.toObject()})),textStyles:this.textStyles.map((function(e){return e.toObject()})),spacingSections:this.spacingSections,remPreferences:this.remPreferences&&f(f({},this.remPreferences),{},{rootFontSize:this.remPreferences.remRootFontSize}),density:i.getDensityScaleRepresentation(this.type,this.densityScale)}},E.prototype.addTextStyle=function(e){this.textStyles.push(new a.default(e)),this.textStyles.sort(i.fontSort),b(this.textStyles,this.densityScale)},E.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find((function(t){return t.id===e}));n&&(Object.assign(n,t),this.textStyles.sort(i.fontSort),b(this.textStyles,this.densityScale))},E.prototype.removeTextStyle=function(e){var t=i.arrayRemove(this.textStyles,(function(t){return t.id===e}));return b(this.textStyles,this.densityScale),t},E.prototype.findTextStyleById=function(e){return this.textStyles.find((function(t){return t.id===e}))},E.prototype.findTextStyleByName=function(e){return this.textStyles.find((function(t){return t.name===e}))},E.prototype.findTextStyleEqual=function(e){return this.textStyles.find((function(t){return e.equals(t)}))},E.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},E.prototype.findSpacingSectionById=function(e){return this.spacingSections.find(({_id:t})=>t===e)||{}},E.prototype.findSpacingTokenInsideSectionById=function(e,t){const n=this.spacingSections.find(({_id:t})=>t===e);return n?n.spacingTokens.find(({_id:e})=>e===t):{}},E.prototype.findUser=function(e){return this.users.find((function(t){return t.user._id===e}))},E.prototype.findOwner=function(){return this.users.find((function(e){return"owner"===e.role}))},E.prototype.addUser=function(e){this.users.push(e),this.users.sort(i.sortBy.role)},E.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(i.sortBy.role))},E.prototype.removeUser=function(e){return i.arrayRemove(this.users,(function(t){return t.user._id===e}))},E.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(i.sortBy.role)),this.screens.forEach((function(n){n.dots&&n.dots.forEach((function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.comments.forEach((function(n){n.author&&n.author._id===e&&Object.assign(n.author,t)}))})),n.versions.forEach((function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.commit.author&&n.commit.author._id===e&&Object.assign(n.commit.author,t)}))}))},E.prototype.changeUserPaymentPlan=function(e,t){var n=this.findUser(e);n&&(n.user.paymentPlan=t)},E.prototype.addColor=function(e){this.colors.push(new o.default(e))},E.prototype.removeColor=function(e){return i.arrayRemove(this.colors,(function(t){return t.id===e}))},E.prototype.updateColor=function(e,t){var n=this.colors.find((function(t){return t.id===e}));Object.assign(n,t)},E.prototype.updateColorOrder=function(e,t){const n=this.removeColor(e);n&&this.colors.splice(t,0,n)},E.prototype.findColorById=function(e){return this.colors.find((function(t){return t.id===e}))},E.prototype.findColorByName=function(e){return this.colors.find((function(t){return t.name===e}))},E.prototype.findColorEqual=function(e){return this.colors.find((function(t){return e.equals(t)}))},E.prototype.findColorByHexAndAlpha=function(e){return this.colors.find((function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n}))},E.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},E.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},E.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},E.prototype._checkProjectColors=function(e){let t;for(var n=0;n<this.colors.length;n++){var i=this.colors[n];if(i.hexBase()===e.hexBase()){const[e]=i.name.match(/\d+$/)||[];e&&parseInt(e,10)===Math.round(100*i.a)?[,t=i.name]=i.name.match(/^([\w-]+?)[\d_-]+$/)||[]:t=i.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(S(t,Math.round(100*e.a).toString(),this.type))},E.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=S(e,y(++n),this.type);return t},E.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},E.prototype.deleteTag=function(e){return this.screens.reduce((function(t,n){var i;return n.tags&&-1!==(i=n.tags.indexOf(e))?(n.tags.splice(i,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t}),[])},E.prototype.addSection=function(e,t){var n=this;return e.screens.forEach((function(e){var t=n.findScreenSection(e);t&&i.arrayRemove(t.screens,(function(t){return t===e}))})),this.sections.splice(t,0,e),e},E.prototype.splitSection=function(e,t,n){var i=this.findSection(e);if(i){var o=this.sections.findIndex((function(t){return e===t._id})),a=i.screens.splice(t,i.screens.length-t);return this.sections.splice(o+1,0,{name:n,screens:a}),this.sections[o+1]}},E.prototype.findSection=function(e){return e?this.sections.find((function(t){return t._id===e})):null},E.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex((function(t){return t._id===e}));return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),i.arrayRemove(this.sections,(function(t){return t._id===e}))}},E.prototype.updateSectionOrder=function(e,t){var n=this,o=[].concat(e).map((function(e){return i.arrayRemove(n.sections,(function(t){return t._id===e}))})).filter((function(e){return e}));Array.prototype.splice.apply(this.sections,[t,0].concat(o))},E.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex((function(t){return t._id===e}))},E.prototype.findScreenSection=function(e){return this.sections.find((function(t){return t.screens.includes(e)}))},E.prototype.addScreensToSection=function(e,t,n){var o=this,a=this.findSection(e);a&&(t.forEach((function(e){var t=o.findScreenSection(e);t&&i.arrayRemove(t.screens,(function(t){return t===e}))})),Array.prototype.splice.apply(a.screens,[n,0].concat(t)))},E.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},E.prototype.findScreen=function(e){return this.screens.find(t=>t._id===e)},E.prototype.findScreenByName=function(e){return this.screens.find(t=>t.name===e)},E.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&i.arrayRemove(n.screens,(function(e){return e===t})))return i.arrayRemove(this.screens,(function(e){return e._id===t}))},E.prototype.updateScreenOrder=function(e,t,n){var o=this.findSection(e);o&&(t=[].concat(t).map((function(e){return i.arrayRemove(o.screens,(function(t){return t===e}))})).filter((function(e){return e})),Array.prototype.splice.apply(o.screens,[n,0].concat(t)))},E.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>n.allowedVersionCount?n.versions.pop():void 0},E.prototype.findVersion=function(e,t){const n=this.findScreen(e);return n?n.versions.find(e=>e._id===t):null},E.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var o=i.arrayRemove(n.versions,(function(e){return e._id===t}));return n.totalVersionCount&&n.totalVersionCount--,o}},E.prototype.addIntegration=function(e,t){this.integration[e].push(t)},E.prototype.removeIntegration=function(e,t){return i.arrayRemove(this.integration[e],(function(e){return e._id===t}))},E.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach((function(n){var i=new o.default(n),a=i.toCSS(e);t[a]=i.name})),t},E.prototype.removeExtension=function(e){return i.arrayRemove(this.extensions,(function(t){return t._id===e}))},E.prototype.findComponentById=function(e){return C(this.componentSections,"_id",e)},E.prototype.findComponentByName=function(e){return C(this.componentSections,"name",e)},E.prototype.findComponentSection=function(e){let t=this;for(const n of e)if(t=t.componentSections.find(e=>e._id===n),!t)return null;return t},E.prototype.addComponent=function(e,t){const n=this.findComponentSection(e);n&&(t.idPath=[...e,t._id],n.components.push(t))},E.prototype.updateComponent=function(e,t,n){const i=this.findComponentSection(e);if(!i)return;const o=i.components.find(e=>e._id===t);o&&Object.assign(o,n)},E.prototype.updateComponentOrder=function(e,t,n,o){const a=this.findComponentSection(e);if(!a)return;const r=this.findComponentSection(t);if(!r)return;const s=i.arrayRemove(a.components,e=>e._id===n);s&&(s.idPath=[...t,s._id],r.components.splice(o,0,s))},E.prototype.removeComponent=function(e,t){const n=this.findComponentSection(e);if(!n)return;const o=i.arrayRemove(n.components,e=>e._id===t);return o||void 0},E.prototype.addComponentSection=function(e,t,n){const i=this.findComponentSection(e);i&&(n.components||(n.components=[]),n.componentSections||(n.componentSections=[]),v([n],e),i.componentSections.splice(t,0,n))},E.prototype.updateComponentSection=function(e,t){const n=this.findComponentSection(e);n&&Object.assign(n,t)},E.prototype.mergeComponentSection=function(e,t,{flatten:n=!1}={}){const o=e.pop(),a=this.findComponentSection(e);if(!a)return;const r=this.findComponentSection(t);if(!r)return;const s=i.arrayRemove(a.componentSections,e=>e._id===o);s&&(n?r.components.push(...O(s)):(r.components.push(...s.components),r.componentSections.push(...s.componentSections)),v(this.componentSections,[]))},E.prototype.updateComponentSectionOrder=function(e,t,n){const o=e.pop(),a=this.findComponentSection(e);if(!a)return;const r=this.findComponentSection(t);if(!r)return;const s=i.arrayRemove(a.componentSections,e=>e._id===o);s&&(r.componentSections.splice(n,0,s),v([s],t))},E.prototype.removeComponentSection=function(e){const t=e.pop(),n=this.findComponentSection(e);if(!n)return;const o=i.arrayRemove(n.componentSections,e=>e._id===t);return o||void 0},t.default=E},function(e,t,n){"use strict";n.r(t);var i=n(253),o=n(320);class a extends i.default{constructor(e){super();const{role:t,user:n,integration:i}=e;this.role=t,this.user=new o.default(n),this.integration=i}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(253);class o extends i.default{constructor(e){super();const{_id:t,id:n,paymentPlan:i,email:o,status:a,username:r,fullName:s,bio:l,subscriptionStatus:c,subscriptionCancelAt:d,emotar:u,avatar:p,lastSeen:h}=e;this.id=n,this._id=t,this.paymentPlan=i,this.email=o,this.status=a,this.username=r,this.fullName=s,this.bio=l,this.subscriptionStatus=c,this.subscriptionCancelAt=d,this.emotar=u,this.avatar=p,this.lastSeen=h}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(253);class o extends i.default{constructor(e){if(super(),!e)return{};const{status:t,remRootFontSize:n,useForFontSizes:i,useForMeasurements:o}=e;this.status=t,this.remRootFontSize=n,this.useForFontSizes=i,this.useForMeasurements=o}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(253),o=n(323),a=n(324);class r extends i.default{constructor(e){super();const{slacks:t,jira:n}=e||{};this.slacks=t?t.map(e=>new o.default(e)):[],n&&(this.jira=new a.default(n))}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(253);class o extends i.default{constructor(e){if(super(),!e)return;const{_id:t,teamName:n,teamId:i,scope:o,incomingWebHook:a}=e;this._id=t,this.id=t,this.teamName=n,this.teamId=i,this.scope=o,this.incomingWebHook=a}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(253),o=n(325);class a extends i.default{constructor(e){if(super(),!e)return;const{_id:t,id:n,attachments:i}=e;this.id=t||n,i&&(this.attachments=i.map(e=>new o.default(e)))}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(253);class o extends i.default{constructor(e){if(super(),!e)return;const{_id:t,id:n,deploymentUrl:i,type:o,itemId:a,issueKey:r,issueUrl:s}=e;this.id=t||n,this.deploymentUrl=i,this.type=o,this.itemId=a,this.issueKey=r,this.issueUrl=s}}t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"colorNames",(function(){return s})),n.d(t,"reactions",(function(){return l})),n.d(t,"getColorName",(function(){return c})),n.d(t,"getColorValueByName",(function(){return d})),n.d(t,"isMentioned",(function(){return u})),n.d(t,"checkFilter",(function(){return p}));var i=n(245),o=n(250);const a={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise","419bf9":"cornflowerBlue",db7cee:"deepPurple"},r={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1},cornflowerBlue:{name:"cornflowerBlue",r:65,g:155,b:249,a:1},deepPurple:{name:"deepPurple",r:219,g:124,b:238,a:1}},s=Object.freeze(Object.keys(r)),l={positive:"👍",neutral:"🤔",negative:"😩"};function c(e){const t="string"==typeof e?e:new o.default(e).hexBase();return a[t]}function d(e){return r[e]}function u(e,t){if(!e.comments||!e.comments.length)return!1;const n=Object(i.mentionRegexFn)(t.username);return e.comments.some(e=>n.test(e.note)||e.author&&e.author._id===t._id)}function p(e,t,n,i){return(!n||c(e.color)===n)&&("mentioned"===t?u(e,i):t===(e.status||"open"))}},function(e,t,n){"use strict";n.r(t),n.d(t,"extractTagsFromScreens",(function(){return o}));var i=n(245);function o(e){if(!e)return null;var t=new Set(e.reduce((function(e,t){return e.concat(t.tags||[])}),[])),n=[];return t.forEach((function(e){n.push(e)})),n.sort(i.sortBy.naturally)}},function(e,t,n){"use strict";n.r(t);var i=n(245),o=n(329),a=n(318),r=n(250),s=n(300),l=n(321),c=n(312),d=n(314),u=n(246);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=0;t.default=class{constructor(e,t){this.bidPropertyName=e.bidPropertyName,this.barrelPropertyName=e.barrelPropertyName,this.barrelsPropertyName=e.barrelsPropertyName,this.loadingBarrelPropertyName=e.loadingBarrelPropertyName,this.loadingBarrelsPropertyName=e.loadingBarrelsPropertyName,this.deleteBarrel=t.deleteBarrel}getBarrelsSuccess(e,{[this.barrelsPropertyName]:t}){const n=t.map(e=>new a.default(e));return h(h({},e),{},{[this.loadingBarrelsPropertyName]:!1,[this.barrelsPropertyName]:h(h({},e[this.barrelsPropertyName]),Object(i.normalizeArray)(n,"_id"))})}getBarrelsFailed(e,{error:t}){return h(h({},e),{},{[this.loadingBarrelsPropertyName]:!1,error:t})}getBarrelRequested(e){return h(h({},e),{},{[this.loadingBarrelPropertyName]:!0})}getBarrelSuccess(e,{[this.barrelPropertyName]:t}){const n=this.updateBarrel(e,{[this.bidPropertyName]:t._id,data:h(h({},t),{},{complete:!t.partial}),upsert:!0});return h(h({},n),{},{[this.loadingBarrelPropertyName]:!1})}getBarrelFailed(e,{error:t}){return h(h({},e),{},{[this.loadingBarrelPropertyName]:!1,error:t})}addBarrel(e,{barrel:t}){return h(h({},e),{},{[this.barrelsPropertyName]:h(h({},e[this.barrelsPropertyName]),{},{[t._id]:new a.default(t)})})}updateBarrel(e,{[this.bidPropertyName]:t,data:n,upsert:i}){const{[this.barrelsPropertyName]:o}=e,r=o[t];return r||i?h(h({},e),{},{[this.barrelsPropertyName]:h(h({},o),{},{[t]:new a.default(h(h({},r),"function"==typeof n?n(r):n))})}):e}joinBarrel(e,{[this.bidPropertyName]:t,user:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value:e=>e.users.find(e=>e.user._id===n.user._id)?e.users:e.users.concat(n)})}updateName(e,{bid:t,name:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{name:n}})}updateDescription(e,{bid:t,description:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{description:n}})}updateDensityScale(e,{bid:t,densityScale:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{densityScale:n}})}updateThumbnail(e,{bid:t,thumbnail:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{thumbnail:n}})}addIntegration(e,{bid:t,intype:n,integration:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value({integration:e}){if(e)return e[n].find(e=>e._id===i._id)?h({},e):h(h({},e),{},{[n]:[...e[n],i]})}})}removeIntegration(e,{bid:t,intype:n,inid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value({integration:e}){if(e)return h(h({},e),{},{[n]:e[n].filter(({_id:e})=>e!==i)})}})}toggleScene(e,{bid:t,accessibility:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{public:n}})}addMembers(e,{bid:t,members:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value(e){const t=n.filter(t=>!e.users.some(e=>e.user._id===t.user._id));return[...e.users,...t]}})}updateUserRole(e,{bid:t,uid:n,role:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value:({users:e})=>e.map(e=>e.user._id!==n?e:h(h({},e),{},{role:i}))})}removeMember(e,{bid:t,mid:n,currentUserId:i,shouldRemoveBarrel:o}){return o?this.deleteBarrel(e,{bid:t}):this.updateBarrel(e,{[this.bidPropertyName]:t,data:e=>h(h({},e),{},{users:e.users.filter(({user:e})=>e._id!==n),complete:e.complete&&n!==i})})}addColor(e,{bid:t,color:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>[...e,new r.default(n)]})}addMultipleColors(e,{bid:t,colors:n}){return n.reduce((e,n)=>this.addColor(e,{bid:t,color:n}),e)}updateColor(e,{bid:t,cid:n,colorData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>e.map(e=>e.id!==n?e:new r.default(h(h({},e),i)))})}removeColor(e,{bid:t,cid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>e.filter(({id:e})=>e!==n)})}removeAllColors(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:[]})}updateColorOrder(e,{bid:t,cid:n,to:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value({colors:e}){const t=Object(i.arrayRemove)(e,e=>e.id===n);return t?(e.splice(o,0,t),e):e}})}addTextStyle(e,{bid:t,textStyle:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>[...e,new s.default(n)]})}addMultipleTextStyles(e,{bid:t,textStyles:n}){return n.reduce((e,n)=>this.addTextStyle(e,{bid:t,textStyle:n}),e)}updateTextStyle(e,{bid:t,tsid:n,textStyleData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>e.map(e=>e.id!==n?e:new s.default(h(h({},e),i)))})}removeTextStyle(e,{bid:t,tsid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>e.filter(({id:e})=>e!==n)})}removeAllTextStyles(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:[]})}addSpacingSection(e,{bid:t,spacingSection:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>[...e,h(h({},n),{},{spacingTokens:n.spacingTokens||[]})]})}updateSpacingSection(e,{bid:t,ssid:n,updatedSpacingSection:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>e._id!==n?e:h(h({},e),i))})}removeSpacingSection(e,{bid:t,ssid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.filter(({_id:e})=>e!==n)})}addSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,spacingToken:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:r}=e,s=Object(o.sortArrayOfObjectsByPropertyName)([...r,a],"value");let l=1===s.length?s[0]._id:t;return i&&(l=a._id),h(h({},e),{},{baseTokenId:l,spacingTokens:s})})})}updateSpacingToken(e,{bid:t,ssid:n,sptid:i,updatedSpacingToken:a,oldSpacingToken:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:s}=e,l=s.filter(({_id:e})=>e!==i),c=h(h({},r),a),d=t===i?c._id:t;return h(h({},e),{},{baseTokenId:d,spacingTokens:Object(o.sortArrayOfObjectsByPropertyName)([...l,c],"value")})})})}removeSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,sptid:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:a}=e,r=a.filter(({_id:e})=>e!==o);let s=t;return i&&(s=r.length&&r[0]._id||null),h(h({},e),{},{baseTokenId:s,spacingTokens:r})})})}updateRemPreferences(e,{bid:t,updatedRemPreferences:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"remPreferences",value:({remPreferences:e})=>new l.default(h(h({},e),n))})}addComponent(e,{bid:t,csids:n,component:i,index:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;if(e.findComponentById(i._id))return e.componentSections;const t=e.findComponentSection(n);return t?(void 0===o?t.components.push(i):t.components.splice(o,0,i),[...e.componentSections]):e.componentSections}})}updateComponent(e,{bid:t,csids:n,coid:i,componentData:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const a=t.components.find(e=>e._id===i);return a?(Object.assign(a,o),[...e.componentSections]):e.componentSections}})}setComponentSnapshot(e,{bid:t,csids:n,coid:i,vid:o,snapshot:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const r=t.components.find(e=>e._id===i);return r&&r.latestVersion._id===o?(Object.assign(r.latestVersion.snapshot,a),[...e.componentSections]):e.componentSections}})}removeComponent(e,{bid:t,csids:n,coid:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object(i.arrayRemove)(t.components,o),[...e.componentSections]):e.componentSections}})}addComponentVersion(e,{bid:t,csids:n,coid:i,componentVersion:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const a=t.components.find(({_id:e})=>e===i);return a&&a.latestVersion._id!==o._id?(a.latestVersion=o,[...e.componentSections]):e.componentSections}})}addComponentSection(e,{bid:t,csids:n,componentSection:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;if(e.componentSections.find(e=>e._id===o._id))return e.componentSections;const a=h({},o);return a._id||(a._id=d.TEMPORARY_COMPONENT_SECTION_ID,a.newSection=!0,a.key="newComponentSection-"+g++),o.components?a.components=o.components.map(t=>{const n=e.findComponentSection(t.csid);return Object(i.arrayRemove)(n.components,t.coid)}):a.components=[],o.componentSections||(a.componentSections=[]),void 0===o.index?t.componentSections.push(a):t.componentSections.splice(o.index,0,a),[...e.componentSections]}})}updateComponentSection(e,{bid:t,csids:n,componentSectionData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object.assign(t,i),[...e.componentSections]):e.componentSections}})}mergeComponentSection(e,{bid:t,csids:n,tcsids:o,flatten:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=[...n],r=t.pop(),s=e.findComponentSection(t);if(!s)return e.componentSections;const l=e.findComponentSection(o);if(!l)return e.componentSections;const c=Object(i.arrayRemove)(s.componentSections,r);return c?(this.removeVariantFromComponents(c),a?l.components.push(...this.flattenComponents(c)):(l.components.push(...c.components),l.componentSections.push(...c.componentSections)),[...e.componentSections]):e.componentSections}})}removeComponentSection(e,{bid:t,csids:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=n.pop(),o=e.findComponentSection(n);return o?(Object(i.arrayRemove)(o.componentSections,t),[...e.componentSections]):e.componentSections}})}removeComponentSections(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{Object(i.arrayRemove)(e.componentSections,t)}),[...e.componentSections]}})}updateComponentsOrder(e,{bid:t,components:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{const{coid:n,csid:o,tcsid:a,to:r}=t,s=e.findComponentSection(o),l=e.findComponentSection(a);if(!s||!l)return e.componentSections;const c=Object(i.arrayRemove)(s.components,n);if(!c)return e.componentSections;const d=void 0===r?l.components.length:r;l.components.splice(d,0,c)}),[...e.componentSections]}})}updateComponentSectionsOrder(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{const{csid:n,tcsid:o,to:a}=t,r=e.findComponentSection(n.slice(0,-1)),s=o?e.findComponentSection(o):e,l=Object(i.arrayRemove)(r.componentSections,n[n.length-1]);s.componentSections.splice(a,0,l)}),[...e.componentSections]}})}attachJiraIssue(e,{bid:t,jira:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value:({integration:e})=>e&&e.jira?h(h({},e),{},{jira:h(h({},e.jira),{},{attachments:[...e.jira.attachments,...n.attachments.filter(t=>!e.jira.attachments.find(e=>e.id===t.id))]})}):h(h({},e),{},{jira:n})})}removeJiraIssueAttachment(e,{bid:t,aid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value:({integration:e})=>e&&e.jira&&e.jira.attachments?h(h({},e),{},{jira:h(h({},e.jira),{},{attachments:e.jira.attachments.filter(e=>e.id!==n)})}):e})}setLocalConnectedComponents(e,{bid:t,localConnectedComponents:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"localConnectedComponents",value:e=>n})}updateConnectedComponents(e,{bid:t,connectedComponents:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"connectedComponents",value:e=>n})}updateWorkflowStatus(e,{bid:t,workflowStatus:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"workflowStatus",value:n})}deleteWorkflowStatus(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"workflowStatus",value:c.default.NoStatus})}onOrganizationWorkflowStatusDelete(e,{workflowStatusId:t}){const n=e[this.barrelsPropertyName];return Object.values(n).filter(e=>e.workflowStatus._id===t).reduce((e,t)=>this.deleteWorkflowStatus(e,{bid:t.id}),e)}removeUnjoinedBarrels(e,t){const n=e[this.barrelsPropertyName],i=t["remaining"+Object(u.uppercaseFirst)(this.barrelsPropertyName)];return h(h({},e),{},{[this.barrelsPropertyName]:Object.fromEntries(Object.entries(n).filter(([e])=>i.includes(e)))})}flattenComponents(e){return e.components.concat(...e.componentSections.map(e=>this.flattenComponents(e)))}updateBarrelValue(e,{[this.bidPropertyName]:t,key:n,value:i}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:e=>new a.default(h(h({},e),{},{[n]:"function"==typeof i?i(e):i}))})}addComponentVariantProperty(e,{bid:t,csid:n,componentVariantProperty:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);return t&&t.variant&&t.variant.properties?(t.variant.properties.push(i),[...e.componentSections]):e.componentSections}})}updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!t||!t.variant||!t.variant.properties)return e.componentSections;const a=t.variant.properties.find(({_id:e})=>e===i);return a?(Object.assign(a,o),[...e.componentSections]):e.componentSections}})}updateComponentVariantPropertyName(e,{bid:t,csid:n,vpid:i,name:o}){return this.updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:{name:o}})}updateComponentVariantPropertyValues(e,{bid:t,csid:n,vpid:i,values:o}){return this.updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:{values:o}})}updateComponentVariantPropertiesOrder(e,{bid:t,csid:n,properties:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!t||!t.variant)return e.componentSections;for(let n=0;n<o.length;n++){const{_id:e,to:a}=o[n],r=Object(i.arrayRemove)(t.variant.properties,t=>t._id===e);t.variant.properties.splice(a,0,r)}return[...e.componentSections]}})}setComponentVariantData(e,{bid:t,csid:n,name:i,sectionVariant:o,components:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);return t?(i&&(t.name=i),o&&(t.variant=o),a&&a.forEach(({_id:t,variant:n})=>{const i=e.findComponentById(t);i&&(i.variant=n)}),[...e.componentSections]):e.componentSections}})}removeVariantPropertyFromComponents(e,t){e.components.forEach(e=>{e.variant&&(e.variant.values=e.variant.values.filter(e=>e.propertyId!==t))}),e.componentSections.forEach(e=>this.removeVariantPropertyFromComponents(e,t))}removeComponentVariantProperty(e,{bid:t,csid:n,vpid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);return t&&t.variant&&t.variant.properties?(t.variant.properties=t.variant.properties.filter(({_id:e})=>e!==i),this.removeVariantPropertyFromComponents(t,i),[...e.componentSections]):e.componentSections}})}removeVariantFromComponents(e){e.components.forEach(e=>{delete e.variant}),e.componentSections.forEach(e=>this.removeVariantFromComponents(e))}removeComponentVariantData(e,{bid:t,csid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);return t?(delete t.variant,this.removeVariantFromComponents(t),[...e.componentSections]):e.componentSections}})}groupComponentsByVariantProperty(e,{bid:t,csid:n,components:i,componentSections:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!t)return e.componentSections;const a=this.flattenComponents(t);return o.forEach(e=>{e.components=e.components.map(({_id:e})=>a.find(({_id:t})=>t===e))}),t.componentSections=o,t.components=i.map(({_id:e})=>a.find(({_id:t})=>t===e)),[...e.componentSections]}})}}},function(e,t,n){"use strict";function i(e,t){return e.sort((e,n)=>e[t]-n[t])}function o(e,t){return e.reduce(({memory:e,result:n},i)=>(e[i[t]]||(n.push(i),e[i[t]]=!0),{memory:e,result:n}),{memory:{},result:[]}).result}function a(e,t){return e.reduce((e,n,i)=>(i>0&&e.push(t),e.push(n),e),[])}function r(e,t,n,{excludeStart:i=!1,excludeEnd:o=!1}={}){if(n<=0)throw new RangeError(`Invalid number of steps: ${n}. Steps must be a positive number`);if(e>=t)return[];const a=i?[]:[e],r=(t-e)/n;for(let s=1;s<n;s++)a.push(e+s*r);return o?a:a.concat(t)}n.r(t),n.d(t,"sortArrayOfObjectsByPropertyName",(function(){return i})),n.d(t,"removeDuplicatesFromArrayOfObjects",(function(){return o})),n.d(t,"joinDOMElements",(function(){return a})),n.d(t,"populateArrayOfConstantIncrements",(function(){return r}))},function(e,t,n){"use strict";n.r(t);t.default={UPDATE_STATE:"styleguide/updateState",CHANGE_LEFT_SIDEBAR_WIDTH:"styleguide/changeLeftSidebarWidth",CHANGE_RIGHT_SIDEBAR_WIDTH:"styleguide/changeRightSidebarWidth",CHANGE_SORT_TYPE:"styleguide/changeSortType",CHANGE_FILTER_VALUE:"styleguide/changeFilterValue",CHANGE_SELECTED_NAVIGATOR_ID:"styleguide/changeSelectedNavigatorId",HIGHLIGHT_COLORS:"styleguide/highlightColors",UNHIGHLIGHT_COLOR:"styleguide/unhighlightColor",HIGHLIGHT_TEXT_STYLES:"styleguide/highlightTextStyles",UNHIGHLIGHT_TEXT_STYLE:"styleguide/unhighlightTextStyle",HIGHLIGHT_SPACING_TOKENS:"styleguide/highlightSpacingTokens",UNHIGHLIGHT_SPACING_TOKEN:"styleguide/unhighlightSpacingToken",SECTION_SCROLLED:"styleguide/sectionScrolled",CHANGE_SELECTION:"styleguide/changeSelection",COMPONENT_SNAPSHOTS_READY:"styleguide/componetSnapshotsReady",EXPAND_SECTIONS:"styleguide/expandSections",COLLAPSE_SECTIONS:"styleguide/collapseSections",COLLAPSE_ALL_SECTIONS:"styleguide/collapseAllSections",HIDE_SUGGESTED_COLORS:"styleguide/hideSuggestedColors",HIDE_SUGGESTED_TEXT_STYLES:"stylegudie/hideSuggestedTextStyles",OPEN_MOVE_RESOURCES_POPUP:"styleguide/openMoveResourcesPopup",CLOSE_MOVE_RESOURCES_POPUP:"styleguide/closeMoveResourcesPopup",SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/selectMoveResourcesTargetStyleguide",DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/deselectMoveResourcesTargetStyleguide",CONVERT_SECTION_TO_VARIANT_SECTION:"styleguide/convertSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_SECTION:"styleguide/convertVariantSectionToSection",CREATE_COMPONENT_VARIANT_PROPERTY:"styleguide/createComponentVariantProperty",ADD_COMPONENT_VARIANT_PROPERTY:"styleguide/addComponentVariantProperty",UPDATE_COMPONENT_VARIANT_PROPERTY:"styleguide/updateComponentVariantProperty",UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:"styleguide/updateComponentVariantPropertyName",UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:"styleguide/updateComponentVariantPropertyValues",UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:"styleguide/updateComponentVariantPropertiesOrder",UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:"styleguide/updateComponentVariantPropertyValue",SET_COMPONENT_VARIANT_DATA:"styleguide/setComponentVariantData",REMOVE_COMPONENT_VARIANT_PROPERTY:"styleguide/removeComponentVariantProperty",REMOVE_COMPONENT_VARIANT_DATA:"styleguide/removeComponentVariantData",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"styleguide/createComponentSectionVariantGroups",GROUP_COMPONENTS_BY_VARIANT_PROPERTY:"styleguide/groupComponentsByVariantProperty",HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:"styleguide/hideComponentVariantsOnboardingDialog"}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(230);const o={[i.RESOURCE_TYPE.COLORS]:"colors",[i.RESOURCE_TYPE.TEXT_STYLES]:"textStyles",[i.RESOURCE_TYPE.COMPONENTS]:"componentSections"};function a(e){return o[e]}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(273),r=n.n(a),s=n(276),l=n.n(s),c=n(261),d=n.n(c);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.a{getInitialState(){return{projects:[],styleguides:[]}}init({projects:e,styleguides:t}){return{projects:e,styleguides:t}}update(e,t){const{barrel:{barrelType:n},data:{[n]:{_id:i,name:o}}}=t,a=n===d.a.PROJECT?"projects":"styleguides",r=e[a].filter(({_id:e})=>e!==i),s=[{_id:i,name:o},...r].slice(0,10);return p(p({},e),{},{[a]:s})}reduce(e,t){switch(t.type){case l.a.LOAD:return this.update(e,t);case r.a.INIT_RECENTLY_LOADED_BARRELS:return this.init(t);default:return e}}}t.default=f},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),a=i(n(334)),r=i(n(276)),s=i(n(273)),l=i(n(277));class c extends o.default{constructor(e){super(e)}getInitialState(){return{componentVariantViewVisible:!1,selectedLayer:null,destinationLayer:null,selectedComponentVariantId:null,sourceLayerId:null}}open(e,t,n){return Object.assign(Object.assign({},e),{componentVariantViewVisible:!0,selectedComponentVariantId:t,sourceLayerId:n})}close(){return this.getInitialState()}selectLayer(e,t){return Object.assign(Object.assign({},e),{selectedLayer:t,destinationLayer:t})}enterLayer(e,t){return e.selectedLayer?Object.assign(Object.assign({},e),{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?Object.assign(Object.assign({},e),{destinationLayer:null}):e}deselectLayer(e){return e.selectedLayer?Object.assign(Object.assign({},e),{selectedLayer:null,destinationLayer:null}):e}changeComponentVariant(e,t){return Object.assign(Object.assign({},e),{selectedComponentVariantId:t,selectedLayer:null,destinationLayer:null})}resetComponentVariant(e,t){return e.selectedComponentVariantId!==t?e:Object.assign(Object.assign({},e),{selectedComponentVariantId:null,selectedLayer:null,destinationLayer:null})}reduce(e,t){switch(t.type){case s.default.RESET:case r.default.RESET:case r.default.LOAD:case r.default.CHANGE_SELECTED_VIEW:return this.getInitialState();case a.default.OPEN:return this.open(e,t.coid,t.sourceLayerId);case a.default.CLOSE:return this.close();case a.default.SELECT_LAYER:return this.selectLayer(e,t.layer);case a.default.ENTER_LAYER:return this.enterLayer(e,t.layer);case a.default.LEAVE_LAYER:return this.leaveLayer(e);case a.default.DESELECT_LAYER:return this.deselectLayer(e);case a.default.CHANGE_VARIANT:return this.changeComponentVariant(e,t.coid);case r.default.REMOVE_COMPONENT:return this.resetComponentVariant(e,t.coid);case l.default.SELECT_LAYER:return this.deselectLayer(e);default:return e}}}t.default=c},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN="componentVariant/open",e.CLOSE="componentVariant/close",e.SELECT_LAYER="componentVariant/selectLayer",e.ENTER_LAYER="componentVariant/enterLayer",e.LEAVE_LAYER="componentVariant/leaveLayer",e.DESELECT_LAYER="componentVariant/deselectLayer",e.CHANGE_VARIANT="componentVariant/changeVariant"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(277),r=n.n(a),s=n(276),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a{getInitialState(){return{loadingDots:!0,statusFilter:"open",colorFilter:null,lastNoteColorUsed:"yellow",flash:!1,dotId:null,highlightedDots:[],highlightedComments:[]}}reset(){return this.getInitialState()}load(e={}){return d(d({},this.getInitialState()),e)}setDots(e,t,n,i){return d(d({},e),{},{loadingDots:!1,dotId:t,statusFilter:n,colorFilter:i})}createNote(e,t){return d(d({},e),{},{dotId:t,statusFilter:"open",colorFilter:null})}updateDot(e,t,n){return e.dotId!==t&&t===n?e:d(d({},e),{},{dotId:n})}updateDotStatus(e,t,n){return e.dotId!==t||e.statusFilter===n?e:d(d({},e),{},{dotId:null})}updateLastNoteColorUsed(e,t){return d(d({},e),{},{lastNoteColorUsed:t})}removeDot(e,t){return e.dotId!==t?e:d(d({},e),{},{dotId:null})}changeDotFilter(e,t,n,i){return d(d({},e),{},{colorFilter:n,statusFilter:t,dotId:i})}flash(e,t){return d(d({},e),{},{flash:t})}dotsFlashed(e){return d(d({},e),{},{flash:!1})}selectDot(e,t,n){return e.dotId===t?e:d(d({},e),{},{dotId:t,highlightedComments:n,highlightedDots:e.highlightedDots.filter(e=>e!==t)})}deselectDot(e){return d(d({},e),{},{dotId:null})}highlightDots(e,t){return d(d({},e),{},{highlightedDots:[].concat(t).filter(Boolean)})}unhighlightDot(e,t){return d(d({},e),{},{highlightedDots:e.highlightedDots.filter(e=>e!==t)})}reduce(e,t){switch(t.type){case l.a.CHANGE_SELECTED_VIEW:case l.a.RESET:return this.reset();case l.a.LOAD:return this.load(t.dots);case r.a.SET_DOTS:return this.setDots(e,t.dotId,t.statusFilter,t.colorFilter);case r.a.CREATE_NOTE:return this.createNote(e,t.dot._id);case r.a.UPDATE_DOT:return this.updateDot(e,t.did,t.dotData._id);case r.a.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t.did,t.status);case r.a.UPDATE_DOT_COLOR:return this.updateLastNoteColorUsed(e,t.colorName);case r.a.REMOVE_DOT:return this.removeDot(e,t.did);case r.a.CHANGE_DOT_FILTER:return this.changeDotFilter(e,t.status,t.color,t.dotId);case r.a.ENABLE_NOTE_MODE:return this.flash(e,t.flash);case r.a.DOTS_FLASHED:return this.dotsFlashed(e);case r.a.OPEN_SCREEN:case r.a.SELECT_DOT:return this.selectDot(e,t.dotId,t.commentId);case r.a.SELECT_LAYER:case r.a.CLOSE_DOT_POPUP:case r.a.OPEN_DOT_MENU:case r.a.DESELECT_LAYER:return this.deselectDot(e);case r.a.HIGHLIGHT_DOTS:return this.highlightDots(e,t.dids);case r.a.UNHIGHLIGHT_DOT:return this.unhighlightDot(e,t.did);default:return e}}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(273),r=n.n(a),s=n(276),l=n.n(s),c=n(277),d=n.n(c),u=n(334),p=n.n(u),h=n(337),f=n(338),g=n(227),m=n(230);function b(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends o.a{getInitialState(){return{loadingSnapshot:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,notesVisible:!0,noteMode:!1,tagManagerScreenId:null,layoutGridEnabled:!1,zoomLevel:1,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,screenSidebarWidth:260,selectedSidebarTab:h.default[0].id,sourceFiles:{},componentVariantsOnboardingHintboxSeen:!1,componentVariantViewSeen:!1,numberOfLayerComponentViews:0,loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:Object(g.isMobileViewport)(),hasNewVersions:!1,showVersionsTutorial:!1,showVersionsAuntie:!1,versionsSidebarWidth:280}}reset(){return this.getInitialState()}load(e={}){return y(y({},this.getInitialState()),e)}openScreen(e,t){let{shouldResetDashboardFilters:n,barrelId:i,dotId:o,commentId:a}=t,r=b(t,["shouldResetDashboardFilters","barrelId","dotId","commentId"]);return y(y(y({},e),r),{},{selectedLayer:null,destinationLayer:null,noteMode:!1})}closeScreen(e){return y(y({},e),{},{loadingSnapshot:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,noteMode:!1,tagManagerScreenId:null,layoutGridEnabled:!1,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,selectedSidebarTab:h.default[0].id,loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:!1,hasNewVersions:!1,showVersionsAuntie:!1})}changeZoomLevel(e,t,n=!1){const i=Math.max(f.ZOOM_LEVEL_MIN,Math.min(t,f.ZOOM_LEVEL_MAX));return y(y({},e),{},{zoomLevel:i,animateZooming:n})}zoomIn(e){const t=f.default.find(t=>t>e.zoomLevel)||f.ZOOM_LEVEL_MAX;return this.changeZoomLevel(e,t,!0)}zoomOut(e){const t=[...f.default].reverse().find(t=>t<e.zoomLevel)||f.ZOOM_LEVEL_MIN;return this.changeZoomLevel(e,t,!0)}resetZoom(e){return this.changeZoomLevel(e,f.ZOOM_LEVEL_DEFAULT,!0)}zoomApplied(e){return e.animateZooming?y(y({},e),{},{animateZooming:!1}):e}startGesture(e){return y(y({},e),{},{zoomLevelAtGestureStart:e.zoomLevel})}zoomWithGesture(e,t){return this.changeZoomLevel(e,e.zoomLevelAtGestureStart*t)}zoomWithWheel(e,t){return this.changeZoomLevel(e,e.zoomLevel-t/100)}openTagManager(e,t){return y(y({},e),{},{tagManagerScreenId:t})}closeTagManager(e){return y(y({},e),{},{tagManagerScreenId:null})}toggleLayoutGrid(e){return y(y({},e),{},{layoutGridEnabled:!e.layoutGridEnabled})}enableNoteMode(e){return y(y({},e),{},{notesVisible:!0,noteMode:!0})}disableNoteMode(e){return y(y({},e),{},{noteMode:!1})}showNotes(e){return y(y({},e),{},{notesVisible:!0,noteMode:!1})}hideNotes(e){return y(y({},e),{},{notesVisible:!1,noteMode:!1})}selectLayer(e,{layer:t,shouldIncrementNumberOfLayerComponentViews:n}){const i=e.numberOfLayerComponentViews+(n?1:0);return y(y({},e),{},{selectedLayer:t,destinationLayer:t,numberOfLayerComponentViews:i})}deselectLayer(e){return y(y({},e),{},{selectedLayer:null,destinationLayer:null})}enterLayer(e,t){return e.selectedLayer?y(y({},e),{},{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?y(y({},e),{},{destinationLayer:null}):e}enablePercentageMode(e){return y(y({},e),{},{percentageMode:!0})}disablePercentageMode(e){return y(y({},e),{},{percentageMode:!1})}showFlowLinks(e){return y(y({},e),{},{flowLinksVisible:!0})}hideFlowLinks(e){return y(y({},e),{},{flowLinksVisible:!1})}changeSidebarTab(e,t){return y(y({},e),{},{selectedSidebarTab:t})}changeScreenSidebarWidth(e,t){return y(y({},e),{},{screenSidebarWidth:t})}setSnapshot(e,{sid:t}){return t!==e.screenId?e:y(y({},e),{},{loadingSnapshot:!1})}setVersionId(e,{versionId:t,latestVersionSelected:n}){return y(y({},e),{},{versionId:t,latestVersionSelected:n,selectedLayer:null,destinationLayer:null})}setVersions(e,{sid:t,versionId:n}){return t!==e.screenId?e:y(y({},e),{},{versionId:n,loadingVersions:!1})}addVersion(e,{sid:t,versionId:n,latestVersionSelected:i,hasNewVersions:o}){return t!==e.screenId?e:y(y({},e),{},{versionId:n,latestVersionSelected:i,hasNewVersions:o,loadingSnapshot:!0})}showVersions(e,{loadingVersions:t}){return y(y({},e),{},{loadingVersions:t,versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})}hideVersions(e){return y(y({},e),{},{versionsVisible:!1,versionsCompactMode:!1})}toggleVersions(e,t){return e.versionsVisible?this.hideVersions(e):this.showVersions(e,t)}enableVersionsCompactMode(e){return y(y({},e),{},{versionsCompactMode:!0})}disableVersionsCompactMode(e){return y(y({},e),{},{versionsCompactMode:!1})}showVersionsAuntie(e){return y(y({},e),{},{showVersionsTutorial:!1,showVersionsAuntie:!0})}hideVersionsAuntie(e){return y(y({},e),{},{showVersionsAuntie:!1})}newVersionsFound(e){return y(y({},e),{},{hasNewVersions:!0})}changeVersionsSidebarWidth(e,t){return y(y({},e),{},{versionsSidebarWidth:t})}removeVersion(e,{sid:t,versionId:n,removingCurrentVersion:i}){return t===e.screenId&&i?y(y({},e),{},{versionId:n,latestVersionSelected:!0}):e}setSourceFile(e,{versionId:t,sourceFile:n}){return y(y({},e),{},{sourceFiles:y(y({},e.sourceFiles),{},{[t]:n})})}updateForRemoveScreen(e,{removingCurrentScreen:t}){return t?this.closeScreen(e):e}hideComponentVariantsOnboardingHintbox(e){return y(y({},e),{},{componentVariantsOnboardingHintboxSeen:!0})}setComponentVariantViewAsSeen(e){return y(y({},e),{},{componentVariantViewSeen:!0})}reduce(e,t){switch(t.type){case r.a.RESET:case l.a.RESET:return this.reset();case l.a.LOAD:return this.load(t.screen);case l.a.CHANGE_SELECTED_VIEW:return t.selectedView===m.ProjectViewTypes.SCREEN?e:this.closeScreen(e);case d.a.OPEN_SCREEN:return this.openScreen(e,t);case d.a.CHANGE_ZOOM_LEVEL:return this.changeZoomLevel(e,t.zoomLevel,t.animateZooming);case d.a.ZOOM_IN:return this.zoomIn(e);case d.a.ZOOM_OUT:return this.zoomOut(e);case d.a.RESET_ZOOM:return this.resetZoom(e);case d.a.START_GESTURE:return this.startGesture(e);case d.a.ZOOM_WITH_GESTURE:return this.zoomWithGesture(e,t.scale);case d.a.ZOOM_WITH_WHEEL:return this.zoomWithWheel(e,t.deltaY);case d.a.ZOOM_APPLIED:return this.zoomApplied(e);case d.a.OPEN_TAG_MANAGER:return this.openTagManager(e,t.sid);case d.a.CLOSE_TAG_MANAGER:return this.closeTagManager(e);case d.a.TOGGLE_LAYOUT_GRID:return this.toggleLayoutGrid(e);case d.a.ENABLE_NOTE_MODE:return this.enableNoteMode(e);case d.a.DISABLE_NOTE_MODE:return this.disableNoteMode(e);case d.a.SHOW_NOTES:case d.a.SELECT_DOT:case d.a.CREATE_NOTE:return this.showNotes(e);case d.a.HIDE_NOTES:return this.hideNotes(e);case d.a.SELECT_LAYER:return this.selectLayer(e,t);case d.a.DESELECT_LAYER:return this.deselectLayer(e);case d.a.ENTER_LAYER:return this.enterLayer(e,t.layer,t.percentageMode);case d.a.LEAVE_LAYER:return this.leaveLayer(e);case d.a.ENABLE_PERCENTAGE_MODE:return this.enablePercentageMode(e);case d.a.DISABLE_PERCENTAGE_MODE:return this.disablePercentageMode(e);case d.a.SHOW_FLOW_LINKS:return this.showFlowLinks(e);case d.a.HIDE_FLOW_LINKS:return this.hideFlowLinks(e);case d.a.CHANGE_SIDEBAR_TAB:return this.changeSidebarTab(e,t.selectedSidebarTab);case d.a.CHANGE_SCREEN_SIDEBAR_WIDTH:return this.changeScreenSidebarWidth(e,t.screenSidebarWidth);case d.a.SET_SNAPSHOT:return this.setSnapshot(e,t);case d.a.SET_VERSION_ID:return this.setVersionId(e,t);case d.a.SET_VERSIONS:return this.setVersions(e,t);case d.a.ADD_VERSION:return this.addVersion(e,t);case d.a.SHOW_VERSIONS:return this.showVersions(e,t);case d.a.HIDE_VERSIONS:return this.hideVersions(e);case d.a.TOGGLE_VERSIONS:return this.toggleVersions(e,t);case d.a.SHOW_VERSIONS_AUNTIE:return this.showVersionsAuntie(e);case d.a.ENABLE_VERSIONS_COMPACT_MODE:return this.enableVersionsCompactMode(e);case d.a.DISABLE_VERSIONS_COMPACT_MODE:return this.disableVersionsCompactMode(e);case d.a.HIDE_VERSIONS_AUNTIE:return this.hideVersionsAuntie(e);case d.a.NEW_VERSIONS_FOUND:return this.newVersionsFound(e);case d.a.CHANGE_VERSIONS_SIDEBAR_WIDTH:return this.changeVersionsSidebarWidth(e,t.versionsSidebarWidth);case d.a.REMOVE_VERSION:return this.removeVersion(e,t);case d.a.SET_SOURCE_FILE:return this.setSourceFile(e,t);case d.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);case d.a.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX:return this.hideComponentVariantsOnboardingHintbox(e);case p.a.OPEN:return this.setComponentVariantViewAsSeen(e);case p.a.SELECT_LAYER:return this.deselectLayer(e);default:return e}}}t.default=v},function(e,t,n){"use strict";n.r(t);t.default=[{id:"info",title:"Information"},{id:"colors",title:"Colors"},{id:"assets",title:"Assets"},{id:"notes",title:"Notes"}]},function(e,t,n){"use strict";n.r(t),n.d(t,"ZOOM_LEVEL_DEFAULT",(function(){return o})),n.d(t,"ZOOM_LEVEL_MIN",(function(){return a})),n.d(t,"ZOOM_LEVEL_MAX",(function(){return r}));const i=Object.freeze([.25,.5,.75,1,1.5,2,2.5,3,4,5]),o=1,a=i[0],r=i[i.length-1];t.default=i},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(11)),l=r(n(340)),c=a(n(341)),d=n(245);function u(e,t,n,i){return n?Object.assign(Object.assign({},e),{[t]:c.getEventsOfGroup(i,t)}):d.filterOut(e,t)}function p(e,t,n,i){var o;const a=c.getGroupOfEvent(i,t);let r=null!==(o=e[a])&&void 0!==o?o:[];return n&&!r.includes(t)?Object.assign(Object.assign({},e),{[a]:r.concat(t)}):!n&&r.includes(t)?(r=r.filter(e=>e!==t),0===r.length?d.filterOut(e,a):Object.assign(Object.assign({},e),{[a]:r})):e}class h extends s.default{getInitialState(){return{open:!1,inid:null,channelName:null,eventGroupsByInid:{},loading:[],barrelType:null}}load(e,t,n,i){return Object.assign(Object.assign({},e),{barrelType:i,eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:c.groupEvents(i,n)})})}open(e,t,n){return t in e.eventGroupsByInid?Object.assign(Object.assign({},e),{open:!0,inid:t,channelName:n}):e}close(e){return Object.assign(Object.assign({},e),{open:!1,inid:null,channelName:null,loading:[]})}updateEventGroup(e,t,n){return Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[e.inid]:u(e.eventGroupsByInid[e.inid],t,n,e.barrelType)}),loading:e.loading.concat(t)})}eventGroupUpdated(e,t,n){return e.inid===t?Object.assign(Object.assign({},e),{loading:e.loading.filter(e=>e!==n)}):e}eventGroupUpdateFailed(e,t,n){return Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:u(e.eventGroupsByInid[t],n,!e.eventGroupsByInid[t][n],e.barrelType)}),loading:e.inid===t?e.loading.filter(e=>e!==n):e.loading})}eventUpdated(e,t,n,i){return e.eventGroupsByInid[t]?Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:p(e.eventGroupsByInid[t],n,i,e.barrelType)})}):e}reduce(e,t){switch(t.type){case l.default.LOAD:return this.load(e,t.inid,t.events,t.barrelType);case l.default.OPEN:return this.open(e,t.inid,t.channelName);case l.default.CLOSE:return this.close(e);case l.default.UPDATE_EVENT_GROUP:return this.updateEventGroup(e,t.eventGroup,t.checked);case l.default.EVENT_GROUP_UPDATED:return this.eventGroupUpdated(e,t.inid,t.eventGroup);case l.default.EVENT_GROUP_UPDATE_FAILED:return this.eventGroupUpdateFailed(e,t.inid,t.eventGroup);case l.default.EVENT_UPDATED:return this.eventUpdated(e,t.inid,t.event,t.enabled);default:return e}}}t.default=h},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INIT="slackPreferences/init",e.LOAD="slackPreferences/load",e.OPEN="slackPreferences/open",e.CLOSE="slackPreferences/close",e.UPDATE_EVENT_GROUP="slackPreferences/updateEventGroup",e.EVENT_GROUP_UPDATED="slackPreferences/eventGroupUpdated",e.EVENT_GROUP_UPDATE_FAILED="slackPreferences/eventGroupUpdateFailed",e.EVENT_UPDATED="slackPreferences/eventUpdated"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.eventGroupsByBarrelType=t.groupEvents=t.getGroupOfEvent=t.getEventsOfGroup=void 0;const o=i(n(261)),a={[o.default.PROJECT]:{screens:{name:"Screens",info:"Screen added",events:["project.screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["project.screen.version.created"]},components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["project.component.created","project.component.version.created","project.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["project.color.created","project.color.updated","project.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["project.textstyle.created","project.textstyle.updated","project.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["project.spacingtoken.created","project.spacingtoken.updated","project.spacingtoken.deleted"]},notes:{name:"Notes",info:"Note added",events:["project.dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["project.dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["project.extension.added","project.extension.removed"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},[o.default.STYLEGUIDE]:{components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["styleguide.component.created","styleguide.component.version.created","styleguide.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["styleguide.color.created","styleguide.color.updated","styleguide.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["styleguide.textstyle.created","styleguide.textstyle.updated","styleguide.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["styleguide.spacingtoken.created","styleguide.spacingtoken.updated","styleguide.spacingtoken.deleted"]},members:{name:"Members",info:"Member invited",events:["styleguide.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["styleguide.extension.added","styleguide.extension.removed"]},styleguideStatus:{name:"Styleguide status",info:"Styleguide archived or activated",events:["styleguide.archived","styleguide.activated"]}}};function r(e){return Object.keys(a[e]).reduce((t,n)=>a[e][n].events.reduce((e,t)=>(e[t]=n,e),t),{})}t.eventGroupsByBarrelType=a;const s={project:r(o.default.PROJECT),styleguide:r(o.default.STYLEGUIDE)};function l(e,t){return s[e][t]}t.groupEvents=function(e,t){return t.reduce((t,n)=>{var i;const o=l(e,n);return o&&(null!==(i=t[o])&&void 0!==i?i:t[o]=[]).push(n),t},{})},t.getEventsOfGroup=function(e,t){return a[e][t].events},t.getGroupOfEvent=l},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(278),r=n.n(a),s=n(273),l=n.n(s),c=n(308),d=n(310),u=n(309),p=n.n(u),h=n(276),f=n.n(h),g=n(312),m=n(230);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends o.a{getInitialState(){return{loading:!0,selectedTab:m.WorkspaceTabs.PROJECTS,selectedOrganizationId:"user",selectedProjectSortType:m.SortTypes.CREATED,showArchivedProjects:!1,pinnedBarrelOnce:!1,selectedWorkflowStatusFilter:g.default.All._id,filterValue:"",highlightedBarrels:[],highlightedSection:null,collapsedSections:{},styleguidesTabVisited:!1,visibleDialogType:null,visibleDialogParams:{},autoExpandNotifications:!1}}reset(){return this.getInitialState()}updatePageState(e,t){return S(S(S({},e),t),{},{loading:!1})}changeProjectSelectedSortType(e,t){return S(S({},e),{},{selectedProjectSortType:t})}toggleArchivedProjects(e){return S(S({},e),{},{showArchivedProjects:!e.showArchivedProjects})}setPinnedBarrelOnce(e){return e.pinnedBarrelOnce?e:S(S({},e),{},{pinnedBarrelOnce:!0})}updateForUnpinBarrel(e,{bid:t}){return this.unhighlightBarrel(e,{bid:t})}changeWorkflowStatusFilter(e,{workflowStatusFilter:t}){return S(S({},e),{},{selectedWorkflowStatusFilter:t})}changeWorkflowStatusFilterOnDelete(e,{oldWorkflowStatusData:t}){return e.selectedWorkflowStatusFilter===t._id?this.changeWorkflowStatusFilter(e,{_id:g.default.All._id}):e}unhighlightBarrel(e,{bid:t}){return S(S({},e),{},{highlightedBarrels:e.highlightedBarrels.filter(e=>e!==t)})}highlightSection(e,{oseid:t}){const{collapsedSections:n}=e;return n[t]&&(n[t]=!1),S(S({},e),{},{collapsedSections:n,highlightedSection:t})}unhighlightSection(e){return S(S({},e),{},{highlightedSection:null})}expandHighlightedSections(e,{organization:t}){if(!t)return e;const{sections:n}=t,{highlightedBarrels:i,selectedTab:o}=e;if(!n||!i.length||o!==m.WorkspaceTabs.PROJECTS)return e;const a=n.filter(e=>"default"!==e.name&&e.projects.some(e=>i.includes(e))).map(e=>e._id);return this.expandSections(e,{oseids:a})}expandSections(e,{oseids:t}){return S(S({},e),{},{collapsedSections:S(S({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!1])))})}collapseSections(e,{oseids:t}){return S(S({},e),{},{collapsedSections:S(S({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}setStyleguidesTabVisited(e){return S(S({},e),{},{styleguidesTabVisited:!0})}showLoading(e){return S(S({},e),{},{loading:!0})}hideLoading(e){return S(S({},e),{},{loading:!1})}openDialog(e,{dialogType:t,dialogParams:n}){return S(S({},e),{},{visibleDialogType:t,visibleDialogParams:n})}closeDialog(e){return S(S({},e),{},{visibleDialogType:null,visibleDialogParams:{}})}closePreviewDialog(e,{bid:t}){const{visibleDialogParams:{previewBarrelId:n}}=e;return n===t?this.closeDialog(e):e}resetSortTypeAndFilters(e,t){let n=e;return t.syncWithApi&&(e.selectedProjectSortType!==m.SortTypes.SECTIONS&&(n=this.changeProjectSelectedSortType(n,m.SortTypes.SECTIONS)),e.selectedWorkflowStatusFilter!==g.default.All._id&&(n=this.changeWorkflowStatusFilter(n,{_id:g.default.All._id}))),n}resetUIInteractions(e,t){return this.resetSortTypeAndFilters(e,t)}setAutoExpandNotifications(e,{autoExpandNotifications:t}){return S(S({},e),{},{autoExpandNotifications:t})}autoExpandNotifications(e){return S(S({},e),{},{autoExpandNotifications:!0})}reduce(e,t){switch(t.type){case r.a.UPDATE_PAGE_STATE:return this.updatePageState(e,t.updateState);case r.a.CHANGE_PROJECT_SELECTED_SORT_TYPE:return this.changeProjectSelectedSortType(e,t.sortType);case r.a.TOGGLE_ARCHIVED_PROJECTS:return this.toggleArchivedProjects(e);case r.a.CHANGE_WORKFLOW_STATUS_FILTER:return this.changeWorkflowStatusFilter(e,t);case r.a.UNHIGHLIGHT_BARREL:return this.unhighlightBarrel(e,t);case r.a.EXPAND_SECTIONS:return this.expandSections(e,t);case r.a.COLLAPSE_SECTIONS:return this.collapseSections(e,t);case r.a.SET_STYLEGUIDES_TAB_VISITED:return this.setStyleguidesTabVisited(e);case r.a.OPEN_DIALOG:return this.openDialog(e,t);case r.a.CLOSE_DIALOG:return this.closeDialog(e,t);case r.a.HIDE_LOADING:return this.hideLoading(e);case r.a.HIGHLIGHT_SECTION:return this.highlightSection(e,t);case r.a.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case r.a.SET_AUTO_EXPAND_NOTIFICATIONS:return this.setAutoExpandNotifications(e,t);case c.default.ADD_BARREL_TO_FOCUS_SUCCESS:return this.setPinnedBarrelOnce(e);case c.default.REMOVE_BARREL_FROM_FOCUS:return this.updateForUnpinBarrel(e,t);case c.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.changeWorkflowStatusFilterOnDelete(e,t);case c.default.ADD_PROJECT_SECTION:case c.default.UPDATE_PROJECT_ORDER:return this.resetUIInteractions(e,t);case p.a.CREATE_PROJECT:case d.default.CREATE_STYLEGUIDE:return this.showLoading(e);case f.a.ARCHIVE:case f.a.REMOVE:return this.closePreviewDialog(e,t);case l.a.SWITCH_TO_OLD_NOTIFICATION_EXPERIENCE:return this.autoExpandNotifications(e);case l.a.LOAD_WORKSPACE_DATA:return this.expandHighlightedSections(e,t);case l.a.RESET:return this.reset();default:return e}}}t.default=C},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),a=i(n(273)),r=i(n(278)),s=i(n(276));class l extends o.default{getInitialState(){return{selectedProjects:[]}}toggleProjectSelection(e,t){const n=new Set(e.selectedProjects);return n.has(t)?n.delete(t):n.add(t),Object.assign(Object.assign({},e),{selectedProjects:Array.from(n)})}clearProjectSelection(e){return Object.assign(Object.assign({},e),{selectedProjects:[]})}selectProjects(e,t){return Object.assign(Object.assign({},e),{selectedProjects:e.selectedProjects.concat(t.filter(t=>e.selectedProjects.indexOf(t)<0))})}deselectProjects(e,t){return Object.assign(Object.assign({},e),{selectedProjects:e.selectedProjects.filter(e=>!t.includes(e))})}reduce(e,t){switch(t.type){case r.default.TOGGLE_PROJECT_SELECTION:return this.toggleProjectSelection(e,t.pid);case r.default.CLEAR_PROJECT_SELECTION:case s.default.DELETE_WORKFLOW_STATUSES:case s.default.UPDATE_WORKFLOW_STATUSES:case a.default.SET_PAGE:return this.clearProjectSelection(e);case r.default.SELECT_PROJECTS:return this.selectProjects(e,t.projectIds);case r.default.DESELECT_PROJECTS:return this.deselectProjects(e,t.projectIds);default:return e}}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(330),r=n(273),s=n.n(r),l=n(276),c=n.n(l),d=n(345),u=n(230);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends o.a{getInitialState(){return{sortType:u.SortTypes.SECTIONS,filterValue:"",leftSidebarWidth:200,rightSidebarWidth:280,selectedStyleguideSection:"about",selectedNavigatorId:null,collapsedSections:{},highlightedColors:[],highlightedTextStyles:[],highlightedSpacingTokens:[],scrolledSection:null,highlightScrolledSection:!1,selectionComponentId:null,selection:null,moveResourcesPopup:null,showSuggestedResourcesBadge:{colors:!1,textStyles:!1},componentVariantsOnboardingDialogSeen:!1,convertedAnySectionIntoVariant:!1}}reset(){return this.getInitialState()}load(e={}){return h(h({},this.getInitialState()),e)}updateState(e,t){return h(h({},e),t)}changeSortType(e,t){return h(h({},e),{},{sortType:t})}changeFilterValue(e,t){return h(h({},e),{},{filterValue:t})}changeLeftSidebarWidth(e,t){return h(h({},e),{},{leftSidebarWidth:t})}changeRightSidebarWidth(e,t){return h(h({},e),{},{rightSidebarWidth:t})}changeSelectedNavigatorId(e,t,n){return h(h({},e),{},{selectedStyleguideSection:t,selectedNavigatorId:n,scrolledSection:n,highlightScrolledSection:!1})}highlightColors(e,t){return h(h({},e),{},{highlightedColors:[].concat(t).filter(Boolean)})}unhighlightColor(e,t){return h(h({},e),{},{highlightedColors:e.highlightedColors.filter(e=>e!==t)})}highlightTextStyles(e,t){return h(h({},e),{},{highlightedTextStyles:[].concat(t).filter(Boolean)})}unhighlightTextStyle(e,t){return h(h({},e),{},{highlightedTextStyles:e.highlightedTextStyles.filter(e=>e!==t)})}highlightSpacingTokens(e,t){return h(h({},e),{},{highlightedSpacingTokens:[].concat(t).filter(Boolean)})}unhighlightSpacingToken(e,t){return h(h({},e),{},{highlightedSpacingTokens:e.highlightedSpacingTokens.filter(e=>e!==t)})}sectionScrolled(e){return h(h({},e),{},{scrolledSection:null,highlightScrolledSection:!1})}changeSelection(e,{selectionComponentId:t,selection:n,collapsedSections:i}){return h(h({},e),{},{selectionComponentId:t,selection:n,collapsedSections:i||e.collapsedSections})}updateForChangeSelectedView(e,{selectedView:t}){return t===u.ProjectViewTypes.STYLEGUIDE?e:h(h({},e),{},{selectionComponentId:null,selection:null,convertedAnySectionIntoVariant:!1})}componentSnapshotsReady(e){return h({},e)}removeComponent(e,{coid:t}){return t===e.selectionComponentId?h(h({},e),{},{selectionComponentId:null,selection:null}):e}openMoveResourcesPopup(e,{resources:t,resourceType:n,targetNode:i}){return h(h({},e),{},{moveResourcesPopup:{resources:t,resourceType:n,targetNode:i,targetStyleguide:null}})}closeMoveResourcesPopup(e){return h(h({},e),{},{moveResourcesPopup:null})}selectMoveResourcesTargetStyleguide(e,{targetStyleguide:t}){const{moveResourcesPopup:n}=e;return h(h({},e),{},{moveResourcesPopup:h(h({},n),{},{targetStyleguide:t})})}deselectMoveResourcesTargetStyleguide(e){const{moveResourcesPopup:t}=e;return h(h({},e),{},{moveResourcesPopup:h(h({},t),{},{targetStyleguide:null})})}expandSections(e,{seids:t}){return h(h({},e),{},{collapsedSections:h(h({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!1])))})}collapseSections(e,{seids:t}){return h(h({},e),{},{collapsedSections:h(h({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}collapseAllSections(e,{seids:t}){return h(h({},e),{},{selectedNavigatorId:null,selectionComponentId:null,collapsedSections:h(h({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}setSuggestedResources(e){return h(h({},e),{},{showSuggestedResourcesBadge:{colors:"colors"!==e.selectedStyleguideSection,textStyles:"textStyles"!==e.selectedStyleguideSection}})}hideComponentVariantsOnboardingDialog(e){return h(h({},e),{},{componentVariantsOnboardingDialogSeen:!0})}convertedAnySectionIntoVariant(e,{userConvertedSectionIntoVariant:t}){return e.convertedAnySectionIntoVariant||!t?e:h(h({},e),{},{convertedAnySectionIntoVariant:!0})}reduce(e,t){switch(t.type){case s.a.RESET:return this.reset();case c.a.LOAD:return this.load(t.styleguide);case c.a.CHANGE_SELECTED_VIEW:return this.updateForChangeSelectedView(e,t);case a.default.UPDATE_STATE:return this.updateState(e,t.update);case a.default.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case a.default.CHANGE_FILTER_VALUE:return this.changeFilterValue(e,t.filterValue);case a.default.CHANGE_LEFT_SIDEBAR_WIDTH:return this.changeLeftSidebarWidth(e,t.leftSidebarWidth);case a.default.CHANGE_RIGHT_SIDEBAR_WIDTH:return this.changeRightSidebarWidth(e,t.rightSidebarWidth);case a.default.CHANGE_SELECTED_NAVIGATOR_ID:return this.changeSelectedNavigatorId(e,t.selectedStyleguideSection,t.selectedNavigatorId);case a.default.HIGHLIGHT_COLORS:return this.highlightColors(e,t.cids);case a.default.UNHIGHLIGHT_COLOR:return this.unhighlightColor(e,t.cid);case a.default.HIGHLIGHT_TEXT_STYLES:return this.highlightTextStyles(e,t.tsids);case a.default.UNHIGHLIGHT_TEXT_STYLE:return this.unhighlightTextStyle(e,t.tsid);case a.default.HIGHLIGHT_SPACING_TOKENS:return this.highlightSpacingTokens(e,t.sptids);case a.default.UNHIGHLIGHT_SPACING_TOKEN:return this.unhighlightSpacingToken(e,t.sptid);case a.default.SECTION_SCROLLED:return this.sectionScrolled(e);case a.default.CHANGE_SELECTION:return this.changeSelection(e,t);case a.default.COMPONENT_SNAPSHOTS_READY:return this.componentSnapshotsReady(e);case a.default.OPEN_MOVE_RESOURCES_POPUP:return this.openMoveResourcesPopup(e,t);case a.default.CLOSE_MOVE_RESOURCES_POPUP:return this.closeMoveResourcesPopup(e);case a.default.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.selectMoveResourcesTargetStyleguide(e,t);case a.default.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.deselectMoveResourcesTargetStyleguide(e);case a.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:return this.hideComponentVariantsOnboardingDialog(e);case a.default.EXPAND_SECTIONS:return this.expandSections(e,t);case a.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t);case a.default.COLLAPSE_ALL_SECTIONS:return this.collapseAllSections(e,t);case c.a.REMOVE_COMPONENT:return this.removeComponent(e,t);case c.a.MOVE_RESOURCES_SUCCESS:return this.closeMoveResourcesPopup(e);case c.a.MOVE_RESOURCES_FAIL:return this.deselectMoveResourcesTargetStyleguide(e);case d.default.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e);case a.default.SET_COMPONENT_VARIANT_DATA:return this.convertedAnySectionIntoVariant(e,t);default:return e}}}t.default=g},function(e,t,n){"use strict";n.r(t);t.default={SHOW_IMPORTS_LIST:"showImportsList",HIDE_IMPORTS_LIST:"hideImportsList",HIDE_IMPORTS_INDICATOR:"hideImportsIndicator",SET_SUGGESTED_RESOURCES:"setSuggestedResources",HANDLE_IMPORTS:"handleImports",GO_TO_IMPORTED_VERSION:"goToImportedVersion",RETRY_IMPORT:"retryImport",CANCEL_IMPORT:"cancelImport",RETRY_GET_PROJECT_FOR_IMPORTS:"retryGetProjectForImports",CLEAR_IMPORTS:"clearImports",HIDE_COMPONENT_LIMIT_HINT:"hideComponentLimitHint",SEE_PLANS:"seePlans"}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(310),r=n(276),s=n.n(r),l=n(284),c=n(330),d=n(308),u=n(273),p=n.n(u),h=n(318),f=n(261),g=n.n(f),m=n(328),b=n(331);function S(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends o.a{constructor(e){super(e),this.reducer=new m.default({bidPropertyName:"stid",barrelPropertyName:"styleguide",barrelsPropertyName:"styleguides",loadingBarrelPropertyName:"loadingStyleguide",loadingBarrelsPropertyName:"loadingStyleguides"},{deleteBarrel:this.remove})}getInitialState(){return{loadingStyleguide:!0,loadingStyleguides:!0,loadingSelectParent:!1,styleguides:{}}}reset(){return this.getInitialState()}add(e,{barrel:t,barrelType:n}){return n!==g.a.STYLEGUIDE?e:this.reducer.addBarrel(e,{barrel:t})}updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:o}){if(n!==g.a.STYLEGUIDE)return e;const{styleguides:a}=e,r=a[t],s=Object.fromEntries(i.map(e=>{const n=a[e];return n.status=o,n.parent&&(n.ancestors=n.ancestors.filter(e=>!r.ancestors.includes(e)),t===e&&(n.parent=null)),[e,n]}));return v(v({},e),{},{styleguides:v(v({},a),s)})}activateStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"active"})}archiveStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"archived"})}remove(e,{bid:t}){const n=e.styleguides,{[t]:i}=n,o=S(n,[t].map(y));return Object.values(o).forEach(e=>{e.parent===t&&(e.parent=i.parent),e.ancestors.includes(t)&&(e.ancestors=e.ancestors.filter(e=>e!==t))}),v(v({},e),{},{styleguides:v({},o)})}linkProjectToStyleguideSuccess(e,{project:t,styleguide:n,styleguides:i}){const o=this.reducer.updateBarrelValue(e,{stid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>[...e,t]}),a=i.reduce((e,t)=>v(v({},e),{},{[t._id]:new h.default(v(v({},t),{},{complete:!0}))}),{});return v(v({},o),{},{loadingSelectParent:!1,styleguides:v(v({},o.styleguides),a)})}unlinkProjectToStyleguide(e,{pid:t,styleguide:n}){return this.reducer.updateBarrelValue(e,{stid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>e.filter(e=>e._id!==t)})}updateUserData(e,{bid:t,uid:n,userData:i}){return this.reducer.updateBarrelValue(e,{stid:t,key:"users",value:({users:e})=>e.map(({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:v(v({},t),i)})})}transferOwnership(e,{bid:t,affectedIds:n,fromUserId:i,targetId:o,toOrganization:a,users:r,oid:s}){const l=e.styleguides[t];if(!l)return e;const c=n.map(t=>e.styleguides[t]);if(a||"user"!==s){const n=c.reduce((e,n)=>(n._id===t&&n.parent&&(n.ancestors=n.ancestors.filter(e=>e!==n.parent),n.parent=null),n.ancestors.includes(t)&&l.parent&&(n.ancestors=n.ancestors.filter(e=>e!==l.parent)),e[n._id]=n,e),{});return v(v({},e),{},{styleguides:v(v({},e.styleguides),n)})}const d=c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,key:"ancestors",value:e=>e.ancestors.filter(e=>!l.ancestors.includes(e))}),e),u=this.reducer.updateBarrelValue(d,{stid:l._id,key:"parent",value:null});return c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,key:"users",value:e=>e.users.map(e=>{if(r){if(e.user._id===i||e.user._id===o){const t=r.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===o&&(e.role="owner"),e.user._id===i&&(e.role="admin"),e})}),u)}load(e,t){const{barrel:{barrelType:n}}=t;if(n===g.a.STYLEGUIDE){const{data:{styleguide:n,organizationStyleguides:i,ancestors:o}}=t;if(n.partial)return this.reducer.getBarrelSuccess(e,{styleguide:n});let a=e;return i&&(a=this.reducer.getBarrelsSuccess(e,{styleguides:i})),o.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),this.reducer.getBarrelSuccess(a,{styleguide:n}))}const{data:{project:i,organizationStyleguides:o,linkedStyleguides:a}}=t;if(i.partial)return e;const r=o?this.reducer.getBarrelsSuccess(e,{styleguides:o}):e;return a.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),r)}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:o,targetStyleguideId:a}){const r=Object(b.default)(t);let s=e;o===g.a.STYLEGUIDE&&(s=this.reducer.updateBarrelValue(e,{stid:i,key:r,value:e=>e[r].filter(e=>!n.includes(e))}));const l=e.styleguides[a];return l&&l.complete?this.reducer.updateBarrelValue(s,{stid:a,key:r,value:e=>e[r].concat(n)}):s}selectParent(e,{stid:t,parent:n}){const i=e.styleguides[t],o=[...e.styleguides[n].ancestors,n];return i.parent=n,i.ancestors=o,Object.values(e.styleguides).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=[...o,...e.ancestors.slice(n)])}),v(v({},e),{},{styleguides:v({},e.styleguides)})}removeParent(e,{stid:t}){const n=e.styleguides[t];return n.ancestors=[],n.parent=null,Object.values(e.styleguides).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=e.ancestors.slice(n))}),v(v({},e),{},{styleguides:v({},e.styleguides)})}selectParentRequest(e){return v(v({},e),{},{loadingSelectParent:!0})}selectParentSuccess(e,{stid:t,parent:n,styleguides:i}){const o=this.selectParent(e,{stid:t,parent:n}),a=i.reduce((e,t)=>v(v({},e),{},{[t._id]:new h.default(v(v({},t),{},{complete:!0}))}),{});return v(v({},o),{},{loadingSelectParent:!1,styleguides:v(v({},o.styleguides),a)})}selectParentFailed(e){return v(v({},e),{},{loadingSelectParent:!1})}hydrateEmbeddedData(e,t){const{styleguides:n,project:i,linkedStyleguides:o,styleguide:a,ancestors:r}=t;let s=e;return n&&(s=this.reducer.getBarrelsSuccess(e,{styleguides:n})),i?i.partial?s:o.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),s):a?a.partial?this.reducer.getBarrelSuccess(s,{styleguide:a}):r.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),this.reducer.getBarrelSuccess(s,{styleguide:a})):s}reduce(e,t){switch(t.type){case a.default.GET_STYLEGUIDES_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case a.default.GET_STYLEGUIDES_FAILED:return this.reducer.getBarrelsFailed(e,t);case a.default.GET_STYLEGUIDE_REQUESTED:return this.reducer.getBarrelRequested(e);case a.default.GET_STYLEGUIDE_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case a.default.GET_STYLEGUIDE_FAILED:return this.reducer.getBarrelFailed(e,t);case a.default.UPDATE_STYLEGUIDE:return this.reducer.updateBarrel(e,t);case s.a.UPDATE_NAME:return this.reducer.updateName(e,t);case s.a.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case s.a.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case s.a.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case s.a.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case s.a.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case s.a.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case s.a.ADD_MEMBERS:return this.reducer.addMembers(e,t);case s.a.ADD_COLOR:return this.reducer.addColor(e,t);case s.a.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case s.a.UPDATE_COLOR:return this.reducer.updateColor(e,t);case s.a.REMOVE_COLOR:return this.reducer.removeColor(e,t);case s.a.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case s.a.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case s.a.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case s.a.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case s.a.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case s.a.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case s.a.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case s.a.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case s.a.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case s.a.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case s.a.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case s.a.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case s.a.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case s.a.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case s.a.ADD_COMPONENT:return this.reducer.addComponent(e,t);case s.a.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case s.a.SET_COMPONENT_SNAPSHOT:return this.reducer.setComponentSnapshot(e,t);case s.a.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case s.a.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case s.a.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case s.a.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case s.a.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case s.a.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case s.a.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case s.a.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case s.a.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case s.a.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case s.a.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case s.a.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case s.a.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case s.a.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case s.a.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case s.a.ADD:return this.add(e,t);case s.a.ACTIVATE:return this.activateStyleguide(e,t);case s.a.ARCHIVE:return this.archiveStyleguide(e,t);case s.a.REMOVE:return this.remove(e,t);case l.default.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case l.default.UNLINK_PROJECT:return this.unlinkProjectToStyleguide(e,t);case s.a.UPDATE_USER_DATA:return this.updateUserData(e,t);case a.default.TRANSFER_OWNERSHIP:case s.a.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case s.a.LOAD:return this.load(e,t);case s.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case d.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case d.default.REMOVE_UNJOINED_BARRELS:return this.reducer.removeUnjoinedBarrels(e,t);case a.default.SELECT_PARENT:return this.selectParent(e,t);case a.default.REMOVE_PARENT:return this.removeParent(e,t);case a.default.SELECT_PARENT_REQUEST:return this.selectParentRequest(e,t);case a.default.SELECT_PARENT_SUCCESS:return this.selectParentSuccess(e,t);case a.default.SELECT_PARENT_FAILED:return this.selectParentFailed(e,t);case c.default.CREATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.addComponentVariantProperty(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.updateComponentVariantProperty(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return this.reducer.updateComponentVariantPropertyName(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return this.reducer.updateComponentVariantPropertyValues(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:return this.reducer.updateComponentVariantPropertiesOrder(e,t);case c.default.SET_COMPONENT_VARIANT_DATA:return this.reducer.setComponentVariantData(e,t);case c.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return this.reducer.removeComponentVariantProperty(e,t);case c.default.REMOVE_COMPONENT_VARIANT_DATA:return this.reducer.removeComponentVariantData(e,t);case c.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY:return this.reducer.groupComponentsByVariantProperty(e,t);case p.a.LOAD_WORKSPACE_DATA:return this.reducer.getBarrelsSuccess(e,t);case p.a.RESET:return this.reset();case p.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=E},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(348);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a{getInitialState(){return{overridingCategory:null}}setOverridingCategory(e,t){return s(s({},e),{},{overridingCategory:t})}reduce(e,t){switch(t.type){case a.default.SET_OVERRIDING_CATEGORY:return this.setOverridingCategory(e,t.overridingCategory);default:return e}}}t.default=c},function(e,t,n){"use strict";n.r(t);t.default={SET_OVERRIDING_CATEGORY:"supportButton/setOverridingCategory"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),a=i(n(350)),r=i(n(276));class s extends o.default{constructor(e){super(e)}getInitialState(){return{channels:[],loading:!0}}reset(){return this.getInitialState()}setTeamsIntegration(e,t){return Object.assign(Object.assign({},e),{channels:t,loading:!1})}reduce(e,t){switch(t.type){case r.default.RESET:return this.reset();case a.default.SET_TEAMS_INTEGRATION:return this.setTeamsIntegration(e,t.channels);default:return e}}}t.default=s},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_TEAMS_INTEGRATION="teamsIntegration/getTeamsIntegration",e.SET_TEAMS_INTEGRATION="teamsIntegration/setTeamsIntegration"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(345),r=n(277),s=n.n(r),l=n(276),c=n.n(l),d=n(246),u=n(330),p=n(250),h=n(300);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return Object.keys(e).reduce((t,n)=>{const{colors:i=[],textStyles:o=[]}=e[n];return g(g({},t),{},{[n]:{colors:i.map(e=>new p.default(g({_id:Object(d.getRandomString)()},e))),textStyles:o.map(e=>new h.default(g({_id:Object(d.getRandomString)()},e)))}})},{})}class S extends o.a{getInitialState(){return{componentRejections:{},suggestedResourcesByBarrel:{},versionImports:[],indicatorVisible:!1,listVisible:!1}}hideImportsIndicator(e){return Object.assign({},e,{indicatorVisible:!1})}showImportsList(e){return Object.assign({},e,{indicatorVisible:!0,listVisible:!0})}hideImportsList(e){return Object.assign({},e,{listVisible:!1})}removeColorFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{color:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:a,textStyles:r}}=n;if(!a.length)return e;const s=new p.default(i);return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},n),{},{[o]:{textStyles:r,colors:a.filter(e=>e.id!==s.id)}})})}removeColorsFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{colors:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:a}}=n;return a.length?i.reduce((e,t)=>this.removeColorFromSuggestions(e,{color:t,bid:o}),e):e}removeTextStyleFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyle:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:a,textStyles:r}}=n;if(!r.length)return e;const s=new h.default(i);return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},n),{},{[o]:{colors:a,textStyles:r.filter(e=>e.id!==s.id)}})})}removeTextStylesFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyles:i,bid:o}=t;if(!n[o])return e;const{[o]:{textStyles:a}}=n;return a.length?i.reduce((e,t)=>this.removeTextStyleFromSuggestions(e,{textStyle:t,bid:o}),e):e}hideSuggestedColors(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:o}}=e;return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},i),{},{[n]:g(g({},o),{},{colors:[]})})})}hideSuggestedTextStyles(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:o}}=e;return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},i),{},{[n]:g(g({},o),{},{textStyles:[]})})})}setSuggestedResources(e,t){const{suggestedResourcesByBarrel:n}=t;return g(g({},e),{},{suggestedResourcesByBarrel:b(n)})}handleImports(e,t){const{componentImportRejections:n,versionCollectionImports:i}=t;return Object.assign({},e,{componentRejections:n,versionImports:i,indicatorVisible:i.length>0,listVisible:0!==i.length&&e.listVisible})}reduce(e,t){switch(t.type){case s.a.OPEN_SCREEN:return this.hideImportsList(e);case c.a.ADD_MULTIPLE_COLORS:return this.removeColorsFromSuggestions(e,t);case c.a.ADD_COLOR:return this.removeColorFromSuggestions(e,t);case c.a.ADD_TEXT_STYLE:return this.removeTextStyleFromSuggestions(e,t);case c.a.ADD_MULTIPLE_TEXT_STYLES:return this.removeTextStylesFromSuggestions(e,t);case u.default.HIDE_SUGGESTED_COLORS:return this.hideSuggestedColors(e,t);case u.default.HIDE_SUGGESTED_TEXT_STYLES:return this.hideSuggestedTextStyles(e,t);case a.default.HIDE_IMPORTS_INDICATOR:return this.hideImportsIndicator(e);case a.default.SHOW_IMPORTS_LIST:return this.showImportsList(e);case a.default.HIDE_IMPORTS_LIST:return this.hideImportsList(e);case a.default.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e,t);case a.default.HANDLE_IMPORTS:return this.handleImports(e,t.imports);case a.default.GO_TO_IMPORTED_VERSION:return this.hideImportsList(e);default:return e}}}t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(353),r=n(354);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o.a{getInitialState(){return{isGetWebhooksPending:!0,isGetWebhookPending:!1,isCreateWebhookPending:!1,isUpdateWebhookPending:!1,isDeleteWebhookPending:!1,webhooks:[]}}getWebhooksSuccess(e,{webhooks:t}){return l(l({},e),{},{webhooks:t.map(e=>new r.default(e)),isGetWebhooksPending:!1})}getWebhookRequest(e){return l(l({},e),{},{isGetWebhookPending:!0})}getWebhookSuccess(e,{webhook:t}){const{webhooks:n}=e;return l(l({},e),{},{webhooks:n.map(e=>e._id===t._id?new r.default(l(l({},t),{},{complete:!0})):e),isGetWebhookPending:!1})}getWebhookFailure(e){return l(l({},e),{},{isGetWebhookPending:!1})}createWebhookRequest(e){return l(l({},e),{},{isCreateWebhookPending:!0})}createWebhookSuccess(e,{webhook:t}){return l(l({},e),{},{webhooks:e.webhooks.filter(({_id:e})=>e!==t._id).concat(new r.default(t)),isCreateWebhookPending:!1})}createWebhookFailure(e){return l(l({},e),{},{isCreateWebhookPending:!1})}updateWebhookRequest(e){return l(l({},e),{},{isUpdateWebhookPending:!0})}updateWebhookSuccess(e,{webhook:t}){return l(l({},e),{},{webhooks:e.webhooks.map(e=>e._id===t._id?new r.default(t):e),isUpdateWebhookPending:!1})}updateWebhookFailure(e){return l(l({},e),{},{isUpdateWebhookPending:!1})}deleteWebhookRequest(e){return l(l({},e),{},{isDeleteWebhookPending:!0})}deleteWebhookSuccess(e,{webhookId:t}){return l(l({},e),{},{webhooks:e.webhooks.filter(({_id:e})=>e!==t),isDeleteWebhookPending:!1})}deleteWebhookFailure(e){return l(l({},e),{},{isDeleteWebhookPending:!1})}reduce(e,t){switch(t.type){case a.default.GET_WEBHOOKS_SUCCESS:return this.getWebhooksSuccess(e,t);case a.default.GET_WEBHOOK_REQUEST:return this.getWebhookRequest(e,t);case a.default.GET_WEBHOOK_SUCCESS:return this.getWebhookSuccess(e,t);case a.default.GET_WEBHOOK_FAILURE:return this.getWebhookFailure(e,t);case a.default.CREATE_WEBHOOK_REQUEST:return this.createWebhookRequest(e,t);case a.default.CREATE_WEBHOOK_SUCCESS:return this.createWebhookSuccess(e,t);case a.default.CREATE_WEBHOOK_FAILURE:return this.createWebhookFailure(e,t);case a.default.UPDATE_WEBHOOK_REQUEST:return this.updateWebhookRequest(e,t);case a.default.UPDATE_WEBHOOK_SUCCESS:return this.updateWebhookSuccess(e,t);case a.default.UPDATE_WEBHOOK_FAILURE:return this.updateWebhookFailure(e,t);case a.default.DELETE_WEBHOOK_REQUEST:return this.deleteWebhookRequest(e,t);case a.default.DELETE_WEBHOOK_SUCCESS:return this.deleteWebhookSuccess(e,t);case a.default.DELETE_WEBHOOK_FAILURE:return this.deleteWebhookFailure(e,t);default:return e}}}t.default=d},function(e,t,n){"use strict";n.r(t);t.default={GET_WEBHOOKS_REQUEST:"getWebhooksRequest",GET_WEBHOOKS_SUCCESS:"getWebhooksSuccess",GET_WEBHOOK_REQUEST:"getWebhookRequest",GET_WEBHOOK_SUCCESS:"getWebhookSuccess",GET_WEBHOOK_FAILURE:"getWebhookFailure",CREATE_WEBHOOK_REQUEST:"createWebhookRequest",CREATE_WEBHOOK_SUCCESS:"createWebhookSuccess",CREATE_WEBHOOK_FAILURE:"createWebhookFailure",UPDATE_WEBHOOK_REQUEST:"updateWebhookRequest",UPDATE_WEBHOOK_SUCCESS:"updateWebhookSuccess",UPDATE_WEBHOOK_FAILURE:"updateWebhookFailure",DELETE_WEBHOOK_REQUEST:"deleteWebhookRequest",DELETE_WEBHOOK_SUCCESS:"deleteWebhookSuccess",DELETE_WEBHOOK_FAILURE:"deleteWebhookFailure"}},function(e,t,n){"use strict";n.r(t);var i=n(253);class o extends i.default{constructor(e){if(super(),!e)return{};const{_id:t,id:n,url:i,status:o,urlHealth:a,subscriptions:r,subscribedAllEvents:s,createdBy:l,updatedBy:c,created:d,updated:u,oauthApp:p,complete:h}=e;this.id=t||n,this._id=t||n,this.url=i,this.status=o,this.urlHealth=a,this.subscriptions=r,this.subscribedAllEvents=s,this.createdBy=l,this.updatedBy=c,this.created=d,this.updated=u,this.oauthApp=p,this.complete=h}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),a=n(356),r=n(273),s=n.n(r),l=n(357);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a{getInitialState(){return{loading:!0,userId:null,username:null,fullName:null,email:null,avatar:null,emotar:null,verified:null,paymentPlan:null,isDesktopNotificationEnabled:null,isEmailNotificationEnabled:null,zeplinThreeZeroWhatsNewSeen:!0,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,selectedView:l.USER_MENU,acquaintancesLoading:!1,acquaintancesError:null,acquaintances:null}}loadUser(e,t){if(!t)return e;const{_id:n,username:i,fullName:o,email:a,status:r,avatar:s,emotar:l,emailNotifications:c,billing:u,paymentPlan:p}=t;return d(d({},e),{},{userId:n,username:i,fullName:o,email:a,verified:"verified"===r,avatar:s,emotar:l,isEmailNotificationEnabled:c,billing:u,paymentPlan:p,loading:!1})}updateUser(e,t){return d(d(d({},e),t),{},{loading:!1})}updateUserAttribute(e,t,n){return Object.assign({},e,{[t]:n})}setSelectedView(e,t){return Object.assign({},e,{selectedView:t})}markZeplinThreeZeroWhatsNewAsSeen(e){return d(d({},e),{},{zeplinThreeZeroWhatsNewSeen:!0})}stopPromotingSpacingSectionDescriptionEditButton(e){return d(d({},e),{},{shouldPromoteSpacingSectionDescriptionEditButton:!1})}hideStyleguideTutorial(e){return d(d({},e),{},{shouldDisplayStyleguideTutorial:!1})}acquaintancesRequested(e){return d(d({},e),{},{acquaintancesLoading:!0,acquaintancesError:null,acquaintances:null})}setAcquaintances(e,t){return d(d({},e),{},{acquaintancesLoading:!1,acquaintances:t})}getAcquaintancesFailed(e,t){return d(d({},e),{},{acquaintancesLoading:!1,acquaintancesError:t})}reduce(e,t){switch(t.type){case s.a.HYDRATE_EMBEDDED_DATA:case a.default.LOAD_USER:return this.loadUser(e,t.user);case a.default.UPDATE_USER:return this.updateUser(e,t.user);case a.default.SET_USER_ATTRIBUTE:return this.updateUserAttribute(e,t.name,t.value);case a.default.SET_SELECTED_VIEW:return this.setSelectedView(e,t.selectedView);case a.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:return this.markZeplinThreeZeroWhatsNewAsSeen(e);case a.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:return this.stopPromotingSpacingSectionDescriptionEditButton(e);case a.default.HIDE_STYLEGUIDE_TUTORIAL:return this.hideStyleguideTutorial(e);case a.default.ACQUAINTANCES_REQUESTED:return this.acquaintancesRequested(e);case a.default.SET_ACQUAINTANCES:return this.setAcquaintances(e,t.acquaintances);case a.default.GET_ACQUAINTANCES_FAILED:return this.getAcquaintancesFailed(e,t.error);default:return e}}}t.default=p},function(e,t,n){"use strict";n.r(t);t.default={LOAD_USER:"user/loadUser",UPDATE_USER:"user/updateUser",SET_SELECTED_VIEW:"user/setSelectedView",MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:"user/markZeplinThreeZeroWhatsNewAsSeen",STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:"user/stopPromotingSpacingSectionDescriptionEditButton",HIDE_STYLEGUIDE_TUTORIAL:"user/hideStyleguideTutorial",ACQUAINTANCES_REQUESTED:"user/acquaintancesRequested",SET_ACQUAINTANCES:"user/setAcquaintances",GET_ACQUAINTANCES_FAILED:"user/getAcquaintancesFailed",SET_USER_ATTRIBUTE:"user/setUserAttribute"}},function(e,t,n){"use strict";n.r(t),n.d(t,"EMOTARS",(function(){return i})),n.d(t,"USER_MENU",(function(){return o}));const i="emotars",o="userMenu"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e){const{id:t,label:n,accelerator:o,type:a,enabled:r,checked:s,visible:l,role:c,submenu:d}=e;this.id=t,this.label=n,this.accelerator=o,this.type=a,this.enabled=r,this.checked=s,this.visible=l,this.role=c,this.submenu=d?d.map(e=>new i(e)):null}}},function(e,t,n){"use strict";n.r(t);t.default={PROJECT_SUBMENU:"PROJECT",NEW_PROJECT:"NEW_PROJECT",OPEN_RECENT_PROJECT_SUBMENU:"OPEN_RECENT_PROJECT_SUBMENU",OPEN_RECENT_PROJECT:"OPEN_RECENT_PROJECT",STYLEGUIDE_SUBMENU:"STYLEGUIDE",NEW_STYLEGUIDE:"NEW_STYLEGUIDE",OPEN_RECENT_STYLEGUIDE_SUBMENU:"OPEN_RECENT_STYLEGUIDE_SUBMENU",OPEN_RECENT_STYLEGUIDE:"OPEN_RECENT_STYLEGUIDE",EDIT_SUBMENU:"EDIT",DELETE_PROJECT:"DELETE_PROJECT",DELETE_STYLEGUIDE:"DELETE_STYLEGUIDE",LEAVE_PROJECT:"LEAVE_PROJECT",LEAVE_STYLEGUIDE:"LEAVE_STYLEGUIDE",RENAME_SCREEN:"RENAME_SCREEN",DELETE_SCREEN:"DELETE_SCREEN",SET_AS_THUMBNAIL:"SET_AS_THUMBNAIL",ADD_TAG:"ADD_TAG",MANAGE_TAGS:"MANAGE_TAGS",VIEW_SUBMENU:"VIEW",ZOOM_IN:"ZOOM_IN",ZOOM_OUT:"ZOOM_OUT",ACTUAL_SIZE:"ACTUAL_SIZE",OPEN_POPOUT:"OPEN_POPOUT",WORKSPACE:"WORKSPACE",DASHBOARD:"DASHBOARD",STYLEGUIDE:"STYLEGUIDE",JUMP_TO_SCREEN:"JUMP_TO_SCREEN",EXPAND_ALL_SECTIONS:"EXPAND_ALL_SECTIONS",COLLAPSE_ALL_SECTIONS:"COLLAPSE_ALL_SECTIONS",SHOW_VERSIONS:"SHOW_VERSIONS",HIDE_VERSIONS:"HIDE_VERSIONS",SHOW_BADGE:"SHOW_BADGE",TOGGLE_FULL_SCREEN:"TOGGLE_FULL_SCREEN",RELOAD:"RELOAD",RELOAD_IGNORING_CACHE:"RELOAD_IGNORING_CACHE",TOGGLE_DEV_TOOLS:"TOGGLE_DEV_TOOLS",TOGGLE_DEV_TOOLS_HOST:"TOGGLE_DEV_TOOLS_HOST",WINDOW_SUBMENU:"WINDOW",MINIMIZE:"MINIMIZE",CLOSE:"CLOSE",HELP_SUBMENU:"HELP",CHECK_FOR_UPDATES:"CHECK_FOR_UPDATES",CHECK_FOR_PLUGIN_UPDATES:"CHECK_FOR_PLUGIN_UPDATES",INSTALL_UPDATES_AUTOMATICALLY:"INSTALL_UPDATES_AUTOMATICALLY",INSTALL_FIGMA_PLUGIN:"INSTALL_FIGMA_PLUGIN",INSTALL_PHOTOSHOP_PLUGIN:"INSTALL_PHOTOSHOP_PLUGIN",SHOW_LOGS_IN_EXPLORER:"SHOW_LOGS_IN_EXPLORER",RESET_SUGGESTED_COLORS:"RESET_SUGGESTED_COLORS",RESET_SUGGESTED_TEXT_STYLES:"RESET_SUGGESTED_TEXT_STYLES",CLEAR_CACHE_AND_RESTART:"CLEAR_CACHE_AND_RESTART",RESET_ZEPLIN:"RESET_ZEPLIN",OPEN_HELP_CENTER:"OPEN_HELP_CENTER",ABOUT_ZEPLIN:"ABOUT_ZEPLIN"}},function(e,t,n){"use strict";n.r(t);var i=n(228),o=n(269),a=n.n(o),r=n(245),s=n(361),l=n(261),c=n.n(l);const d={[c.a.PROJECT]:r.permissions.canCreateProject,[c.a.STYLEGUIDE]:r.permissions.canCreateStyleguide};function u(e){const{barrelId:t}=a.a.BarrelStore.getState(),{selectedOrganizationId:n}=a.a.SpaceStore.getState(),{paymentPlan:o}=a.a.UserStore.getState(),{organizations:r,organizationProfiles:l}=a.a.OrganizationStore.getState(),c=t?s.default.findBarrelOrganizationId(t):n,u="free"!==o.id;if("user"===c)return u||i.isWindowsApp;const p=r.find(e=>e._id===c),h=l[c];return p&&"suspended"!==p.status&&h&&d[e](h)}t.default={canCreateProject:function(){return u(c.a.PROJECT)},canCreateStyleguide:function(){return u(c.a.STYLEGUIDE)}}},function(e,t,n){"use strict";n.r(t);var i=n(269),o=n.n(i),a=n(362),r=n(261),s=n.n(r),l=n(242),c=n(245),d=n(329),u=n(364);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m({bid:e}={}){let t=e;if(t||({barrelId:t}=o.a.BarrelStore.getState()),!t)return null;const{projects:n}=o.a.ProjectsDataStore.getState();if(n&&t in n)return n[t];const{styleguides:i}=o.a.StyleguidesDataStore.getState();return i&&t in i?i[t]:null}function b({bid:e,uid:t}={}){const n=m({bid:e});if(!n)return null;let i=t;if(i||({userId:i}=o.a.UserStore.getState()),Object(c.isOrganizationProject)(n)){const{members:e}=a.default.getOrganization()||{};if(e&&e.length)return e.find(({user:e})=>e._id===i)}return n.users.find(({user:e})=>e._id===i)}function S(e){const{organizationId:t="user",barrelType:n=s.a.PROJECT}=o.a.BarrelStore.getState(),i=b(),a=n===s.a.PROJECT?"projects":"styleguides";return"user"!==t&&i?Object(l.urlResolve)("organization-"+a,{url:{oid:t},query:e}):Object(l.urlResolve)(a,{query:e})}function y(e,t){return e.some(({user:{_id:e}})=>e===t._id)}function C(e,t){let n;if("linked"===e.status){const e=t.find(e=>"linked"!==e.remPreferences.status);n=e&&e.remPreferences}return n||e}function v(e,t){let n;return"linked"!==e.status&&(n=t.find(e=>"linked"!==e.remPreferences.status&&"web"===e.type)),n&&{name:n.name,remPreferences:n.remPreferences}}t.default={hasProject:function(e){const{projects:t}=o.a.ProjectsDataStore.getState();return t&&e in t},hasStyleguide:function(e){const{styleguides:t}=o.a.StyleguidesDataStore.getState();return t&&e in t},getBarrel:m,getProject:function({pid:e}={}){let t=e;if(!t){const{barrelId:e,barrelType:n}=o.a.BarrelStore.getState();n===s.a.PROJECT&&(t=e)}if(!t)return null;const{projects:n}=o.a.ProjectsDataStore.getState();return n&&t in n?n[t]:null},findUser:b,isUserRestricted:function(){const e=b();return e&&"pawn"===e.role},findBarrelOrganizationId:function(e){if(!m({bid:e}))return null;const{organizationProjects:t,organizationStyleguides:n}=o.a.OrganizationStore.getState();for(const[i,o]of Object.entries(t))if(o.includes(e))return i;for(const[i,o]of Object.entries(n))if(o.includes(e))return i;return null},getWorkspaceURL:S,getStyleguidesData:function({barrelStore:e,styleguidesDataStore:t,projectsDataStore:n}){const i=e.getState(),{loading:o}=i,a=g(i,["loading"]);if(o)return[];const{styleguides:r}=t.getState(),l=m(),u=b(),{barrelId:p,barrelType:f}=a;if(l.partial||!u)return[];const{name:S,type:O,colors:E,textStyles:T,spacingSections:_,remPreferences:P,componentSections:j,connectedComponents:D,localConnectedComponents:k,users:I,dimensionSuffix:R,densityScale:A}=l,w=f===s.a.STYLEGUIDE?S:"Local Styleguide",N=function(e,t){if(t===s.a.STYLEGUIDE)return[...e.ancestors].reverse();if(!e.styleguideLink)return[];const{styleguideLink:{styleguide:n,status:i}}=e;if("active"===i){const e=[...n.ancestors].reverse();return[n._id,...e]}return[]}(l,f).map(e=>r[e]).filter(Boolean);return[{id:p,name:w,type:O,colors:E,textStyles:T,spacingSections:_.map(e=>h(h({},e),{},{spacingTokens:Object(d.sortArrayOfObjectsByPropertyName)(e.spacingTokens,"value")})),remPreferences:C(P,N),parentStyleguideToInheritRemPreferences:v(P,N),componentSections:j,connectedComponents:D,localConnectedComponents:k,isMember:y(I,u.user),isOrganizationBarrel:Object(c.isOrganizationProject)(l),dimensionSuffix:R,densityScale:A},...N.map((e,t)=>({id:e._id,name:e.name,type:e.type,colors:e.colors,textStyles:e.textStyles,spacingSections:e.spacingSections.map(e=>h(h({},e),{},{spacingTokens:Object(d.sortArrayOfObjectsByPropertyName)(e.spacingTokens,"value")})),remPreferences:C(e.remPreferences,N.slice(t+1)),componentSections:e.componentSections,connectedComponents:e.connectedComponents,localConnectedComponents:e.localConnectedComponents,isMember:y(e.users,u.user),isOrganizationBarrel:Object(c.isOrganizationProject)(e),dimensionSuffix:e.dimensionSuffix,densityScale:e.densityScale}))]},navigateToWorkspace:function(e){const t=S(e);setTimeout(()=>u.default.history.push(t),4)}}},function(e,t,n){"use strict";n.r(t);var i=n(269),o=n.n(i),a=n(363);function r(e){const{organizationProjects:t}=o.a.OrganizationStore.getState(),{projects:n}=o.a.ProjectsDataStore.getState(),i=t[e];if(i)return i.map(e=>n[e])}function s(e){const{organizations:t,organizationProjects:n}=o.a.OrganizationStore.getState();for(const[i,o]of Object.entries(n))if(o.includes(e)){const n=t.find(e=>e._id===i);if(n&&n.sections){const t=n.sections.find(t=>t.projects.find(t=>t===e));if(t)return t}}return null}function l({itemIds:e,visibleItems:t,visibleTargetIndex:n,firstDroppableIndex:i=0}){let o;return t.length<=i?e.length:n===i?(o=t[n],e.indexOf(o._id)):(o=t[n-1],e.indexOf(o._id)+1)}function c(e,t){const{showArchivedProjects:n}=o.a.SpaceStore.getState(),i=Object(a.getOrganization)(e).sections.find(e=>e._id===t),s=r(e);return i.projects.map(e=>s.find(t=>t._id===e&&(n||"archived"!==t.status))).filter(Boolean)}t.default={getOrganization:a.getOrganization,getOrganizationMembers:a.getOrganizationMembers,getOrganizationMember:a.getOrganizationMember,getOrganizationProjects:r,getOrganizationStyleguides:function(e){const{organizationStyleguides:t}=o.a.OrganizationStore.getState(),{styleguides:n}=o.a.StyleguidesDataStore.getState(),i=t[e];if(i)return i.map(e=>n[e])},getOrganizationWorkflowStatus:function(e,t){const{organizations:n}=o.a.OrganizationStore.getState(),{workflowStatuses:i}=n.find(({id:t})=>t===e)||{};return i.find(({_id:e})=>e===t)},getOrganizationProfile:function(e){const{organizationProfiles:t}=o.a.OrganizationStore.getState();return t[e]},getCollapsableSectionIds:a.getCollapsableSectionIds,getCollapsedSectionIds:a.getCollapsedSectionIds,getExpandedSectionIds:a.getExpandedSectionIds,findSectionIndicesOfProjects:function(e,t){const{sections:n}=Object(a.getOrganization)(e);return t.map(e=>{const t=n.find(t=>t.projects.includes(e)),i=t.projects.findIndex(t=>t._id===e);return{pid:e,oseid:t._id,index:i}})},findProjectOrganizationId:a.findProjectOrganizationId,findProjectOrganizationSection:s,findProjectOrganizationSectionId:function(e){const t=s(e);return t?t._id:null},findActualDropIndex:l,getVisibleProjectsOfSection:c,whereToDropSectionInWorkspace:function({oid:e,index:t}){const{sections:n,sectionIds:i}=Object(a.getOrganization)(e);return l({itemIds:i,visibleItems:n,visibleTargetIndex:t,firstDroppableIndex:1})},whereToDropProjectInSection:function({oid:e,oseid:t,index:n}){const i=Object(a.getOrganization)(e).sections.find(e=>e._id===t),o=c(e,t),r=void 0===n?o.length:n;return l({itemIds:i.projects,visibleItems:o,visibleTargetIndex:r})}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getExpandedSectionIds=t.getCollapsedSectionIds=t.getCollapsableSectionIds=t.findProjectOrganizationId=t.getOrganizationMember=t.getOrganizationMembers=t.getOrganization=void 0;const o=i(n(269));function a(e,{pid:t}={}){let n=null!=e?e:o.default.BarrelStore.getState().organizationId;if(!n&&t&&(n=s(t)),!n)return null;const{organizations:i}=o.default.OrganizationStore.getState();return i.find(e=>e._id===n)}function r(e){var t;const n=e||o.default.BarrelStore.getState().organizationId;if(!n)return null;const{organizations:i}=o.default.OrganizationStore.getState();return null===(t=i.find(({_id:e})=>e===n))||void 0===t?void 0:t.members}function s(e){const{organizationProjects:t}=o.default.OrganizationStore.getState();for(const[n,i]of Object.entries(t))if(i.includes(e))return n;return null}function l(e){return a(e||o.default.SpaceStore.getState().selectedOrganizationId).sections.filter(e=>"individual"!==e.type).map(e=>e._id)}t.getOrganization=a,t.getOrganizationMembers=r,t.getOrganizationMember=function(e,t){const n=r(e);return n?n.find(({user:e})=>e._id===t):null},t.findProjectOrganizationId=s,t.getCollapsableSectionIds=l,t.getCollapsedSectionIds=function(e){const{collapsedSections:t}=o.default.SpaceStore.getState();return l(e).filter(e=>t[e])},t.getExpandedSectionIds=function(e){const{collapsedSections:t}=o.default.SpaceStore.getState();return l(e).filter(e=>!t[e])}},function(e,t,n){"use strict";n.r(t);var i=n(242),o=n(227);function a(){this._routes=[],this._history=new r(this),this._preventions=[],this._history.attach(e=>{this._handle(e.url)})}function r(e){this._history=window.history,this._listeners={},this._listenerCount=0,this._flowNavigationStack=[],this._router=e,window.addEventListener("popstate",this._handlePopState.bind(this))}function s(e,t){this._element=e,this._router=t,this._element._routerLink&&this._element.removeEventListener("click",this._element._routerLink._boundClickHandler),this._boundClickHandler=this._clickHandler.bind(this),this._element._routerLink=this,this._element.addEventListener("click",this._boundClickHandler)}Object.defineProperties(a.prototype,{history:{get:function(){return this._history}},match:{value(e){return e=this._getUrl(e),!!this._findRoutes(e).length}},route:{value:function(e,t,{unshift:n}={unshift:!1}){return this._register({regex:e,handler:t},{unshift:n}),this}},start:{value(e){return this._hookAppLinks(e),this._handle(window.location.href),this}},reload:{value(){return this._handle(window.location.href,{reload:!0})}},addPrevention:{value(e,t){return this._preventions.push({regex:e,handler:t})}},_shouldPreventNavigation:{value(e,t){return e=this._getUrl(e),this._preventions.find(({regex:n,handler:o})=>n.test(e.pathname)&&o({url:e,match:e.pathname.match(n).slice(1),query:Object(i.parseUrlParams)(e.search),ev:t}))}},_createLink:{value:function(e){return new s(e,this)}},_register:{value:function(e,{unshift:t}){t?this._routes.unshift(e):this._routes.push(e)}},_getUrl:{value:function(e){return"string"==typeof e?new URL(e,window.location.origin):e}},_findRoutes:{value(e){return this._routes.filter(t=>t.regex.test(e.pathname))}},_handle:{value(e,{reload:t=!1}={}){const n=this._getUrl(e),o=this._findRoutes(n);if(o.length)return o.reduce((e,o)=>e.then(()=>o.handler({url:n,match:n.pathname.match(o.regex).slice(1),query:Object(i.parseUrlParams)(n.search),reload:t})),Promise.resolve());location.assign(n)}},_searchAppLinks:{value:function(e){var t=this;return e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce((function(e,n){return e.concat(t._searchAppLinks(n))}),[])}},_hookAppLinks:{value:function(e){var t=this,n=e.querySelectorAll('[data-link-type="inApp"]');Array.from(n).forEach((function(e){t._createLink(e)}));new MutationObserver((function(e){e.forEach((function(e){switch(e.type){case"attributes":"inApp"===e.target.dataset.linkType&&t._createLink(e.target);break;case"childList":Array.from(e.addedNodes).forEach((function(e){t._searchAppLinks(e).forEach((function(e){t._createLink(e)}))}))}}))})).observe(e,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]})}},onSetBackButton:{set(e){this._onSetBackButton=e},get(){return this._onSetBackButton}},onResetBackButton:{set(e){this._onResetBackButton=e},get(){return this._onResetBackButton}}}),Object.defineProperties(r.prototype,{actions:{value:{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}},attach:{value:function(e){var t=this._listenerCount;return this._listeners[t]=e,this._listenerCount++,t}},detach:{value:function(e){delete this._listeners[e]}},push:{value:function(e,{state:t,flowNavigation:n}={}){n?this._flowNavigationStack.push({url:location.href,state:this._history.state}):this._flowNavigationStack.length=0,this._history.pushState(t,null,e),this._notifyListeners({action:this.actions.PUSH_STATE,state:t,url:e})}},replace:{value:function(e,{state:t,flowNavigation:n}={}){n?this._flowNavigationStack.push({url:location.href,state:this._history.state}):this._flowNavigationStack.length=0,this._history.replaceState(t,null,e),this._notifyListeners({action:this.actions.REPLACE_STATE,state:t,url:e})}},pop:{value:function(){if(!this._flowNavigationStack.length)return;const{state:e,url:t}=this._flowNavigationStack.pop();this._history.pushState(e,null,t),this._notifyListeners({action:this.actions.PUSH_STATE,state:e,url:window.location.toString()})}},_notifyListeners:{value:function(e){Object.keys(this._listeners).forEach((function(t){this._listeners[t](e)}),this)}},_handlePopState:{value:function(e){this._router.onResetBackButton&&this._router.onResetBackButton(),this._notifyListeners({action:this.actions.POP_STATE,state:e.state,url:window.location.toString()})}}}),Object.defineProperties(s.prototype,{element:{get(){return this._element}},navigationOperation:{get(){return this._element.dataset.navOp}},_clickHandler:{value(e){if("#"!==this._element.href&&(!this._router.match(this._element.href)||Object(o.cmdKey)(e)))return;if(e.preventDefault(),this._element.href===window.location.href)return;if(this._router._shouldPreventNavigation(this._element.href,e))return;const t={};"flowNav"in this._element.dataset&&(t.flowNavigation=!0);const n=location.href;switch(this.navigationOperation){case"replace":this._router.history.replace(this._element.href,t);break;case"pop":this._router.history.pop();break;case"push":default:this._router.history.push(this._element.href,t)}"back"in this._element.dataset&&(this._element.dataset.back&&this._router.onSetBackButton?this._router.onSetBackButton(this._element.dataset.back,n):this._router.onResetBackButton&&this._router.onResetBackButton())}}});const l=new a;t.default=l},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(358),o=n(359),a=n(366),r=n(245),s=n(269),l=n.n(s),c=n(361),d=n(261),u=n.n(d),p=n(367);function h(e,t,n){return e?{id:t===u.a.PROJECT?o.default.DELETE_PROJECT:o.default.DELETE_STYLEGUIDE,label:t===u.a.PROJECT?"Delete project…":"Delete styleguide…",enabled:!!e&&r.permissions.canDeleteProject(n)}:{id:o.default.DELETE_PROJECT,label:"Delete project…",enabled:!1}}function f(e,t,n){return e?{id:t===u.a.PROJECT?o.default.LEAVE_PROJECT:o.default.LEAVE_STYLEGUIDE,label:t===u.a.PROJECT?"Leave project…":"Leave styleguide…",enabled:t===u.a.PROJECT?r.permissions.canLeaveProject(n):r.permissions.canLeaveStyleguide(n)}:{id:o.default.DELETE_PROJECT,label:"Leave project…",enabled:!1}}function g(e,t,n){return e&&t?{id:o.default.DELETE_SCREEN,label:"Delete screen…",enabled:r.permissions.canManageScreens(n)}:{id:o.default.DELETE_SCREEN,label:"Delete screen…",enabled:!1}}function m(e,t,n){return e&&t?{id:o.default.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:r.permissions.canUpdateProject(n)&&(!e.thumbnail||e.thumbnail!==t.versions[0].snapshot.url)}:{id:o.default.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:!1}}function b(e,t,n){if(!e||!t)return{id:o.default.MANAGE_TAGS,label:"Manage tags…",accelerator:"Alt+T",enabled:!1};const i=t.tags&&0!==t.tags.length;return{id:i?o.default.MANAGE_TAGS:o.default.ADD_TAG,label:i?"Manage tags…":"Add tag…",accelerator:"Alt+T",enabled:r.permissions.canManageScreens(n)}}function S(){const{barrelType:e}=l.a.BarrelStore.getState(),t=c.default.getBarrel(),n=p.default.getScreen(),r=c.default.findUser();return new i.default({id:o.default.EDIT_SUBMENU,label:"Edit",submenu:[h(t,e,r),f(t,e,r),a.default,g(t,n,r),a.default,m(t,n,r),a.default,b(t,n,r)]})}},function(e,t,n){"use strict";n.r(t),t.default={type:"separator"}},function(e,t,n){"use strict";n.r(t);var i=n(361),o=n(269),a=n.n(o),r=n(368),s=n(242),l=n(364);function c({bid:e,sid:t}={}){const n=i.default.getBarrel({bid:e});if(!n||!n.screens)return null;let o=t;return o||({screenId:o}=a.a.ScreenStore.getState()),o?n.screens.find(e=>e._id===o):null}function d(){const e=i.default.getBarrel();if(!e||!e.screens)return null;const{filterValue:t,sortType:n,tagFilter:o,jiraIssueFilter:s}=a.a.DashboardStore.getState(),{sortedSections:l}=Object(r.filterSortScreens)(e,n,{filterValue:t,tagFilter:o,jiraIssueFilter:s});return l.flatMap(e=>e.screens)}function u({bid:e,sid:t}={}){const n=c({bid:e,sid:t});return n&&n.dots?n.dots:null}function p({bid:e,sid:t,did:n}={}){const i=u({bid:e,sid:t});if(!i)return null;let o=n;return o||({dotId:o}=a.a.DotsStore.getState()),o?i.find(e=>e._id===o):null}t.default={getScreen:c,getVersion:function({bid:e,sid:t,vid:n}={}){const i=c({bid:e,sid:t});if(!i||!i.versions)return null;let o=n;return o||({versionId:o}=a.a.ScreenStore.getState()),o?i.versions.find(e=>e._id===o):null},getVisibleScreens:d,getPreviousScreen:function(e){const t=d();if(!t)return null;const n=t.findIndex(t=>t._id===e);return n<1?null:t[n-1]},getNextScreen:function(e){const t=d();if(!t)return null;const n=t.findIndex(t=>t._id===e);return-1===n||n===t.length-1?null:t[n+1]},getSectionOfScreen:function({bid:e,sid:t}={}){const n=i.default.getBarrel({bid:e});if(!n||!n.sections)return null;let o=t;return o||({screenId:o}=a.a.ScreenStore.getState()),o?n.sections.find(e=>e.screens.includes(o)):null},getDots:u,getDot:p,getComment:function({bid:e,sid:t,did:n,cmid:i}={}){const o=p({bid:e,sid:t,did:n});return o&&o.comments?o.comments.find(e=>e._id===i):null},navigateToScreen:function(e){const{barrelId:t}=a.a.BarrelStore.getState();l.default.history.push(Object(s.urlResolve)("project-screen",{url:{pid:t,sid:e}}))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"createItemSectionMap",(function(){return S})),n.d(t,"filterSortScreens",(function(){return C})),n.d(t,"filterSortProjectSections",(function(){return y}));var i=n(245),o=n(230),a=n(254),r=n(327),s=n(246),l=n(312);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n){return{_id:e,[n]:t,type:"default",name:"default"}}function h(e,t,n){const o={};return e.filter(e=>{const i=n&&n(e),r=Object(a.calculateMatchingScore)(t,e.name,i);return o[e._id]=r,r}).sort((e,t)=>{const n=o[t._id]-o[e._id];return n||i.sortBy.name(e,t)})}function f({sections:e,items:t,itemKey:n,sortType:a,shouldPutResultsToDefaultSection:r=!1}){if(!i.sortBy[a])return b(e,t,n);const l=t.slice(0).sort(i.sortBy[a]);return r?[p("sorted",l,n)]:a===o.SortTypes.CREATED||a===o.SortTypes.UPDATED?function(e,t){const n=[],o={};return e.forEach(e=>{const t=Object(i.getTimeSlot)(new Date(e.updated));let a;t in o?a=o[t]:(n.push(t),a=[],o[t]=a),a.push(e)},{}),n.map(e=>({_id:e,name:Object(s.uppercaseFirst)(e),actionsDisabled:!0,[t]:o[e],type:"timeline"}))}(l,n):a===o.SortTypes.NAME?function(e,t){const n=[],i=e.reduce((e,t)=>{const i=t.name.substr(0,1),o=Object(s.isLetter)(i)?i.toUpperCase():"#";return e[o]?e[o].push(t):(n.push(o),e[o]=[t]),e},{});return n.map(e=>({_id:e,name:e,actionsDisabled:!0,[t]:i[e],type:"name"}))}(l,n):void 0}function g(e,t){if(!function(e){return e.tags.length||e.untagged}(t))return e;let n;var i;return t.tags.length?(i=t.tags,n=Array.isArray(i)?e=>i.reduce((t,n)=>t&&e.tags&&e.tags.includes(n),!0):e=>e.tags&&e.tags.includes(i)):t.untagged&&(n=e=>!e.tags||!e.tags.length),e.map(e=>Object.assign(e,{screens:e.screens.filter(n)})).filter(e=>e.screens.length)}function m(e,t){const{jira:n}=e.integration||{};if(!t||!t.length||!n)return{filteredSections:e.sections,filteredScreens:e.screens};const i=n.attachments.filter(e=>t.some(t=>t.toLowerCase()===e.issueKey.toLowerCase())),o=i.filter(e=>"section"===e.type),a=i.filter(e=>"screen"===e.type),r=S(e.sections,"screens"),s=e.screens.map(e=>d(d({},e),{},{sectionId:r[e._id]})).filter(e=>a.find(t=>t.itemId===e._id)||o.find(t=>t.itemId===e.sectionId));return{filteredSections:e.sections.filter(e=>s.find(t=>t.sectionId===e._id)||!Object.values(r).includes(e._id)&&o.find(t=>t.itemId===e._id)).map(e=>d(d({},e),{},{screens:s.filter(t=>t.sectionId===e._id).map(e=>e._id)})),filteredScreens:s}}function b(e,t,n){return e&&e.length?e.map(e=>{let i=d({},e);return i[n]=e[n].map(e=>t.find(t=>t._id===e)).filter(Boolean),e.type||(i.type="user"),i}):[]}function S(e,t){return e.reduce((e,n)=>(n[t].forEach(t=>{e[t]=n._id}),e),{})}function y({sections:e,projects:t,sortType:n,filterValue:o=null,statusFilter:a=null,shouldPutResultsToDefaultSection:r}){if(o)return function(e,t,n){const o=S(e,"projects");let a=h(t,n,e=>Object(i.getPlatformString)(e.type)).reduce((e,t)=>{const n=o[t._id];return e[n]?e[n].push(t._id):e[n]=[t._id],e},{}),r=h(e,n);return b(e.map(e=>a[e._id]?d(d({},e),{},{projects:a[e._id],collapsed:!0}):r.find(t=>t._id===e._id)).filter(Boolean),t,"projects")}(e,t,o);const{filteredSections:s,filteredProjects:c}=function(e,t,n){if(!n||n===l.default.All._id)return{filteredSections:e,filteredProjects:t};const i=S(e,"projects"),o=t.filter(({workflowStatus:{_id:e}})=>e===n),a=o.reduce((e,t)=>{const n=i[t._id];return e[n]?e[n].push(t._id):e[n]=[t._id],e},{});return{filteredSections:e.map(e=>a[e._id]?d(d({},e),{},{projects:a[e._id],collapsed:!0}):null).filter(Boolean),filteredProjects:o}}(e,t,a);return f({sections:s,items:c,itemKey:"projects",sortType:n,shouldPutResultsToDefaultSection:r})}function C(e,t,{filterValue:n,tagFilter:i,jiraIssueFilter:o}){let a,s;if(n)return a=function(e,t){const n=h(e.screens,t),{jira:i}=e.integration||{};if(i){const{filteredScreens:i}=m(e,[t]);n.push(...i.filter(e=>!n.some(t=>t._id===e._id)))}return n.length>0?[p("filtered",n,"screens")]:[]}(e,n.toLowerCase()),{sortedSections:a,visibleTags:e.tags};const{filteredSections:l,filteredScreens:c}=m(e,o);return a=g(f({sections:l,items:c,itemKey:"screens",sortType:t}),i),a.length&&e.sections[0]._id===a[0]._id&&(a[0].type="default"),s=Object(r.extractTagsFromScreens)(c),{sortedSections:a,visibleTags:s}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));var i=n(359),o=n(361),a=n(367),r=n(362),s=n(370),l=n.n(s),c=n(371),d=n.n(c),u=n(228),p=n(366),h=n(261),f=n.n(h),g=n(269),m=n.n(g),b=n(358),S=n(230);const y=/^\/login/;function C(e,t){const n=!!e&&!!t;return[{id:i.default.ZOOM_IN,label:"Zoom in",accelerator:"Alt+=",enabled:n},{id:i.default.ZOOM_OUT,label:"Zoom out",accelerator:"Alt+-",enabled:n},{id:i.default.ACTUAL_SIZE,label:"Actual size",accelerator:"Alt+0",enabled:n},{role:"zoomin",visible:!1},{role:"zoomout",visible:!1},{role:"resetzoom",visible:!1}]}function v(e,t){const n=!!e&&!!t&&u.featureValue.popout;return{id:i.default.OPEN_POPOUT,label:"Pop screen out",accelerator:"Alt+O",enabled:n}}function O(e,t,n){const o=!e&&!y.test(location.pathname),a=!y.test(location.pathname),r=!!e&&n===S.ProjectViewTypes.DASHBOARD,s=!!e&&t===f.a.PROJECT,l=!!e&&n===S.ProjectViewTypes.STYLEGUIDE,c=!!e&&t===f.a.PROJECT;return[{id:i.default.WORKSPACE,label:"Workspace",type:"checkbox",accelerator:"Alt+Shift+A",checked:o,enabled:a},p.default,{id:i.default.DASHBOARD,label:"Dashboard",type:"checkbox",accelerator:"Alt+A",checked:r,enabled:s},{id:i.default.STYLEGUIDE,label:"Styleguide",type:"checkbox",accelerator:"Alt+S",checked:l,enabled:c}]}function E(e){const t=!!e;return{id:i.default.JUMP_TO_SCREEN,label:"Jump to screen…",accelerator:"Alt+J",enabled:t}}function T(e,t){const{page:n}=m.a.AppStore.getState(),{selectedTab:o,selectedProjectSortType:a,selectedOrganizationId:s}=m.a.SpaceStore.getState();let c=0,u=0;if("workspace"===n&&o===S.WorkspaceTabs.PROJECTS)a===S.SortTypes.SECTIONS&&(c=r.default.getCollapsableSectionIds(s).length,u=r.default.getCollapsedSectionIds(s).length);else if("barrel"===n&&e===f.a.PROJECT&&t===S.ProjectViewTypes.DASHBOARD){const{sortType:e}=m.a.DashboardStore.getState();e===S.SortTypes.SECTIONS&&(c=l.a.getCollapsableSectionIds().length,u=l.a.getCollapsedSectionIds().length)}else if("barrel"===n&&e===f.a.PROJECT&&t===S.ProjectViewTypes.STYLEGUIDE){const{sortType:e,selectedStyleguideSection:t}=m.a.StyleguideStore.getState();e===S.SortTypes.SECTIONS&&"components"===t.toLowerCase()&&(c=d.a.getCollapsableSectionIds().length,u=d.a.getCollapsedSectionIds().length)}else if("barrel"===n&&e===f.a.STYLEGUIDE){const{sortType:e,selectedStyleguideSection:t}=m.a.StyleguideStore.getState();e===S.SortTypes.SECTIONS&&"components"===t.toLowerCase()&&(c=d.a.getCollapsableSectionIds().length,u=d.a.getCollapsedSectionIds().length)}const p=u>0,h=0!==c&&c!==u;return[{id:i.default.EXPAND_ALL_SECTIONS,label:"Expand all sections",enabled:p},{id:i.default.COLLAPSE_ALL_SECTIONS,label:"Collapse all sections",enabled:h}]}function _(e,t,n){const o=!!e&&!!t,a=n?"Hide versions":"Show versions";return{id:n?i.default.HIDE_VERSIONS:i.default.SHOW_VERSIONS,label:a,enabled:o}}function P(e){const t=o.default.getBarrel(),n=a.default.getScreen(),{selectedView:r,barrelType:s}=m.a.BarrelStore.getState(),{versionsVisible:l}=m.a.ScreenStore.getState();return new b.default({id:i.default.VIEW_SUBMENU,label:"View",submenu:[...C(t,n),p.default,v(t,n),p.default,...O(t,s,r),p.default,E(t),p.default,...T(s,r),p.default,_(t,n,l),{id:i.default.SHOW_BADGE,label:"Show badge",type:"checkbox",checked:e},p.default,{id:i.default.TOGGLE_FULL_SCREEN,label:"Toggle full screen",role:"toggleFullScreen"},p.default,{id:i.default.RELOAD,label:"Reload",accelerator:"CmdOrCtrl+R"},{id:i.default.RELOAD_IGNORING_CACHE,label:"Reload ignoring cache",accelerator:"CmdOrCtrl+Shift+R"},{id:i.default.TOGGLE_DEV_TOOLS,label:"Toggle dev tools",accelerator:"CmdOrCtrl+Shift+I"},{id:i.default.TOGGLE_DEV_TOOLS_HOST,label:"Toggle dev tools (host)",role:"toggleDevTools"}]})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(361)),a=i(n(269));function r(){const e=o.default.getBarrel();if(!e)return[];const{sections:t}=e;return t?t.filter(e=>"default"!==e.name&&e.screens.length>0).map(e=>e._id):[]}t.default={getCollapsableSectionIds:r,getCollapsedSectionIds:function(){const{collapsedSections:e}=a.default.DashboardStore.getState();return r().filter(t=>e[t])},getExpandedSectionIds:function(){const{collapsedSections:e}=a.default.DashboardStore.getState();return r().filter(t=>!e[t])}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(361)),a=i(n(269));function r(){const e=o.default.getStyleguidesData({barrelStore:a.default.BarrelStore,styleguidesDataStore:a.default.StyleguidesDataStore,projectsDataStore:a.default.ProjectsDataStore}),t=[];return e.forEach(({componentSections:e})=>{e.forEach(e=>{"default"!==e.name&&t.push(e._id)})}),t}t.default={getCollapsableSectionIds:r,getCollapsedSectionIds:function(){const{collapsedSections:e}=a.default.StyleguideStore.getState();return r().filter(t=>e[t])},getExpandedSectionIds:function(){const{collapsedSections:e}=a.default.StyleguideStore.getState();return r().filter(t=>!e[t])}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(359),o=n(358);function a(){return new o.default({id:i.default.WINDOW_SUBMENU,label:"Window",submenu:[{role:"minimize"},{role:"close"}]})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(359),o=n(358),a=n(366);const r="IDLE",s={[r]:"Check for updates",["CHECKING_FOR_UPDATES"]:"Checking for updates",["DOWNLOADING_UPDATES"]:"Downloading updates"},l="DISABLED",c="IDLE",d={[c]:"Check for plugin updates",["CHECKING_FOR_UPDATES"]:"Checking for plugin updates",["DOWNLOADING_UPDATES"]:"Downloading plugin updates"};function u({appUpdaterState:e,pluginUpdaterState:t}){const n={id:i.default.CHECK_FOR_UPDATES,label:s[e],enabled:e===r};return t===l?[n]:[n,{id:i.default.CHECK_FOR_PLUGIN_UPDATES,label:d[t],enabled:t===c}]}function p({installUpdatesAutomatically:e,appUpdaterState:t,pluginUpdaterState:n}){return new o.default({id:i.default.HELP_SUBMENU,label:"Help",submenu:[...u({appUpdaterState:t,pluginUpdaterState:n}),{id:i.default.INSTALL_UPDATES_AUTOMATICALLY,label:"Install updates automatically",type:"checkbox",checked:e},a.default,{id:i.default.INSTALL_FIGMA_PLUGIN,label:"Install Figma plugin"},{id:i.default.INSTALL_PHOTOSHOP_PLUGIN,label:"Install Adobe Photoshop plugin"},a.default,{id:i.default.SHOW_LOGS_IN_EXPLORER,label:"Show logs in Explorer"},{id:i.default.RESET_SUGGESTED_COLORS,label:"Reset suggested colors"},{id:i.default.RESET_SUGGESTED_TEXT_STYLES,label:"Reset suggested text styles"},{id:i.default.CLEAR_CACHE_AND_RESTART,label:"Clear cache and restart"},{id:i.default.RESET_ZEPLIN,label:"Reset Zeplin"},a.default,{id:i.default.OPEN_HELP_CENTER,label:"Open help center"},a.default,{id:i.default.ABOUT_ZEPLIN,label:"About Zeplin"}]})}},function(e,t,n){"use strict";n.r(t);var i=n(229),o=n(375),a=n(361),r=n(376),s=n(241),l=n(381),c=n(367),d=n(382),u=n(385),p=n(371),h=n.n(p),f=n(362),g=n(386),m=n(370),b=n.n(m),S=n(228),y=n(269),C=n.n(y),v=n(242),O=n(364),E=n(359),T=n(230),_=n(261),P=n.n(_);const j={newProject(){const{selectedOrganizationId:e}=C.a.SpaceStore.getState(),{barrelId:t}=C.a.BarrelStore.getState();if(t)a.default.navigateToWorkspace({newProject:!0});else{const t="user"===e?Object(v.urlResolve)("projects",{query:{newProject:!0}}):Object(v.urlResolve)("organization-projects",{url:{oid:e},query:{newProject:!0}});O.default.history.push(t)}},newStyleguide(){const{selectedOrganizationId:e}=C.a.SpaceStore.getState(),{barrelId:t}=C.a.BarrelStore.getState();if(t)a.default.navigateToWorkspace({newStyleguide:!0});else{const t="user"===e?Object(v.urlResolve)("styleguides",{query:{newStyleguide:!0}}):Object(v.urlResolve)("organization-styleguides",{url:{oid:e},query:{newStyleguide:!0}});O.default.history.push(t)}},openRecentProject(e){O.default.history.push(Object(v.urlResolve)("project",{url:{bid:e}}))},openRecentStyleguide(e){O.default.history.push(Object(v.urlResolve)("styleguide",{url:{bid:e}}))},deleteProject(){const{id:e,name:t}=a.default.getBarrel();o.prompt("project",t,()=>{r.default.remove({bid:e,syncWithApi:!0})})},deleteStyleguide(){const{id:e,name:t}=a.default.getBarrel();o.prompt("styleguide",t,()=>{r.default.remove({bid:e,syncWithApi:!0})})},leaveBarrel(){const{userId:e}=C.a.UserStore.getState(),{name:t}=a.default.getBarrel();s.create({message:`Leave "${t}"?`,done:{name:"LEAVE",cb(){r.default.removeMember({mid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},deleteScreen(){const{_id:e,name:t}=c.default.getScreen();s.create({message:`Delete "${t}"?`,done:{name:"DELETE SCREEN",cb(){d.default.removeScreen({sid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},setAsThumbnail(){const{versions:[{snapshot:{url:e}}]}=c.default.getScreen();r.default.updateThumbnail({thumbnail:e,syncWithApi:!0})},manageTags(){const{screenId:e}=C.a.ScreenStore.getState();d.default.openTagManager(e)},expandAllSections(){const{page:e}=C.a.AppStore.getState(),{barrelType:t,selectedView:n}=C.a.BarrelStore.getState(),{selectedStyleguideSection:i}=C.a.StyleguideStore.getState(),{selectedTab:o}=C.a.SpaceStore.getState();if("workspace"===e&&o===T.WorkspaceTabs.PROJECTS){const e=f.default.getCollapsedSectionIds();l.default.expandSections(e)}else if("barrel"===e&&t===P.a.PROJECT&&n===T.ProjectViewTypes.DASHBOARD){const e=b.a.getCollapsedSectionIds();g.default.expandSections(e)}else if("barrel"===e&&(t===P.a.STYLEGUIDE||t===P.a.PROJECT&&n===T.ProjectViewTypes.STYLEGUIDE)&&"components"===i.toLowerCase()){const e=h.a.getCollapsedSectionIds();u.default.expandSections(e)}},collapseAllSections(){const{page:e}=C.a.AppStore.getState(),{barrelType:t,selectedView:n}=C.a.BarrelStore.getState(),{selectedStyleguideSection:i}=C.a.StyleguideStore.getState(),{selectedTab:o}=C.a.SpaceStore.getState();if("workspace"===e&&o===T.WorkspaceTabs.PROJECTS){const e=f.default.getExpandedSectionIds();l.default.collapseSections(e)}else if("barrel"===e&&t===P.a.PROJECT&&n===T.ProjectViewTypes.DASHBOARD){const e=b.a.getExpandedSectionIds();g.default.collapseSections(e)}else if("barrel"===e&&(t===P.a.STYLEGUIDE||t===P.a.PROJECT&&n===T.ProjectViewTypes.STYLEGUIDE)&&"components"===i.toLowerCase()){const e=h.a.getExpandedSectionIds();u.default.collapseSections(e)}}};S.isWindowsApp&&i.default.ipcRenderer.on("menu-item-clicked",(e,{id:t})=>{if(t.startsWith(E.default.OPEN_RECENT_PROJECT))j.openRecentProject(t.substring(E.default.OPEN_RECENT_PROJECT.length+1));else if(t.startsWith(E.default.OPEN_RECENT_STYLEGUIDE))j.openRecentStyleguide(t.substring(E.default.OPEN_RECENT_STYLEGUIDE.length+1));else switch(t){case E.default.NEW_PROJECT:j.newProject();break;case E.default.NEW_STYLEGUIDE:j.newStyleguide();break;case E.default.DELETE_PROJECT:j.deleteProject();break;case E.default.DELETE_STYLEGUIDE:j.deleteStyleguide();break;case E.default.LEAVE_PROJECT:case E.default.LEAVE_STYLEGUIDE:j.leaveBarrel();break;case E.default.DELETE_SCREEN:j.deleteScreen();break;case E.default.SET_AS_THUMBNAIL:j.setAsThumbnail();break;case E.default.MANAGE_TAGS:case E.default.ADD_TAG:j.manageTags();break;case E.default.ZOOM_IN:d.default.zoomIn();break;case E.default.ZOOM_OUT:d.default.zoomOut();break;case E.default.ACTUAL_SIZE:d.default.resetZoom();break;case E.default.OPEN_POPOUT:d.default.openPopout();break;case E.default.WORKSPACE:a.default.navigateToWorkspace();break;case E.default.DASHBOARD:r.default.goToDashboard();break;case E.default.STYLEGUIDE:r.default.goToStyleguide();break;case E.default.JUMP_TO_SCREEN:r.default.openJumpToPopup();break;case E.default.EXPAND_ALL_SECTIONS:j.expandAllSections();break;case E.default.COLLAPSE_ALL_SECTIONS:j.collapseAllSections();break;case E.default.SHOW_VERSIONS:d.default.showVersions();break;case E.default.HIDE_VERSIONS:d.default.hideVersions()}})},function(e,t,n){"use strict";n.r(t),n.d(t,"prompt",(function(){return h}));var i=n(241),o=n(246);const a=document.getElementById("deleteBarrelDialog"),r=a.querySelector(".barrelType"),s=document.getElementById("barrelNameInput"),l=document.getElementById("deleteBarrelDialogCancelButton"),c=document.getElementById("deleteBarrelDialogDoneButton");let d,u,p;function h(e,t,n){d=e,u=t,p=n,r.textContent=d,a.showModal()}i.polyfill.registerDialog(a),s.addEventListener("input",()=>{const e=s.value===u;a.querySelector("button.done").disabled=!e;const t=e?"":Object(o.uppercaseFirst)(d)+" name doesn't match provided value";s.setCustomValidity(t)}),l.addEventListener("click",e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&a.close()}),a.addEventListener("close",()=>{s.value="",s.setCustomValidity(""),s.parentElement.classList.remove("typed"),a.querySelector("button.done").disabled=!0}),s.addEventListener("keydown",e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),s.value===u&&(a.close(),p())}}),c.addEventListener("click",()=>{s.value===u&&(a.close(),p())})},function(e,t,n){"use strict";n.r(t);var i=n(276),o=n.n(i),a=n(361),r=n(269),s=n.n(r),l=n(362),c=n(246),d=n(250),u=n(261),p=n.n(u),h=n(377),f=n(230);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=24;function y(e={}){if(!e.bid){const{barrelId:t}=s.a.BarrelStore.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=s.a.BarrelStore.getState();e.barrelType=t}return e}function C(e){const t=a.default.getBarrel();if(!t)return!1;const{barrelType:n,selectedView:i}=s.a.BarrelStore.getState(),{selectedStyleguideSection:o}=s.a.StyleguideStore.getState();return!a.default.isUserRestricted()&&(t.id===e||t.ancestors&&t.ancestors.includes(e))&&(n===p.a.STYLEGUIDE||n===p.a.PROJECT&&i===f.ProjectViewTypes.STYLEGUIDE)&&"components"===o}const v={reset(){s.a.dispatcher.dispatch({type:o.a.RESET})},load(e){s.a.dispatcher.dispatch(m({type:o.a.LOAD},e))},updateState(e){s.a.dispatcher.dispatch({type:o.a.UPDATE_STATE,update:e})},setOrganizationId({oid:e}){s.a.dispatcher.dispatch({type:o.a.SET_ORGANIZATION_ID,oid:e})},setBarrelId({barrelId:e}){s.a.dispatcher.dispatch({type:o.a.SET_BARREL_ID,barrelId:e})},addToSlack(e){const{bid:t,barrelType:n}=y(e),{name:i}=a.default.getBarrel({bid:t});s.a.dispatcher.dispatch({type:o.a.ADD_TO_SLACK,bid:t,barrelType:n,name:i})},add({oid:e,oseid:t,barrel:n,barrelType:i,syncWithApi:a=!1}){s.a.dispatcher.dispatch({type:o.a.ADD,oid:e,oseid:t,barrel:n,barrelType:i,syncWithApi:a})},activate(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=y(e);let a=[t];if(n===p.a.STYLEGUIDE){const{styleguides:e}=s.a.StyleguidesDataStore.getState();a=Object(h.getStyleguideAndItsDescendants)(e,t)}s.a.dispatcher.dispatch({type:o.a.ACTIVATE,bid:t,barrelType:n,affectedIds:a,syncWithApi:i})},archive(e){const{bid:t,barrelType:n,uid:i,syncWithApi:r=!1}=y(e),{barrelId:l}=s.a.BarrelStore.getState(),{name:c}=a.default.getBarrel({bid:t});let d=[t];if(n===p.a.STYLEGUIDE){const{styleguides:e}=s.a.StyleguidesDataStore.getState();d=Object(h.getStyleguideAndItsDescendants)(e,t)}const{userId:u}=s.a.UserStore.getState(),f=a.default.findUser({bid:t,uid:i});s.a.dispatcher.dispatch({type:o.a.ARCHIVE,bid:t,barrelType:n,currentBid:l,affectedIds:d,name:c,uid:i,currentUserId:u,user:f,syncWithApi:r})},remove(e){const{bid:t,barrelType:n,uid:i,syncWithApi:r=!1}=y(e),{barrelId:c}=s.a.BarrelStore.getState(),d=a.default.getBarrel({bid:t}),u=a.default.findBarrelOrganizationId(t),h=n===p.a.PROJECT?l.default.findProjectOrganizationSectionId(t):null,{userId:f}=s.a.UserStore.getState(),g=a.default.findUser({bid:t,uid:i});s.a.dispatcher.dispatch({type:o.a.REMOVE,oid:u,oseid:h,bid:t,barrelType:n,currentBid:c,oldBarrel:d,uid:i,currentUserId:f,user:g,syncWithApi:r})},updateName(e){const{bid:t,barrelType:n,name:i,syncWithApi:r=!1}=y(e);let l;r&&({name:l}=a.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.UPDATE_NAME,bid:t,barrelType:n,name:i,oldName:l,syncWithApi:r})},updateDescription(e){const{bid:t,barrelType:n,description:i,syncWithApi:r=!1}=y(e);let l;r&&({description:l}=a.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.UPDATE_DESCRIPTION,bid:t,barrelType:n,description:i,oldDescription:l,syncWithApi:r})},updateDensityScale(e){const{bid:t,barrelType:n,densityScale:i,syncWithApi:r=!1}=y(e);let l;r&&({densityScale:l}=a.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.UPDATE_DENSITY_SCALE,bid:t,barrelType:n,densityScale:i,oldDensityScale:l,syncWithApi:r})},updateThumbnail(e){const{bid:t,barrelType:n,thumbnail:i,syncWithApi:r=!1}=y(e);let l;r&&({thumbnail:l}=a.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.UPDATE_THUMBNAIL,bid:t,barrelType:n,thumbnail:i,oldThumbnail:l,syncWithApi:r})},addIntegration(e){const{bid:t,intype:n,integration:i,syncWithApi:a=!1}=y(e);s.a.dispatcher.dispatch({type:o.a.ADD_INTEGRATION,bid:t,intype:n,integration:i,syncWithApi:a})},removeIntegration(e){const{bid:t,barrelType:n,intype:i,inid:r,syncWithApi:l=!1}=y(e);let c;if(l){c=a.default.getBarrel({bid:t}).integration[i].find(({_id:e})=>e===r)}s.a.dispatcher.dispatch({type:o.a.REMOVE_INTEGRATION,bid:t,barrelType:n,intype:i,inid:r,removedIntegration:c,syncWithApi:l})},toggleScene(e){const{bid:t,barrelType:n,accessibility:i,syncWithApi:r=!1}=y(e);let l;r&&({public:l}=a.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.TOGGLE_SCENE,bid:t,barrelType:n,accessibility:i,oldAccessibility:l,syncWithApi:r})},enableScene(){v.toggleScene({accessibility:!0,syncWithApi:!0})},unshareScene(){v.toggleScene({accessibility:!1,syncWithApi:!0})},addMembers(e){const{bid:t,barrelType:n,members:i,shouldLoadBarrel:a=!1,syncWithApi:r=!1}=y(e);s.a.dispatcher.dispatch({type:o.a.ADD_MEMBERS,bid:t,barrelType:n,members:i,shouldLoadBarrel:a,syncWithApi:r})},updateUserRole(e){const{bid:t,barrelType:n,uid:i,role:r,syncWithApi:l=!1}=y(e);let c;if(l){const e=a.default.getBarrel({bid:t});({role:c}=e.findUser(i))}s.a.dispatcher.dispatch({type:o.a.UPDATE_USER_ROLE,bid:t,barrelType:n,uid:i,role:r,oldRole:c,syncWithApi:l})},updateUserData(e){const{bid:t,uid:n,userData:i,syncWithApi:r=!1}=y(e);let l;if(r){const e=a.default.getBarrel({bid:t});({user:l}=e.findUser(n))}s.a.dispatcher.dispatch({type:o.a.UPDATE_USER_DATA,bid:t,uid:n,userData:i,oldUserData:l,syncWithApi:r})},transferOwnership(e){const{bid:t,barrelType:n,uid:i}=y(e);s.a.dispatcher.dispatch({type:o.a.TRANSFER_OWNERSHIP,syncWithApi:!0,bid:t,barrelType:n,uid:i})},ownershipTransferred(e){const{bid:t,barrelType:n,uid:i}=y(e),{barrelUser:{user:{_id:a}},organizationId:r}=s.a.BarrelStore.getState();let l;if(n===p.a.STYLEGUIDE){const{styleguides:e}=s.a.StyleguidesDataStore.getState();l=Object(h.getStyleguideAndItsDescendants)(e,t)}s.a.dispatcher.dispatch({type:o.a.OWNERSHIP_TRANSFERRED,toOrganization:!1,fromUserId:a,targetId:i,oid:r,bid:t,affectedIds:l})},removeMember(e){const{bid:t,uid:n,mid:i,barrelType:r,syncWithApi:c=!1}=y(e),d=a.default.findBarrelOrganizationId(t),{restricted:u}=l.default.getOrganizationProfile(d)||{},p="user"!==d&&l.default.findProjectOrganizationSectionId(t),{barrelId:h}=s.a.BarrelStore.getState(),f=a.default.getBarrel({bid:t}),{userId:g}=s.a.UserStore.getState(),m=(u||"user"===d)&&i===g,b=a.default.findUser({bid:t,uid:n});let S,C;m?S=f:C=a.default.findUser({bid:t,uid:i}),s.a.dispatcher.dispatch({type:o.a.REMOVE_MEMBER,oid:d,bid:t,uid:n,mid:i,oseid:p,barrelType:r,shouldRemoveBarrel:m,currentBid:h,currentUserId:g,removingUser:b,removedBarrel:S,removedMember:C,syncWithApi:c})},addColor(e){const{bid:t,barrelType:n,color:i,syncWithApi:r=!1}=y(e);let l=i;if(r){const e=a.default.getBarrel({bid:t}),{id:n=Object(c.getRandomString)(S),name:o=e.getColorName(new d.default(i))}=i;l=m(m({},i),{},{name:o,_id:n})}s.a.dispatcher.dispatch({type:o.a.ADD_COLOR,bid:t,barrelType:n,color:l,syncWithApi:r})},addMultipleColors(e){const t=y(e),{bid:n,barrelType:i,syncWithApi:r=!1}=t;let{colors:l}=t;if(r){const e=a.default.getBarrel({bid:n});l=l.map(t=>{const n=t.name?t.name:e.getColorName(new d.default(t)),i=t.id?t.id:Object(c.getRandomString)();return m(m({},t),{},{name:n,_id:i})})}s.a.dispatcher.dispatch({type:o.a.ADD_MULTIPLE_COLORS,bid:n,barrelType:i,colors:l,syncWithApi:r})},updateColor(e){const{bid:t,barrelType:n,cid:i,colorData:r,syncWithApi:l=!1}=y(e);let c;if(l){var d=a.default.getBarrel({bid:t}).findColorById(i);({}=d),c=Object.assign({},d)}s.a.dispatcher.dispatch({type:o.a.UPDATE_COLOR,bid:t,barrelType:n,cid:i,colorData:r,oldColorData:c,syncWithApi:l})},removeColor(e){const{bid:t,barrelType:n,cid:i,syncWithApi:r=!1}=y(e);let l;if(r){l=a.default.getBarrel({bid:t}).findColorById(i)}s.a.dispatcher.dispatch({type:o.a.REMOVE_COLOR,bid:t,barrelType:n,cid:i,removedColor:l,syncWithApi:r})},removeAllColors(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=y(e);let r;if(i){r=a.default.getBarrel({bid:t}).colors}s.a.dispatcher.dispatch({type:o.a.REMOVE_ALL_COLORS,bid:t,barrelType:n,colorsToRemove:r,syncWithApi:i})},updateColorOrder(e){const{bid:t,barrelType:n,cid:i,to:a}=y(e);s.a.dispatcher.dispatch({type:o.a.UPDATE_COLOR_ORDER,bid:t,barrelType:n,cid:i,to:a})},addTextStyle(e){const{bid:t,barrelType:n,textStyle:i,syncWithApi:r=!1}=y(e);let l=i;if(r){const e=a.default.getBarrel({bid:t}),{id:n=Object(c.getRandomString)(S),name:o=e.getTextStyleName()}=i;l=m(m({},i),{},{name:o,_id:n})}s.a.dispatcher.dispatch({type:o.a.ADD_TEXT_STYLE,bid:t,barrelType:n,textStyle:l,syncWithApi:r})},addMultipleTextStyles(e){const t=y(e),{bid:n,barrelType:i,syncWithApi:r=!1}=t;let{textStyles:l}=t;if(r){const e=a.default.getBarrel({bid:n});l=l.map(t=>{const n=t.name?t.name:e.getTextStyleName(),i=t.id?t.id:Object(c.getRandomString)();return m(m({},t),{},{name:n,_id:i})})}s.a.dispatcher.dispatch({type:o.a.ADD_MULTIPLE_TEXT_STYLES,bid:n,barrelType:i,textStyles:l,syncWithApi:r})},updateTextStyle(e){const{bid:t,barrelType:n,tsid:i,textStyleData:r,syncWithApi:l=!1}=y(e);let c;if(l){var d=a.default.getBarrel({bid:t}).findTextStyleById(i);({}=d),c=Object.assign({},d)}s.a.dispatcher.dispatch({type:o.a.UPDATE_TEXT_STYLE,bid:t,barrelType:n,tsid:i,textStyleData:r,oldTextStyleData:c,syncWithApi:l})},removeTextStyle(e){const{bid:t,barrelType:n,tsid:i,syncWithApi:r=!1}=y(e);let l;if(r){l=a.default.getBarrel({bid:t}).findTextStyleById(i)}s.a.dispatcher.dispatch({type:o.a.REMOVE_TEXT_STYLE,bid:t,barrelType:n,tsid:i,removedTextStyle:l,syncWithApi:r})},removeAllTextStyles(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=y(e);let r;if(i){r=a.default.getBarrel({bid:t}).textStyles}s.a.dispatcher.dispatch({type:o.a.REMOVE_ALL_TEXT_STYLES,bid:t,barrelType:n,textStylesToRemove:r,syncWithApi:i})},addSpacingSection(e){const{bid:t,barrelType:n,spacingSection:i,syncWithApi:a=!1}=y(e);let r=i;if(a){const{_id:e=Object(c.getRandomString)(S)}=i;r=m(m({},i),{},{_id:e})}s.a.dispatcher.dispatch({type:o.a.ADD_SPACING_SECTION,bid:t,barrelType:n,spacingSection:r,syncWithApi:a})},updateSpacingSection(e){const{bid:t,barrelType:n,ssid:i,updatedSpacingSection:r,syncWithApi:l=!1}=y(e);let c={};if(l){c=a.default.getBarrel({bid:t}).findSpacingSectionById(i)}s.a.dispatcher.dispatch({type:o.a.UPDATE_SPACING_SECTION,bid:t,barrelType:n,ssid:i,updatedSpacingSection:r,oldSpacingSection:c,syncWithApi:l})},removeSpacingSection(e){const{bid:t,barrelType:n,ssid:i,syncWithApi:r=!1}=y(e);let l;if(r){l=a.default.getBarrel({bid:t}).findSpacingSectionById(i)}s.a.dispatcher.dispatch({type:o.a.REMOVE_SPACING_SECTION,bid:t,barrelType:n,ssid:i,removedSpacingSection:l,syncWithApi:r})},addSpacingToken(e){const{bid:t,barrelType:n,ssid:i,spacingToken:a,isBaseToken:r=!1,syncWithApi:l=!1}=y(e);let d=a;if(l){const{_id:e=Object(c.getRandomString)(S)}=a;d=m(m({},a),{},{_id:e})}s.a.dispatcher.dispatch({type:o.a.ADD_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,isBaseToken:r,spacingToken:d,syncWithApi:l})},updateSpacingToken(e){const{bid:t,barrelType:n,ssid:i,sptid:r,updatedSpacingToken:l,syncWithApi:c=!1}=y(e),d=a.default.getBarrel({bid:t}),{baseTokenId:u}=d.findSpacingSectionById(i),p=u===r;let h={};c&&(h=d.findSpacingTokenInsideSectionById(i,r)),s.a.dispatcher.dispatch({type:o.a.UPDATE_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,sptid:r,isBaseToken:p,updatedSpacingToken:l,oldSpacingToken:h,syncWithApi:c})},removeSpacingToken(e){const{bid:t,barrelType:n,ssid:i,sptid:r,syncWithApi:l=!1}=y(e),c=a.default.getBarrel({bid:t}),{baseTokenId:d}=c.findSpacingSectionById(i),u=d===r;let p;l&&(p=c.findSpacingTokenInsideSectionById(i,r)),s.a.dispatcher.dispatch({type:o.a.REMOVE_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,sptid:r,removedSpacingToken:p,isBaseToken:u,syncWithApi:l})},updateRemPreferences(e){const{bid:t,barrelType:n,updatedRemPreferences:i,isRevert:r=!1,syncWithApi:l=!1}=y(e);let c={};if(l){c=a.default.getBarrel({bid:t}).remPreferences}s.a.dispatcher.dispatch({type:o.a.UPDATE_REM_PREFERENCES,bid:t,barrelType:n,updatedRemPreferences:i,oldRemPreferences:c,isRevert:r,syncWithApi:l})},addComponent(e){const{bid:t,csids:n,component:i,index:a}=y(e);s.a.dispatcher.dispatch({type:o.a.ADD_COMPONENT,bid:t,csids:n,component:i,index:a})},updateComponent(e){const{bid:t,barrelType:n,csids:i,coid:r,componentData:l,syncWithApi:c=!1}=y(e);let d;if(c){var u=a.default.getBarrel({bid:t}).findComponentById(r);({}=u),d=Object.assign({},u)}s.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENT,bid:t,barrelType:n,csids:i,coid:r,shouldFetchSnapshot:C(t),componentData:l,oldComponentData:d,syncWithApi:c})},setComponentSnapshot(e){const{bid:t,csids:n,coid:i,vid:a,snapshot:r}=e;s.a.dispatcher.dispatch({type:o.a.SET_COMPONENT_SNAPSHOT,bid:t,csids:n,coid:i,vid:a,snapshot:r})},removeComponent(e){const{bid:t,barrelType:n,csids:i,coid:r,syncWithApi:l=!1}=y(e);let c;if(l){c=a.default.getBarrel({bid:t}).findComponentById(r)}s.a.dispatcher.dispatch({type:o.a.REMOVE_COMPONENT,bid:t,barrelType:n,csids:i,coid:r,oldComponent:c,syncWithApi:l})},addComponentVersion(e){const{bid:t,csids:n,coid:i,componentVersion:a}=y(e);s.a.dispatcher.dispatch({type:o.a.ADD_COMPONENT_VERSION,bid:t,csids:n,coid:i,shouldFetchSnapshot:C(t),componentVersion:a})},addComponentSection(e){const{bid:t,barrelType:n,csids:i,componentSection:a,isCreateGroup:r=!1,syncWithApi:l=!1}=y(e);s.a.dispatcher.dispatch({type:o.a.ADD_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,componentSection:a,isCreateGroup:r,syncWithApi:l})},updateComponentSection(e){const{bid:t,barrelType:n,csids:i,componentSectionData:r,isComponentGroup:l=!1,syncWithApi:c=!1}=y(e);let d;if(c){var u=a.default.getBarrel({bid:t}).findComponentSection(i);({}=u),d=Object.assign({},u)}s.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,componentSectionData:r,oldComponentSectionData:d,isComponentGroup:l,syncWithApi:c})},mergeComponentSection(e){const{bid:t,barrelType:n,csids:i,tcsids:r,flatten:l,index:c,syncWithApi:d=!1}=y(e);let u,p=r,h=l;if(d){const e=a.default.getBarrel({bid:t});if(u=e.findComponentSection(i),1===i.length)h=!0,p=[e.componentSections[0]._id];else{const t=i.slice(0,i.length-1),n=e.findComponentSection(t),o=n.componentSections.indexOf(u);let a=n.componentSections[o-1];a||(a=n),h="default"===a.name,p=a.idPath}}s.a.dispatcher.dispatch({type:o.a.MERGE_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,tcsids:p,flatten:h,index:c,oldComponentSection:u,syncWithApi:d})},removeComponentSection(e){const{bid:t,csids:n}=y(e);s.a.dispatcher.dispatch({type:o.a.REMOVE_COMPONENT_SECTION,bid:t,csids:n})},removeComponentSections(e){const{bid:t,componentSections:n}=y(e);s.a.dispatcher.dispatch({type:o.a.REMOVE_COMPONENT_SECTIONS,bid:t,componentSections:n})},updateComponentSectionsOrder(e){const{bid:t,barrelType:n,componentSections:i,syncWithApi:a=!1}=y(e);s.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENT_SECTIONS_ORDER,bid:t,barrelType:n,componentSections:i,syncWithApi:a})},updateComponentsOrder(e){const{bid:t,barrelType:n,components:i,syncWithApi:r=!1}=y(e);if(r){const e=a.default.getBarrel({bid:t});i.forEach(t=>{void 0===t.to&&(t.to=e.findComponentSection(t.tcsid).components.length)})}s.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENTS_ORDER,bid:t,barrelType:n,components:i,syncWithApi:r})},changeSelectedView(e,t={}){s.a.dispatcher.dispatch({type:o.a.CHANGE_SELECTED_VIEW,selectedView:e,viewUpdate:t})},updateWorkflowStatus(e){const{barrelType:t,bid:n,workflowStatus:i,syncWithApi:r=!1}=y(e),l=r?a.default.getBarrel({bid:n}).workflowStatus:{};s.a.dispatcher.dispatch({type:o.a.UPDATE_WORKFLOW_STATUS,barrelType:t,bid:n,workflowStatus:i,oldWorkflowStatusData:l,syncWithApi:r})},updateWorkflowStatuses(e){const{workflowStatus:t,syncWithApi:n=!1}=y(e),{bids:i}=e,r=i.map(e=>{const{barrelType:t,bid:i}=y({bid:e});return{bid:i,barrelType:t,oldWorkflowStatusData:n?a.default.getBarrel({bid:i}).workflowStatus:{}}});s.a.dispatcher.dispatch({type:o.a.UPDATE_WORKFLOW_STATUSES,statusUpdatedBarrels:r,workflowStatus:t,syncWithApi:n})},deleteWorkflowStatus(e){const{barrelType:t,bid:n,syncWithApi:i=!1}=y(e),r=i?a.default.getBarrel({bid:n}).workflowStatus:{};s.a.dispatcher.dispatch({type:o.a.DELETE_WORKFLOW_STATUS,barrelType:t,bid:n,oldWorkflowStatusData:r,syncWithApi:i})},deleteWorkflowStatuses(e){const{syncWithApi:t=!1}=y(e),{bids:n}=e,i=n.map(e=>{const{barrelType:n,bid:i}=y({bid:e});return{bid:i,barrelType:n,oldWorkflowStatusData:t?a.default.getBarrel({bid:i}).workflowStatus:{}}});s.a.dispatcher.dispatch({type:o.a.DELETE_WORKFLOW_STATUSES,statusDeletedBarrels:i,syncWithApi:t})},setAssetExportTarget(e){s.a.dispatcher.dispatch({type:o.a.SET_ASSET_EXPORT_TARGET,assetExportTarget:e})},changeAssetName(e){const{bid:t,containerId:n,snapshot:i,assetId:a,name:r,source:l}=y(e);s.a.dispatcher.dispatch({type:o.a.CHANGE_ASSET_NAME,bid:t,containerId:n,snapshot:i,assetId:a,name:r,source:l})},changeAssetDensityScalePref(e,t){const{bid:n}=y();s.a.dispatcher.dispatch({type:o.a.CHANGE_ASSET_DENSITY_SCALE_PREF,bid:n,format:e,assetDensityScalePrefsOfFormat:t})},changeAssetNamingConvention(e){const{bid:t}=y();s.a.dispatcher.dispatch({type:o.a.CHANGE_ASSET_NAMING_CONVENTION,bid:t,assetNamingConvention:e})},toggleSVGOptimization(e){const{bid:t}=y();s.a.dispatcher.dispatch({type:o.a.TOGGLE_SVG_OPTIMIZATION,bid:t,showOptimizedSVG:e})},goToDashboard(){const{selectedView:e}=s.a.BarrelStore.getState();if(e===f.ProjectViewTypes.DASHBOARD)return;const{bid:t}=y(),{tagFilter:n}=s.a.DashboardStore.getState();s.a.dispatcher.dispatch({type:o.a.GO_TO_DASHBOARD,bid:t,tagFilter:n})},goToStyleguide(){const{selectedView:e}=s.a.BarrelStore.getState();if(e===f.ProjectViewTypes.STYLEGUIDE)return;const{bid:t}=y();s.a.dispatcher.dispatch({type:o.a.GO_TO_STYLEGUIDE,bid:t})},changeExportTarget(){s.a.dispatcher.dispatch({type:o.a.CHANGE_EXPORT_TARGET})},openExportTarget(){s.a.dispatcher.dispatch({type:o.a.OPEN_EXPORT_TARGET})},downloadAsset({containerName:e,version:t,assetId:n,format:i,toastContainer:r,source:l}){const{barrelId:c,assetDensityScalePrefs:d,assetNamingConvention:u,showOptimizedSVG:p}=s.a.BarrelStore.getState(),{type:h}=a.default.getBarrel({bid:c});s.a.dispatcher.dispatch({type:o.a.DOWNLOAD_ASSET,barrelId:c,assetDensityScalePrefs:d,assetNamingConvention:u,showOptimizedSVG:p,platform:h,containerName:e,version:t,assetId:n,format:i,toastContainer:r,source:l})},downloadMultipleAsset({containerName:e,version:t,assetList:n,toastContainer:i,source:r}){const{barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u}=s.a.BarrelStore.getState(),{type:p}=a.default.getBarrel({bid:l});s.a.dispatcher.dispatch({type:o.a.DOWNLOAD_MULTIPLE_ASSET,barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u,platform:p,containerName:e,version:t,assetList:n,toastContainer:i,source:r})},exportCode(e){const{bid:t,resourceType:n,source:i,exportObjects:r,extensionId:l}=y(e),{name:c,type:d}=a.default.getBarrel({bid:t});s.a.dispatcher.dispatch({type:o.a.EXPORT_CODE,barrelName:c,platform:d,resourceType:n,source:i,exportObjects:r,extensionId:l})},copyCode({code:e,toastContainer:t,platform:n,extensionId:i,source:a}){s.a.dispatcher.dispatch({type:o.a.COPY_CODE,code:e,toastContainer:t,platform:n,extensionId:i,source:a})},hideNoVectorAssetInfo(){s.a.dispatcher.dispatch({type:o.a.HIDE_NO_VECTOR_ASSET_INFO})},hideDensityMismatchWarning(){s.a.dispatcher.dispatch({type:o.a.HIDE_DENSITY_MISMATCH_WARNING})},hideSourceFileInfo(){s.a.dispatcher.dispatch({type:o.a.HIDE_SOURCE_FILE_INFO})},dismissFlowLinkInfo(){s.a.dispatcher.dispatch({type:o.a.DISMISS_FLOW_LINK_INFO})},dismissNoResourceInfo(){const{bid:e}=y();s.a.dispatcher.dispatch({type:o.a.DISMISS_NO_RESOURCE_INFO,bid:e})},hideSlackReconnectionAuntie(){const{bid:e}=y();s.a.dispatcher.dispatch({type:o.a.HIDE_SLACK_RECONNECTION_AUNTIE,bid:e})},openJumpToPopup(){s.a.dispatcher.dispatch({type:o.a.OPEN_JUMP_TO_POPUP})},closeJumpToPopup(){s.a.dispatcher.dispatch({type:o.a.CLOSE_JUMP_TO_POPUP})},copyComponentSectionWebLink(e){const{bid:t,barrelType:n,seid:i}=y(e);s.a.dispatcher.dispatch({type:o.a.COPY_COMPONENT_SECTION_WEB_LINK,bid:t,barrelType:n,seid:i})},copyComponentSectionAppURI(e){const{bid:t,barrelType:n,cseid:i}=y(e);s.a.dispatcher.dispatch({type:o.a.COPY_COMPONENT_SECTION_APP_URI,bid:t,barrelType:n,cseid:i})},fetchComponentSectionShortLink(e){const{bid:t,barrelType:n,seid:i}=y(e);s.a.dispatcher.dispatch({type:o.a.FETCH_COMPONENT_SECTION_SHORT_LINK,bid:t,barrelType:n,seid:i})},join(e){const{bid:t,barrelType:n,source:i,shouldLoadBarrel:a=!0}=y(e);s.a.dispatcher.dispatch({type:o.a.JOIN,bid:t,barrelType:n,shouldLoadBarrel:a,source:i,syncWithApi:!0})},stopLoadingJoin(){s.a.dispatcher.dispatch({type:o.a.STOP_JOIN_LOADING})},enableDevMode(){const{bid:e,barrelType:t}=y(),{styleguideLink:n,ancestors:i}=a.default.getBarrel({bid:e});s.a.dispatcher.dispatch({type:o.a.ENABLE_DEV_MODE,bid:e,barrelType:t,styleguideLink:n,ancestors:i})},disableDevMode(){s.a.dispatcher.dispatch({type:o.a.DISABLE_DEV_MODE})},reloadLocalConnectedComponents(){const{bid:e,barrelType:t}=y(),{styleguideLink:n,ancestors:i}=a.default.getBarrel({bid:e});s.a.dispatcher.dispatch({type:o.a.RELOAD_LOCAL_CONNECTED_COMPONENTS,bid:e,barrelType:t,styleguideLink:n,ancestors:i})},setLocalConnectedComponents(e){const{bid:t,localConnectedComponents:n}=y(e);s.a.dispatcher.dispatch({type:o.a.SET_LOCAL_CONNECTED_COMPONENTS,bid:t,localConnectedComponents:n})},setConnectedComponentsLocalWorkspace(e){const{bid:t,workspace:n}=y(e);s.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE,bid:t,workspace:n})},getConnectedComponentsEditorInfo(){const{bid:e}=y();s.a.dispatcher.dispatch({type:o.a.GET_CONNECTED_COMPONENTS_EDITOR_INFO,bid:e})},setConnectedComponentsEditorInfo(e){s.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_EDITOR_INFO,editorInfo:e})},setConnectedComponentsEditorPreference(e,t){s.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE,extension:e,editor:t})},setConnectedComponentsWorkspacePath(e){s.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH,workspacePath:e})},selectConnectedComponentsWorkspaceFolder(){const{bid:e}=y();s.a.dispatcher.dispatch({type:o.a.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER,bid:e})},openComponentFileInEditor(e,t){const{bid:n}=y();s.a.dispatcher.dispatch({type:o.a.OPEN_COMPONENT_FILE_IN_EDITOR,bid:n,filePath:e,editor:t})},moveResourcesRequest(e){const{bid:t,barrelType:n,resourceType:i,resources:r,targetStyleguideId:l}=y(e);let c;a.default.getBarrel({bid:l}).densityScale||({densityScale:c}=a.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.MOVE_RESOURCES_REQUEST,bid:t,barrelType:n,densityScale:c,targetStyleguideId:l,resourceType:i,resources:r,syncWithApi:!0})},moveResourcesSuccess(e){const{bid:t,barrelType:n,resourceType:i,resources:a,targetStyleguideId:r}=y(e);s.a.dispatcher.dispatch({type:o.a.MOVE_RESOURCES_SUCCESS,bid:t,barrelType:n,resourceType:i,resources:a,targetStyleguideId:r})},moveResourcesFail(){s.a.dispatcher.dispatch({type:o.a.MOVE_RESOURCES_FAIL})},attachJiraIssue(e){const{bid:t,jira:n}=y(e);s.a.dispatcher.dispatch({type:o.a.ATTACH_JIRA_ISSUE,bid:t,jira:n})},removeJiraIssueAttachment(e){const{bid:t,aid:n}=y(e);s.a.dispatcher.dispatch({type:o.a.REMOVE_JIRA_ISSUE_ATTACHMENT,bid:t,aid:n})},updateConnectedComponents(e){const{bid:t,connectedComponents:n}=y(e);s.a.dispatcher.dispatch({type:o.a.UPDATE_CONNECTED_COMPONENTS,bid:t,connectedComponents:n})},highlightedConnectToCodeButtonViewed(){s.a.dispatcher.dispatch({type:o.a.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED})},markConnectedComponentsOnboardingDialogAsSeen(){s.a.dispatcher.dispatch({type:o.a.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN})}};t.default=v},function(e,t,n){"use strict";n.r(t),n.d(t,"generateTrees",(function(){return s})),n.d(t,"generateNodes",(function(){return l})),n.d(t,"getSelectableParentStyleguides",(function(){return r})),n.d(t,"getStyleguideAndItsDescendants",(function(){return c}));var i=n(245),o=n(378),a=n(379);function r({isOrganizationStyleguide:e,currentStyleguides:t,currentUser:n,id:o,parentId:a,users:r}){return t.filter(t=>{let s;if(e)s=i.permissions.canUpdateStyleguide(n);else{const e=t.users.find(e=>"owner"===e.role),n=r.find(e=>"owner"===e.role);s=e&&n&&e.user._id===n.user._id}return s&&t._id!==o&&t._id!==a&&"active"===t.status&&!(t.ancestors||[]).includes(o)})}function s(e){const t={};return e.forEach((e,n)=>{const i=new o.default(e,n);t[i.id]=i}),e.forEach(e=>{if(e.parent){const n=t[e._id],i=t[e.parent];i?i.addChild(n):delete t[e._id].parentId}}),Object.keys(t).filter(e=>t[e].isRoot()).map(e=>new a.default(t[e]))}function l(e){return e.map(e=>new o.default(e))}function c(e,t){return Object.values(e).filter(e=>e._id===t||e.ancestors.includes(t)).map(e=>e._id)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t){this.id=e._id,this.parentId=e.parent,this.data=e,this.children=[],this.index=t}addChild(e){this.children.push(e)}isRoot(){return!this.parentId}isLeaf(){return 0===this.children.length}isArchived(){return"archived"===this.data.status}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(380);class o{constructor(e){this.root=e,this.levels=function e(t,n=1,o={}){return t.children.length>0&&(o[n]=(o[n]||[]).concat(t.children),t.children.forEach(t=>{e(t,n+1,o)})),Object.keys(o).map(e=>new i.default(Number(e),o[e]))}(e)}get height(){return Object.keys(this.levels).length+1}get length(){return 1+this.levels.reduce((e,t)=>e+t.nodes.length,0)}isRootTree(){return this.root.isLeaf()}isArchived(){return this.root.isArchived()}getNodesAtLevel(e){return this.levels[e].nodes}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t){this.level=e,this.nodes=t||[]}}},function(e,t,n){"use strict";n.r(t);var i=n(269),o=n.n(i),a=n(278),r=n.n(a);const s={updatePageState(e){o.a.dispatcher.dispatch({type:r.a.UPDATE_PAGE_STATE,updateState:e})},changeSelectedTab(e){o.a.dispatcher.dispatch({type:r.a.CHANGE_SELECTED_TAB,tab:e})},changeSelectedOrganization(e){o.a.dispatcher.dispatch({type:r.a.CHANGE_SELECTED_ORGANIZATION,oid:e})},changeFilterValue(e){o.a.dispatcher.dispatch({type:r.a.CHANGE_FILTER_VALUE,filterValue:e})},changeWorkflowStatusFilter({workflowStatus:e}){const{selectedOrganizationId:t}=o.a.SpaceStore.getState();o.a.dispatcher.dispatch({type:r.a.CHANGE_WORKFLOW_STATUS_FILTER,oid:t,workflowStatusFilter:e._id,workflowStatus:e})},changeProjectSelectedSortType(e){const{selectedOrganizationId:t}=o.a.SpaceStore.getState();o.a.dispatcher.dispatch({type:r.a.CHANGE_PROJECT_SELECTED_SORT_TYPE,oid:t,sortType:e})},toggleArchivedProjects(){o.a.dispatcher.dispatch({type:r.a.TOGGLE_ARCHIVED_PROJECTS})},unhighlightBarrel(e){o.a.dispatcher.dispatch({type:r.a.UNHIGHLIGHT_BARREL,bid:e})},highlightSection(e){o.a.dispatcher.dispatch({type:r.a.HIGHLIGHT_SECTION,oseid:e})},unhighlightSection(){o.a.dispatcher.dispatch({type:r.a.UNHIGHLIGHT_SECTION})},expandSections(e){const{selectedOrganizationId:t}=o.a.SpaceStore.getState();o.a.dispatcher.dispatch({type:r.a.EXPAND_SECTIONS,oid:t,oseids:e})},collapseSections(e){const{selectedOrganizationId:t}=o.a.SpaceStore.getState();o.a.dispatcher.dispatch({type:r.a.COLLAPSE_SECTIONS,oid:t,oseids:e})},setStyleguidesTabVisited(){o.a.dispatcher.dispatch({type:r.a.SET_STYLEGUIDES_TAB_VISITED})},openDialog(e,t={}){o.a.dispatcher.dispatch({type:r.a.OPEN_DIALOG,dialogType:e,dialogParams:t})},closeDialog(){const{visibleDialogType:e,visibleDialogParams:t}=o.a.SpaceStore.getState();o.a.dispatcher.dispatch({type:r.a.CLOSE_DIALOG,dialogType:e,dialogParams:t})},hideLoading(){o.a.dispatcher.dispatch({type:r.a.HIDE_LOADING})},setWorkspaceLoading(e){o.a.dispatcher.dispatch({type:r.a.SET_WORKSPACE_LOADING,oid:e})},trackBarrelClick({isFromPinArea:e}){const{selectedOrganizationId:t}=o.a.SpaceStore.getState();o.a.dispatcher.dispatch({type:r.a.TRACK_BARREL_CLICK,oid:t,isFromPinArea:e})},toggleProjectSelection(e){o.a.dispatcher.dispatch({type:r.a.TOGGLE_PROJECT_SELECTION,pid:e})},clearProjectSelection(){o.a.dispatcher.dispatch({type:r.a.CLEAR_PROJECT_SELECTION})},selectProjects(e){o.a.dispatcher.dispatch({type:r.a.SELECT_PROJECTS,projectIds:e})},deselectProjects(e){o.a.dispatcher.dispatch({type:r.a.DESELECT_PROJECTS,projectIds:e})},setAutoExpandNotifications(e){o.a.dispatcher.dispatch({type:r.a.SET_AUTO_EXPAND_NOTIFICATIONS,autoExpandNotifications:e})}};t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(269),o=n.n(i),a=n(361),r=n(277),s=n.n(r),l=n(367),c=n(326),d=n(246),u=n(245),p=n(383);function h(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e={}){if(!e.pid){const{barrelId:t}=o.a.BarrelStore.getState();e.pid=t}if(!e.sid){const{screenId:t}=o.a.ScreenStore.getState();e.sid=t}if(!e.vid){const{versionId:t}=o.a.ScreenStore.getState();e.vid=t}if(!e.did){const{dotId:t}=o.a.DotsStore.getState();e.did=t}return e}const S={calculateVersionsLastSeenForCurrentScreen(){const{screenId:e,versionsVisible:t}=o.a.ScreenStore.getState();if(!e||!t)return{};const{versions:[{created:n}]}=l.default.getScreen();return{sid:e,date:new Date(n)}},openScreen(e,t,n,i){const a=l.default.getScreen({sid:e}),{barrelId:r}=o.a.BarrelStore.getState(),c={type:s.a.OPEN_SCREEN,barrelId:r,screenId:e,dotId:n,commentId:i};if(a){const{versions:[n={}]}=a;let i,o;t?(i=l.default.getVersion({sid:e,vid:t}),o=t,Object.assign(c,{versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})):(i=n,o=i._id);const r=n._id===o,s=l.default.getVisibleScreens();if(!s)return;const d=!s.some(t=>t._id===e);Object.assign(c,{versionId:o,latestVersionSelected:r,loadingSnapshot:!i||!("layers"in i.snapshot),loadingVersions:!a.totalVersionCount,shouldResetDashboardFilters:d})}o.a.dispatcher.dispatch(g(g({},c),{},{screenVersionsLastSeen:S.calculateVersionsLastSeenForCurrentScreen()}))},selectLayer(e){const t=a.default.getStyleguidesData({barrelStore:o.a.BarrelStore,styleguidesDataStore:o.a.StyleguidesDataStore,projectsDataStore:o.a.ProjectsDataStore}),n=l.default.getVersion(),i=Boolean(Object(p.findComponentLayer)(n.snapshot,e,t)),{numberOfLayerComponentViews:r}=o.a.ScreenStore.getState(),c=i&&r<p.LAYER_COMPONENT_VIEW_LIMIT;o.a.dispatcher.dispatch({type:s.a.SELECT_LAYER,layer:e,numberOfLayerComponentViews:r,shouldIncrementNumberOfLayerComponentViews:c})},deselectLayer(){o.a.dispatcher.dispatch({type:s.a.DESELECT_LAYER})},enterLayer(e,t){o.a.dispatcher.dispatch({type:s.a.ENTER_LAYER,layer:e,percentageMode:t})},leaveLayer(){o.a.dispatcher.dispatch({type:s.a.LEAVE_LAYER})},enablePercentageMode(){o.a.dispatcher.dispatch({type:s.a.ENABLE_PERCENTAGE_MODE})},disablePercentageMode(){o.a.dispatcher.dispatch({type:s.a.DISABLE_PERCENTAGE_MODE})},addScreen(e){const{pid:t,seid:n,index:i,screen:a,syncWithApi:r=!1}=b(e);o.a.dispatcher.dispatch({type:s.a.ADD_SCREEN,pid:t,seid:n,index:i,screen:a,syncWithApi:r})},updateDescription(e){const{pid:t,sid:n,description:i,syncWithApi:a=!1}=b(e);let r;a&&({description:r}=l.default.getScreen({sid:n})),o.a.dispatcher.dispatch({type:s.a.UPDATE_DESCRIPTION,pid:t,sid:n,description:i,oldDescription:r,syncWithApi:a})},updateName(e){const{pid:t,sid:n,name:i,onError:a,syncWithApi:r=!1}=b(e);let c;r&&({name:c}=l.default.getScreen({sid:n})),o.a.dispatcher.dispatch({type:s.a.UPDATE_NAME,pid:t,sid:n,name:i,oldName:c,onError:a,syncWithApi:r})},removeScreen(e){const{pid:t,uid:n,sid:i,syncWithApi:r=!1}=b(e),{screenId:c}=o.a.ScreenStore.getState(),d=i===c;let u,p,h,f;if((r||d)&&(u=l.default.getScreen({bid:t,sid:i})),r){const e=l.default.getSectionOfScreen({bid:t,sid:i});p=e._id,h=e.screens.indexOf(i)}if(n){f=a.default.getBarrel({bid:t}).findUser(n)}o.a.dispatcher.dispatch({type:s.a.REMOVE_SCREEN,pid:t,seid:p,index:h,sid:i,removedScreen:u,removingCurrentScreen:d,user:f,syncWithApi:r})},openTagManager(e){o.a.dispatcher.dispatch({type:s.a.OPEN_TAG_MANAGER,sid:e})},closeTagManager(){o.a.dispatcher.dispatch({type:s.a.CLOSE_TAG_MANAGER})},updateTags(e){const{pid:t,updates:n,isScreen:i=!1,syncWithApi:a=!1}=b(e);o.a.dispatcher.dispatch({type:s.a.UPDATE_TAGS,pid:t,updates:n,isScreen:i,syncWithApi:a})},removeTag(e){const{pid:t,tag:n,syncWithApi:i=!1}=b(e),{screens:o}=a.default.getBarrel({bid:t}),r=o.filter(({tags:e})=>e&&e.includes(n)).map(({_id:e})=>({_id:e,operation:"remove",tags:[n]}));this.updateTags({pid:t,updates:r,syncWithApi:i})},openSourceFile(e){o.a.dispatcher.dispatch({type:s.a.OPEN_SOURCE_FILE,path:e})},openSourceFolder(e){o.a.dispatcher.dispatch({type:s.a.OPEN_SOURCE_FOLDER,path:e})},setDots(e){const{pid:t,sid:n,dots:i}=b(e);i.forEach(e=>{e.status=e.status||"open"});let{statusFilter:a,colorFilter:r,dotId:l,highlightedDots:c}=o.a.DotsStore.getState();if(l){const e=i.find(e=>e._id===l);e?[a,r]=[e.status,null]:l=null}else if(c.length>1){const e=i.some(e=>"open"===e.status&&c.includes(e._id));e&&"open"!==a?[a,r]=["open",null]:e||"resolved"===a||([a,r]=["resolved",null])}o.a.dispatcher.dispatch({type:s.a.SET_DOTS,pid:t,sid:n,dots:i,dotId:l,colorFilter:r,statusFilter:a})},selectDot({dotId:e,commentId:t,source:n}){const{dotId:i}=o.a.DotsStore.getState();i!==e&&o.a.dispatcher.dispatch({type:s.a.SELECT_DOT,dotId:e,commentId:t,source:n})},highlightDots(e){o.a.dispatcher.dispatch({type:s.a.HIGHLIGHT_DOTS,dids:e})},unhighlightDot({did:e}){o.a.dispatcher.dispatch({type:s.a.UNHIGHLIGHT_DOT,did:e})},closeDotPopup(){o.a.dispatcher.dispatch({type:s.a.CLOSE_DOT_POPUP})},changeDotFilter(e,t){const n=a.default.findUser();let{dotId:i}=o.a.DotsStore.getState();if(i){const o=l.default.getDot({did:i});Object(c.checkFilter)(o,e,t,n.user)||(i=null)}o.a.dispatcher.dispatch({type:s.a.CHANGE_DOT_FILTER,dotId:i,status:e,color:t})},dotsFlashed(){o.a.dispatcher.dispatch({type:s.a.DOTS_FLASHED})},openPopout(e){const{pid:t,sid:n,vid:i}=b(e),{name:a}=l.default.getScreen({bid:t,sid:n}),{snapshot:{width:r,height:c,url:d}}=l.default.getVersion({bid:t,sid:n,vid:i});o.a.dispatcher.dispatch({type:s.a.OPEN_POPOUT,pid:t,name:a,width:r,height:c,url:d})},changeZoomLevel(e,t){o.a.dispatcher.dispatch({type:s.a.CHANGE_ZOOM_LEVEL,zoomLevel:e,animateZooming:t})},zoomIn(){o.a.dispatcher.dispatch({type:s.a.ZOOM_IN})},zoomOut(){o.a.dispatcher.dispatch({type:s.a.ZOOM_OUT})},resetZoom(){o.a.dispatcher.dispatch({type:s.a.RESET_ZOOM})},zoomApplied(){o.a.dispatcher.dispatch({type:s.a.ZOOM_APPLIED})},startGesture(){o.a.dispatcher.dispatch({type:s.a.START_GESTURE})},zoomWithGesture(e){o.a.dispatcher.dispatch({type:s.a.ZOOM_WITH_GESTURE,scale:e})},zoomWithWheel(e){o.a.dispatcher.dispatch({type:s.a.ZOOM_WITH_WHEEL,deltaY:e})},toggleLayoutGrid(){o.a.dispatcher.dispatch({type:s.a.TOGGLE_LAYOUT_GRID})},enableNoteMode({flash:e=!0}={}){o.a.dispatcher.dispatch({type:s.a.ENABLE_NOTE_MODE,flash:e})},disableNoteMode(){o.a.dispatcher.dispatch({type:s.a.DISABLE_NOTE_MODE})},createNote(e){const{pid:t,sid:n,x:i,y:a}=b(e),{dots:r}=l.default.getScreen(),{lastNoteColorUsed:u}=o.a.DotsStore.getState(),p={_id:"newDot"+Object(d.getRandomString)(),name:r&&r.length?String(parseInt(r[r.length-1].name,10)+1):"1",x:i,y:a,color:Object(c.getColorValueByName)(u),comments:[]};o.a.dispatcher.dispatch({type:s.a.CREATE_NOTE,pid:t,sid:n,dot:p})},addDot(e){const{pid:t,sid:n,uid:i,dot:r,syncWithApi:l=!1}=b(e);let c,d,p;if(i&&({userId:c,username:d}=o.a.UserStore.getState()),l){const e=a.default.getBarrel({bid:t}),[{note:n}]=r.comments;p=Object(u.isThereAnyMentionedUser)(e.users,n)}o.a.dispatcher.dispatch({type:s.a.ADD_DOT,pid:t,sid:n,uid:i,userId:c,username:d,dot:r,hasMention:p,syncWithApi:l})},updateDot(e){const{pid:t,sid:n,did:i,dotData:a,syncWithApi:r=!1}=b(e);let c;if(r){let e;var d=l.default.getDot({bid:t,sid:n,did:i})||{};({_id:e}=d),c=h(d,["_id"])}o.a.dispatcher.dispatch({type:s.a.UPDATE_DOT,pid:t,sid:n,did:i,dotData:a,oldDotData:c,syncWithApi:r})},updateDotColor(e){const{pid:t,sid:n,did:i,color:a,syncWithApi:r=!1}=b(e);let d;if(r){var u=(l.default.getDot({bid:t,sid:n,did:i})||{}).color;({}=u),d=Object.assign({},u)}o.a.dispatcher.dispatch({type:s.a.UPDATE_DOT_COLOR,pid:t,sid:n,did:i,color:a,oldColor:d,colorName:Object(c.getColorName)(a),syncWithApi:r})},updateDotPosition(e){const{pid:t,sid:n,did:i,x:a,y:r,syncWithApi:c=!1}=b(e);let d,u;c&&({x:d,y:u}=l.default.getDot({bid:t,sid:n,did:i})||{}),o.a.dispatcher.dispatch({type:s.a.UPDATE_DOT_POSITION,pid:t,sid:n,did:i,x:a,y:r,oldX:d,oldY:u,syncWithApi:c})},updateDotStatus(e){const{pid:t,sid:n,did:i,status:a,syncWithApi:r=!1,source:c="Screen"}=b(e);let d;r&&({status:d}=l.default.getDot({bid:t,sid:n,did:i})||{}),o.a.dispatcher.dispatch({type:s.a.UPDATE_DOT_STATUS,pid:t,sid:n,did:i,status:a,oldStatus:d,syncWithApi:r,source:c})},removeDot(e){const{pid:t,sid:n,did:i,syncWithApi:a=!1}=b(e);let r;a&&(r=l.default.getDot({bid:t,sid:n,did:i})),o.a.dispatcher.dispatch({type:s.a.REMOVE_DOT,pid:t,sid:n,did:i,removedDot:r,syncWithApi:a})},createComment(e){const{pid:t,sid:n,did:i,note:r,hasReaction:c,syncWithApi:p=!1,source:h="Screen"}=b(e),f="newComment"+Object(d.getRandomString)(),{user:{_id:g,email:m,username:S,emotar:y,avatar:C}}=a.default.findUser({bid:t}),v=Date.now(),O={_id:f,author:{_id:g,email:m,username:S,emotar:y,avatar:C},note:r,created:v,updated:v};let E,T;if(p){const e=a.default.getBarrel({bid:t}),o=l.default.getDot({bid:t,sid:n,did:i}),s=o.comments.map(e=>e.author._id).lastIndexOf(Zeplin.user._id)+1,c=o.comments.slice(s);E=Object(u.isThereAnyMentionedUser)(e.users,r),T=c.some(e=>e.author._id!==Zeplin.user._id&&e.note.includes("@"+Zeplin.user.username))}o.a.dispatcher.dispatch({type:s.a.CREATE_COMMENT,pid:t,sid:n,did:i,comment:O,hasReaction:c,toMention:T,hasMention:E,syncWithApi:p,source:h})},addComment(e){const{pid:t,sid:n,uid:i,did:a,comment:r}=b(e);let l,c;i&&({userId:l,username:c}=o.a.UserStore.getState()),o.a.dispatcher.dispatch({type:s.a.ADD_COMMENT,pid:t,sid:n,uid:i,userId:l,username:c,did:a,comment:r})},updateComment(e){const{pid:t,sid:n,uid:i,did:r,cmid:c,commentData:d,syncWithApi:u=!1}=b(e);let p,f,g,m;if(u){let e;var S=l.default.getComment({pid:t,sid:n,did:r,cmid:c})||{};({_id:e}=S),p=h(S,["_id"])}i&&(({userId:f,username:g}=o.a.UserStore.getState()),({user:m}=a.default.findUser({bid:t,uid:i})||{})),o.a.dispatcher.dispatch({type:s.a.UPDATE_COMMENT,pid:t,sid:n,uid:i,author:m,userId:f,username:g,did:r,cmid:c,commentData:d,oldCommentData:p,syncWithApi:u})},removeComment(e){const{pid:t,sid:n,did:i,cmid:a,syncWithApi:r=!1}=b(e);let c;r&&(c=l.default.getComment({pid:t,sid:n,did:i,cmid:a})),o.a.dispatcher.dispatch({type:s.a.REMOVE_COMMENT,pid:t,sid:n,did:i,cmid:a,removedComment:c,syncWithApi:r})},openDotMenu(){o.a.dispatcher.dispatch({type:s.a.OPEN_DOT_MENU})},showNotes(){o.a.dispatcher.dispatch({type:s.a.SHOW_NOTES})},hideNotes(){o.a.dispatcher.dispatch({type:s.a.HIDE_NOTES})},showFlowLinks(){o.a.dispatcher.dispatch({type:s.a.SHOW_FLOW_LINKS})},hideFlowLinks(){o.a.dispatcher.dispatch({type:s.a.HIDE_FLOW_LINKS})},changeSidebarTab(e){o.a.dispatcher.dispatch({type:s.a.CHANGE_SIDEBAR_TAB,selectedSidebarTab:e})},changeScreenSidebarWidth(e){o.a.dispatcher.dispatch({type:s.a.CHANGE_SCREEN_SIDEBAR_WIDTH,screenSidebarWidth:e})},getVersions(){const{screenId:e}=o.a.ScreenStore.getState();o.a.dispatcher.dispatch({type:s.a.GET_VERSIONS,screenId:e})},setVersions(e){const{pid:t,sid:n,versions:i,totalVersionCount:a,allowedVersionCount:r}=b(e);i.forEach(e=>{e.commit=e.commit||{message:"",color:Object(c.getColorValueByName)("yellow"),author:e.creator}});let{versionId:l}=o.a.ScreenStore.getState();i.some(({_id:e})=>e===l)||(l=i[0]._id),o.a.dispatcher.dispatch({type:s.a.SET_VERSIONS,pid:t,sid:n,versions:i,totalVersionCount:a,allowedVersionCount:r,versionId:l})},setVersionId(e){const{barrelId:t}=o.a.BarrelStore.getState(),{screenId:n}=o.a.ScreenStore.getState(),{versions:[{_id:i}]=[{}]}=l.default.getScreen()||{};let a=e;a||(a=i);const r=a===i;o.a.dispatcher.dispatch({type:s.a.SET_VERSION_ID,barrelId:t,screenId:n,versionId:a,latestVersionSelected:r})},setSnapshot(e){const{pid:t,sid:n,vid:i,snapshot:a}=b(e);o.a.dispatcher.dispatch({type:s.a.SET_SNAPSHOT,pid:t,sid:n,vid:i,snapshot:a})},showVersions(){const{totalVersionCount:e}=l.default.getScreen(),t=!e;o.a.dispatcher.dispatch({type:s.a.SHOW_VERSIONS,loadingVersions:t,screenVersionsLastSeen:S.calculateVersionsLastSeenForCurrentScreen()})},hideVersions(){o.a.dispatcher.dispatch({type:s.a.HIDE_VERSIONS})},toggleVersions(){const{totalVersionCount:e}=l.default.getScreen(),t=!e;o.a.dispatcher.dispatch({type:s.a.TOGGLE_VERSIONS,loadingVersions:t,screenVersionsLastSeen:S.calculateVersionsLastSeenForCurrentScreen()})},enableVersionsCompactMode(){o.a.dispatcher.dispatch({type:s.a.ENABLE_VERSIONS_COMPACT_MODE})},disableVersionsCompactMode(){o.a.dispatcher.dispatch({type:s.a.DISABLE_VERSIONS_COMPACT_MODE})},showVersionsAuntie(){o.a.dispatcher.dispatch({type:s.a.SHOW_VERSIONS_AUNTIE})},hideVersionsAuntie(){o.a.dispatcher.dispatch({type:s.a.HIDE_VERSIONS_AUNTIE})},newVersionsFound(){o.a.dispatcher.dispatch({type:s.a.NEW_VERSIONS_FOUND})},changeVersionsSidebarWidth(e){o.a.dispatcher.dispatch({type:s.a.CHANGE_VERSIONS_SIDEBAR_WIDTH,versionsSidebarWidth:e})},addVersion(e){const{pid:t,sid:n,version:i,syncWithApi:r=!1}=b(e);i.commit=i.commit||{message:"",color:Object(c.getColorValueByName)("yellow"),author:i.creator};if(!a.default.getBarrel({bid:t}).complete)return;let d;const u=l.default.getScreen({bid:t,sid:n});if(!u)return;const{versions:p,allowedVersionCount:h}=u;p.length>h&&(d=p[p.length-1]);const{screenVersionsLastSeen:f}=o.a.BarrelStore.getState();let{versionId:g,latestVersionSelected:m,versionsVisible:S}=o.a.ScreenStore.getState();(m||d&&d._id===g)&&(m=!0,g=i._id);const y=f&&f[n]?f[n]:new Date(0),C=Boolean(p.filter(({created:e})=>new Date(e)>y).length)&&!S;o.a.dispatcher.dispatch({type:s.a.ADD_VERSION,pid:t,sid:n,version:i,poppedVersion:d,syncWithApi:r,versionId:g,latestVersionSelected:m,hasNewVersions:C,screenVersionsLastSeen:this.calculateVersionsLastSeenForCurrentScreen()})},updateCommitColor(e){const{pid:t,sid:n,vid:i,color:a,syncWithApi:r=!1}=b(e);let c;if(r){var d=l.default.getVersion({sid:n,vid:i}).commit.color;({}=d),c=Object.assign({},d)}o.a.dispatcher.dispatch({type:s.a.UPDATE_COMMIT_COLOR,pid:t,sid:n,vid:i,color:a,oldColor:c,syncWithApi:r})},updateCommitMessage(e){const{pid:t,sid:n,vid:i,message:a,syncWithApi:r=!1}=b(e);let c;if(r){c=l.default.getVersion({sid:n,vid:i}).commit.message}o.a.dispatcher.dispatch({type:s.a.UPDATE_COMMIT_MESSAGE,pid:t,sid:n,vid:i,message:a,oldMessage:c,syncWithApi:r})},removeVersion(e){const{pid:t,sid:n,vid:i,syncWithApi:a=!1}=b(e);let r;a&&(r=l.default.getVersion({sid:n,vid:i}));let{versionId:c}=o.a.ScreenStore.getState();const{latestVersionSelected:d}=o.a.ScreenStore.getState(),u=i===c;u&&d?({versions:[,{_id:c}]}=l.default.getScreen({sid:n})):u&&({versions:[{_id:c}]}=l.default.getScreen({sid:n})),o.a.dispatcher.dispatch({type:s.a.REMOVE_VERSION,pid:t,sid:n,vid:i,removedVersion:r,removingCurrentVersion:u,syncWithApi:a,versionId:c})},setSourceFile({versionId:e,sourceFile:t}){o.a.dispatcher.dispatch({type:s.a.SET_SOURCE_FILE,versionId:e,sourceFile:t})},hideComponentVariantsOnboardingHintbox(){o.a.dispatcher.dispatch({type:s.a.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX})}};t.default=S},function(e,t,n){"use strict";n.r(t),n.d(t,"LAYER_COMPONENT_VIEW_LIMIT",(function(){return a})),n.d(t,"HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT",(function(){return r})),n.d(t,"findUsedScreens",(function(){return s})),n.d(t,"findConnectedComponentByIdOrName",(function(){return l}));var i=n(245),o=n(384);n.d(t,"findComponentById",(function(){return o.findComponentById})),n.d(t,"findComponentByName",(function(){return o.findComponentByName})),n.d(t,"findComponentLayer",(function(){return o.findComponentLayer})),n.d(t,"isBooleanProperty",(function(){return o.isBooleanProperty})),n.d(t,"isTruthyPropertyValue",(function(){return o.isTruthyPropertyValue})),n.d(t,"findOmittedVariantProperties",(function(){return o.findOmittedVariantProperties})),n.d(t,"getComponentSectionById",(function(){return o.getComponentSectionById})),n.d(t,"getComponentLayerForVariant",(function(){return o.getComponentLayerForVariant})),n.d(t,"LayerComponentSearchResult",(function(){return o.LayerComponentSearchResult}));const a=50,r=50;function s(e,t,n){return e.filter(({versions:[{snapshot:{componentNames:e,componentIds:i}}]})=>i&&i.includes(n)||e&&e.includes(t))}function l(e,t,n,o){if(!t||!n)return null;let a=null,r=0;for(const s of n){const n=o?s.localConnectedComponents:s.connectedComponents;if(n){for(const t of n){const{zeplinIds:n}=t;if(n&&n.includes(e))return t}for(const e of n){const{zeplinNames:n}=e;if(n.includes(t))return e;for(const o of n)if(new RegExp(`^${Object(i.escapeRegExpButAsterisk)(o)}$`.replace(/\*/g,".*")).test(t)){const t=o.replace(/\*/g,"").length;(!a||t>r)&&(a=e,r=t)}}}}return a}},function(e,t,n){"use strict";function i(e,t,n){if(e===t)return[e,...n];if(!e.layers||!e.layers.length)return null;for(const o of e.layers){const a=i(o,t,[e,...n]);if(a)return a}return null}function o({componentSections:e},t,n=[]){for(const i of e){const e=i.components.find(e=>t(e));if(e)return{ancestors:[...n,i],component:e};const a=o(i,t,[...n,i]);if(a)return a}return null}function a({componentSections:e},t){for(const n of e){if(n._id===t)return n;const e=a(n,t);if(e)return e}return null}function r(e,t,n=0){if(n===e.length)return null;const i=e[n],{componentName:a,componentId:s}=i;if(!a&&!s)return r(e,t,n+1);const l=function(e,t,n){if(!t&&!n)return null;if(n)for(const i of e){const e=o(i,e=>e.sourceId===n);if(e)return Object.assign({barrelId:i.id},e)}if(t)for(const i of e){const e=o(i,e=>e.name===t);if(e)return Object.assign({barrelId:i.id},e)}return null}(t,a,s);return l?Object.assign({layer:i},l):r(e,t,n+1)}function s(e,t,n){if(!e||!t||!n)return null;const o=function(e,t){if(!e.layers||!e.layers.length)return null;for(const n of e.layers){const e=i(n,t,[]);if(e)return e}return null}(e,t);return o?r(o,n):null}Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentLayerForVariant=t.findOmittedVariantProperties=t.isTruthyPropertyValue=t.isBooleanProperty=t.findComponentLayer=t.getComponentSectionById=t.findComponentById=void 0,t.findComponentById=function(e,t){if(!t)return null;for(const n of e){const e=o(n,e=>e._id===t);if(e)return Object.assign({barrelId:n.id},e)}return null},t.getComponentSectionById=function(e,t){if(!t)return null;for(const n of e){const e=a(n,t);if(e)return e}return null},t.findComponentLayer=s,t.isBooleanProperty=function(e){const t=[["true","false"],["yes","no"],["on","off"]];for(const n of t)if(e.every(e=>n.includes(e.toLowerCase())))return!0;return!1},t.isTruthyPropertyValue=function(e){return["true","yes","on"].includes(e.toLowerCase())},t.findOmittedVariantProperties=function(e){const t={};return e.forEach(({variant:e})=>{e&&e.values.forEach(({propertyId:e,value:n})=>{const i=`${e}:${n}`;i in t?t[i]++:t[i]=1})}),Object.entries(t).filter(([,t])=>t===e.length).map(([e])=>e)},t.getComponentLayerForVariant=function(e,t,n){const i=s(e,t,n);if(!i)return null;const o=i.ancestors.find(e=>e.variant);return o?Object.assign(Object.assign({},i),{component:Object.assign(Object.assign({},i.component),{name:o.name})}):i}},function(e,t,n){"use strict";n.r(t);var i=n(269),o=n.n(i),a=n(330),r=n(361),s=n(246),l=n(383),c=n(371),d=n.n(c);function u(e={}){if(!e.bid){const{barrelId:t}=o.a.BarrelStore.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=o.a.BarrelStore.getState();e.barrelType=t}return e}const p={updateState(e){o.a.dispatcher.dispatch({type:a.default.UPDATE_STATE,update:e})},changeLeftSidebarWidth(e){o.a.dispatcher.dispatch({type:a.default.CHANGE_LEFT_SIDEBAR_WIDTH,leftSidebarWidth:e})},changeRightSidebarWidth(e){o.a.dispatcher.dispatch({type:a.default.CHANGE_RIGHT_SIDEBAR_WIDTH,rightSidebarWidth:e})},changeSortType(e){o.a.dispatcher.dispatch({type:a.default.CHANGE_SORT_TYPE,sortType:e})},changeFilterValue(e){o.a.dispatcher.dispatch({type:a.default.CHANGE_FILTER_VALUE,filterValue:e})},changeSelectedNavigatorId({selectedStyleguideSection:e,selectedNavigatorId:t}){o.a.dispatcher.dispatch({type:a.default.CHANGE_SELECTED_NAVIGATOR_ID,selectedStyleguideSection:e,selectedNavigatorId:t})},expandSections(e){o.a.dispatcher.dispatch({type:a.default.EXPAND_SECTIONS,seids:e})},collapseSections(e){o.a.dispatcher.dispatch({type:a.default.COLLAPSE_SECTIONS,seids:e})},collapseAllSections(){const e=d.a.getExpandedSectionIds();e.length&&o.a.dispatcher.dispatch({type:a.default.COLLAPSE_ALL_SECTIONS,seids:e})},highlightColors(e){o.a.dispatcher.dispatch({type:a.default.HIGHLIGHT_COLORS,cids:e})},unhighlightColor({cid:e}){o.a.dispatcher.dispatch({type:a.default.UNHIGHLIGHT_COLOR,cid:e})},highlightTextStyles(e){o.a.dispatcher.dispatch({type:a.default.HIGHLIGHT_TEXT_STYLES,tsids:e})},unhighlightTextStyle({tsid:e}){o.a.dispatcher.dispatch({type:a.default.UNHIGHLIGHT_TEXT_STYLE,tsid:e})},highlightSpacingTokens(e){o.a.dispatcher.dispatch({type:a.default.HIGHLIGHT_SPACING_TOKENS,sptids:e})},unhighlightSpacingToken(e){o.a.dispatcher.dispatch({type:a.default.UNHIGHLIGHT_SPACING_TOKEN,sptid:e})},sectionScrolled(){o.a.dispatcher.dispatch({type:a.default.SECTION_SCROLLED})},changeSelection({selectionComponentId:e,selection:t,collapsedSections:n}){const{selectionComponentId:i}=o.a.StyleguideStore.getState();if(e&&e!==i&&e!==t._id){const t=r.default.getStyleguidesData({barrelStore:o.a.BarrelStore,styleguidesDataStore:o.a.StyleguidesDataStore,projectsDataStore:o.a.ProjectsDataStore}),{component:n}=Object(l.findComponentById)(t,e)||{};if(!n)return;const{latestVersion:{snapshot:{assets:i=[]}}}=n;if(i.find(e=>"snapshot"===e.layerId))return void o.a.dispatcher.dispatch({type:a.default.CHANGE_SELECTION,selectionComponentId:e,selection:n})}o.a.dispatcher.dispatch({type:a.default.CHANGE_SELECTION,selectionComponentId:e,selection:t,collapsedSections:n})},componentSnapshotsReady(){o.a.dispatcher.dispatch({type:a.default.COMPONENT_SNAPSHOTS_READY})},hideSuggestedColors(e,t){o.a.dispatcher.dispatch({type:a.default.HIDE_SUGGESTED_COLORS,barrelId:e,colors:t})},hideSuggestedTextStyles(e,t){o.a.dispatcher.dispatch({type:a.default.HIDE_SUGGESTED_TEXT_STYLES,barrelId:e,textStyles:t})},openMoveResourcesPopup({resources:e,resourceType:t,targetNode:n}){o.a.dispatcher.dispatch({type:a.default.OPEN_MOVE_RESOURCES_POPUP,resources:e,resourceType:t,targetNode:n})},closeMoveResourcesPopup(){o.a.dispatcher.dispatch({type:a.default.CLOSE_MOVE_RESOURCES_POPUP})},selectMoveResourcesTargetStyleguide({targetStyleguide:e}){o.a.dispatcher.dispatch({type:a.default.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE,targetStyleguide:e})},deselectMoveResourcesTargetStyleguide(){o.a.dispatcher.dispatch({type:a.default.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE})},convertSectionToVariantSection(e){const{bid:t,barrelType:n,csid:i,syncWithApi:r=!1}=u(e);o.a.dispatcher.dispatch({type:a.default.CONVERT_SECTION_TO_VARIANT_SECTION,bid:t,barrelType:n,csid:i,syncWithApi:r})},convertVariantSectionToSection(e){const{bid:t,barrelType:n,csid:i,syncWithApi:r=!1}=u(e);o.a.dispatcher.dispatch({type:a.default.CONVERT_VARIANT_SECTION_TO_SECTION,bid:t,barrelType:n,csid:i,syncWithApi:r})},createComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,componentVariantProperty:r={},syncWithApi:l=!1}=u(e);let c=r;if(l){const{_id:e="newVariant"+Object(s.getRandomString)(),name:t="",values:n=[]}=r;c={_id:e,name:t,values:n}}o.a.dispatcher.dispatch({type:a.default.CREATE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,componentVariantProperty:c,syncWithApi:l})},addComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,componentVariantProperty:r,syncWithApi:s=!1}=u(e);o.a.dispatcher.dispatch({type:a.default.ADD_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,componentVariantProperty:r,syncWithApi:s})},updateComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,vpid:r,data:s}=u(e);o.a.dispatcher.dispatch({type:a.default.UPDATE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,vpid:r,data:s})},updateComponentVariantPropertyName(e){const{bid:t,barrelType:n,csid:i,vpid:s,name:l,syncWithApi:c=!1}=u(e);let d;if(c){const e=r.default.getBarrel({bid:t}).findComponentSection([i]);({name:d}=e.variant.properties.find(({_id:e})=>e===s))}o.a.dispatcher.dispatch({type:a.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME,bid:t,barrelType:n,csid:i,vpid:s,name:l,oldName:d,syncWithApi:c})},updateComponentVariantPropertyValues(e){const{bid:t,barrelType:n,csid:i,vpid:s,values:l,syncWithApi:c=!1}=u(e);let d;if(c){const e=r.default.getBarrel({bid:t}).findComponentSection([i]);({values:d}=e.variant.properties.find(({_id:e})=>e===s))}o.a.dispatcher.dispatch({type:a.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES,bid:t,barrelType:n,csid:i,vpid:s,values:l,oldValues:d,syncWithApi:c})},updateComponentVariantPropertiesOrder(e){const{bid:t,barrelType:n,csid:i,properties:s,syncWithApi:l=!1}=u(e);let c;if(l){const e=r.default.getBarrel({bid:t}).findComponentSection([i]);c=s.map(({_id:t})=>{const n=e.variant.properties.findIndex(e=>e._id===t);return{_id:t,to:n}})}o.a.dispatcher.dispatch({type:a.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER,bid:t,barrelType:n,csid:i,properties:s,oldProperties:c,syncWithApi:l})},updateComponentVariantPropertyValue(e){const{bid:t,barrelType:n,csid:i,vpid:r,coid:s,value:l,syncWithApi:c=!1}=u(e);o.a.dispatcher.dispatch({type:a.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE,bid:t,barrelType:n,csid:i,vpid:r,coid:s,value:l,syncWithApi:c})},setComponentVariantData(e){const{bid:t,barrelType:n,csid:i,name:r,sectionVariant:s,components:l,userConvertedSectionIntoVariant:c=!1}=u(e);o.a.dispatcher.dispatch({type:a.default.SET_COMPONENT_VARIANT_DATA,bid:t,barrelType:n,csid:i,name:r,sectionVariant:s,components:l,userConvertedSectionIntoVariant:c})},removeComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,vpid:s,syncWithApi:l=!1}=u(e);let c;if(l){c=r.default.getBarrel({bid:t}).findComponentSection([i]).variant.properties.find(({_id:e})=>e===s)}o.a.dispatcher.dispatch({type:a.default.REMOVE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,vpid:s,removedComponentVariantProperty:c,syncWithApi:l})},removeComponentVariantData(e){const{bid:t,barrelType:n,csid:i}=u(e);o.a.dispatcher.dispatch({type:a.default.REMOVE_COMPONENT_VARIANT_DATA,bid:t,barrelType:n,csid:i})},createComponentSectionVariantGroups(e){const{bid:t,barrelType:n,csid:i,vpid:r}=u(e);o.a.dispatcher.dispatch({type:a.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,bid:t,barrelType:n,csid:i,vpid:r,syncWithApi:!0})},groupComponentsByVariantProperty(e){const{bid:t,barrelType:n,csid:i,components:r,componentSections:s}=u(e);o.a.dispatcher.dispatch({type:a.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,components:r,componentSections:s})},hideComponentVariantsOnboardingDialog(){o.a.dispatcher.dispatch({type:a.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG})}};t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(269),o=n.n(i),a=n(361),r=n(286),s=n(367),l=n(246);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){if(!e.pid){const{barrelId:t}=o.a.BarrelStore.getState();e.pid=t}return e}const h={changeSortType(e){o.a.dispatcher.dispatch({type:r.default.CHANGE_SORT_TYPE,sortType:e})},toggleFixedThumbnailSize(){o.a.dispatcher.dispatch({type:r.default.TOGGLE_FIXED_THUMBNAIL_SIZE})},changeSidebarWidth(e){o.a.dispatcher.dispatch({type:r.default.CHANGE_SIDEBAR_WIDTH,sidebarWidth:e})},changeTagFilter(e){o.a.dispatcher.dispatch({type:r.default.CHANGE_TAG_FILTER,tagFilter:e})},expandSections(e){o.a.dispatcher.dispatch({type:r.default.EXPAND_SECTIONS,seids:e})},collapseSections(e){o.a.dispatcher.dispatch({type:r.default.COLLAPSE_SECTIONS,seids:e})},downloadScreens(e,t){o.a.dispatcher.dispatch({type:r.default.DOWNLOAD_SCREENS,screens:e,fileName:t})},downloadScreen(e){const t=s.default.getScreen({sid:e});h.downloadScreens([t],t.name)},downloadScreensOfTag(e){const{screens:t}=a.default.getBarrel(),n=t.filter(t=>t.tags&&t.tags.includes(e));h.downloadScreens(n,e+".zip")},unhighlightScreen(e){o.a.dispatcher.dispatch({type:r.default.UNHIGHLIGHT_SCREEN,sid:e})},downloadScreensOfSection(e){const{sections:t,screens:n}=a.default.getBarrel(),i=t.find(t=>t._id===e),o=i.screens.map(e=>n.find(t=>t._id===e));h.downloadScreens(o,i.name+".zip")},highlightSection(e){o.a.dispatcher.dispatch({type:r.default.HIGHLIGHT_SECTION,seid:e})},unhighlightSection(){o.a.dispatcher.dispatch({type:r.default.UNHIGHLIGHT_SECTION})},splitSection(e){const{sections:t}=a.default.getBarrel(),n=t.find(t=>t.screens.includes(e)),i=n.screens.indexOf(e),o=t.findIndex(e=>e._id===n._id),r=n.screens.slice(i),s={_id:"newSectionFromSplit"+Object(l.getRandomString)(),name:"Untitled section",screens:r};this.addSection({section:s,index:o+1})},addSection(e){const{pid:t,section:n,index:i,syncWithApi:a=!1}=p(e);o.a.dispatcher.dispatch({type:r.default.ADD_SECTION,pid:t,section:n,index:i,syncWithApi:a})},createSection(e){const{pid:t,seid:n,name:i}=p(e),{sections:s}=a.default.getBarrel(),l=s.findIndex(e=>e._id===n),c=d(d({},s[l]),{},{name:i});o.a.dispatcher.dispatch({type:r.default.CREATE_SECTION,pid:t,section:c,index:l,syncWithApi:!0})},convertTagToSection(e){const{pid:t,tag:n}=p(e),{screens:i,sections:[s]}=a.default.getBarrel(),c=i.filter(e=>e.tags&&e.tags.includes(n)).map(e=>e._id),d=[...s.screens],u={_id:"newSectionFromTag"+Object(l.getRandomString)(),name:n,screens:c};o.a.dispatcher.dispatch({type:r.default.CONVERT_TAG_TO_SECTION,pid:t,section:u,index:1,defaultSectionId:s._id,oldDefaultSectionScreens:d,syncWithApi:!0})},updateSection(e){const{pid:t,seid:n,sectionData:i,highlight:a=!1}=p(e);o.a.dispatcher.dispatch({type:r.default.UPDATE_SECTION,pid:t,seid:n,sectionData:i,highlight:a})},renameSection(e){const{pid:t,seid:n,name:i,onError:s,syncWithApi:l=!1}=p(e);let c;if(l){const{sections:e}=a.default.getBarrel();({name:c="Untitled section"}=e.find(e=>e._id===n)||{})}o.a.dispatcher.dispatch({type:r.default.RENAME_SECTION,pid:t,seid:n,name:i,oldName:c,onError:s,syncWithApi:l})},updateSectionDescription(e){const{pid:t,seid:n,description:i,onError:s,syncWithApi:l=!1}=p(e);let c;if(l){const{sections:e}=a.default.getBarrel();({description:c=""}=e.find(e=>e._id===n)||{})}o.a.dispatcher.dispatch({type:r.default.UPDATE_SECTION_DESCRIPTION,pid:t,seid:n,description:i,oldDescription:c,onError:s,syncWithApi:l})},updateSectionOrder(e){const{pid:t,seid:n,index:i,syncWithApi:s=!1}=p(e);let l;if(s){const{sections:e}=a.default.getBarrel();l=e.findIndex(e=>e._id===n)}o.a.dispatcher.dispatch({type:r.default.UPDATE_SECTION_ORDER,pid:t,seid:n,index:i,oldIndex:l,syncWithApi:s})},removeSection(e){const{pid:t,seid:n,syncWithApi:i=!1}=p(e);let s,l;if(i){const{sections:e}=a.default.getBarrel({bid:t});s=e.findIndex(e=>e._id===n),l=e[s]}o.a.dispatcher.dispatch({type:r.default.REMOVE_SECTION,pid:t,seid:n,index:s,removedSection:l,syncWithApi:i})},updateScreenOrder(e){const{pid:t,screens:n,targetSectionId:i,targetIndex:s,syncWithApi:l=!1}=p(e),c=a.default.getBarrel({bid:t});if(!c.complete)return;const{sections:d}=c;let u;l&&(u=n.map(e=>{const{_id:t,screens:n}=d.find(t=>t.screens.includes(e));return{sourceSectionId:t,sourceIndex:n.findIndex(t=>t===e)}}));let h=s;if(void 0===s){const{screens:{length:e}}=d.find(e=>e._id===i);h=e}o.a.dispatcher.dispatch({type:r.default.UPDATE_SCREEN_ORDER,pid:t,screens:n,targetSectionId:i,targetIndex:h,oldIndices:u,syncWithApi:l})}};t.default=h},,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t){this.domNode=null,this.domContainer=t,this.preactComponent=e,this.props={}}isRendered(){return null!==this.domNode}render(e){this.props=e||{},this.renderComponent()}update(e){Object.assign(this.props,e),this.renderComponent()}renderComponent(){i.render(i.h(this.preactComponent,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:e=>{this.domNode=e}},this.props)),this.domContainer)}remove(){i.render(null,this.domContainer),this.domNode=null,this.props=null}}},,,,function(e,t,n){"use strict";n.r(t);var i=n(394);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(246),a=n(5),r=n.n(a),s=n(395),l=n(249),c=n(396),d=n.n(c);n(399);const{h:u}=i;class p extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleMaskChange=this.handleMaskChange.bind(this),this.state={value:e.value,focusWithin:!1,isMasked:"password"===e.type}}handleInputChange(e){const t=e.target.value;this.setState({value:t});const{onInput:n}=this.props;n(t)}handleBlur(){const{onBlur:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!1})}handleFocus(){const{onFocus:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!0})}handleMaskChange(){this.setState(e=>({isMasked:!e.isMasked}))}componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({value:e.value})}render(){const{value:e,focusWithin:t,isMasked:n}=this.state,{label:a,onKeyPress:r,primary:c,valid:u,extraInfoText:p,extraInfoLoading:h,tipText:f,showTipText:g,minLength:m,maxLength:b,autoComplete:S,autofocus:y,inputRef:C,type:v}=this.props;let O;c&&u?O="img/icTickBlue.svg":u?O="img/icTick.svg":!1===u&&(O="img/icInvalid.svg");let E=v;const T="password"===v;T&&!n&&(E="text");const _=Object(o.getRandomString)(),P=(t||g)&&!!f,j=Object(s.default)("inputArea",{focus:t,typed:!!e});return i.h("div",{class:Object(s.default)("inputWithLabelContainer",{primary:c,invalid:!1===u})},i.h("div",{class:j,title:a},i.h("input",{id:_,value:e,name:"textInput",type:E,placeholder:a,minLength:m,maxLength:b,ref:C,autoComplete:S,autofocus:y,onInput:this.handleInputChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyPress:r}),i.h("label",{for:_,class:"inputLabel"},a),i.h("div",{class:"extraInputInfo"},h&&i.h("img",{src:Object(l.imageUrl)("img/icSpinnerBlueTheme.svg"),class:"spinner"}),!!O&&i.h("img",{src:Object(l.imageUrl)(O)}),i.h("span",{class:"extraInfoText"},p),T&&i.h("label",{class:"showPasswordContainer"},i.h(d.a,{onChange:this.handleMaskChange,checked:!n}),i.h("span",{class:"showText"},"Show")))),P&&i.h("div",{class:"tipText"},f))}}p.defaultProps={value:"",type:"text",maxLength:100,autoComplete:"off",autofocus:!1},p.propTypes={value:r.a.string,label:r.a.string,onKeyPress:r.a.func,onInput:r.a.func,onBlur:r.a.func,onFocus:r.a.func,primary:r.a.bool,valid:r.a.bool,extraInfoText:r.a.string,extraInfoLoading:r.a.bool,tipText:r.a.object,showTipText:r.a.boolean,maxLength:r.a.number,autoComplete:r.a.string,type:r.a.string,inputRef:r.a.func},t.default=p},function(e,t,n){"use strict";function i(){var e=[];return Array.from(arguments).forEach((function(t){t&&(Array.isArray(t)?e=e.concat(t):"string"==typeof t?e.push(t):"object"==typeof t&&(e=e.concat(Object.keys(t).filter((function(e){return!0===t[e]})))))})),e.join(" ")}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(397));t.default=o.default},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(4),r=o(n(395));n(398),t.default=function(e){const{class:t,partialSelect:n}=e,o=i(e,["class","partialSelect"]);return a.h("div",{class:r.default("checkboxComponent",t,{partialSelect:n})},a.h("input",Object.assign(o,{type:"checkbox"})),a.h("div",{class:"indicator"}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(401);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395);n(402);const{h:s}=i;function l(e){const{children:t,baseRef:n,class:o,style:a,type:s,disabled:l,inverted:c,ninja:d,primary:u,secondary:p,warning:h,onClick:f,onMouseEnter:g,onMouseLeave:m,"data-testid":b}=e,S=Object(r.default)("button",o,{inverted:!!c,ninja:!!d,primary:!!u,secondary:!!p,warning:!!h});return i.h("button",{style:a,ref:n,type:s,disabled:l,onClick:f,onMouseEnter:g,onMouseLeave:m,class:S},t)}l.propTypes={class:a.a.string,style:a.a.object,disabled:a.a.bool,children:a.a.node,onClick:a.a.func,primary:a.a.bool,secondary:a.a.bool},l.defaultProps={type:"button"},t.default=l},function(e,t,n){},,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t,n="nodeRefs"){n in e||(e[n]={}),"refHandlers"in e||(e.refHandlers={});const{[n]:i,refHandlers:o}=e;return"function"!=typeof o[t]&&(o[t]=e=>{i[t]=e}),o[t]}n.r(t),n.d(t,"default",(function(){return i}))},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(242),a=n(427),r=n(234),s=n(232),l=n(241),c=n(364),d=n(429),u=n(228),p=n(231),h=n(1958),f=(n(766),n(1959)),g=n(1963),m=n(269),b=n.n(m),S=n(1965),y=n.n(S),C=n(2031),v=n(2033),O=n(2034),E=n(2046),T=n(2047);n(2048),n(2049),n(2050),n(2051),n(2053),n(2054),n(267),n(2055);function _(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function k(){const e=await(u.isWindowsApp&&r.userPrefs.get("lastAppLocation")),t=function(){const e=new URLSearchParams(location.search).get("uri");if(!e)return null;try{const t=new URL(e);if(u.isWindowsApp&&t.pathname.startsWith("//export-xd")&&!u.supports.xdPlugin)return l.create({title:"Update Zeplin to export with XD plugin",message:"XD plugin requires the latest version of the Zeplin app, please try checking for an update.",done:{name:"UPDATE",cb(){location.assign(p.ZPL_PROTOCOL+"//update")}},cancel:{name:"CANCEL"}}),null;return Object(o.convertURItoWebURL)(t)||null}catch(t){return null}}()||e;t?history.replaceState(null,null,t):await Object(f.goToLastOrganizationWorkspace)()}function I(e){return e?e.map(e=>j(j({},e),{},{complete:!1})):null}s.default.get("userToken")?(b.a.initializeStores(),y()(),Object(f.registerWorkspaceRouteHandlers)(),Object(g.registerDotsViewHandlers)(),Object(O.registerWorkspaceSocketBindings)(),Object(C.default)(),Object(v.default)(),Object(E.registerSSOTokenExpiration)(),Object(T.registerSentryToDispatcherAndStores)(),i.render(i.h(d.default),document.body),function(){if("apiData"in Zeplin){const e=Zeplin.apiData,{projects:t,styleguides:n,focusedBarrels:i,oid:o,organizations:r,organizationProfiles:s,barrel:l,project:c,linkedStyleguides:d=[],ancestors:u,versions:p,dots:h,user:f}=e,g=_(e,["projects","styleguides","focusedBarrels","oid","organizations","organizationProfiles","barrel","project","linkedStyleguides","ancestors","versions","dots","user"]);a.default.hydrateEmbeddedData({projects:I(t),styleguides:I(n),focusedBarrels:i,oid:o,organizations:r,organizationProfiles:s,project:c,linkedStyleguides:d,versions:p,dots:h,styleguide:l,ancestors:u,user:f}),Zeplin.apiData=g}}(),Object(h.setMixpanelGroupProperties)(),async function(){await k(),window.addEventListener("online",()=>{s.default.get("userToken")&&(a.default.reset(),setTimeout(async()=>{try{await c.default.reload()}catch(e){location.reload()}},1e3))}),c.default.onSetBackButton=a.default.setBackButton,c.default.onResetBackButton=a.default.resetBackButton,c.default.start(document.body)}()):Zeplin.requireLogin(),c.default.route(/.*/,e=>Object(h.trackVisitiedAppEvent)(e.url.pathname))},function(e,t,n){"use strict";n.r(t);var i=n(273),o=n.n(i),a=n(269),r=n.n(a),s=n(428);const l={loadWorkspaceData({organization:e,focusedBarrels:t,projects:n,styleguides:i,dialogDismissParams:a,oid:s}){r.a.dispatcher.dispatch({type:o.a.LOAD_WORKSPACE_DATA,organization:e,focusedBarrels:t,projects:n,styleguides:i,dialogDismissParams:a,oid:s})},reset(){r.a.dispatcher.dispatch({type:o.a.RESET})},hydrateEmbeddedData({projects:e,styleguides:t,focusedBarrels:n,oid:i,organizations:a,organizationProfiles:s,barrel:l,versions:c,dots:d,project:u,linkedStyleguides:p,ancestors:h,organization:f,user:g}){r.a.dispatcher.dispatch({type:o.a.HYDRATE_EMBEDDED_DATA,projects:e,styleguides:t,focusedBarrels:n,oid:i,organizations:a,organizationProfiles:s,barrel:l,versions:c,dots:d,project:u,linkedStyleguides:p,ancestors:h,organization:f,user:g})},initRecentlyLoadedBarrels({projects:e,styleguides:t}){r.a.dispatcher.dispatch({type:o.a.INIT_RECENTLY_LOADED_BARRELS,projects:e,styleguides:t})},resetBackButton(){r.a.dispatcher.dispatch({type:o.a.RESET_BACK_BUTTON})},setBackButton(e,t){r.a.dispatcher.dispatch({type:o.a.SET_BACK_BUTTON,label:e,link:t})},setPage(e){r.a.dispatcher.dispatch({type:o.a.SET_PAGE,page:e})},ssoTokenExpired(e){const{organizations:t}=r.a.OrganizationStore.getState();if(!t)return void Zeplin.logout();const n=t.find(t=>t.sso.provider.identifier===e),{sessionDuration:i}=n.sso;r.a.dispatcher.dispatch({type:o.a.SSO_TOKEN_EXPIRED,frequency:Object(s.turnMinutesIntoHumanReadableInterval)(i)})},unsetSSOTokenExpired(){r.a.dispatcher.dispatch({type:o.a.UNSET_SSO_TOKEN_EXPIRED})},loginSSO(){r.a.dispatcher.dispatch({type:o.a.LOGIN_SSO})},switchToOldNotificationExperience(){r.a.dispatcher.dispatch({type:o.a.SWITCH_TO_OLD_NOTIFICATION_EXPERIENCE})},switchToNewNotificationExperience(){r.a.dispatcher.dispatch({type:o.a.SWITCH_TO_NEW_NOTIFICATION_EXPERIENCE})}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.turnMinutesIntoHumanReadableInterval=t.getDateDifference=t.inSameDay=t.getDateString=void 0;const i=n(245),o=n(246);function a(e){return e instanceof Date?e:new Date(e)}t.getDateString=function(e){const t=a(e),n=new Date;if(n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()){if(n.getDate()===t.getDate())return"today";if(n.getDate()-t.getDate()==1)return"yesterday"}return i.formatTime(t,{year:"numeric",month:"long",day:"numeric"})},t.inSameDay=function(e,t){const n=a(e),i=a(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()},t.getDateDifference=function(e,t,n){const i={w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3};if(!e||!i[e.toLowerCase()])throw new TypeError(`Unknown datePart type: '${e}'. datePart should be one of (w, d, h, m, s)`);return Math.floor((a(n).getTime()-a(t).getTime())/i[e.toLowerCase()])};t.turnMinutesIntoHumanReadableInterval=function(e){let t,n;return e<60?(t=e,n="minute"):e<1440?(t=Math.floor(e/60),n="hour"):e<10080?(t=Math.floor(e/1440),n="day"):e<43200?(t=Math.floor(e/10080),n="week"):(t=Math.floor(e/43200),n="month"),o.pluralize(t,n)}},function(e,t,n){"use strict";n.r(t);var i=n(430);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(431),a=n(850),r=n(1175),s=n(1858),l=n.n(s),c=n(1946),d=n(1951),u=n(1954),p=n(427),h=n(269),f=n.n(h),g=n(228),m=n(505),b=n.n(m);n(1957);class S extends i.Component{static getStores(){return[f.a.AppStore]}static calculateState(){const{page:e,ssoTokenExpired:t}=f.a.AppStore.getState();return{page:e,ssoTokenExpired:t}}getChildContext(){const{page:e}=this.state;return{page:e}}render(){const{page:e,ssoTokenExpired:t}=this.state;if(g.isWindowsApp&&!g.supports.SPA)return i.h(d.default,null);let n;return n="barrel"===e?r.default:"activities"===e?l.a:a.default,i.h(i.Fragment,null,i.h(o.default,null),i.h(n,null),i.h(c.default,null),t&&i.h(u.default,{onLogin:p.default.loginSSO,onLogout:Zeplin.logout,frequency:t}))}}t.default=b()(S)},function(e,t,n){"use strict";n.r(t);var i=n(432),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(246),r=n(242),s=n(228),l=i(n(261)),c=n(230),d=i(n(433)),u=i(n(505)),p=i(n(507)),h=i(n(524)),f=i(n(527)),g=i(n(532)),m=i(n(573)),b=i(n(723)),S=i(n(842)),y=i(n(844)),C=i(n(361)),v=i(n(367)),O=i(n(362)),E=i(n(269)),T=i(n(381)),_=i(n(577)),P=i(n(847));class j extends o.Component{constructor(){super(...arguments),this.getAllNotifications=()=>{setTimeout(()=>{_.default.getNotifications(null,500)},4)}}static getStores(){return[E.default.AppStore,E.default.SpaceStore,E.default.OrganizationStore,E.default.UserStore,E.default.BarrelStore,E.default.DashboardStore,E.default.ScreenStore,E.default.ProjectsDataStore,E.default.StyleguidesDataStore,E.default.NotificationsStore,E.default.ActivitiesViewStore]}static calculateState(){const{loading:e,selectedTab:t,selectedOrganizationId:n}=E.default.SpaceStore.getState(),{loading:i,loadingOrganization:o,loadingProfiles:s,loadingBarrels:d,organizations:u}=E.default.OrganizationStore.getState(),{loading:p,username:h,avatar:f,userId:g}=E.default.UserStore.getState(),{loading:m,barrelId:b,barrelType:S,organizationId:y,selectedView:T}=E.default.BarrelStore.getState(),{partial:_=!1,name:j=""}=C.default.getBarrel()||{},{tagFilter:{tags:D,untagged:k},filterValue:I,jiraIssueFilter:R}=E.default.DashboardStore.getState(),{loadingSnapshot:A,screenId:w}=E.default.ScreenStore.getState(),{loading:N,notifications:L}=E.default.NotificationsStore.getState(),{selectedOrganizationId:x,notificationWelcomeMessageMinimized:M}=E.default.ActivitiesViewStore.getState(),{name:U=""}=v.default.getScreen()||{};let{backButtonLabel:B,backButtonLink:z}=E.default.AppStore.getState();const{page:V,oldNotificationExperience:W}=E.default.AppStore.getState();let F,H=!1;"workspace"===V?(H=e||i||o||s||p||d,F=n):"activities"===V?(H=N||o||d,F=x||n):T===c.ProjectViewTypes.SCREEN?(H=m||A,F=y||n):(H=m,F=y||n);const G=!!F&&"user"!==F;if("activities"!==V||B&&z){if(!("workspace"===V||m||B&&z))if(T===c.ProjectViewTypes.SCREEN){const e={q:I,ja:R,sid:w};Object.assign(e,k?{untagged:"true"}:{tag:D}),B="Dashboard",z=r.urlResolve("project-dashboard",{url:{pid:b},query:e})}else{const{name:e}=O.default.getOrganization(F)||{},t=S===l.default.PROJECT?"projects":"styleguides",n={[S===l.default.PROJECT?"pid":"stid"]:b};z=G?r.urlResolve("organization-"+t,{url:{oid:F},query:n}):r.urlResolve(t,{query:n}),B=this.getBackButtonLabel(G,e)}}else{const{name:e}=O.default.getOrganization(F)||{};z=G?r.urlResolve("organization-projects",{url:{oid:F}}):r.urlResolve("projects"),B=this.getBackButtonLabel(G,e)}let $,q,Z,K;if(W||"barrel"!==V||(T===c.ProjectViewTypes.STYLEGUIDE?$="Styleguide":T===c.ProjectViewTypes.DASHBOARD?$="Dashboard":T===c.ProjectViewTypes.SCREEN&&($=U)),q=H?"Zeplin":"workspace"===V?`Workspace - ${a.uppercaseFirst(t)} - Zeplin`:"activities"===V?"Notifications - Zeplin":T===c.ProjectViewTypes.SCREEN?`${U} - ${j} - Zeplin`:j+" - Zeplin","barrel"===V&&T===c.ProjectViewTypes.SCREEN){const e=v.default.getPreviousScreen(w);e&&(Z=r.urlResolve("project-screen",{url:{pid:b,sid:e._id}}));const t=v.default.getNextScreen(w);t&&(K=r.urlResolve("project-screen",{url:{pid:b,sid:t._id}}))}const Y=(O.default.getOrganizationProjects(F)||[]).filter(e=>e.users.some(({user:e})=>e._id===g)&&"archived"!==e.status),J=(O.default.getOrganizationStyleguides(F)||[]).filter(e=>e.users.some(({user:e})=>e._id===g)),X=L.filter(({_id:e})=>e).filter(({events:e})=>e&&e.every(({_id:e})=>e)).filter(e=>e.params.organization&&e.params.organization._id===F||Y.some(({id:t})=>P.default.isRelatedToProject(e,t))||J.some(({id:t})=>P.default.isRelatedToStyleguide(e,t))).some(({markedAsRead:e,actionName:t})=>!e&&P.default.isTypeValid(t));return{loading:H,selectedView:T,page:V,title:q,backButtonLink:z,backButtonLabel:B,activitiesBackButtonLabel:$,organizations:u,username:h,avatar:f,selectedOrganizationId:F,screenName:U,previousScreenURL:Z,nextScreenURL:K,barrelType:S,isPreview:_,barrelId:b,barrelName:j,hasUnreadNotifications:X,notifications:L,oldNotificationExperience:("activities"!==V||!W)&&W,notificationWelcomeMessageMinimized:M}}static getBackButtonLabel(e,t){return e?o.h("div",{class:"backButtonLabel",title:t},o.h("div",{class:"organizationName ellipsis"},t),o.h("div",null,"’s Workspace")):"Workspace"}componentDidMount(){this.getAllNotifications(),window.addEventListener("online",this.getAllNotifications)}componentWillUnmount(){window.removeEventListener("online",this.getAllNotifications)}renderHeaderCenter(){const{loading:e,page:t,selectedView:n,organizations:i,username:a,avatar:r,selectedOrganizationId:s,screenName:d,previousScreenURL:u,nextScreenURL:g,barrelType:m,isPreview:b,barrelId:S,barrelName:y}=this.state;return"workspace"===t?i.length?o.h(p.default,{organizations:i,username:a,avatar:r,selectedOrganizationId:s,onOrganizationChange:T.default.changeSelectedOrganization}):o.h("div",{class:"noOrganizationsLabel noSelect"},"Workspace"):"activities"===t?o.h("span",{title:"Notifications"},"Notifications"):n===c.ProjectViewTypes.SCREEN?o.h(h.default,{loading:e,title:d,previousScreenURL:u,nextScreenURL:g}):m===l.default.STYLEGUIDE||b?o.h("span",{title:y},y):o.h(f.default,{barrelId:S,selectedTab:n})}renderHeaderRight(){const{selectedOrganizationId:e,hasUnreadNotifications:t,oldNotificationExperience:n,page:i,backButtonLink:a,activitiesBackButtonLabel:s,notificationWelcomeMessageMinimized:l}=this.state;let c;const d="activities"===i;return n||(c=d?a:"user"===e?r.urlResolve("activities"):r.urlResolve("organization-activities",{url:{oid:e}})),o.h(o.Fragment,null,o.h(g.default,null),l&&d&&o.h(y.default,{oid:e}),n?o.h(m.default,{organizationId:e}):o.h(S.default,{hasUnreadNotifications:t,active:d,backLabel:d?"":s,backLink:c}),o.h(b.default,null))}render(){const{loading:e,backButtonLabel:t,backButtonLink:n,title:i}=this.state;return document.title=i,o.h(d.default,{loading:e,hideLogo:s.isWindowsApp,backButtonLabel:t,backButtonLink:n,headerCenter:this.renderHeaderCenter(),headerRight:this.renderHeaderRight()})}}t.default=u.default(j)},function(e,t,n){"use strict";n.r(t);var i=n(434),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(435)),r=n(438),s=i(n(395)),l=n(249);function c({headerLeft:e,headerCenter:t,headerRight:n,homeURL:i,backButtonLabel:c,backButtonLink:d,hideLogo:u,tall:p,hidden:h,loading:f,class:g}){return o.h("header",{class:s.default(g,{tall:p,hidden:h})},o.h("div",{class:"headerLeft noSelect"},!u&&o.h("a",{class:"homeLink",href:i,"data-link-type":"inApp","data-back":""},o.h("img",{src:l.imageUrl("img/icZeplin.svg"),alt:"Zeplin",class:"logo"})),c&&o.h("a",{class:"backLink ellipsis",href:d,"data-link-type":"inApp","data-back":""},o.h(r.IconArrowLeft,{color:"var(--gandalf)"}),o.h("span",null,c)),e),o.h("div",{class:"headerCenter noSelect"},t),o.h("div",{class:"headerRight noSelect"},n),o.h(a.default,{running:f}))}n(504),c.defaultProps={homeURL:"/"},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(436);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(416);n(437);class a extends i.Component{constructor(e){super(e),this.state={stopRequested:!1,backgroundColor:e.initialColor},this.colorIndex=0}animate(){const{running:e,colors:t,initialColor:n,duration:i,easing:o}=this.props,{stopRequested:a}=this.state;if(!this.nodeRefs.bar||!e&&!a)return;const r=a?n:t[this.colorIndex];this.nodeRefs.bar.animate([{transform:"scaleX(0)",backgroundColor:r},{transform:"scaleX(1)",backgroundColor:r}],{duration:i,easing:o}).addEventListener("finish",()=>{if(a)return this.colorIndex=0,void this.setState({stopRequested:!1,backgroundColor:r});this.colorIndex=(this.colorIndex+1)%t.length,this.setState({backgroundColor:r}),this.animate()})}componentDidMount(){this.props.running&&this.animate()}componentDidUpdate(e){const{running:t}=this.props;e.running&&!t?this.setState({stopRequested:!0}):!e.running&&t&&this.animate()}render(){const{backgroundColor:e}=this.state;return i.h("div",{class:"loadingBar",style:{backgroundColor:e}},i.h("div",{ref:Object(o.default)(this,"bar")}))}}a.defaultProps={initialColor:"var(--casper)",colors:["var(--yellow)","var(--orange)","var(--peach)"],duration:1100,easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"},t.default=a},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogoZeplin=t.IconHintClose=t.IconSectionDrag=t.IconElevator=t.IconTeams=t.IconLayerStyle=t.IconZoomOut=t.IconZoomIn=t.IconDescription=t.IconTrello=t.IconSlimArrowRight=t.IconSketchCloud=t.IconPaper=t.IconJira=t.IconInvision=t.IconGitlab=t.IconGithub=t.IconFigma=t.IconConfluence=t.IconBitbucket=t.IconAsana=t.IconAbstract=t.IconNotion=t.IconZeplin=t.IconCustomLink=t.IconUnpin=t.IconPin=t.IconDotSpinner=t.IconReadme=t.IconSlack=t.IconDivider=t.IconPopout=t.IconMoveHandle=t.IconClose=t.IconCollapseLeft=t.IconCollapse=t.IconChevron=t.IconGear=t.IconAdd=t.IconPlusWithCircle=t.IconPlus=t.IconSpinner=t.IconScreenLink=t.IconMagnifier=t.IconFolder=t.IconComponent=t.IconSpacing=t.IconInfo=t.IconTextStyle=t.IconColor=t.IconDelete=t.IconVariants=t.IconGoTo=t.IconShare=t.IconDownload=t.IconCopy=t.IconArrowDown=t.IconArrowRight=t.IconArrowLeft=t.IconSettings=t.IconEdit=t.IconMenu=void 0;var o=n(439);Object.defineProperty(t,"IconMenu",{enumerable:!0,get:function(){return i(o).default}});var a=n(440);Object.defineProperty(t,"IconEdit",{enumerable:!0,get:function(){return i(a).default}});var r=n(441);Object.defineProperty(t,"IconSettings",{enumerable:!0,get:function(){return i(r).default}});var s=n(442);Object.defineProperty(t,"IconArrowLeft",{enumerable:!0,get:function(){return i(s).default}});var l=n(443);Object.defineProperty(t,"IconArrowRight",{enumerable:!0,get:function(){return i(l).default}});var c=n(444);Object.defineProperty(t,"IconArrowDown",{enumerable:!0,get:function(){return i(c).default}});var d=n(445);Object.defineProperty(t,"IconCopy",{enumerable:!0,get:function(){return i(d).default}});var u=n(446);Object.defineProperty(t,"IconDownload",{enumerable:!0,get:function(){return i(u).default}});var p=n(447);Object.defineProperty(t,"IconShare",{enumerable:!0,get:function(){return i(p).default}});var h=n(448);Object.defineProperty(t,"IconGoTo",{enumerable:!0,get:function(){return i(h).default}});var f=n(449);Object.defineProperty(t,"IconVariants",{enumerable:!0,get:function(){return i(f).default}});var g=n(450);Object.defineProperty(t,"IconDelete",{enumerable:!0,get:function(){return i(g).default}});var m=n(451);Object.defineProperty(t,"IconColor",{enumerable:!0,get:function(){return i(m).default}});var b=n(452);Object.defineProperty(t,"IconTextStyle",{enumerable:!0,get:function(){return i(b).default}});var S=n(453);Object.defineProperty(t,"IconInfo",{enumerable:!0,get:function(){return i(S).default}});var y=n(454);Object.defineProperty(t,"IconSpacing",{enumerable:!0,get:function(){return i(y).default}});var C=n(455);Object.defineProperty(t,"IconComponent",{enumerable:!0,get:function(){return i(C).default}});var v=n(456);Object.defineProperty(t,"IconFolder",{enumerable:!0,get:function(){return i(v).default}});var O=n(457);Object.defineProperty(t,"IconMagnifier",{enumerable:!0,get:function(){return i(O).default}});var E=n(458);Object.defineProperty(t,"IconScreenLink",{enumerable:!0,get:function(){return i(E).default}});var T=n(459);Object.defineProperty(t,"IconSpinner",{enumerable:!0,get:function(){return i(T).default}});var _=n(462);Object.defineProperty(t,"IconPlus",{enumerable:!0,get:function(){return i(_).default}});var P=n(463);Object.defineProperty(t,"IconPlusWithCircle",{enumerable:!0,get:function(){return i(P).default}});var j=n(464);Object.defineProperty(t,"IconAdd",{enumerable:!0,get:function(){return i(j).default}});var D=n(465);Object.defineProperty(t,"IconGear",{enumerable:!0,get:function(){return i(D).default}});var k=n(466);Object.defineProperty(t,"IconChevron",{enumerable:!0,get:function(){return i(k).default}});var I=n(467);Object.defineProperty(t,"IconCollapse",{enumerable:!0,get:function(){return i(I).default}});var R=n(468);Object.defineProperty(t,"IconCollapseLeft",{enumerable:!0,get:function(){return i(R).default}});var A=n(469);Object.defineProperty(t,"IconClose",{enumerable:!0,get:function(){return i(A).default}});var w=n(470);Object.defineProperty(t,"IconMoveHandle",{enumerable:!0,get:function(){return i(w).default}});var N=n(471);Object.defineProperty(t,"IconPopout",{enumerable:!0,get:function(){return i(N).default}});var L=n(472);Object.defineProperty(t,"IconDivider",{enumerable:!0,get:function(){return i(L).default}});var x=n(473);Object.defineProperty(t,"IconSlack",{enumerable:!0,get:function(){return i(x).default}});var M=n(474);Object.defineProperty(t,"IconReadme",{enumerable:!0,get:function(){return i(M).default}});var U=n(475);Object.defineProperty(t,"IconDotSpinner",{enumerable:!0,get:function(){return i(U).default}});var B=n(477);Object.defineProperty(t,"IconPin",{enumerable:!0,get:function(){return i(B).default}});var z=n(478);Object.defineProperty(t,"IconUnpin",{enumerable:!0,get:function(){return i(z).default}});var V=n(479);Object.defineProperty(t,"IconCustomLink",{enumerable:!0,get:function(){return i(V).default}});var W=n(480);Object.defineProperty(t,"IconZeplin",{enumerable:!0,get:function(){return i(W).default}});var F=n(481);Object.defineProperty(t,"IconNotion",{enumerable:!0,get:function(){return i(F).default}});var H=n(482);Object.defineProperty(t,"IconAbstract",{enumerable:!0,get:function(){return i(H).default}});var G=n(483);Object.defineProperty(t,"IconAsana",{enumerable:!0,get:function(){return i(G).default}});var $=n(484);Object.defineProperty(t,"IconBitbucket",{enumerable:!0,get:function(){return i($).default}});var q=n(485);Object.defineProperty(t,"IconConfluence",{enumerable:!0,get:function(){return i(q).default}});var Z=n(486);Object.defineProperty(t,"IconFigma",{enumerable:!0,get:function(){return i(Z).default}});var K=n(487);Object.defineProperty(t,"IconGithub",{enumerable:!0,get:function(){return i(K).default}});var Y=n(488);Object.defineProperty(t,"IconGitlab",{enumerable:!0,get:function(){return i(Y).default}});var J=n(489);Object.defineProperty(t,"IconInvision",{enumerable:!0,get:function(){return i(J).default}});var X=n(490);Object.defineProperty(t,"IconJira",{enumerable:!0,get:function(){return i(X).default}});var Q=n(491);Object.defineProperty(t,"IconPaper",{enumerable:!0,get:function(){return i(Q).default}});var ee=n(492);Object.defineProperty(t,"IconSketchCloud",{enumerable:!0,get:function(){return i(ee).default}});var te=n(493);Object.defineProperty(t,"IconSlimArrowRight",{enumerable:!0,get:function(){return i(te).default}});var ne=n(494);Object.defineProperty(t,"IconTrello",{enumerable:!0,get:function(){return i(ne).default}});var ie=n(495);Object.defineProperty(t,"IconDescription",{enumerable:!0,get:function(){return i(ie).default}});var oe=n(496);Object.defineProperty(t,"IconZoomIn",{enumerable:!0,get:function(){return i(oe).default}});var ae=n(497);Object.defineProperty(t,"IconZoomOut",{enumerable:!0,get:function(){return i(ae).default}});var re=n(498);Object.defineProperty(t,"IconLayerStyle",{enumerable:!0,get:function(){return i(re).default}});var se=n(499);Object.defineProperty(t,"IconTeams",{enumerable:!0,get:function(){return i(se).default}});var le=n(500);Object.defineProperty(t,"IconElevator",{enumerable:!0,get:function(){return i(le).default}});var ce=n(501);Object.defineProperty(t,"IconSectionDrag",{enumerable:!0,get:function(){return i(ce).default}});var de=n(502);Object.defineProperty(t,"IconHintClose",{enumerable:!0,get:function(){return i(de).default}});var ue=n(503);Object.defineProperty(t,"LogoZeplin",{enumerable:!0,get:function(){return i(ue).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"6",cy:"12",r:"2"}),i.h("circle",{cx:"12",cy:"12",r:"2"}),i.h("circle",{cx:"18",cy:"12",r:"2"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M9.053 17.599l7.714-7.715-2.651-2.651-7.715 7.714-.994 3.646 3.646-.994zm8.472-8.473l1.326-1.325a.268.268 0 0 0 0-.379l-2.273-2.273a.268.268 0 0 0-.379 0l-1.325 1.326 2.651 2.651zm2.083-.568L9.76 18.406a.262.262 0 0 1-.115.068L4.342 19.99a.268.268 0 0 1-.332-.331l1.515-5.303a.267.267 0 0 1 .069-.115l9.848-9.848a1.34 1.34 0 0 1 1.894 0l2.272 2.272a1.34 1.34 0 0 1 0 1.894z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 9 16"},i.h("path",{fill:e,d:"M8.7 14.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-7-7c-.4-.4-.4-1 0-1.4l7-7c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L2.4 8l6.3 6.3z"}))}o.defaultProps={color:"var(--teflon)",width:9,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,d:"M.3 14.3c-.4.4-.4 1.02 0 1.4.38.4 1 .4 1.4 0l7-7c.4-.4.4-1.02 0-1.4l-7-7C1.3-.1.68-.1.3.3c-.4.38-.4 1 0 1.4L6.6 8 .3 14.3z"}))}o.defaultProps={color:"var(--teflon)",width:9,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=({color:e,width:t,class:n})=>{const o=8*t/12;return i.h("svg",{class:n,width:t,height:o,viewBox:"0 0 12 8"},i.h("path",{fill:e,d:"M6.003 8c.356 0 .71-.148.982-.442l4.608-4.982c.543-.588.543-1.543-.002-2.132-.546-.593-1.425-.59-1.97-.002L6 4.356 2.383.442C1.84-.145.955-.145.413.444c-.55.593-.548 1.544-.004 2.132l4.605 4.982c.27.293.627.44.984.44L6.002 8z"}))};o.defaultProps={color:"var(--teflon)",width:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 6h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm2-1H8a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M5 18h14v-4.5a.5.5 0 1 1 1 0v5a.498.498 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5v-5a.5.5 0 1 1 1 0V18zm6.5-3.625V5.5a.5.5 0 1 1 1 0v8.875l2.654-2.543a.511.511 0 0 1 .7 0 .46.46 0 0 1 0 .671l-3.504 3.358a.511.511 0 0 1-.7 0l-3.505-3.358a.46.46 0 0 1 0-.671.511.511 0 0 1 .701 0l2.654 2.543z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M18 11h-1.5a.5.5 0 1 1 0-1h2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H6v7h12v-7zm-5.5-5.375v8.363a.5.5 0 0 1-1 0V5.625L8.846 8.168a.511.511 0 0 1-.7 0 .46.46 0 0 1 0-.671l3.504-3.358a.511.511 0 0 1 .7 0l3.505 3.358a.46.46 0 0 1 0 .671.511.511 0 0 1-.701 0L12.5 5.625z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 12 12"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.39 6.5H2.5a.5.5 0 0 1 0-1h5.89L6.633 3.77a.446.446 0 0 1 0-.638.462.462 0 0 1 .646 0l2.586 2.55a.446.446 0 0 1 0 .637L7.28 8.868a.462.462 0 0 1-.646 0 .446.446 0 0 1 0-.637L8.389 6.5zM6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12zm0-1A5 5 0 1 0 6 1a5 5 0 0 0 0 10z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 48 48"},i.h("g",{stroke:e,"stroke-width":"2"},i.h("rect",{width:"16",height:"6",x:"16",y:"11",fill:"none",rx:"3"}),i.h("rect",{width:"16",height:"6",x:"16",y:"21",fill:e,"fill-opacity":".5",rx:"3"}),i.h("rect",{width:"16",height:"6",x:"16",y:"31",fill:e,rx:"3"})))}o.defaultProps={color:"var(--clooney)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,transparent:o}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zm0-8.292L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}),i.h("path",{fill:o?"transparent":"#fff",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}))}o.defaultProps={color:"var(--gandalf)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,type:o,opacity:a,class:r}){return i.h("svg",{class:r,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.h("path",{"fill-rule":"nonzero",d:"M17 13.96c0-3.208-5.87-9.538-6.12-9.808a.545.545 0 0 0-.755 0C9.87 4.422 4 10.752 4 13.959c0 3.323 2.915 6.026 6.5 6.026s6.5-2.703 6.5-6.026zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743 2.335 2.573 5.5 6.75 5.5 8.743 0 2.773-2.47 5.027-5.5 5.027zm6.035-14.834c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805a46.216 46.216 0 0 1 1.78-2.048.545.545 0 0 1 .755 0z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.247 13.337l4.731-3.724a.538.538 0 0 1 .725.06.462.462 0 0 1-.063.68l-5.126 4.034a.538.538 0 0 1-.725-.06l-2.316-2.588a.462.462 0 0 1 .064-.68.538.538 0 0 1 .725.059l1.985 2.219z"}),i.h("path",{"fill-rule":"nonzero",d:"M16.941 13.96c0-3.208-6.215-9.538-6.48-9.808a.602.602 0 0 0-.8 0c-.27.27-6.485 6.6-6.485 9.807 0 3.323 3.087 6.026 6.883 6.026s6.882-2.703 6.882-6.026zm-6.882 5.026c-3.214 0-5.824-2.254-5.824-5.027 0-1.998 3.351-6.165 5.824-8.743 2.472 2.573 5.823 6.75 5.823 8.743 0 2.773-2.615 5.027-5.823 5.027zm6.39-14.834c.27.27 6.48 6.6 6.496 9.822 0 3.323-3.087 6.026-6.883 6.026a7.622 7.622 0 0 1-1.588-.17c.42-.246.816-.529 1.18-.844h.398c3.213 0 5.823-2.254 5.823-5.027 0-1.993-3.35-6.17-5.823-8.743a29.453 29.453 0 0 0-1.626 1.789 66.546 66.546 0 0 0-.661-.805c1-1.149 1.794-1.958 1.884-2.048a.602.602 0 0 1 .8 0z"}));case"remove":return i.h("g",{fill:t,"fill-rule":"evenodd",transform:"translate(4 4)",opacity:n},i.h("rect",{width:"8",height:"1",x:"20",y:"7.5",rx:".5"}),i.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"}));default:return i.h("path",{fill:t,d:"M15.056 14.534c0-3.714-6.799-11.046-7.088-11.358a.632.632 0 0 0-.874 0C6.798 3.488 0 10.82 0 14.534c0 3.848 3.376 6.979 7.528 6.979 4.152 0 7.528-3.13 7.528-6.979zm-7.528 5.821c-3.515 0-6.37-2.61-6.37-5.82 0-2.315 3.666-7.141 6.37-10.127 2.704 2.98 6.37 7.818 6.37 10.126 0 3.212-2.861 5.821-6.37 5.821zm6.99-17.18c.294.313 7.087 7.645 7.104 11.377 0 3.848-3.376 6.978-7.528 6.978a7.892 7.892 0 0 1-1.737-.197c.46-.285.892-.612 1.292-.978h.434c3.515 0 6.37-2.61 6.37-5.82 0-2.31-3.666-7.147-6.37-10.127a33.5 33.5 0 0 0-1.778 2.072c-.243-.318-.486-.63-.724-.932a53.524 53.524 0 0 1 2.062-2.372.632.632 0 0 1 .874 0z"})}}(o,e,a))}o.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,type:o,opacity:a,class:r}){return i.h("svg",{class:r,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889zM26.733 13.837l4.468-3.724a.488.488 0 0 1 .685.06.48.48 0 0 1-.06.68l-4.84 4.034a.488.488 0 0 1-.685-.06l-2.187-2.588a.48.48 0 0 1 .06-.68.488.488 0 0 1 .684.059l1.875 2.219z"}));case"remove":return i.h("g",{fill:t,transform:"translate(4 5)",opacity:n},i.h("path",{d:"M9.413 12.683L8.007 8.798H2.68l-1.407 3.885H0L4.746 0h1.195l4.738 12.683H9.413zM5.317 1.485L3.041 7.761h4.605L5.37 1.485h-.053zM14.31 11.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}),i.h("rect",{width:"8",height:"1",x:"20",y:"6.5",rx:".5"}));default:return i.h("path",{fill:t,d:"M11.3 18.825l-1.688-4.54H3.218l-1.688 4.54H0L5.698 4h1.434l5.687 14.825H11.3zM6.383 5.736l-2.732 7.336h5.528L6.447 5.736h-.064zM17.178 17.83c1.92 0 3.43-1.326 3.43-3.02v-1.182l-3.25.215c-1.73.113-2.69.843-2.69 2.024 0 1.161 1.023 1.963 2.51 1.963zM16.893 19c-2.163 0-3.64-1.264-3.64-3.134 0-1.828 1.404-2.938 3.936-3.102l3.418-.206v-.924c0-1.542-1.002-2.466-2.711-2.466-1.615 0-2.649.77-2.891 2.065h-1.35c.157-1.911 1.772-3.267 4.272-3.267S22 9.332 22 11.51v7.315h-1.33v-2.034h-.031C20.027 18.116 18.529 19 16.893 19z"})}}(o,e,a))}o.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0-1A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0 1a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5A.75.75 0 0 1 8 7z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("g",{fill:e},i.h("rect",{width:"1",height:"12",x:"2",y:"2",rx:".5"}),i.h("path",{"fill-opacity":".3",d:"M3 5.5h11v5H3z"}),i.h("rect",{width:"3",height:"1",x:"1",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"5",rx:".5"}),i.h("rect",{width:"1",height:"12",x:"10",y:"2",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"10",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"1",y:"10",rx:".5"})))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{stroke:e,fill:"none",d:"M2 7.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H2zm7-5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H9zm0 8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H9zm-7-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd",stroke:e},i.h("rect",{width:"15",height:"9",x:"4.5",y:"9.5",rx:"1"}),i.h("path",{d:"M5 5.5a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V7.444a.5.5 0 0 0-.5-.5h-6.615a1.5 1.5 0 0 1-1.006-.386l-.743-.671A1.5 1.5 0 0 0 9.63 5.5H5z"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M2.01 11.715c-2.68-2.68-2.68-7.025 0-9.705 2.68-2.68 7.025-2.68 9.705 0 2.35 2.35 2.64 5.978.87 8.643.034.028.068.06.1.09l2.912 2.913c.536.536.54 1.4 0 1.94-.536.537-1.402.54-1.94 0l-2.913-2.91c-.032-.033-.063-.067-.09-.102-2.666 1.77-6.295 1.48-8.644-.87zm1.94-1.94c1.61 1.607 4.216 1.607 5.824 0 1.608-1.61 1.608-4.216 0-5.824-1.608-1.607-4.215-1.607-5.823 0-1.607 1.61-1.607 4.216 0 5.824z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}),i.h("path",{d:"M16.682 12.5H9.937a2 2 0 1 1 0-1h6.745l-2.543-2.654a.511.511 0 0 1 0-.7.46.46 0 0 1 .672 0l3.357 3.504a.511.511 0 0 1 0 .7l-3.357 3.505a.46.46 0 0 1-.672 0 .511.511 0 0 1 0-.701l2.543-2.654zM8 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(460);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(395));function r({color:e,width:t,height:n,class:i}){const r=a.default("iconSpinner",i);return o.h("svg",{class:r,width:t,height:n,viewBox:"0 0 12 12"},o.h("g",{fill:e,"fill-rule":"evenodd"},o.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),o.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),o.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),o.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),o.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),o.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),o.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),o.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"})))}n(461),r.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=r},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,circleColor:t,width:n,height:o}){return i.h("svg",{width:n,height:o,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("circle",{fill:t,cx:"12",cy:"12",r:"12"}),i.h("path",{fill:e,d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"})))}o.defaultProps={circleColor:"transparent",color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 24 24"},i.h("path",{fill:n,"fill-rule":"evenodd",d:"M12 3c4.97 0 9 4.03 9 9s-4.03 9-9 9-9-4.03-9-9 4.03-9 9-9zm0 1c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm0 3c.276 0 .5.224.5.5v4h4c.276 0 .5.224.5.5s-.224.5-.5.5h-4v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4h-4c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h4v-4c0-.276.224-.5.5-.5z"}))}o.defaultProps={width:24,height:24,color:"var(--teflon)"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7.2 4.8V1.2C7.2.54 6.66 0 6 0c-.67 0-1.2.53-1.2 1.2v3.6H1.2C.54 4.8 0 5.34 0 6c0 .67.53 1.2 1.2 1.2h3.6v3.6c0 .65.54 1.2 1.2 1.2.67 0 1.2-.53 1.2-1.2V7.2h3.6c.65 0 1.2-.54 1.2-1.2 0-.67-.53-1.2-1.2-1.2H7.2z"}))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 14 14"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.167 13.903a7.047 7.047 0 0 1-2.334 0V12.12a5.22 5.22 0 0 1-1.652-.69l-1.26 1.26a7.04 7.04 0 0 1-1.61-1.61l1.26-1.26a5.22 5.22 0 0 1-.69-1.653H.096a7.047 7.047 0 0 1 0-2.334H1.88a5.22 5.22 0 0 1 .69-1.652L1.31 2.92a7.04 7.04 0 0 1 1.61-1.61l1.26 1.26a5.22 5.22 0 0 1 1.653-.69V.096a7.047 7.047 0 0 1 2.334 0V1.88a5.22 5.22 0 0 1 1.652.69l1.26-1.26a7.04 7.04 0 0 1 1.61 1.61l-1.264 1.254c.321.502.56 1.061.695 1.66h1.783a7.047 7.047 0 0 1 0 2.333H12.12a5.22 5.22 0 0 1-.695 1.659l1.263 1.255a7.04 7.04 0 0 1-1.609 1.608l-1.26-1.26a5.22 5.22 0 0 1-1.652.69v1.784zM7 10.15a3.15 3.15 0 1 0 0-6.3 3.15 3.15 0 0 0 0 6.3z"}))}o.defaultProps={color:"var(--teflon)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 8 8"},i.h("path",{fill:e,"fill-rule":"nonzero",d:"M3.568 6.26L.938 1.752A.5.5 0 0 1 1.372 1h5.258a.5.5 0 0 1 .432.752L4.431 6.26a.5.5 0 0 1-.863 0z"}))}o.defaultProps={color:"var(--teflon)",width:8,height:8},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M12.985 16.557l4.608-4.982a1.596 1.596 0 0 0-.002-2.132C17.33 9.16 16.998 9 16.5 9s-8.496.005-9 .002c-.504-.002-.802.13-1.09.441a1.591 1.591 0 0 0-.001 2.132l4.607 4.982c.271.293.627.44.984.44a1.33 1.33 0 0 0 .985-.44z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 18 18"},i.h("path",{d:"M10.8,3.7 L5.5,9.05 L10.8,14.4",stroke:e,"stroke-width":"2.4","stroke-linecap":"round",fill:"none","stroke-linejoin":"round"}))}o.defaultProps={color:"var(--teflon)",width:18,height:18},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M12 10.13L8.261 6.39a1.324 1.324 0 0 0-1.873-.002c-.52.52-.515 1.355.002 1.873L10.13 12l-3.74 3.739a1.324 1.324 0 0 0-.002 1.873c.52.52 1.355.515 1.873-.002L12 13.87l3.739 3.74a1.324 1.324 0 0 0 1.873.002c.52-.52.515-1.355-.002-1.873L13.87 12l3.74-3.739a1.324 1.324 0 0 0 .002-1.873 1.321 1.321 0 0 0-1.873.002L12 10.13z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,height:t,class:n}){const o=4*t/20;return i.h("svg",{class:n,width:o,height:t,viewBox:"0 0 4 20"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"2",cy:"2",r:"2"}),i.h("circle",{cx:"2",cy:"10",r:"2"}),i.h("circle",{cx:"2",cy:"18",r:"2"})))}o.defaultProps={color:"var(--teflon)",height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M16 10h2V6v8c0 1.1-.9 2-2 2H2c-1.1 0-2-.9-2-2V2C0 .9.9 0 2 0h10-4v2H2v12h14v-4z"}),i.h("path",{d:"M16 3.56V8h2V2c0-1.1-.9-2-2-2h-6v2h4.73l-3.95 3.95c-.4.4-.4 1.02 0 1.4.4.4 1.02.4 1.4 0L16 3.55z"})))}o.defaultProps={color:"var(--teflon)",width:18,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 14 14"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"7",cy:"12",r:"2"}),i.h("circle",{cx:"7",cy:"2",r:"2"}),i.h("rect",{width:"14",height:"2",y:"6",rx:"1"})))}o.defaultProps={color:"var(--cornflower-blue)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t,class:n}){const o=16*e/16;return i.h("svg",{class:n,width:e,height:o,viewBox:"0 0 16 16"},i.h("path",{fill:t||"#e01e5a",d:"M3.406 1.703c0 .916-.748 1.665-1.664 1.665-.916 0-1.665-.749-1.665-1.665S.826.04 1.742.04h1.664v1.664zM4.245 1.703C4.245.787 4.994.04 5.91.04s1.664.748 1.664 1.664v4.168c0 .916-.748 1.664-1.664 1.664-.916 0-1.665-.748-1.665-1.664V1.703z",transform:"translate(0 8.387)"}),i.h("path",{fill:t||"#36c5f0",d:"M5.91 3.406c-.916 0-1.665-.748-1.665-1.664 0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742C.826 7.574.077 6.826.077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.h("path",{fill:t||"#2eb67d",d:"M4.206 5.91c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665-.748 1.664-1.664 1.664H4.206V5.91zM3.368 5.91c0 .916-.749 1.664-1.665 1.664S.04 6.826.04 5.91V1.742C.039.826.787.077 1.703.077c.916 0 1.665.749 1.665 1.665V5.91z",transform:"translate(8.387)"}),i.h("path",{fill:t||"#ecb22e",d:"M1.703 4.206c.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664S.04 6.787.04 5.871V4.206h1.664zM1.703 3.368C.787 3.368.04 2.619.04 1.703S.787.04 1.703.04h4.168c.916 0 1.664.748 1.664 1.664 0 .916-.748 1.665-1.664 1.665H1.703z",transform:"translate(8.387 8.387)"}),i.h("g",{class:"iconActiveStateOverlay",fill:"none"},i.h("path",{d:"M3.406 1.703c0 .916-.748 1.665-1.664 1.665-.916 0-1.665-.749-1.665-1.665S.826.04 1.742.04h1.664v1.664zM4.245 1.703C4.245.787 4.994.04 5.91.04s1.664.748 1.664 1.664v4.168c0 .916-.748 1.664-1.664 1.664-.916 0-1.665-.748-1.665-1.664V1.703z",transform:"translate(0 8.387)"}),i.h("path",{d:"M5.91 3.406c-.916 0-1.665-.748-1.665-1.664 0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742C.826 7.574.077 6.826.077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.h("path",{d:"M4.206 5.91c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665-.748 1.664-1.664 1.664H4.206V5.91zM3.368 5.91c0 .916-.749 1.664-1.665 1.664S.04 6.826.04 5.91V1.742C.039.826.787.077 1.703.077c.916 0 1.665.749 1.665 1.665V5.91z",transform:"translate(8.387)"}),i.h("path",{d:"M1.703 4.206c.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664S.04 6.787.04 5.871V4.206h1.664zM1.703 3.368C.787 3.368.04 2.619.04 1.703S.787.04 1.703.04h4.168c.916 0 1.664.748 1.664 1.664 0 .916-.748 1.665-1.664 1.665H1.703z",transform:"translate(8.387 8.387)"})))}o.defaultProps={width:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M7 4h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H7z"}),i.h("path",{d:"M17 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-2V4h2zm-2 1v14h2a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2z"}),i.h("rect",{width:"6",height:"1",x:"8",y:"7",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"10",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"13",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"16",rx:".5"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(476);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o(e){const{width:t,color:n}=e,o=14*t/14;return i.h("svg",{class:"spinning",width:t,height:o,viewBox:"0 0 24 24"},i.h("g",{fill:n,"fill-rule":"evenodd"},i.h("circle",{cx:"12",cy:"1.8",r:"1.8"}),i.h("circle",{cx:"4.8",cy:"4.82",r:"1.8","fill-opacity":".44",transform:"rotate(-45 4.796 4.82)"}),i.h("circle",{cx:"1.8",cy:"12",r:"1.8","fill-opacity":".52"}),i.h("circle",{cx:"4.82",cy:"19.21",r:"1.8","fill-opacity":".6",transform:"rotate(-45 4.816 19.208)"}),i.h("circle",{cx:"12",cy:"22.2",r:"1.8","fill-opacity":".68"}),i.h("circle",{cx:"19.21",cy:"19.18",r:"1.8","fill-opacity":".76",transform:"rotate(-45 19.206 19.18)"}),i.h("circle",{cx:"22.2",cy:"12",r:"1.8","fill-opacity":".84"}),i.h("circle",{cx:"19.18",cy:"4.79",r:"1.8","fill-opacity":".92",transform:"rotate(-45 19.18 4.792)"})))}o.defaultProps={width:14,color:"var(--cornflower-blue)"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.751 8.364c1.002-1.002 2.631-1.002 3.633 0l7.252 7.252c1.002 1.002 1.002 2.631 0 3.633-1.002 1.001-2.631 1.001-3.633 0l-3.26-3.263-3.862 3.863c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 3.862-3.862-3.26-3.263c-.96-.954-1.002-2.492-.127-3.495zm2.903.73c-.598-.598-1.574-.598-2.174.001-.597.593-.597 1.573.001 2.167l7.252 7.257c.599.598 1.575.598 2.173 0 .599-.599.599-1.575 0-2.173zm8.606-4.432l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.807 4.605l.047.042 14.5 14.499c.195.195.195.512 0 .707-.18.18-.465.195-.661.042l-.047-.042-14.5-14.499c-.195-.195-.195-.512 0-.707.18-.18.465-.195.661-.042zm1.135 3.543c.194.196.193.513-.003.708-.56.557-.583 1.462-.066 2.048l.068.071 7.079 7.085c.585.585 1.54.585 2.125 0 .196-.196.513-.196.708 0 .196.195.196.512 0 .708-.947.947-2.47.975-3.451.086l-.09-.087-3.197-3.2c-.016.037-.037.072-.062.104l-.043.049-4.129 4.129c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 4.13-4.128c.044-.045.096-.08.15-.105l-3.197-3.2c-.979-.972-.979-2.568 0-3.54.196-.194.513-.193.708.003zM16.26 4.662l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}o.defaultProps={color:"var(--peach)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("g",{fill:e,"fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75c-1.036 0-1.875.84-1.875 1.875 0 .986.761 1.795 1.728 1.87l.147.005h6.25c1.036 0 1.875-.84 1.875-1.875 0-1.036-.84-1.875-1.875-1.875H8.75V2.5h.625c1.726 0 3.125 1.4 3.125 3.125 0 1.726-1.4 3.125-3.125 3.125h-6.25C1.399 8.75 0 7.35 0 5.625 0 3.899 1.4 2.5 3.125 2.5h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M15 0c1.726 0 3.125 1.4 3.125 3.125 0 1.726-1.4 3.125-3.125 3.125h-1.25V5h-2.606H15c1.036 0 1.875-.84 1.875-1.875 0-1.036-.84-1.875-1.875-1.875H8.75c-1.036 0-1.875.84-1.875 1.875 0 .986.761 1.795 1.728 1.87L8.75 5h.625v1.25H8.75c-1.726 0-3.125-1.4-3.125-3.125C5.625 1.399 7.025 0 8.75 0H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.815 6.878c-.6-1.66-2.601-2.652-5.351-2.652-.575 0-1.172.044-1.78.132-.236-.765-.491-1.36-.76-1.771-.342-.522-.73-.787-1.155-.787-.03 0-.06.001-.088.004-.434.038-.784.33-1.039.869-.163.345-.292.796-.393 1.371-.787-.657-1.42-.977-1.923-.977-.229 0-.433.062-.608.184-.356.25-.512.676-.463 1.27.042.502.229 1.139.57 1.946l.02.044c-1.336.846-2.39 1.842-3.064 2.894L0 10.765l2.144 2.47-.069 3.266 3.773-1.358c.782.251 1.677.378 2.662.378.513 0 1.046-.035 1.588-.105l.011.038c.25.81.508 1.404.79 1.815.327.478.702.721 1.115.721.03 0 .059 0 .087-.003.434-.038.785-.338 1.043-.891.157-.337.286-.784.384-1.333.788.658 1.42.979 1.926.979.229 0 .434-.062.609-.184.367-.257.52-.709.455-1.343-.05-.49-.237-1.119-.553-1.87 1.42-.867 2.538-1.902 3.243-3.002.778-1.215.988-2.413.607-3.465zM9.031 8.007c-.18-.313-.346-.62-.5-.917.161-.083.325-.164.491-.241-.005.375-.002.762.009 1.158zm-.135-2.572c-.319.137-.63.283-.934.438-.326-.788-.414-1.234-.431-1.464.227.103.66.364 1.365 1.026zm-.387 8.745c-.875 0-1.656-.113-2.32-.337l-.357-.12-2.372.853.039-1.828-1.2-1.383 2.378-.856.197-.318c.543-.875 1.422-1.72 2.552-2.458.486.935 1.098 1.953 1.784 2.965.127 1.212.314 2.382.545 3.408-.426.05-.843.074-1.246.074zm1.92-9.38c.115-.92.272-1.376.376-1.592.032.045.07.103.11.175.167.293.338.71.5 1.218-.331.079-.664.17-.994.273l.008-.073zm.588 9.094c-.074-.325-.144-.666-.209-1.02.248.31.495.608.741.892-.177.047-.355.09-.532.128zm.958 2.685c-.026-.036-.055-.08-.086-.134-.174-.293-.354-.725-.523-1.254.33-.074.662-.16.992-.258-.113.94-.276 1.42-.383 1.646zm1.964-2.156l-.038-.035c.316-.13.628-.271.93-.42.217.528.357.977.407 1.308.007.049.012.09.015.127-.22-.1-.636-.351-1.314-.98zm4.6-5.773c-.164.534-.508 1.113-.994 1.673-.525.605-1.195 1.175-1.99 1.693-.807.526-1.706.973-2.674 1.33-.746-.824-1.534-1.818-2.284-2.887-.05-.07-.099-.141-.147-.211l-.025-.268c-.113-1.289-.151-2.549-.111-3.658 1.403-.494 2.836-.755 4.15-.755 1.105 0 2.08.185 2.819.534.657.31 1.083.725 1.267 1.232.141.39.138.834-.01 1.317z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M13.45.068c.05.004.1.012.152.014.284.01.554.076.81.205.173.088.335.192.493.306 1.043.75 2.086 1.5 3.129 2.252.244.176.486.354.728.532.081.06.159.126.229.2.063.066.118.138.158.222.024.05.043.1.045.158.001.014.008.03.013.044v13.771c-.016.035-.013.073-.013.109-.003.157-.04.307-.095.452-.064.172-.172.31-.315.42-.144.111-.309.175-.482.219-.186.048-.375.064-.565.076-.213.014-.425.025-.639.037l-.293.018-.638.04-.632.038c-.207.013-.416.028-.623.04l-.64.038-.877.056-.45.027-.75.046-.639.04-.623.037c-.208.013-.416.028-.624.04l-.64.038-.877.056c-.3.02-.6.036-.9.054l-.293.018-.631.04-.632.038-.723.045c-.065.004-.129.008-.193.014-.019.003-.038.011-.058.016h-.37c-.02-.006-.038-.014-.059-.017-.063-.01-.127-.017-.19-.029-.27-.046-.503-.165-.694-.366-.076-.08-.15-.166-.218-.255-.355-.468-.707-.937-1.06-1.406l-1.412-1.876c-.135-.18-.262-.366-.368-.565-.146-.274-.253-.563-.28-.878-.001-.027-.005-.053-.026-.072V2.168c.024-.03.027-.068.03-.105.007-.1.025-.198.052-.294.104-.373.332-.628.69-.758.138-.05.278-.077.422-.088l.516-.037.254-.02.523-.04L3.68.79c.171-.013.343-.028.515-.04.172-.013.344-.024.516-.038l.723-.056.83-.063.84-.063.946-.07.246-.018.53-.04c.17-.014.339-.025.508-.038l.515-.04c.174-.014.35-.025.524-.038l.807-.061.254-.02.516-.04.523-.038c.24-.019.481-.043.724-.048.028 0 .055-.007.083-.01h.17zm3.977 4.5c-.085 0-.17.005-.254.01l-.23.018c-.152.009-.304.013-.455.023l-.91.056-.924.053-.307.019-.662.04-.648.038c-.215.013-.43.028-.647.04-.22.014-.441.025-.662.038l-.91.056-.924.053-.3.018-.654.041c-.219.013-.437.024-.655.038l-.91.056-.924.053-.3.018-.709.043c-.133.009-.268.013-.4.032-.27.04-.414.174-.477.424l-.006.03c-.022.12-.026.241-.026.362V17.49c0 .098.008.194.027.29.051.253.197.416.44.488l.03.008c.11.03.223.037.336.034.129-.004.257-.01.385-.017.224-.012.447-.024.67-.038l.917-.056.94-.053.307-.02.662-.04c.221-.012.442-.024.663-.038.216-.012.431-.026.647-.04l.672-.036v-.001l.23-.012.316-.02.655-.04.663-.037.916-.056c.221-.014.442-.025.663-.038l.316-.019.693-.041c.12-.008.241-.014.362-.02l.647-.041.562-.034c.096-.007.188-.028.278-.063.16-.064.272-.177.332-.341.022-.06.037-.121.048-.183.024-.127.026-.257.026-.385V5.349c0-.08-.004-.158-.01-.237-.011-.11-.038-.218-.094-.315-.06-.104-.143-.179-.26-.207-.048-.011-.097-.02-.145-.021zM16.05 6.686c.005.008.011.014.013.021.031.135.035.27-.004.406-.01.034-.023.07-.04.101-.05.096-.127.16-.231.182l-.46.096c-.054.01-.106.022-.158.033-.016.033-.01.065-.01.096v1.974l.001 6.277v.084c-.008.008-.013.014-.02.018-.248.14-.505.26-.779.338-.167.048-.336.076-.51.08-.118.004-.236-.007-.352-.03-.131-.026-.248-.085-.354-.167-.09-.07-.17-.152-.243-.24-.136-.166-.266-.336-.379-.518-1.162-1.87-2.326-3.738-3.489-5.606-.015-.024-.03-.049-.046-.072-.004-.006-.011-.008-.02-.014-.003.01-.007.017-.007.024v5.665c.13.036.26.06.387.09l.39.09.386.09v.05c-.026.177-.111.32-.246.433-.146.122-.316.185-.503.197-.303.019-.606.034-.91.052l-.9.056-.678.037-.24.014c-.018-.002-.038-.005-.062-.006-.034-.169-.01-.322.084-.462.048-.07.113-.12.196-.144l.579-.166.081-.026.008-.013.002-.008.001-7.477V8.2l-.007-.02c-.014-.003-.031-.008-.048-.01L6.82 8.12c-.059-.005-.118-.01-.177-.017-.017-.002-.034-.007-.053-.012-.018-.075-.015-.149-.006-.221.02-.169.086-.32.2-.444.112-.122.25-.19.415-.202l.823-.062.57-.037.57-.04.539-.038.269-.02h.044c.08.12.157.244.235.366l.241.377.237.37.24.377.474.74.24.376.237.37.236.37.241.377.236.37.241.377.237.37.236.37.241.376c.079.122.156.246.243.376.006-.018.011-.026.012-.035v-.055-5.077l-.002-.097c-.083-.023-.165-.024-.246-.035l-.246-.027-.237-.029-.245-.032c-.02-.06-.02-.117-.013-.175.042-.358.342-.572.588-.586.144-.008.288-.02.431-.028.226-.014.452-.028.678-.04.105-.008.21-.014.316-.02l.655-.037.47-.03h.06zm-3.043-5.492c-.27.019-.539.04-.808.06l-.269.02-.523.04-.524.038-.807.06-.27.02-.546.042-.507.037-.562.042-.5.037-.554.042-.5.037-.563.042-.492.036-.57.043-.492.037-.53.04-.516.038c-.192.014-.384.028-.577.044-.095.008-.19.017-.283.032-.074.011-.144.04-.2.095-.07.07-.076.144-.017.225.01.015.022.03.036.042.02.02.042.038.065.056.473.385.945.77 1.42 1.153.09.073.186.142.282.207.128.086.268.144.419.173.145.028.29.038.437.032.204-.008.407-.02.609-.033.208-.012.416-.027.623-.04l.632-.037c.205-.013.41-.028.615-.04.213-.014.427-.025.64-.038l.3-.019.64-.04c.21-.013.42-.024.63-.038l.632-.04.64-.037.885-.057.901-.053.308-.019.654-.04.354-.022.632-.04.639-.037.732-.045.292-.018c.058-.004.114-.014.171-.044-.017-.1-.067-.167-.14-.222-.648-.48-1.295-.962-1.944-1.44-.308-.227-.655-.345-1.032-.378-.154-.014-.308-.004-.462.007z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M14.587.403c1.28.252 2.459.733 3.377 1.71.737.783 1.15 1.737 1.403 2.766.35 1.418.444 2.865.466 4.318.029 1.851-.02 3.695-.398 5.517-.546 2.638-2.093 4.167-4.737 4.723-1.554.326-3.123.4-4.702.403-1.761.003-3.517-.054-5.235-.493-1.852-.473-3.247-1.496-3.958-3.332-.38-.985-.551-2.012-.665-3.053-.049-.443-.092-.886-.138-1.328V8.18c.022-.139.056-.278.066-.418C.144 6.626.28 5.5.611 4.403c.566-1.87 1.736-3.17 3.628-3.714C5.141.429 6.08.233 7.012.15c2.531-.225 5.066-.241 7.575.252zM8.308 7.768c-2.051-.034-3.763 1.635-3.805 3.711-.043 2.117 1.605 3.823 3.744 3.876 2.069.052 3.797-1.636 3.84-3.751.041-2.096-1.638-3.801-3.779-3.836zm6.845-3.087H4.69v1.86h8.668v8.65h1.795V4.681zM8.27 9.618c1.078-.008 1.942.85 1.954 1.943.013 1.048-.868 1.93-1.928 1.931-1.052.002-1.92-.846-1.931-1.887-.012-1.1.832-1.98 1.905-1.987z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M15.527 10.325c-2.383 0-4.314 1.93-4.314 4.312 0 2.383 1.931 4.314 4.314 4.314 2.382 0 4.313-1.931 4.313-4.314 0-2.381-1.931-4.312-4.313-4.312zm-11.206 0c-2.382 0-4.313 1.93-4.313 4.313 0 2.382 1.93 4.313 4.313 4.313 2.382 0 4.313-1.931 4.313-4.313 0-2.382-1.931-4.313-4.313-4.313zm9.916-5.392c0 2.382-1.931 4.314-4.313 4.314-2.383 0-4.314-1.932-4.314-4.314S7.541.62 9.924.62c2.382 0 4.313 1.931 4.313 4.313z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M.649 1C.297.996.004 1.277 0 1.633c0 .036.004.076.008.112l2.72 16.51c.068.417.43.726.854.73H16.63c.317.004.59-.225.641-.537l2.72-16.699c.057-.348-.18-.677-.528-.733-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M.72 15.173c3.595-5.85 8.296-6.023 13.826-3.336 1.538.741 3.246 1.546 4.104 1.95.313.144.454.512.316.828l-1.954 4.42c-.069.155-.198.277-.358.336-.16.06-.337.052-.491-.021l-4.07-1.935c-2.948-1.408-4.583-1.737-6.209.947-.23.382-.442.738-.606 1.013-.087.146-.228.25-.392.29-.165.041-.338.014-.483-.075L.3 17.064c-.293-.18-.387-.562-.212-.858.196-.31.426-.698.631-1.033zM14.94.636c.171-.04.35-.006.496.092l4.103 2.525c.293.181.387.563.212.859-.196.31-.426.697-.631 1.032-3.596 5.843-8.297 6.023-13.84 3.34-1.537-.742-3.245-1.547-4.104-1.95-.313-.144-.454-.512-.315-.828l1.954-4.42c.068-.156.197-.277.357-.337.16-.06.338-.052.492.022L7.72 2.896c2.949 1.408 4.584 1.737 6.21-.947.23-.382.442-.738.606-1.013.087-.152.234-.26.404-.3z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M13.771 6.655c1.063.224 1.895.766 2.426 1.727.373.673.482 1.397.346 2.144-.28 1.533-1.574 2.658-3.078 2.703-1.695.051-2.975-.964-3.446-2.704v.322c0 1.883.004 3.767 0 5.65-.004 1.77-1.275 3.139-3.065 3.308-1.624.154-3.148-1.037-3.463-2.706-.34-1.795.887-3.497 2.822-3.842-1.92-.507-3.002-1.67-2.828-3.66.145-1.648 1.21-2.572 2.854-2.946-1.305-.244-2.204-.914-2.669-2.088-.846-2.139.701-4.44 3.028-4.476C8.913.053 11.129.059 13.344.086c1.712.02 3.115 1.34 3.232 2.97.13 1.806-.996 3.248-2.805 3.6zm-3.74 2.71c.347-1.411 1.23-2.296 2.707-2.678H10.03v2.679z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M18.659 4.98c-.895-1.531-2.108-2.745-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341c-1.532.894-2.745 2.108-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091.113-.104.17-.234.17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051c-.19.035-.432.05-.723.046-.29-.004-.592-.035-.904-.091-.313-.056-.604-.187-.873-.39-.269-.205-.46-.472-.573-.801l-.13-.3c-.087-.2-.223-.421-.41-.664-.187-.243-.375-.408-.566-.495l-.091-.065c-.061-.043-.118-.096-.17-.156-.052-.061-.09-.122-.117-.183-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065.208-.043.403-.108.586-.195.078-.582.29-1.029.638-1.341-.495-.052-.94-.13-1.335-.235-.395-.104-.803-.273-1.224-.508-.421-.234-.77-.525-1.048-.872s-.506-.803-.684-1.367c-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351.807-.225 1.64-.338 2.5-.338.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367-.282.343-.633.632-1.054.866-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.91 11.374L18.866 8.16c-.006-.03-.014-.059-.026-.086l-2.098-6.46c-.114-.341-.436-.57-.796-.568-.36-.002-.68.23-.787.573l-2 6.155H6.845L4.842 1.62c-.107-.341-.425-.574-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684c.165.12.39.12.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95c-.09-.065-.126-.18-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429c.036.104-.001.22-.09.284z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M9.936 0h7.957c1.202 0 1.947.747 1.947 1.952v15.936c0 1.205-.745 1.952-1.946 1.952H1.936C.749 19.84 0 19.088 0 17.9V1.94C0 .751.75.001 1.936.001h8zm6.366 12.68c-.034.087-.052.166-.093.23-.193.308-.354.647-.597.908-.282.303-.635.165-.695-.245-.025-.172-.008-.362.035-.531.19-.736.391-1.47.598-2.202.184-.65.284-1.306.146-1.978-.265-1.288-1.434-1.959-2.681-1.542-.599.2-1.072.576-1.462 1.06-.16.2-.3.413-.486.669l.369-1.704c-1.003 0-1.973-.002-2.942.003-.042 0-.11.05-.122.088-.139.488-.27.978-.41 1.491H9.38c-.015.081-.023.145-.038.206-.247.989-.504 1.975-.737 2.967-.098.42-.294.778-.577 1.09-.395.439-.86.768-1.48.782-.387.009-.584-.206-.567-.59.005-.12.013-.244.042-.362.37-1.505.745-3.009 1.118-4.514l.288-1.161c-1.109 0-2.186-.002-3.263.003-.049 0-.128.051-.14.094-.14.487-.269.976-.407 1.488h1.394c-.013.075-.021.13-.035.186-.214.878-.435 1.755-.644 2.634-.147.62-.346 1.23-.325 1.882.036 1.07.892 1.799 1.952 1.66.843-.112 1.477-.56 1.989-1.21.06-.076.116-.154.175-.23l.033.017-.315 1.285c.09.005.16.012.228.012.51 0 1.02-.007 1.531.004.172.004.246-.038.29-.219.347-1.429.698-2.858 1.072-4.28.095-.363.25-.719.427-1.05.19-.356.495-.614.888-.746.731-.247 1.411.212 1.435.982.006.212-.02.432-.073.637-.114.438-.258.866-.383 1.301-.179.623-.335 1.251-.313 1.905.018.557.182 1.05.706 1.344.681.383 1.76.291 2.362-.205.586-.482.865-1.143 1.078-1.863l-.788-.295zM6.62 3.878c-.7-.003-1.19.474-1.193 1.162-.002.647.52 1.194 1.155 1.207.664.013 1.215-.523 1.22-1.189.004-.682-.492-1.177-1.182-1.18z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(246);function a({width:e,color:t}){const n=16*e/16,a={one:`IconJira-${o.getRandomString()}-path-1`,two:`IconJira-${o.getRandomString()}-path-2`};return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("defs",null,i.h("linearGradient",{id:a.one,x1:"67.673%",x2:"40.808%",y1:"40.311%",y2:"81.641%"},i.h("stop",{offset:"18%","stop-color":t||"#0052CC"}),i.h("stop",{offset:"100%","stop-color":t||"#2684FF"})),i.h("linearGradient",{id:a.two,x1:"32.633%",x2:"59.341%",y1:"-23.325%",y2:"17.855%"},i.h("stop",{offset:"18%","stop-color":t||"#0052CC"}),i.h("stop",{offset:"100%","stop-color":t||"#2684FF"}))),i.h("path",{fill:t||"#2684FF",d:"M15.286 7.55L8.403.667 7.736 0 2.554 5.181.184 7.55c-.245.248-.245.648 0 .895L4.92 13.18l2.817 2.816 5.18-5.181.08-.08 2.29-2.285c.12-.119.187-.28.187-.45 0-.168-.068-.33-.187-.45zm-7.55 2.813L5.37 7.998l2.365-2.365L10.1 7.998l-2.364 2.365z",transform:"translate(.3)"}),i.h("path",{fill:`url(#${a.one})`,d:"M7.736 5.633C6.187 4.085 6.18 1.577 7.718.019L2.544 5.192 5.36 8.008l2.376-2.375z",transform:"translate(.3)"}),i.h("path",{fill:`url(#${a.two})`,d:"M10.106 7.991l-2.37 2.372c1.554 1.555 1.554 4.076 0 5.63l5.189-5.185-2.819-2.817z",transform:"translate(.3)"}),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M15.285 7.55L8.402.667 7.735 0l-5.18 5.181L.184 7.55c-.247.248-.247.648 0 .895l4.733 4.734 2.817 2.816 5.181-5.181.08-.08 2.29-2.285c.12-.119.187-.28.187-.45 0-.168-.068-.33-.188-.45zm-7.55 2.813L5.37 7.998l2.365-2.365L10.1 7.998l-2.365 2.365z"}))}a.defaultProps={width:16},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M14.26 10.594c1.598 1.042 3.199 2.08 4.798 3.12.157.102.156.104-.004.208-2.997 1.95-5.994 3.898-8.986 5.852-.139.09-.22.03-.323-.037-1.235-.804-2.47-1.61-3.706-2.413L.826 13.935c-.054-.035-.118-.06-.163-.13l1.364-.89 3.569-2.32c.34.224.681.447 1.023.67l2.257 1.46c.307.198.616.392.918.599.103.07.175.065.278-.002 1.056-.69 2.115-1.375 3.173-2.062l.136-.095.879-.57zM10.079.073c2.985 1.947 5.974 3.889 8.962 5.832l.152.104c-.034.071-.1.091-.152.125l-.862.56c-1.599 1.042-3.198 2.081-4.798 3.122-.046.03-.09.063-.136.095-1.058.686-2.117 1.37-3.173 2.061-.103.068-.175.073-.278.002-.302-.207-.61-.401-.918-.6L6.62 9.917c-.812-.531-1.623-1.063-2.435-1.592C3.35 7.78 2.516 7.238 1.68 6.695L.797 6.12c-.046-.03-.091-.061-.15-.102l.54-.351C4.049 3.805 6.912 1.944 9.773.08c.109-.07.186-.085.306-.007z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.84 6.933l-9.377 11.411c-.07.085-.135.173-.205.258-.197.24-.48.24-.677.002-1.698-2.072-3.396-4.144-5.096-6.215C3.03 10.618 1.575 8.85.119 7.08L0 6.933v-.271l.087-.125c1.227-1.772 2.451-3.545 3.685-5.31.069-.1.206-.194.322-.209.39-.05.785-.06 1.177-.089C6.274.857 7.278.78 8.282.713 8.916.672 9.555.594 10.187.63c1.777.097 3.551.253 5.328.363.316.019.495.136.669.39 1.21 1.766 2.435 3.521 3.656 5.28v.27zm-15.436.276L9.92 17.507l5.515-10.298H4.404zm.36-.838h10.311L9.92 1.558 4.764 6.371zm3.982-4.828l-.018-.048-1.192.085c-.959.067-1.918.135-2.877.2-.11.007-.157.05-.165.163-.076 1.03-.156 2.06-.234 3.088-.017.228-.03.456-.046.684l.042.02 4.49-4.192zm2.366-.047l-.019.047 4.534 4.232c-.008-.169-.01-.272-.018-.375-.087-1.132-.18-2.264-.257-3.397-.012-.182-.085-.22-.247-.23-.862-.055-1.724-.121-2.586-.182-.47-.033-.938-.063-1.407-.095zM7.45 14.72l.032-.031c-.013-.028-.023-.058-.038-.085-1.3-2.428-2.601-4.856-3.9-7.286-.05-.095-.109-.122-.21-.122-.634.005-1.266.002-1.9.003-.039 0-.08.011-.142.021l6.158 7.5zm4.907-.03l.034.027L18.566 7.2c-.708 0-1.36.006-2.01-.005-.154-.002-.224.053-.293.183-1.272 2.383-2.549 4.764-3.824 7.146-.03.054-.055.111-.082.168zm6.293-8.309l-2.375-3.43c-.015.007-.03.014-.043.022l.264 3.409h2.154zM1.194 6.376h2.15l.263-3.407-.046-.014-2.368 3.421z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 11 9"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e,"fill-rule":"nonzero"},i.h("path",{d:"M112.477 14c.208 0 .423-.092.61-.27l3.647-3.585c.165-.163.266-.404.266-.645 0-.234-.1-.475-.266-.638l-3.647-3.586c-.187-.184-.402-.276-.61-.276-.517 0-.87.354-.87.822 0 .262.116.46.28.624l1.142 1.134 1.25 1.055H106.91c-.545 0-.911.348-.911.865s.366.872.912.872h7.367l-1.25 1.056-1.141 1.133c-.165.156-.28.362-.28.617 0 .468.352.822.869.822z",transform:"translate(-1139 -265) translate(640 192) translate(0 56) translate(393 12)"}))))}o.defaultProps={color:"var(--cornflower-blue)",width:11,height:9},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=16*e/16;return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:t,d:"M14 0c1.105 0 2 .895 2 2v12c0 1.104-.895 2-2 2H2c-1.105 0-2-.896-2-2V2C0 .895.895 0 2 0h12zM6 2.08H3.04c-.52 0-.943.413-.96.93v9.11c0 .52.413.943.93.96H6c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96H6zm6.96 0H10c-.52 0-.943.413-.96.93v5.11c0 .52.413.943.93.96H12.96c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96h-.03z"}),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M14 0c1.105 0 2 .895 2 2v12c0 1.104-.895 2-2 2H2c-1.105 0-2-.896-2-2V2C0 .895.895 0 2 0h12zM6 2.08H3.04c-.52 0-.943.413-.96.93v9.11c0 .52.413.943.93.96H6c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96H6zm6.96 0H10c-.52 0-.943.413-.96.93v5.11c0 .52.413.943.93.96H12.96c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96h-.03z"}))}o.defaultProps={width:16,color:"#0079BF"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){return i.h("svg",{width:e,viewBox:"0 0 16 15"},i.h("path",{fill:t,d:"M16 12.002c0 .51-.385.933-.88.991l-.115.007h-2.817l-1.925 1.925L8.337 13H1c-.512 0-.934-.386-.992-.882L0 12V1C0 .486.387.064.884.006L1.001 0H15c.513 0 .936.386.993.883L16 1v11.002zM8.49.998L1.001 1 1 12.002 8.544 12h.207l1.512 1.511L11.774 12h3.23l-.003-4.477L15 7.5V1H8.5L8.49.999zM12.5 7.5c.277 0 .5.224.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.224-.5-.5 0-.246.177-.45.41-.492L3.5 7.5h9zm0-3c.277 0 .5.223.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.223-.5-.5 0-.246.177-.45.41-.492L3.5 4.5h9z"}))}o.defaultProps={color:"var(--teflon)",width:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("g",{fill:n},i.h("rect",{x:"5",width:"2",height:"12",rx:"1"}),i.h("rect",{y:"5",width:"12",height:"2",rx:"1"})))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("rect",{fill:n,y:"5",width:"12",height:"2",rx:"1"}))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 26"},i.h("path",{fill:e,d:"M12.417.958c.354 0 .708.142.991.425.284.284.425.638.425.992V3.65l6.234 3.612c.283.213.566.496.637.85.071.071.071.213.071.355 0 .212-.07.495-.212.708l-.78 1.346 3.188 5.454c.142.354.212.708.07 1.133-.07.354-.283.638-.637.85l-11.9 6.8-.268.154c-.995.54-2.099.838-3.203.838-1.7 0-3.329-.637-4.604-1.842C1.225 22.704.446 21.075.375 19.375v-17c0-.354.142-.708.425-.992.283-.283.637-.425.992-.425zm-.071 1.346H1.72v17c.07 1.346.637 2.621 1.629 3.542.992.991 2.337 1.487 3.683 1.487 1.346 0 2.621-.495 3.613-1.416l.142-.142.424-.425c.071-.142.142-.213.213-.283.07-.142.142-.213.212-.355l.071-.07c.425-.709.638-1.488.638-2.409V2.304zm-5.242 13.53c1.771 0 3.188 1.416 3.188 3.187 0 1.77-1.417 3.187-3.188 3.187-1.77 0-3.187-1.416-3.187-3.187s1.416-3.188 3.187-3.188zm11.9-3.896L13.48 21.5l8.288-4.817-2.763-4.745zm-11.9 5.312c-.991 0-1.77.78-1.77 1.77 0 .992.779 1.772 1.77 1.772.992 0 1.771-.78 1.771-1.771 0-.992-.78-1.771-1.77-1.771zm6.73-11.9v12.608l5.524-9.42-5.525-3.188z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:26},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(246);function a({width:e,color:t}){const n=16*e/16,a="IconTeams-"+o.getRandomString();return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},t?i.h(i.Fragment,null,i.h("path",{fill:t,d:"M8.81,0.58c1.34,0,2.43,1.09,2.43,2.43s-1.09,2.43-2.43,2.43c-0.04,0-0.07-0.01-0.1-0.01V4.6 c0-0.65-0.53-1.19-1.19-1.19h-1.1C6.4,3.28,6.38,3.15,6.38,3.01C6.38,1.66,7.47,0.58,8.81,0.58z M14.03,2.1 c0.92,0,1.67,0.75,1.67,1.67c0,0.92-0.75,1.67-1.67,1.67c-0.92,0-1.67-0.75-1.67-1.67C12.35,2.84,13.1,2.1,14.03,2.1z M5.87,5.74 H2.33v0.72h1.34v3.73h0.86V6.46h1.35V5.74z M7.52,3.92c0.35,0,0.64,0.26,0.68,0.6L8.2,4.6v6.84c0,0.35-0.26,0.64-0.6,0.68 l-0.09,0.01H0.68c-0.35,0-0.64-0.26-0.68-0.6L0,11.44V4.6c0-0.35,0.26-0.63,0.6-0.68l0.09-0.01H7.52z M15.3,6.15 c0.39,0,0.7,0.32,0.7,0.71v3.77c0,1.44-1.15,2.61-2.58,2.61h-0.01c-0.23,0-0.45-0.04-0.66-0.1c0.27-0.61,0.42-1.28,0.41-1.99V6.86 c0.01-0.27-0.1-0.51-0.25-0.72H15.3z M11.97,6.15c0.39,0.01,0.69,0.33,0.68,0.72l0,4.48c-0.04,2.24-1.84,4.07-4.1,4.12 c-1.81-0.04-3.3-1.23-3.86-2.84h2.82c0.66,0,1.19-0.53,1.19-1.19V6.15H11.97z"})):i.h(i.Fragment,null,i.h("defs",null,i.h("linearGradient",{id:a,x1:"17.372%",x2:"82.628%",y1:"-6.51%",y2:"106.51%"},i.h("stop",{offset:"0%","stop-color":"#5A62C3"}),i.h("stop",{offset:"50%","stop-color":"#4D55BD"}),i.h("stop",{offset:"100%","stop-color":"#3940AB"}))),i.h("g",{fill:"none",transform:"translate(0 1)"},i.h("path",{fill:"#5059C9",d:"M11.181 5.535h4.072c.385 0 .697.315.697.704v3.75c0 1.43-1.147 2.59-2.56 2.59h-.012c-1.414 0-2.56-1.16-2.56-2.589V5.903c0-.204.162-.368.363-.368z"}),i.h("circle",{cx:"13.987",cy:"3.17",r:"1.66",fill:"#5059C9"}),i.h("circle",{cx:"8.805",cy:"2.415",r:"2.415",fill:"#7B83EB"}),i.h("path",{fill:"#7B83EB",d:"M11.949 5.535H5.158c-.384.01-.688.328-.679.712v4.273c-.054 2.304 1.77 4.216 4.074 4.272 2.305-.056 4.128-1.968 4.075-4.272V6.247c.009-.384-.295-.703-.68-.712z"}),i.h("path",{fill:"#000",d:"M9.006 5.535V11.5c-.002.273-.168.52-.42.623-.081.035-.168.052-.255.052H4.903c-.048-.122-.092-.243-.129-.369-.129-.423-.195-.863-.195-1.306V6.243c-.01-.382.293-.699.675-.708h3.752z",opacity:".1"}),i.h("path",{fill:"#000",d:"M8.604 5.535V11.9c0 .088-.018.175-.052.256-.103.254-.347.42-.618.423H5.073c-.063-.123-.121-.245-.172-.371-.052-.126-.092-.245-.128-.37-.129-.426-.194-.869-.194-1.313V6.246c-.01-.383.29-.702.67-.711h3.355z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.604 5.535v5.567c-.003.37-.301.669-.67.672H4.773c-.129-.422-.194-.86-.194-1.3V6.24c-.01-.38.29-.695.67-.704h3.355z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.201 5.535v5.567c-.003.37-.306.669-.681.672H4.675c-.13-.422-.196-.86-.197-1.3V6.24c-.009-.38.296-.695.681-.704h3.042z",opacity:".2"}),i.h("path",{fill:"#000",d:"M9.006 3.682v1.14c-.063.005-.122.008-.184.008-.063 0-.122-.003-.185-.007-.124-.008-.248-.028-.369-.058-.747-.174-1.364-.688-1.66-1.384-.05-.117-.09-.238-.118-.362h1.841c.372.001.674.297.675.663z",opacity:".1"}),i.h("path",{fill:"#000",d:"M8.604 4.015v.815c-.124-.008-.246-.029-.366-.06-.741-.182-1.353-.721-1.647-1.45h1.343c.37.002.668.312.67.695z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.604 4.015v.815c-.124-.008-.246-.029-.366-.06-.741-.182-1.353-.721-1.647-1.45h1.343c.37.002.668.312.67.695z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.302 3.996v.734c-.77-.177-1.406-.701-1.711-1.41h1.015c.384.002.694.304.696.676z",opacity:".2"}),i.h("path",{fill:`url(#${a})`,d:"M.73 3.32h6.792c.375 0 .68.305.68.68v6.793c0 .375-.305.679-.68.679H.729c-.375 0-.679-.304-.679-.68V4c0-.375.304-.68.68-.68z"})),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M8.805 1c1.334 0 2.415 1.081 2.415 2.415S10.139 5.83 8.805 5.83c-.209 0-.411-.026-.605-.076v.78h7.053c.353 0 .644.266.69.61l.007.095v3.75c0 1.376-1.06 2.5-2.398 2.585l-.162.005h-.012c-.4 0-.777-.093-1.114-.257-.636 1.423-2.048 2.43-3.71 2.47-1.979-.048-3.602-1.463-3.989-3.32H.73c-.375 0-.679-.304-.679-.68V5c0-.375.304-.68.68-.68h5.835c-.113-.28-.175-.585-.175-.905C6.39 2.081 7.47 1 8.805 1zm5.182 1.51c.917 0 1.66.743 1.66 1.66 0 .917-.743 1.66-1.66 1.66-.917 0-1.66-.743-1.66-1.66 0-.917.743-1.66 1.66-1.66z"}),i.h("path",{fill:"#FFF",d:"M5.887 6.851L4.549 6.851 4.549 10.56 3.696 10.56 3.696 6.851 2.365 6.851 2.365 6.132 5.887 6.132z"})))}a.defaultProps={width:16},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M6 15c.276 0 .5.224.5.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5zm11.5 2c.276 0 .5.224.5.5s-.224.5-.5.5h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8zM6 10c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zm14.5.5c.276 0 .5.224.5.5s-.224.5-.5.5h-11c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h11zM6 4c.276 0 .5.224.5.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5zm11.5 2c.276 0 .5.224.5.5s-.224.5-.5.5h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({class:e,color:t,width:n,height:o}){return i.h("svg",{class:e,width:n,height:o,viewBox:"0 0 12 12"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M11.5 8.5c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 9.5 0 9.276 0 9s.224-.5.5-.5h11zm0-3c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 6.5 0 6.276 0 6s.224-.5.5-.5h11zm0-3c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 3.5 0 3.276 0 3s.224-.5.5-.5h11z"}))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e},i.h("g",null,i.h("path",{d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zM8.157 6.336c-.398-.399-1.029-.394-1.42-.002l-.403.402c-.393.392-.391 1.028.002 1.421L10.178 12l-3.842 3.843c-.399.398-.394 1.029-.002 1.42l.402.403c.392.393 1.028.391 1.421-.002L12 13.822l3.843 3.842c.398.399 1.029.394 1.42.002l.403-.402c.393-.392.391-1.028-.002-1.421L13.822 12l3.842-3.843c.399-.398.394-1.029.002-1.42l-.402-.403c-.392-.393-1.028-.391-1.421.002L12 10.178z",transform:"translate(-940 -173) translate(940 173)"})))))}o.defaultProps={color:"var(--gandalf)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);var o;function a({class:e,width:t,type:n}){return n===o.OUTLINE?i.h("svg",{class:e,width:t,viewBox:"0 0 25 20"},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M19.418 12.996c-1.091.714-2.31 1.316-3.625 1.79l-.067.023c-1.01-1.098-2.066-2.427-3.092-3.893l-.24-.345-.04-.433c-.154-1.768-.199-3.468-.133-4.948l.097-.035c1.863-.672 3.773-1.028 5.523-1.028 1.458 0 2.751.248 3.738.715.922.437 1.524 1.032 1.79 1.768.206.57.203 1.21-.009 1.9-.223.727-.685 1.51-1.335 2.26-.69.798-1.566 1.547-2.607 2.226m-9.163 2.821c-1.153 0-2.185-.15-3.066-.449l-.34-.114-.338.121-3.04 1.097.047-2.308.009-.395-.26-.299-1.51-1.746 3.05-1.1.338-.122.188-.304C6.11 8.942 7.401 7.744 9.01 6.746c.644 1.287 1.495 2.722 2.47 4.159.177 1.725.448 3.37.781 4.767-.684.096-1.356.145-2.006.145m2.106-12.369c.276-2.214.744-2.49.774-2.504.047.004.226.113.484.567.261.461.528 1.143.772 1.972v.005c-.69.15-1.391.345-2.096.586.02-.215.041-.424.066-.626m6.121 11.283c.369.848.606 1.57.684 2.093.074.488-.012.617-.027.635-.005.002-.019.005-.045.005-.104 0-.693-.069-2.155-1.428-.133-.123-.272-.256-.412-.395l.003-.033c.683-.263 1.336-.557 1.952-.877m-5.289.782c-.218-.9-.409-1.912-.564-2.992.704.947 1.42 1.83 2.116 2.608-.519.153-1.037.282-1.552.384m2.357.483c-.223 2.386-.708 3.017-.833 3.06-.044-.005-.21-.106-.452-.514-.25-.423-.507-1.052-.742-1.818-.022-.07-.044-.142-.065-.215.678-.138 1.368-.319 2.062-.544l.03.031M9.295 5.12c-.853-2.02-.61-2.511-.583-2.554.007-.002.02-.004.042-.004.122 0 .82.088 2.569 1.82l-.004.053c-.677.272-1.322.575-1.93.903l-.094-.218m2.025 3.808C10.744 8 10.24 7.102 9.827 6.27c.459-.25.94-.484 1.436-.698-.031 1.043-.012 2.178.057 3.355M24.336 6.26c-.738-2.045-3.275-3.162-6.495-3.162-.8 0-1.642.07-2.509.21l-.014-.048c-.312-1.06-.648-1.872-1-2.41C13.95.285 13.552 0 13.134 0c-.028 0-.056.001-.083.004-.423.037-.773.344-1.042.914-.248.526-.434 1.271-.566 2.276-1.147-1.045-2.053-1.575-2.695-1.575-.22 0-.414.058-.578.173-.347.243-.497.685-.445 1.313.05.605.28 1.385.7 2.382l.141.324C6.738 6.929 5.312 8.277 4.46 9.657L0 11.265l2.49 2.878-.079 3.805 4.449-1.605c.982.331 2.136.502 3.395.502.726 0 1.486-.056 2.268-.172.032.112.065.221.098.328.308 1.002.622 1.73.96 2.226.35.513.733.773 1.139.773.027 0 .054-.001.08-.004.423-.036.775-.353 1.049-.941.241-.52.428-1.268.557-2.227 1.146 1.047 2.052 1.577 2.696 1.577.22 0 .415-.058.58-.173.358-.252.505-.723.435-1.4-.066-.646-.331-1.5-.787-2.541l-.01-.024c3.79-2.234 5.94-5.444 5.016-8.006"})):i.h("svg",{class:e,width:t,viewBox:"0 0 60 48"},i.h("path",{fill:"#FDBD39",d:"M9.22500276 33.0840797L6.086191 34.2307306l-.1685294 9.3377181 10.8655059-3.9692989c-3.7267412-1.2518612-6.4482353-3.4543705-7.55816474-6.5150701"}),i.h("path",{fill:"#F69833",d:"M10.8676263 23.2078406L-.023009 27.1863498l6.1092 7.0443808 3.13881176-1.1466509c-1.10668235-3.0517727-.4242-6.5015026 1.64262354-9.8762391"}),i.h("path",{fill:"#FECF33",d:"M29.1946263 9.73401033C15.3264381 14.8002244 6.38569688 25.2544118 9.22500276 33.0840797L59.4462381 14.7376295C56.6069322 6.9079262 43.0628498 4.6677609 29.1946263 9.73401033"}),i.h("path",{fill:"#EE6723",d:"M39.4765792 38.0876989c13.8682236-5.0662495 22.8257647-15.4740664 19.9696589-23.3500694L9.22500276 33.0840797C12.0810734 40.9601181 25.608391 43.1539129 39.4765792 38.0876989"}),i.h("path",{fill:"#F69833",d:"M59.4462381 14.7376295L9.22500276 33.0840797c.98340004 2.7118406 4.73350584 4.0478701 9.99532944 4.0478701 5.1298588 0 11.6965412-1.2689004 18.5425764-3.7698952 13.8682589-5.066214 23.6254589-13.2687587 21.6833295-18.6244251"}),i.h("path",{fill:"#FDBD39",d:"M49.4509086 10.689724c-5.1298941 0-11.6965411 1.2689358-18.542647 3.7698952C17.0400734 19.5258686 7.28283806 27.7283779 9.22500276 33.0840797L59.4462381 14.7376295c-.9834-2.711876-4.7335059-4.0479055-9.9953295-4.0479055"}),i.h("path",{fill:"#EE6723",d:"M46.6773557 44.0629018h-.0003529c-1.4775883 0-3.6574942-1.3346833-6.4792236-3.9669254-3.3382588-3.1141904-7.1622353-7.6754657-10.7676706-12.8435247-3.6052941-5.1678465-6.5678117-10.3344886-8.3418-14.548251-1.9328117-4.59195273-2.2083882-7.41538004-.8191058-8.3919232.3046235-.21389226.6718235-.32225536 1.0913294-.32225536 1.1300823 0 3.3320117.84136384 7.4037529 4.84984207l.0890471.08760443-.0120353.12458746c-.0278471.28796456-.0535059.57851512-.0763765.86368117l-.0453882.56625833-.3994588-.4024561c-4.3871648-4.41986127-6.3183883-4.89702732-6.9451412-4.89702732-.1787294 0-.3210706.03634538-.4231059.1080797-.6026118.4234273-.6414 2.4973107 1.2324706 6.94869962 1.7423294 4.1386627 4.6617529 9.2271587 8.2204941 14.3280886 3.5588824 5.1014258 7.3243412 9.5952885 10.6029176 12.6537919 3.5354471 3.2980073 5.1286236 3.6541284 5.6495295 3.6541284.1798588 0 .3260117-.038648.4344-.1148812.6357176-.4466657.6364588-2.6683395-1.4532353-7.4595188l-.0959294-.2199498.21-.1149521c.2100352-.1149874.4131529-.2282037.6036352-.3364959l.2515765-.1429727.1159765.2657181c1.4817176 3.3949284 2.8667647 7.7097919 1.0506 8.9864856-.3062118.2150967-.6752118.3241682-1.0969059.3241682zm-.0003529-.5236782h.000375l-.00025.2618214-.000125-.2618214z"}),i.h("path",{fill:"#EE6723",d:"M39.8132498 37.9445491l-.0211059.2609358c-.3506117 4.3383144-1.2737647 9.5539837-3.6807529 9.7650775-.0484235.0043217-.0986471.0065535-.1488706.0065535-1.6351412 0-3.1821176-2.3427897-4.5978706-6.9634008-1.3395176-4.3713653-2.3789647-10.240614-2.9268706-16.526524-.5479411-6.2845992-.5397176-12.2458096.0231177-16.78540512.6134823-4.9467631 1.7814353-7.53011956 3.4712117-7.6784059.0499412-.00460517.1017177-.0069786.1528589-.0069786 1.1862 0 2.9739176 1.3431498 4.8040588 7.59930332l-1.1949882.23064797c-.6110471-2.09063912-1.2769765-3.79100812-1.9380706-4.9594096-.6115412-1.0807262-1.2061412-1.67589077-1.6743883-1.67589077-.0153882 0-.0308823.00063764-.0461647.00194834-.7324235.06433063-1.7990823 1.84096826-2.3937529 6.63629225-.5528118 4.458155-.5594824 10.3300251-.0187765 16.5339631.5410235 6.204859 1.5634941 11.986397 2.8789765 16.2794391.5891294 1.9227277 1.2353294 3.5073299 1.8687176 4.5826007.5840824.9915631 1.1493177 1.537665 1.5915883 1.537665.0152117 0 .0303529-.0007085.0454588-.0019838.7008-.0614258 2.0214706-1.9102229 2.5773176-8.4149136l1.2283059-.4215144"}))}!function(e){e.DEFAULT="default",e.OUTLINE="outline"}(o||(o={})),a.defaultProps={width:25,type:"default"},t.default=a},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(20)),a=i(n(506)),r={pure:!0,withProps:!1,withContext:!1};t.default=(e,t={})=>{const n=class extends e{constructor(n,i){super(n,i),this.getState=(t,n,i)=>{const o=this.options.withProps?n:void 0,a=this.options.withContext?i:void 0;return e.calculateState(t,o,a)},this.options=Object.assign(Object.assign({},r),t),this.fluxContainerSubscriptions=new o.default,this.fluxContainerSubscriptions.setStores(this.getStores(n)),this.fluxContainerSubscriptions.addListener(()=>{this.setState((e,t)=>this.getState(e,t,i))}),this.state=Object.assign(Object.assign({},this.state||{}),this.getState(void 0,n,i))}getStores(t,n){const i=this.options.withProps?t:void 0,o=this.options.withContext?n:void 0;return e.getStores(i,o)}componentWillReceiveProps(e,t){var n;null===(n=super.componentWillReceiveProps)||void 0===n||n.call(this,e,t),(this.options.withProps||this.options.withContext)&&(this.fluxContainerSubscriptions.setStores(this.getStores(e,t)),this.setState(n=>this.getState(n,e,t)))}shouldComponentUpdate(e,t,n){return this.options.pure?a.default(this.props,e)||a.default(this.state,t):!super.shouldComponentUpdate||super.shouldComponentUpdate(e,t,n)}componentWillUnmount(){var e;null===(e=super.componentWillUnmount)||void 0===e||e.call(this),this.fluxContainerSubscriptions.reset()}};return n.displayName=`FluxContainer(${e.displayName||e.name})`,n}},function(e,t,n){"use strict";n.r(t);t.default=(e,t)=>{for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}},function(e,t,n){"use strict";n.r(t);var i=n(508);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(509),a=n(517),r=n(245);n(523);function s(e){const{username:t,avatar:n,organizations:s,selectedOrganizationId:l,onOrganizationChange:c}=e,d=[{id:"user",name:t,logoUrl:n},...s.map(e=>({id:e._id,name:e.name,logoUrl:e.logo})).sort(r.sortBy.name)];return i.h("div",{class:"organizationDropdownWrapper"},i.h(o.default,{optionsClass:"organizationDropdownOptions",top:35,fixedTop:!0,centerX:!0,onChange:c},d.map(({id:e,name:t,logoUrl:n})=>i.h(o.default.Item,{key:e,class:"organizationDropdownItem",label:i.h(a.default,{name:t,logoUrl:n,personal:"user"===e}),value:e,selected:l===e}))))}s.defaultProps={selectedOrganizationId:"user"},t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(510);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(511),s=n(515),l=n(438),c=n(395),d=n(416);n(516);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:p}=i;class h extends i.Component{constructor(e){super(e),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}positionOptions(){const{top:e,left:t,fixedTop:n,autoScroll:i,centerX:o,alignRight:a,posRef:r}=this.props,s=r.getBoundingClientRect(),l=this.nodeRefs.options.getBoundingClientRect(),c=e||s.height,d=t||0;let u=s.top+c,p=s.left;o?p+=(s.width-l.width)/2:a?p=s.right-l.width:p+=d,!n&&u<this.edgeOffset?u=this.edgeOffset:!n&&u+l.height+this.edgeOffset>window.innerHeight&&(u=window.innerHeight-l.height-this.edgeOffset,i&&u<this.edgeOffset&&(u=this.edgeOffset)),i&&(this.nodeRefs.options.style.maxHeight=window.innerHeight-u-this.edgeOffset+"px",this.nodeRefs.options.style.overflowY="auto"),p<this.edgeOffset?p=this.edgeOffset:p+l.width+this.edgeOffset>window.innerWidth&&(p=window.innerWidth-l.width-this.edgeOffset),this.nodeRefs.options.style.transform=`translate3d(${p}px, ${u}px, 0)`}handleBackdropClick(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){const{disableClosingWithESC:t,onClose:n}=this.props;!t&&n&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.positionOptions()}componentDidUpdate(){this.positionOptions()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{children:e,class:t}=this.props;return i.h("div",{class:"dropdownOptionsBackdrop",onClick:this.handleBackdropClick},i.h("div",{class:Object(c.default)("dropdownOptions",t),ref:Object(d.default)(this,"options")},e))}}class f extends i.Component{constructor(...e){super(...e),u(this,"state",{open:!1}),u(this,"hideOptions",()=>{this.setState({open:!1})}),u(this,"toggleOptions",e=>{const{onDropdownClick:t,disabled:n}=this.props;n||(t?t(e):(e.stopPropagation(),this.setState(e=>({open:!e.open}))))}),u(this,"handleItemSelect",e=>{this.props.multiSelect||this.setState({open:!1}),this.props.onChange(e)})}get labelAndTitle(){const{children:e,multiSelect:t,defaultLabel:n,showSelectedAsLabel:o}=this.props;if(!o)return{label:n,title:null};const a=function e(t,n=0){if(n===t.length)return;const o=t[n];if(o.type&&o.type.name===s.default.name){if(o.props.selected)return o}else if(o.props&&o.props.children)return e(i.toChildArray(o.props.children));return e(t,n+1)}(i.toChildArray(e));let r,l=n;if(!t&&a){const{dropdownLabel:e,label:t}=a.props;l=e||t}return!t&&a&&"string"==typeof a.props.label?r=a.props.label:"string"==typeof n&&(r=n),{label:l,title:r}}componentDidUpdate(e,t){const{onDropdownStateChange:n}=this.props,{open:i}=this.state;n&&t.open!==i&&n(i)}renderOptions(){const{portalInto:e,showCheck:t,top:n,left:o,fixedTop:a,autoScroll:l,centerX:c,alignRight:d,optionsClass:u,disableClosingWithESC:p}=this.props,f=function e(t,n,o){const{children:a}=t.props;return i.toChildArray(a).map(t=>t.type&&t.type.name===s.default.name?i.cloneElement(t,{showCheck:n,onSelect:o}):t.props&&t.props.children?i.cloneElement(t,{children:e(t,n,o)}):t)}(this,t,this.handleItemSelect);return i.h(r.default,{into:e},i.h(h,{class:u,onClose:this.hideOptions,fixedTop:a,autoScroll:l,posRef:this.nodeRefs.base,top:n,left:o,centerX:c,alignRight:d,disableClosingWithESC:p},f))}render(){const{open:e}=this.state,{class:t,labelClass:n,showLabel:o,showChevron:a,disabled:r,chevronColor:s}=this.props,u=Object(c.default)("dropdown","noSelect",t,{open:e,disabled:r}),{label:p,title:h}=this.labelAndTitle,f=r?void 0:"0";return i.h("div",{ref:Object(d.default)(this,"base"),class:u,title:h,tabIndex:f,onClick:this.toggleOptions},o&&i.h("span",{class:Object(c.default)("ellipsis",n)},p),a&&i.h(l.IconArrowDown,{width:"9",color:s,class:"chevron"}),e&&this.renderOptions())}}f.propTypes={portalInto:a.a.oneOfType([a.a.element,a.a.object]),showCheck:a.a.bool,defaultLabel:a.a.oneOfType([a.a.object,a.a.string]),multiSelect:a.a.bool,top:a.a.number,left:a.a.number,fixedTop:a.a.bool,autoScroll:a.a.bool,centerX:a.a.bool,children:a.a.oneOfType([a.a.arrayOf(a.a.instanceOf(s.default)),a.a.node]),onChange:a.a.func.isRequired,onDropdownStateChange:a.a.func,disableClosingWithESC:a.a.bool,showLabel:a.a.bool,labelClass:a.a.string,showChevron:a.a.bool,chevronColor:a.a.string,alignRight:a.a.bool,disabled:a.a.bool},f.defaultProps={portalInto:document.body,fixedTop:!1,autoScroll:!1,showCheck:!0,showLabel:!0,showChevron:!0,multiSelect:!1,disableClosingWithESC:!1,showSelectedAsLabel:!0},f.Item=s.default,t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(512);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(513),a=n(416);const{h:r}=i;class s extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>"string"==typeof e?document.querySelector(e):e,(n="findNode")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{didRender:e}=this.props,{portal:t}=this.nodeRefs;e&&e(t.firstChild)}render(){const{children:e,into:t}=this.props;return Object(o.createPortal)(i.h("div",{ref:Object(a.default)(this,"portal")},e),this.findNode(t))}}s.defaultProps={into:document.body},t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return A})),n.d(t,"Children",(function(){return h})),n.d(t,"render",(function(){return P})),n.d(t,"hydrate",(function(){return j})),n.d(t,"unmountComponentAtNode",(function(){return x})),n.d(t,"createPortal",(function(){return E})),n.d(t,"createFactory",(function(){return w})),n.d(t,"cloneElement",(function(){return L})),n.d(t,"isValidElement",(function(){return N})),n.d(t,"findDOMNode",(function(){return M})),n.d(t,"PureComponent",(function(){return s})),n.d(t,"memo",(function(){return l})),n.d(t,"forwardRef",(function(){return u})),n.d(t,"unstable_batchedUpdates",(function(){return U})),n.d(t,"StrictMode",(function(){return B})),n.d(t,"Suspense",(function(){return m})),n.d(t,"SuspenseList",(function(){return y})),n.d(t,"lazy",(function(){return S}));var i=n(514);n.d(t,"useState",(function(){return i.useState})),n.d(t,"useReducer",(function(){return i.useReducer})),n.d(t,"useEffect",(function(){return i.useEffect})),n.d(t,"useLayoutEffect",(function(){return i.useLayoutEffect})),n.d(t,"useRef",(function(){return i.useRef})),n.d(t,"useImperativeHandle",(function(){return i.useImperativeHandle})),n.d(t,"useMemo",(function(){return i.useMemo})),n.d(t,"useCallback",(function(){return i.useCallback})),n.d(t,"useContext",(function(){return i.useContext})),n.d(t,"useDebugValue",(function(){return i.useDebugValue})),n.d(t,"useErrorBoundary",(function(){return i.useErrorBoundary}));var o=n(4);function a(e,t){for(var n in t)e[n]=t[n];return e}function r(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}n.d(t,"createElement",(function(){return o.createElement})),n.d(t,"createContext",(function(){return o.createContext})),n.d(t,"createRef",(function(){return o.createRef})),n.d(t,"Fragment",(function(){return o.Fragment})),n.d(t,"Component",(function(){return o.Component}));var s=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.shouldComponentUpdate=function(e,t){return r(this.props,e)||r(this.state,t)},i}(o.Component);function l(e,t){function n(e){var n=this.props.ref,i=n==e.ref;return!i&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!i:r(this.props,e)}function i(t){return this.shouldComponentUpdate=n,Object(o.createElement)(e,t)}return i.prototype.isReactComponent=!0,i.displayName="Memo("+(e.displayName||e.name)+")",i.t=!0,i}var c=o.options.__b;o.options.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),c&&c(e)};var d="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function u(e){function t(t,n){var i=a({},t);return delete i.ref,e(i,t.ref||n)}return t.$$typeof=d,t.render=t,t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var p=function(e,t){return e?Object(o.toChildArray)(e).reduce((function(e,n,i){return e.concat(t(n,i))}),[]):null},h={map:p,forEach:p,count:function(e){return e?Object(o.toChildArray)(e).length:0},only:function(e){if(1!==(e=Object(o.toChildArray)(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:o.toChildArray},f=o.options.__e;function g(e){return e&&((e=a({},e)).__c=null,e.__k=e.__k&&e.__k.map(g)),e}function m(){this.__u=0,this.o=null,this.__b=null}function b(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function S(e){var t,n,i;function a(a){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){i=e})),i)throw i;if(!n)throw t;return Object(o.createElement)(n,a)}return a.displayName="Lazy",a.t=!0,a}function y(){this.i=null,this.l=null}o.options.__e=function(e,t,n){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return i.__c(e,t.__c);f(e,t,n)},(m.prototype=new o.Component).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var i=b(n.__v),o=!1,a=function(){o||(o=!0,i?i(r):r())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){a(),t.__c&&t.__c()};var r=function(){var e;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(a,a)},m.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=g(this.__b),this.__b=null),[Object(o.createElement)(o.Component,null,t.u?null:e.children),t.u&&e.fallback]};var C=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(y.prototype=new o.Component).u=function(e){var t=this,n=b(t.__v),i=t.l.get(e);return i[0]++,function(o){var a=function(){t.props.revealOrder?(i.push(o),C(t,e,i)):o()};n?n(a):a()}},y.prototype.render=function(e){this.i=null,this.l=new Map;var t=Object(o.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},y.prototype.componentDidUpdate=y.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,n){C(e,n,t)}))};var v=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function O(e){var t=this,n=e.container,i=Object(o.createElement)(v,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.v.parentNode&&t.s.removeChild(t.v),Object(o._unmount)(t.h),t.p=!1),e.vnode?t.p?(n.__k=t.__k,Object(o.render)(i,n),t.__k=n.__k):(t.v=document.createTextNode(""),Object(o.hydrate)("",n),n.appendChild(t.v),t.p=!0,t.s=n,Object(o.render)(i,n,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),Object(o._unmount)(t.h)),t.h=i,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),Object(o._unmount)(t.h)},null}function E(e,t){return Object(o.createElement)(O,{vnode:e,container:t})}var T=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;o.Component.prototype.isReactComponent={};var _="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function P(e,t,n){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return Object(o.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function j(e,t,n){return Object(o.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}var D=o.options.event;function k(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}o.options.event=function(e){D&&(e=D(e)),e.persist=function(){};var t=!1,n=!1,i=e.stopPropagation;e.stopPropagation=function(){i.call(e),t=!0};var o=e.preventDefault;return e.preventDefault=function(){o.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var I={configurable:!0,get:function(){return this.class}},R=o.options.vnode;o.options.vnode=function(e){e.$$typeof=_;var t=e.type,n=e.props;if(t){if(n.class!=n.className&&(I.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",I)),"function"!=typeof t){var i,a,r;for(r in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(Object(o.toChildArray)(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),n)if(i=T.test(r))break;if(i)for(r in a=e.props={},n)a[T.test(r)?r.replace(/[A-Z0-9]/,"-$&").toLowerCase():r]=n[r]}!function(t){var n=e.type,i=e.props;if(i&&"string"==typeof n){var o={};for(var a in i)/^on(Ani|Tra|Tou)/.test(a)&&(i[a.toLowerCase()]=i[a],delete i[a]),o[a.toLowerCase()]=a;if(o.ondoubleclick&&(i.ondblclick=i[o.ondoubleclick],delete i[o.ondoubleclick]),o.onbeforeinput&&(i.onbeforeinput=i[o.onbeforeinput],delete i[o.onbeforeinput]),o.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(i.type))){var r=o.oninput||"oninput";i[r]||(i[r]=i[o.onchange],delete i[o.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(k(t.prototype,"componentWillMount"),k(t.prototype,"componentWillReceiveProps"),k(t.prototype,"componentWillUpdate"),t.m=!0)}R&&R(e)};var A="16.8.0";function w(e){return o.createElement.bind(null,e)}function N(e){return!!e&&e.$$typeof===_}function L(e){return N(e)?o.cloneElement.apply(null,arguments):e}function x(e){return!!e.__k&&(Object(o.render)(null,e),!0)}function M(e){return e&&(e.base||1===e.nodeType&&e)||null}var U=function(e,t){return e(t)},B=o.Fragment;t.default={useState:i.useState,useReducer:i.useReducer,useEffect:i.useEffect,useLayoutEffect:i.useLayoutEffect,useRef:i.useRef,useImperativeHandle:i.useImperativeHandle,useMemo:i.useMemo,useCallback:i.useCallback,useContext:i.useContext,useDebugValue:i.useDebugValue,version:"16.8.0",Children:h,render:P,hydrate:j,unmountComponentAtNode:x,createPortal:E,createElement:o.createElement,createContext:o.createContext,createFactory:w,cloneElement:L,createRef:o.createRef,Fragment:o.Fragment,isValidElement:N,findDOMNode:M,Component:o.Component,PureComponent:s,memo:l,forwardRef:u,unstable_batchedUpdates:U,StrictMode:o.Fragment,Suspense:m,SuspenseList:y,lazy:S}},function(e,t,n){"use strict";n.r(t),n.d(t,"useState",(function(){return f})),n.d(t,"useReducer",(function(){return g})),n.d(t,"useEffect",(function(){return m})),n.d(t,"useLayoutEffect",(function(){return b})),n.d(t,"useRef",(function(){return S})),n.d(t,"useImperativeHandle",(function(){return y})),n.d(t,"useMemo",(function(){return C})),n.d(t,"useCallback",(function(){return v})),n.d(t,"useContext",(function(){return O})),n.d(t,"useDebugValue",(function(){return E})),n.d(t,"useErrorBoundary",(function(){return T}));var i,o,a,r=n(4),s=0,l=[],c=r.options.__r,d=r.options.diffed,u=r.options.__c,p=r.options.unmount;function h(e,t){r.options.__h&&r.options.__h(o,e,s||t),s=0;var n=o.__H||(o.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function f(e){return s=1,g(k,e)}function g(e,t,n){var a=h(i++,2);return a.t=e,a.__c||(a.__c=o,a.__=[n?n(t):k(void 0,t),function(e){var t=a.t(a.__[0],e);a.__[0]!==t&&(a.__[0]=t,a.__c.setState({}))}]),a.__}function m(e,t){var n=h(i++,3);!r.options.__s&&D(n.__H,t)&&(n.__=e,n.__H=t,o.__H.__h.push(n))}function b(e,t){var n=h(i++,4);!r.options.__s&&D(n.__H,t)&&(n.__=e,n.__H=t,o.__h.push(n))}function S(e){return s=5,C((function(){return{current:e}}),[])}function y(e,t,n){s=6,b((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function C(e,t){var n=h(i++,7);return D(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function v(e,t){return s=8,C((function(){return e}),t)}function O(e){var t=o.context[e.__c],n=h(i++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(o)),t.props.value):e.__}function E(e,t){r.options.useDebugValue&&r.options.useDebugValue(t?t(e):e)}function T(e){var t=h(i++,10),n=f();return t.__=e,o.componentDidCatch||(o.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function _(){l.some((function(e){if(e.__P)try{e.__H.__h.forEach(P),e.__H.__h.forEach(j),e.__H.__h=[]}catch(o){return e.__H.__h=[],r.options.__e(o,e.__v),!0}})),l=[]}function P(e){"function"==typeof e.u&&e.u()}function j(e){e.u=e.__()}function D(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function k(e,t){return"function"==typeof t?t(e):t}r.options.__r=function(e){c&&c(e),i=0;var t=(o=e.__c).__H;t&&(t.__h.forEach(P),t.__h.forEach(j),t.__h=[])},r.options.diffed=function(e){d&&d(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==l.push(t)&&a===r.options.requestAnimationFrame||((a=r.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(_))},r.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(P),e.__h=e.__h.filter((function(e){return!e.__||j(e)}))}catch(a){t.some((function(e){e.__h&&(e.__h=[])})),t=[],r.options.__e(a,e.__v)}})),u&&u(e,t)},r.options.unmount=function(e){p&&p(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(P)}catch(e){r.options.__e(e,t.__v)}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395),s=n(249);const{h:l}=i;class c extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation();const{value:t,onSelect:n}=this.props;n(t)}render(){const{label:e,selected:t,showCheck:n,class:o,children:a}=this.props,l=Object(r.default)("dropdownItem","noSelect",o,{selected:t});return i.h("div",{class:l,onClick:this.handleClick},i.h("div",{class:"dropdownItemContent ellipsis"},a||e),n&&t&&i.h("img",{class:"dropdownCheck",src:Object(s.imageUrl)("img/icMenuCheck.svg"),alt:"&check;"}))}}c.displayName="Dropdown.Item",c.propTypes={label:a.a.oneOfType([a.a.string,a.a.node,a.a.element]),dropdownLabel:a.a.string,value:a.a.string.isRequired,selected:a.a.bool,showCheck:a.a.bool,children:a.a.oneOfType([a.a.node,a.a.element]),onSelect:a.a.func.isRequired},c.defaultProps={selected:!1,showCheck:!0},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(518);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(519),a=n.n(o),r=n(395);n(522);t.default=function({logoUrl:e,name:t,personal:n}){const o=(n?"Personal":t+"’s")+" Workspace",s=n?"user":"organization",l=Object(r.default)("organizationItem",{personal:n});return i.h("div",{class:l},i.h(a.a,{class:"organizationLogo",src:e,type:s,size:24,bgSize:15}),i.h("div",{class:"organizationName ellipsis"},o))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(520);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(395));n(521);function s({class:e,src:t,srcset:n,type:i,title:s,size:l,bgSize:c}){const[d,u]=a.useState(!0),[p,h]=a.useState(!1),f=a.useRef();function g(){u(!1),h(!1)}a.useEffect(()=>{var e;(null===(e=f.current)||void 0===e?void 0:e.src)&&f.current.complete?g():(u(!0),h(!1))},[t,n]);const m=r.default("avatarFrame",e,i,{placeholder:d||p}),b={width:l,height:l,backgroundSize:null!=c?c:"contain"};return o.h("div",{class:m,style:b,title:s},o.h("img",{ref:f,srcSet:n,src:t,width:l,height:l,onLoad:g,onError:function(){h(!0)},alt:"👤"}))}s.defaultProps={type:"user",size:32},t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(525);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(438),s=n(416),l=n(395);n(526);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"state",{titleWidth:null,offline:!1,online:!1}),c(this,"fixTitleWidth",()=>{this.setState({titleWidth:getComputedStyle(this.nodeRefs.title).width})}),c(this,"restoreTitleWidth",()=>{const{titleWidth:e}=this.state;null!==e&&this.setState({titleWidth:null})}),c(this,"setOffline",()=>{this.setState({offline:!0})}),c(this,"setOnline",()=>{this.setState({offline:!1,online:!0}),document.hidden?document.addEventListener("visibilitychange",this.unsetOnline,{once:!0}):this.unsetOnline()}),c(this,"unsetOnline",()=>{this.onlineTimeout=setTimeout(()=>{this.setState({online:!1})},1e4)})}get titleExtra(){const{offline:e,online:t}=this.state;return e?"Looks like there is a problem with the connection.":t?"Keep working! Connection is back…":"Loading layers…"}componentDidMount(){window.addEventListener("offline",this.setOffline),window.addEventListener("online",this.setOnline)}componentWillUnmount(){clearTimeout(this.onlineTimeout),window.removeEventListener("offline",this.setOffline),window.removeEventListener("online",this.setOnline),document.removeEventListener("visibilitychange",this.unsetOnline)}render(){const{loading:e,title:t,previousScreenURL:n,nextScreenURL:o}=this.props,{titleWidth:a,offline:c,online:d}=this.state,u=Object(l.default)("screenNavigator",{loading:e,offline:c,online:d}),p=null===a?{}:{width:a};return i.h("div",{class:u,ref:Object(s.default)(this,"base"),onMouseLeave:this.restoreTitleWidth},i.h("a",{href:n,title:"← Previous screen",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(r.IconArrowLeft,null)),i.h("div",{class:"screenTitle"},i.h("h2",{class:"ellipsis",ref:Object(s.default)(this,"title"),style:p,title:t},t),i.h("div",{class:"titleExtra"},this.titleExtra)),i.h("a",{href:o,title:"Next screen →",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(r.IconArrowRight,null)))}}d.propTypes={loading:a.a.bool,title:a.a.string,previousScreenURL:a.a.string,nextScreenURL:a.a.string},d.defaultProps={loading:!1,title:""},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(528);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(4),o=n(227),a=n(242),r=n(230),s=n(529);function l({barrelId:e,selectedTab:t}){if(!e)return null;const n=Object(o.getOS)()===o.OS.MAC?"⌥":"Alt+",l=Object(a.urlResolve)("project-dashboard",{url:{pid:e}}),c=Object(a.urlResolve)("project-styleguide",{url:{bid:e}});return i.h(s.default,null,i.h(s.default.Tab,{label:"Dashboard",shortcut:n+"A",selected:t===r.ProjectViewTypes.DASHBOARD,href:l}),i.h(s.default.Tab,{label:"Styleguide",shortcut:n+"S",selected:t===r.ProjectViewTypes.STYLEGUIDE,href:c}))}},function(e,t,n){"use strict";n.r(t);var i=n(530);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(531);function a({children:e}){return i.h("div",{class:"headerTabView"},e)}a.Tab=function({label:e,shortcut:t,href:n,selected:a}){const r=Object(o.default)("tab","noSelect",{selected:a});return i.h("a",{href:n,class:r,"data-link-type":"inApp"},i.h("span",{class:"label"},e),i.h("span",{class:"shortcut"},t))},t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(533);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(269),a=n.n(o),r=n(534),s=n(535),l=n(505),c=n.n(l);n(572);function d(e){const{_id:t,versionCollection:n={},barrel:{_id:i,barrelType:o},progress:{update:a,isGettingProject:r,isGettingProjectFailed:s,countOfImagesToUpload:l,countOfUploadedImages:c,isApiOperationCompleted:d,isApiOperationFailed:u,apiOperationFailedError:p}}=e,{_id:h,name:f,type:g}=n;return{id:t,versionCollectionId:h,versionCollectionName:f,versionCollectionType:g,barrelId:i,barrelType:o,update:a,gettingProject:r,gettingProjectFailed:s,countOfImagesToUpload:l,countOfUploadedImages:c,apiOperationCompleted:d,apiOperationFailed:u,apiOperationFailedError:p}}class u extends i.Component{static getStores(){return[a.a.VersionImportsStore]}static calculateState(){const{componentRejections:e,versionImports:t,indicatorVisible:n,listVisible:i,suggestedResourcesByBarrel:o}=a.a.VersionImportsStore.getState();if(0===t.length)return{indicatorVisible:!1,versionImportsProgress:0,anyVersionImportFailed:!1,listOpen:!1,importsSource:null,componentRejections:{},suggestedResourcesByBarrel:{},importsByBarrel:[]};const r=t.reduce((e,t,n)=>{const{importsByBarrel:i,versionImportsProgress:o,anyVersionImportFailed:a}=e,r=Math.floor((o*n+function(e){return e.progress.isApiOperationCompleted?100:Math.floor(e.progress.countOfUploadedImages/(e.progress.countOfImagesToUpload+1)*100)}(t))/(n+1)),s=a||!!t.progress.isApiOperationFailed,l=i.find(e=>e._id===t.barrel._id);let c=i;return l?l.versionImports.push(d(t)):c.push({_id:t.barrel._id,name:t.barrel.name,type:t.barrel.type,barrelType:t.barrel.barrelType,versionImports:[d(t)]}),{importsByBarrel:c,versionImportsProgress:r,anyVersionImportFailed:s}},{importsByBarrel:[],versionImportsProgress:0,anyVersionImportFailed:!1}),{importsByBarrel:s,versionImportsProgress:l,anyVersionImportFailed:c}=r;return{suggestedResourcesByBarrel:o,indicatorVisible:n,versionImportsProgress:l,anyVersionImportFailed:c,listOpen:i,importsSource:t[0].source||"Photoshop",componentRejections:e,importsByBarrel:s}}render(){const{indicatorVisible:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,importsSource:a,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d}=this.state;return e?i.h(s.default,{class:"versionImportsContainer",versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,onListOpen:r.default.showImportsList,onListClose:r.default.hideImportsList,importsSource:a,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d,onImportClick:r.default.goToImportedVersion,onRetryImport:r.default.retryImport,onCancelImport:r.default.cancelImport,onRetryGetProject:r.default.retryGetProjectForImports,onClearImports:r.default.clearImports,currentUser:Zeplin.user,onComponentLimitHintHideClick:r.default.hideComponentLimitHint,onComponentLimitActionClick:r.default.seePlans}):null}}t.default=c()(u)},function(e,t,n){"use strict";n.r(t);var i=n(345),o=n(269),a=n.n(o);const r={hideImportsIndicator(){a.a.dispatcher.dispatch({type:i.default.HIDE_IMPORTS_INDICATOR})},showImportsList(){a.a.dispatcher.dispatch({type:i.default.SHOW_IMPORTS_LIST})},hideImportsList(){a.a.dispatcher.dispatch({type:i.default.HIDE_IMPORTS_LIST})},handleImports(e){a.a.dispatcher.dispatch({type:i.default.HANDLE_IMPORTS,imports:e})},setSuggestedResources(e){a.a.dispatcher.dispatch({type:i.default.SET_SUGGESTED_RESOURCES,suggestedResourcesByBarrel:e})},goToImportedVersion(e,t,n,o){a.a.dispatcher.dispatch({type:i.default.GO_TO_IMPORTED_VERSION,barrelId:e,barrelType:t,versionCollectionId:n,versionCollectionType:o})},retryImport(e){a.a.dispatcher.dispatch({type:i.default.RETRY_IMPORT,id:e})},cancelImport(e){a.a.dispatcher.dispatch({type:i.default.CANCEL_IMPORT,id:e})},retryGetProjectForImports(e){a.a.dispatcher.dispatch({type:i.default.RETRY_GET_PROJECT_FOR_IMPORTS,id:e})},clearImports(e){a.a.dispatcher.dispatch({type:i.default.CLEAR_IMPORTS,ev:e})},hideComponentLimitHint(e){a.a.dispatcher.dispatch({type:i.default.HIDE_COMPONENT_LIMIT_HINT,barrelId:e})},seePlans(){a.a.dispatcher.dispatch({type:i.default.SEE_PLANS})}};t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(536);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(537),s=n(540),l=n(543),c=n(544),d=n(400),u=n(563),p=n(568);n(571);class h extends i.Component{constructor(e){super(e),this.renderVersionImport=this.renderVersionImport.bind(this),this.renderBarrelGroup=this.renderBarrelGroup.bind(this)}renderVersionImport(e){const{onImportClick:t,onRetryImport:n,onCancelImport:o,onRetryGetProject:a}=this.props,{id:r,versionCollectionId:s,versionCollectionName:l,versionCollectionType:d,barrelId:u,barrelType:p,update:h,gettingProject:f,gettingProjectFailed:g,countOfUploadedImages:m,countOfImagesToUpload:b,apiOperationCompleted:S,apiOperationFailed:y,apiOperationFailedError:C}=e;return f&&!g?i.h(c.GettingProject,null):f&&g?i.h(c.GettingProjectFailed,{id:r,onRetry:a}):b===m&&S&&!y?i.h(c.Done,{key:r,id:r,update:h,barrelId:u,barrelType:p,versionCollectionId:s,versionCollectionName:l,versionCollectionType:d,onClick:t}):S&&y?i.h(c.Failed,{key:r,id:r,update:h,versionCollectionName:l,errorMessage:C?C.message:null,onRetry:n}):S?void 0:i.h(c.InProgress,{key:r,id:r,update:h,versionCollectionName:l,countOfImagesToUpload:b,countOfUploadedImages:m,onCancel:o})}renderComponentRejection(e){const{componentRejections:t,currentUser:n,onComponentLimitHintHideClick:o,onComponentLimitActionClick:a}=this.props;if(!t[e])return null;const{owner:r,ownerPlan:s,rejected:l,total:c}=t[e];return i.h(u.default,{key:"componentLimitHintBox",onHideClick:o,onActionClick:a,owner:r,currentUser:n,ownerPlan:s,rejected:l,total:c,barrelId:e})}renderBarrelGroup(e){return i.h("div",{key:e._id},i.h("div",{class:"barrelInformation"},i.h("div",{class:"ellipsis"},e.name,", ",e.type)),i.h("div",{class:"barrelGroup"},this.renderComponentRejection(e._id),this.renderSuggestedResources(e._id,e.barrelType),i.h("div",{class:"list"},e.versionImports.map(this.renderVersionImport))))}renderSuggestedResources(e,t){const{suggestedResourcesByBarrel:n,onListClose:o}=this.props,{colors:a=[],textStyles:r=[]}=n[e]||{};return i.h(p.default,{onClick:o,colors:a,textStyles:r,barrelType:t,barrelId:e})}renderVersionImports(){const{importsSource:e="Photoshop",importsByBarrel:t,onClearImports:n}=this.props,o=1===t.length?t[0].name:"Zeplin";return i.h("div",{class:"versionImports"},i.h("div",{class:"body"},i.h("div",{class:"title"},i.h("div",null,e),i.h(l.default,{asset:"img/icHand.png"}),i.h("div",{class:"ellipsis"},o)),1===t.length&&this.renderComponentRejection(t[0]._id),1===t.length&&this.renderSuggestedResources(t[0]._id,t[0].barrelType),1===t.length?i.h("div",{class:"list"},t[0].versionImports.map(this.renderVersionImport)):t.map(this.renderBarrelGroup)),i.h(d.default,{onClick:n},i.h("div",null),i.h("div",null),i.h("div",null)))}render(){const{class:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,onListClose:a,onListOpen:l}=this.props;return i.h(r.default,{class:e,content:this.renderVersionImports(),contentClass:"versionImportsPopoverContent",open:o,onClose:a,onOpen:l,left:2,top:2},i.h(s.default,{warning:n,progress:t}))}}h.propTypes={versionImportsProgress:a.a.number.isRequired,anyVersionImportFailed:a.a.bool.isRequired,listOpen:a.a.bool.isRequired,onListOpen:a.a.func.isRequired,onListClose:a.a.func.isRequired,importsSource:a.a.string.isRequired,importsByBarrel:a.a.arrayOf(a.a.shape({_id:a.a.string.isRequired,name:a.a.string.isRequired,type:a.a.string.isRequired,versionImports:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired,versionCollectionId:a.a.string,versionCollectionName:a.a.string.isRequired,barrelId:a.a.string.isRequired,barrelType:a.a.oneOf(["project","styleguide"]),update:a.a.bool.isRequired,countOfImagesToUpload:a.a.number.isRequired,countOfUploadedImages:a.a.number.isRequired,apiOperationCompleted:a.a.bool.isRequired,apiOperationFailed:a.a.bool.isRequired,apiOperationFailedError:a.a.shape({message:a.a.string.isRequired})}))})),onImportClick:a.a.func.isRequired,onRetryImport:a.a.func.isRequired,onCancelImport:a.a.func.isRequired,onRetryGetProject:a.a.func.isRequired,onClearImports:a.a.func.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(538);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(511),s=n(395),l=n(416),c=n(245);n(539);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"positionPopover",()=>{const{open:e,offsetX:t,topOffset:n,bottomOffset:i,targetNode:o,left:a,top:r,faceLeft:s,faceTop:l,centerX:c,centerY:d,anchorTop:u,stickToEdge:p,showAnchor:h,openToLeft:f,originParent:g}=this.props,m=o||this.nodeRefs.container,b=this.nodeRefs.popover,S=this.nodeRefs.anchor,y=g===window?g.innerWidth:g.clientWidth,C=g===window?g.innerHeight:g.clientHeight;if(!e||!b||!m)return;const v=m.getBoundingClientRect(),O=b.getBoundingClientRect(),E=a,T=r;let _=s?v.left:v.right;_+=c?(v.width-O.width)/2:E;let P=l||h?v.top:v.bottom;P+=d?(v.height-O.height)/2:T;let j=!1;const D=v.right-O.width-v.width-a;if((f&&D>t||_+O.width+t>y)&&(_=D,j=!0),p&&P+n<0?P=n||64:P+O.height+n>C&&(P=p?C-O.height-i:Math.max(P-O.height,0)),n&&P<n&&(P=n),b.style.transform=`translate3d(${_}px, ${P}px, 0)`,h){const e=v.top-P+(v.height-S.offsetHeight)/2+u;S.style.top=Math.min(Math.max(e,28),O.height-28)+"px",S.classList.toggle("faceLeft",j)}}),d(this,"registerListeners",()=>{window.addEventListener("resize",this.handleResize),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleKeyDown)}),d(this,"removeListeners",()=>{window.removeEventListener("resize",this.handleResize),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleKeyDown)}),d(this,"handleToggle",e=>{const{open:t,onOpen:n,onClose:i}=this.props;e.stopPropagation(),t&&i?i():!t&&n&&n()}),d(this,"handleClose",()=>{const{onClose:e}=this.props;e&&e()}),d(this,"handleDocumentClick",e=>{if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{container:t,popover:n}=this.nodeRefs;if(t.contains(e.target))return;n&&n.contains(e.target)||this.handleClose()}),d(this,"handleKeyDown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleClose()}),d(this,"handleResize",()=>{requestAnimationFrame(this.positionPopover)}),d(this,"handleMouseEnter",e=>{const{onMouseEnter:t}=this.props;t&&t(e)}),d(this,"handleMouseLeave",e=>{const{onMouseLeave:t}=this.props;t&&t(e)})}componentDidMount(){const{targetNode:e,open:t}=this.props;e&&t&&this.registerListeners()}componentDidUpdate(e){!e.open&&this.props.open?this.registerListeners():e.open&&!this.props.open&&this.removeListeners()}componentWillUnmount(){this.removeListeners()}renderAnchor(){const{faceLeft:e}=this.props,t=Object(s.default)("popoverAnchor",{faceLeft:e});return i.h("div",{ref:Object(l.default)(this,"anchor"),class:t})}renderPopoverContent(){const{content:e,showAnchor:t,contentClass:n}=this.props,o=Object(s.default)("popoverContent",n),a="function"==typeof e?e():e;return i.h("div",{class:o,ref:Object(l.default)(this,"popover"),onClick:c.stopPropagation,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t&&this.renderAnchor(),i.toChildArray(a))}render(){const{open:e,children:t,portalInto:n,class:o}=this.props,a=Object(s.default)(o,"popoverContainer");return i.h("div",{ref:Object(l.default)(this,"container"),class:a,onClick:this.handleToggle,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h(i.Fragment,null,t,e&&i.h(r.default,{didRender:this.positionPopover,into:n},this.renderPopoverContent())))}}u.defaultProps={offsetX:0,topOffset:0,bottomOffset:12,left:0,top:0,anchorTop:0,originParent:window},u.propTypes={open:a.a.bool.isRequired,children:a.a.node,onClose:a.a.func,onOpen:a.a.func,portalInto:a.a.object,contentClass:a.a.string,class:a.a.string,offsetX:a.a.number,topOffset:a.a.number,bottomOffset:a.a.number,targetNode:a.a.oneOfType([a.a.node,a.a.object]),left:a.a.number,top:a.a.number,faceLeft:a.a.bool,faceTop:a.a.bool,centerX:a.a.bool,anchorTop:a.a.number,openToLeft:a.a.bool,originParent:a.a.object,onMouseEnter:a.a.func,onMouseLeave:a.a.func},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(541);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(400),s=n(249);n(542);const l=30*Math.PI;function c(e){const{progress:t=0,warning:n=!1}=e,o=`${l*t/100} ${l*(100-t)/100}`;return i.h(r.default,{class:"versionImportsIndicator"},i.h("svg",{width:"32",height:"32",version:"1.1"},i.h("circle",{cx:"16",cy:"16",r:15}),i.h("circle",{cx:"16",cy:"16",r:15,"stroke-dasharray":o})),100===t&&i.h("img",{src:Object(s.imageUrl)("img/icImportsDone.svg")}),n&&i.h("div",{class:"warning"}))}c.defaultProps={progress:0,warning:!1},c.propTypes={progress:a.a.number,warning:a.a.bool},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(249);function a(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.default=function(e){const{asset:t,descriptors:n}=e,r=a(e,["asset","descriptors"]),s=Object(o.imageUrl)(t);return i.h("img",Object.assign({src:s,srcset:Object(o.srcset)(s,n)},r))}},function(e,t,n){"use strict";n.r(t);var i=n(545);n.d(t,"GettingProject",(function(){return i.default}));var o=n(548);n.d(t,"GettingProjectFailed",(function(){return o.default}));var a=n(552);n.d(t,"Done",(function(){return a.default}));var r=n(558);n.d(t,"InProgress",(function(){return r.default}));var s=n(560);n.d(t,"Failed",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(546);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(547);function o(){return i.h("div",{class:"versionImport gettingProject noSelect"},"Getting project ready to import..")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(549);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(550),s=n(400),l=n(249);n(551);class c extends r.default{constructor(e){super(e),this.handleRetryClick=this.handleRetryClick.bind(this)}handleRetryClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){return i.h("div",{class:"versionImport gettingProjectFailed noSelect"},"Fetching project failed.",i.h(s.default,{onClick:this.handleRetryClick},i.h("img",{src:Object(l.imageUrl)("img/icImportProgressFetchProjectRetry.svg")})))}}c.propTypes={id:a.a.string.isRequired,onRetry:a.a.func.isRequired},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(506);class a extends i.Component{shouldComponentUpdate(e,t){return Object(o.default)(this.props,e)||Object(o.default)(this.state,t)}}a.isPureReactComponent=!0,t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(553);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(543),s=n(554),l=n(395),c=n(550),d=n(242),u=n(261),p=n.n(u);n(557);const h={};function f(e){switch(e){case"type1":return[i.h("div",null,"Done!"),i.h(r.default,{asset:"img/icDone.png"})];case"type2":return"This looks great!";case"type3":return[i.h("span",{class:"wow"},"wow."),i.h("span",{class:"suchDesigns"},"such designs."),i.h("span",{class:"amaze"},"amaze."),i.h("span",{class:"soColors"},"so colors.")];case"type4":default:return"Done!"}}class g extends c.default{get versionCollectionLink(){const{barrelId:e,barrelType:t,versionCollectionId:n,versionCollectionType:i}=this.props;if("screen"===i)return Object(d.urlResolve)("project-screen",{url:{pid:e,sid:n}});const o={url:{bid:e},query:{coid:n}},a=t===p.a.PROJECT?"project-styleguide-components":"styleguide-components";return Object(d.urlResolve)(a,o)}render(){const{id:e,update:t,versionCollectionName:n,onClick:o}=this.props;h[e]||(h[e]=function(){switch(Math.floor(100*Math.random())){case 0:return"type1";case 1:case 2:return"type2";case 3:case 4:return"type3";default:return"type4"}}());const a=h[e];return i.h(s.default,{class:Object(l.default)("done",a),update:t,success:!0,versionCollectionName:n,progress:100,detail:f(a),buttonIcon:"img/icImportDone.svg",link:this.versionCollectionLink,onClick:o})}}g.propTypes={id:a.a.string.isRequired,update:a.a.bool.isRequired,versionCollectionId:a.a.string.isRequired,versionCollectionName:a.a.string.isRequired,barrelId:a.a.string.isRequired,barrelType:a.a.oneOf(["project","styleguide"]),onClick:a.a.func.isRequired},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(555);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(400),a=n(395),r=n(249);n(556);function s(e){const{class:t,update:n,success:s,versionCollectionName:l,progress:c,detail:d,detailTitle:u,buttonIcon:p,onButtonClick:h,onClick:f,link:g}=e;let m=n?"Replacing":"Importing";m=s?m.replace("ing","ed"):m;const b=[i.h("div",{class:"information",key:"information"},i.h("div",{class:"title ellipsis"},m," “",l,"”"),i.h("div",{class:"progress"},c?i.h("div",{style:{width:c+"%"}}):null),i.h("div",{class:"detail ellipsis",title:u||""},d)),g?i.h("img",{key:"img",src:Object(r.imageUrl)(p)}):i.h(o.default,{key:"button",onClick:h},i.h("img",{src:Object(r.imageUrl)(p)}))];return g?i.h("a",{class:Object(a.default)("versionImport",t),href:g,"data-link-type":"inApp",onClick:f},b):i.h("div",{class:Object(a.default)("versionImport",t),onClick:f},b)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(559);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(554),s=n(550);class l extends s.default{constructor(e){super(e),this.handleCancelClick=this.handleCancelClick.bind(this)}calculateProgress(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return Math.floor(e/(t+1)*100)}isTicklingBackend(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return e===t}handleCancelClick(){const{onCancel:e,id:t}=this.props;e(t)}renderProgress(){return i.h("div",{class:"progress"},i.h("div",{style:{width:this.calculateProgress()+"%"}}))}renderDetail(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return this.isTicklingBackend()?"Tickling the backend":`Uploading Images…(${e} of ${t})`}render(){const{update:e,versionCollectionName:t}=this.props;return i.h(r.default,{class:"inprogress",update:e,versionCollectionName:t,progress:this.calculateProgress(),detail:this.renderDetail(),buttonIcon:"img/icImportCancel.svg",onButtonClick:this.handleCancelClick})}}l.propTypes={id:a.a.string.isRequired,update:a.a.bool.isRequired,versionCollectionName:a.a.string.isRequired,countOfUploadedImages:a.a.number.isRequired,countOfImagesToUpload:a.a.number.isRequired,onCancel:a.a.func.isRequired},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(561);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(554),s=n(550);n(562);class l extends s.default{constructor(e){super(e),this.handleRetryButtonClick=this.handleRetryButtonClick.bind(this)}handleRetryButtonClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){const{update:e,versionCollectionName:t,errorMessage:n}=this.props;return i.h(r.default,{class:"failed",update:e,success:!1,versionCollectionName:t,detail:n||"Zeplin couldn't upload this one to the cloud.",detailTitle:n||"",buttonIcon:"img/icImportRetry.svg",onButtonClick:this.handleRetryButtonClick})}}l.propTypes={id:a.a.string.isRequired,update:a.a.bool.isRequired,versionCollectionName:a.a.string.isRequired,errorMessage:a.a.string,onRetry:a.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(564);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(565);n(567);const a=new Date(2016,11,1);class r extends i.Component{constructor(e){super(e),this.handleHideClick=this.handleHideClick.bind(this)}handleHideClick(){const{barrelId:e,onHideClick:t}=this.props;t(e)}render(){const{owner:e,ownerPlan:t,rejected:n,total:r,currentUser:s,onActionClick:l}=this.props,c=e._id===s._id;let d,u,p;return"Company"===t.name?(d=`${c?"You're":"Owner of the project is"} on the ${t.name} plan which was deprecated ${Math.floor((Date.now()-a)/2592e6)} months ago. Due to technical limitations, you can only store up to ${t.componentLimit}.`,u=c?"Upgrade to the Organization plan and access unlimited components.":"Ping them to upgrade to the Organization plan and access unlimited components.",p="Upgrade"):c?(p="See plans",d=`You can store up to ${t.componentLimit} components on the ${t.name} plan.`,u="Upgrade to access more space!"):(p="See plans",d=`Owner of the project is on the ${t.name} plan where you can store up to ${t.componentLimit} components per project.`,u="Ping them to upgrade and access more space!"),i.h(o.default,{class:"componentLimitHintBox",actionContent:p,onHideClick:this.handleHideClick,onActionClick:l},"Out of ",r," components you exported, ",n," not added to the project.",i.h("br",null),i.h("br",null),d,i.h("br",null),i.h("br",null),u)}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(438),r=n(395);n(566);const{h:s}=i;function l(e){const{class:t,children:n,type:s,emoji:l=("warning"===s?"⚠️":"💁‍♀️"),actionContent:c,onHideClick:d,onActionClick:u,hideButtonText:p,hideEmoji:h}=e;let f=[];return c&&f.push(i.h(o.default,{class:"hintAction",onClick:u},c)),d&&f.push(i.h(o.default,{class:"hideHintButton",onClick:d},i.h(a.IconDelete,{transparent:!0}),p)),i.h("div",{class:Object(r.default)("hintBox",t,s)},!h&&i.h("span",{class:"emoji"},l),i.h("div",{class:"hintContent"},n,f.length>0&&i.h("div",{class:"hintFooter"},f)))}l.defaultProps={hideButtonText:"OK, hide it!",type:"default"},t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(569);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(565),a=n(246),r=n(242),s=n(261),l=n.n(s);n(570);const c={[l.a.PROJECT]:"project-styleguide",[l.a.STYLEGUIDE]:"styleguide"};t.default=function(e){const{colors:t,textStyles:n,barrelId:s,barrelType:l,onClick:d}=e;if(!t.length&&!n.length)return null;let u;t.length&&n.length&&(u=`Found ${Object(a.pluralize)(t.length,"color")} and ${Object(a.pluralize)(n.length,"text style")}`),t.length&&!n.length&&(u="Found "+Object(a.pluralize)(t.length,"color")),!t.length&&n.length&&(u="Found "+Object(a.pluralize)(n.length,"text style"));let p=Object(r.urlResolve)(c[l]+"-colors",{url:{bid:s}});return t.length||(p=Object(r.urlResolve)(c[l]+"-textstyles",{url:{bid:s}})),i.h("a",{href:p,class:"suggestedResourcesHintBox",onClick:d,"data-link-type":"inApp"},i.h(o.default,null,u,"."," Click to head to the Styleguide to add them."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(574);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(575),s=n(231),l=n(269),c=n.n(l),d=n(577),u=n.n(d),p=n(381),h=n(228),f=n(578),g=n(582),m=n.n(g),b=n(537),S=n(592),y=n(505),C=n.n(y),v=n(229),O=n(245),E=n(416);n(722);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),T(this,"intersectionObserver",null),T(this,"handleLastItemCallback",e=>{e&&this.props.hasMore&&(this.intersectionObserver||(this.intersectionObserver=new IntersectionObserver(this.handleNotificationIntersection,{root:this.nodeRefs.base,rootMargin:"0px 0px 288px 0px"})),this.intersectionObserver.observe(e))}),T(this,"handleNotificationIntersection",e=>{const[t]=e;t.isIntersecting&&(this.intersectionObserver.unobserve(t.target),this.props.onEnd())})}componentWillUnmount(){this.intersectionObserver&&this.intersectionObserver.disconnect()}renderEmpty(){return i.h("div",{class:"none noSelect"},"No notifications currently.",i.h("br",null),"Kinda great? 😏")}renderEnd(){return i.h("div",{class:"end noSelect"},"~ The End ~")}renderError(){return i.h("div",{class:"error noSelect"},"Something went wrong while fetching",i.h("br",null),"notifications. ",i.h("span",{onClick:this.props.onRetry,class:"tryAgain"},"Try Again"))}renderNotifications(){const{notifications:e,notificationLastReadTime:t,onItemClick:n,hasError:o,hasMore:a,organizationId:r}=this.props;if(o)return this.renderError();const s=e.map((i,o)=>{const a={notificationLastReadTime:t,onClick:n};return o===e.length-1&&(a.ref=this.handleLastItemCallback),Object(S.default)(i,a)});return 0===s.length?this.renderEmpty():(a||s.push(this.renderEnd()),s.unshift(i.h(m.a,{organizationId:r})),s)}render(){return i.h("div",{ref:Object(E.default)(this,"base"),class:"notificationsContainer"},this.renderNotifications())}}_.propTypes={onRetry:a.a.func.isRequired,onEnd:a.a.func.isRequired,onItemClick:a.a.func.isRequired,notifications:a.a.array.isRequired,hasMore:a.a.bool.isRequired,notificationLastReadTime:a.a.object.isRequired,hasError:a.a.object};class P extends i.Component{constructor(...e){super(...e),T(this,"state",{showNotifications:!1}),T(this,"fetchMore",()=>{const{notifications:e}=this.state,t=e.length?e[e.length-1].updated:null;u.a.getNotifications(t,500)}),T(this,"handlePopoverClose",()=>{this.setState({showNotifications:!1})}),T(this,"handlePopoverOpen",()=>{v.default&&this.state.hasUnread&&v.default.ipcRenderer.send("read-notifications"),u.a.updateNotificationLastReadTime(),this.setState({showNotifications:!0,hasUnread:!1,hasPromotion:!1})}),T(this,"handleWindowsAppBadgeShow",(e,t)=>{const{hasUnread:n}=this.state;t&&n&&v.default.ipcRenderer.send("unread-notifications",Object(O.calculateOverlayIcon)())})}static calculateState(){const{notifications:e,notificationLastReadTime:t,error:n,hasMore:i}=c.a.NotificationsStore.getState(),o=e.length>0&&new Date(e[0].updated)>t;let a;if(o)for(const s of e){if(new Date(s.updated)<t)break;if("CreateCoupon"===s.actionName){a=!0;break}}const{autoExpandNotifications:r}=c.a.SpaceStore.getState();return{notifications:e,hasError:n,hasMore:i,notificationLastReadTime:t,hasUnread:o,hasPromotion:a,autoExpandNotifications:r}}static getStores(){return[c.a.NotificationsStore]}getAllNotifications(){setTimeout(u.a.getNotifications(null,500),4)}registerSubscribers(){r.default.subscribe(s.ANNOUNCEMENT_CHANNEL).bind("Notification",e=>{u.a.addNotification(e.body)})}unregisterSubscribers(){r.default.unsubscribe(s.ANNOUNCEMENT_CHANNEL)}componentDidMount(){this.unregisterSubscribers(),this.registerSubscribers(),h.isWindowsApp&&v.default.ipcRenderer.on("show-badge",this.handleWindowsAppBadgeShow);const{autoExpandNotifications:e,showNotifications:t}=this.state;e&&!t&&(this.handlePopoverOpen(),p.default.setAutoExpandNotifications(!1))}componentDidUpdate(e,t){const{autoExpandNotifications:n}=this.state;v.default&&!t.hasUnread&&this.state.hasUnread&&v.default.ipcRenderer.send("unread-notifications",Object(O.calculateOverlayIcon)()),!t.autoExpandNotifications&&n&&(p.default.setAutoExpandNotifications(!1),this.handlePopoverOpen())}componentWillUnmount(){this.unregisterSubscribers()}render(){const{notifications:e,hasMore:t,hasError:n,hasUnread:o,hasPromotion:a,notificationLastReadTime:r,showNotifications:s}=this.state,{organizationId:l}=this.props,c=i.h(_,{notifications:e,onRetry:this.getAllNotifications,onEnd:this.fetchMore,onItemClick:this.handlePopoverClose,hasMore:t,hasError:n,notificationLastReadTime:r,organizationId:l});return i.h(b.default,{open:s,content:c,onOpen:this.handlePopoverOpen,onClose:this.handlePopoverClose,toggleable:!0},i.h(f.default,{hasUnread:o,hasPromotion:a}))}}t.default=C()(P)},function(e,t,n){"use strict";n.r(t),n.d(t,"userChannel",(function(){return g}));var i=n(27),o=n.n(i),a=n(28),r=n.n(a),s=n(224),l=n.n(s),c=n(232),d=n(576),u=n(231);let p;function h(){p||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(p=setTimeout(()=>{d.show({contentType:"html",group:"socket",content:'Real-time updates are disabled due to a connectivity issue. <a href="https://support.zeplin.io/en/articles/377685-fixing-connectivity-issues" target="_blank">Learn more.</a>',closeCallback(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},3e4))}const f=c.default.get("userToken");let g,m;if(f){const e={cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:u.FLAG_NEW_PUSHER_AUTH?u.PUSHER_URL_V2:u.PUSHER_URL,auth:{headers:{"Zeplin-Token":f}}};u.FLAG_NEW_PUSHER_AUTH&&Object.assign(e,{authorizer:l.a,authDelay:2e3}),m=new o.a(u.PUSHER_ACCESS_KEY,e),m.connection.bind("failed",h),m.connection.bind("unavailable",h),m.connection.bind("connected",()=>{Zeplin.headers.set("Zeplin-Socket-Id",m.connection.socket_id),clearTimeout(p),d.closeBanner("socket")});const{sub:t}=r()(f);g=m.subscribe(`${u.USER_CHANNEL_PREFIX}${t}`)}t.default=m},function(e,t,n){"use strict";n.r(t),n.d(t,"show",(function(){return o})),n.d(t,"closeBanner",(function(){return a}));var i=document.getElementById("bannerTemplate");function o(e){e=e||{};var t=document.importNode(i.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;t.classList.add(e.group+"Banner")}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}if(t.classList.add(e.type||"warn"),t.addEventListener("click",(function(e){e.stopPropagation()})),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText),e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex),t.querySelector(".bannerCloseButton").addEventListener("click",(function(n){n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()})),e.bodyCallbacks)for(var o in e.bodyCallbacks)t.querySelector(o).addEventListener("click",e.bodyCallbacks[o]);e.container?e.container.appendChild(t):document.body.appendChild(t)}function a(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(274)),a=i(n(269)),r=n(245),s=n(258),l=r.debouncePromise(s.updateNotificationLastReadTime),c={addNotification(e){a.default.dispatcher.dispatch({type:o.default.ADD_NOTIFICATION,notification:e})},getNotifications(e,t){a.default.dispatcher.dispatch({type:o.default.GET_NOTIFICATIONS_REQUESTED}),s.getNotifications(e,t).then(e=>{a.default.dispatcher.dispatch({type:o.default.GET_NOTIFICATIONS_SUCCESS,notifications:e.notifications,hasMore:e.hasMore})}).catch(e=>{a.default.dispatcher.dispatch({type:o.default.GET_NOTIFICATIONS_FAILED,error:e})})},setNotificationLastReadTime(e){a.default.dispatcher.dispatch({type:o.default.UPDATE_NOTIFICATION_LAST_READ_TIME,notificationLastReadTime:e})},updateNotificationLastReadTime(){l().then(e=>{const t=new Date(e.notificationLastReadTime);Zeplin.updateUser({notificationLastReadTime:t}),c.setNotificationLastReadTime(t)})},setReadStatus({notifications:e,markedAsRead:t,trackEventName:n}){a.default.dispatcher.dispatch({type:o.default.SET_READ_STATUS,notifications:e,markedAsRead:t,trackEventName:n})},restoreReadStatus(e){a.default.dispatcher.dispatch({type:o.default.RESTORE_READ_STATUS,notifications:e})},setReadStatusOffline(e,t){a.default.dispatcher.dispatch({type:o.default.SET_READ_STATUS_OFFLINE,nids:e,markedAsRead:t})},setEventReadStatus({notification:e,eventIds:t,markedAsRead:n,trackUnreadEvent:i}){a.default.dispatcher.dispatch({type:o.default.SET_EVENT_READ_STATUS,notification:e,eventIds:t,markedAsRead:n,trackUnreadEvent:i})},setEventReadStatusOffline(e,t,n){a.default.dispatcher.dispatch({type:o.default.SET_EVENT_READ_STATUS_OFFLINE,nid:e,eventIds:t,markedAsRead:n})}};t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(579);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395),s=n(249),l=n(580),c=n.n(l);n(581);function d({hasUnread:e,hasPromotion:t=!1,onClick:n=null,active:o}){return i.h("button",{class:Object(r.default)("notificationsButton",{active:o}),onClick:function(e){n&&n(e)}},e&&!t&&i.h("div",{class:"unreadBadge"}),e&&t&&i.h("img",{src:Object(s.imageUrl)("img/ntf/icNotificationStar.svg"),class:"promotionBadge"}),i.h(c.a,null))}d.propTypes={hasUnread:a.a.bool,hasPromotion:a.a.bool,active:a.a.bool},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function({width:e=24,height:t=26}){return i.h("svg",{width:e,height:t},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M15.996 20.82l-5.66 2.046a.601.601 0 0 0-.361.769l6.795-2.458a.603.603 0 0 0-.774-.358zm3.77-7.738l-4.387-8.665C13.583.87 9.087-.9 5.335.457 1.58 1.815-.715 6.046.202 9.907l2.243 9.44-.4.145a2.394 2.394 0 0 0-1.44 3.07 2.416 2.416 0 0 0 3.09 1.433l18.119-6.555a2.394 2.394 0 0 0 1.44-3.07 2.416 2.416 0 0 0-3.089-1.433l-.4.145zm-5.157 12.7c-1.876.68-3.951-.282-4.634-2.147l6.795-2.458a3.587 3.587 0 0 1-2.161 4.605z"}))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(583);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(242),r=i(n(584)),s=i(n(427)),l=i(n(589));n(591),t.default=function({organizationId:e}){let t;return t="user"===e?a.urlResolve("activities"):a.urlResolve("organization-activities",{url:{oid:e}}),o.h("div",{class:"notificationCenterMessage"},o.h("div",{class:"messageIconContainer"},o.h(r.default,{iconType:l.default.STAR})),o.h("div",{class:"messageContainer"},o.h("div",{class:"title"},"New notifications experience (Prerelease) ",o.h("span",{class:"titleEmoji"},"🕵️‍♀️")),o.h("div",{class:"content"},"Quickly find the notifications most important to you and take action without losing context."),o.h("a",{"data-link-type":"inApp",class:"button primary activitiesLink",onClick:()=>{s.default.switchToNewNotificationExperience()},href:t},"Enable Prerelease")))}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(585),s=n(586);function l(e){const{iconType:t,subIconType:n}=e;return i.h(r.default,{subIconType:n},i.h(s.default,{type:t}))}l.propTypes={iconType:a.a.string.isRequired,subIconType:a.a.string},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(586),s=n(395);n(590);function l(e){const{children:t,subIconType:n,class:o}=e,a=Object(s.default)("icon",o);return i.h("div",{class:a},t,n&&i.h(r.default,{class:"subIcon",type:n}))}l.propTypes={class:a.a.string,subIconType:a.a.string},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(587);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(543),s=n(588);function l(e){const{type:t,class:n}=e,o=s.default[t],a=o.responsive?r.default:"img",l={[o.responsive?"asset":"src"]:o.source,alt:o.alt,class:n};return i.h(a,l)}l.propTypes={avatar:a.a.bool,type:a.a.string},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(589),o=n(249);const a={[i.default.ADD]:{source:Object(o.imageUrl)("img/ntf/icAdd.svg"),alt:"+"},[i.default.DELETE]:{source:Object(o.imageUrl)("img/ntf/icDelete.svg"),alt:"-"},[i.default.PERSON]:{source:Object(o.imageUrl)("img/ntf/icPerson.svg"),alt:"&#x1f464;"},[i.default.NOTE]:{source:Object(o.imageUrl)("img/ntf/icNote.svg"),alt:"&#x270f;"},[i.default.TRANSFER]:{source:Object(o.imageUrl)("img/ntf/icTransfer.svg"),alt:"&#x21c6;"},[i.default.ARCHIVE]:{source:Object(o.imageUrl)("img/ntf/icArchive.svg"),alt:"&#x1f4e5;"},[i.default.ACTIVATE]:{source:Object(o.imageUrl)("img/ntf/icTransfer.svg"),alt:"&#x1f4e4;"},[i.default.STAR]:{source:Object(o.imageUrl)("img/ntf/icStar.svg"),alt:"&#x2b50;"},[i.default.JIRA]:{source:Object(o.imageUrl)("img/ntf/icJira.svg"),alt:""},[i.default.UPDATE]:{source:"img/ntf/icUpdate.png",alt:"&#x1f4e2;",responsive:!0},[i.default.SLACK]:{source:"img/ntf/icSlack.png",alt:"#",responsive:!0},[i.default.ADMIN]:{source:"img/ntf/icAdmin.png",alt:"&#x1f4aa;",responsive:!0},[i.default.MENTION]:{source:"img/ntf/icMention.png",alt:"&#x1f449;",responsive:!0},[i.default.GROUP_MEMBERS]:{source:"img/ntf/icGroupMembers.png",alt:"&#x1f4aa;",responsive:!0},[i.default.GROUP_COLORS]:{source:"img/ntf/icGroupColors.png",alt:"&#x1F3A8;",responsive:!0},[i.default.TEXT_STYLES]:{source:"img/ntf/icTextStyles.png",alt:"&#x270f;",responsive:!0},[i.default.SPACING]:{source:"img/ntf/icSpacing.png",alt:"&#xe12b;",responsive:!0}};t.default=a},function(e,t,n){"use strict";n.r(t),t.default={ADD:"add",DELETE:"delete",UPDATE:"update",PERSON:"person",NOTE:"note",TRANSFER:"transfer",JIRA:"jira",ARCHIVE:"archive",ACTIVATE:"activate",SLACK:"slack",ADMIN:"admin",MENTION:"mention",GROUP_MEMBERS:"groupMembers",GROUP_COLORS:"groupColors",TEXT_STYLES:"textStyles",SPACING:"spacing",STAR:"star"}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(242),a=n(245),r=n(261),s=n.n(r),l=n(593),c=n(594);t.default=function(e,t){const n=t.notificationLastReadTime<new Date(e.updated),{events:r}=e,d=r?r[0]:null;switch(e.actionName){case"AddProjectExtension":case"AddStyleguideExtension":{const{extension:r}=d,l=e.params.project?s.a.PROJECT:s.a.STYLEGUIDE,u=e.params[l],p=Object(a.getPlatformString)(u.type),h=Object(o.urlResolve)(l,{url:{bid:u._id},query:{eid:r._id}});return i.h(c.AddExtensionNotification,{onClick:t.onClick,link:h,barrelName:u.name,platform:p,extensionName:r.name,user:e.params.source,updated:e.updated,unread:n,baseRef:t.ref})}case"ActivateProject":case"ActivateStyleguide":{const a=d.project?s.a.PROJECT:s.a.STYLEGUIDE,r=d[a],l=Object(o.urlResolve)(a,{url:{bid:r._id}});return i.h(c.ActivateBarrelNotification,{barrelType:a,onClick:t.onClick,link:l,user:e.params.source,barrelNames:[r.name],updated:e.updated,unread:n,baseRef:t.ref})}case"ArchiveProject":case"ArchiveStyleguide":{const o=d.project?s.a.PROJECT:s.a.STYLEGUIDE,a=d[o];return i.h(c.ArchiveBarrelNotification,{barrelType:o,onClick:t.onClick,user:e.params.source,barrelNames:[a.name],updated:e.updated,unread:n,baseRef:t.ref})}case"AuthProjectSlack":case"AuthStyleguideSlack":{const a=d.project?s.a.PROJECT:s.a.STYLEGUIDE,r=d[a],l=Object(o.urlResolve)(a,{url:{bid:r._id}});return i.h(c.AuthSlackNotification,{onClick:t.onClick,link:l,user:e.params.source,barrelName:r.name,slackChannelName:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateAnnouncement":case"RemindVerification":case"VerifyUser":{if(!("webURI"in e.action))return null;const o=e.action.webURI;return i.h(c.VerificationNotification,{onClick:t.onClick,link:o||"#",disabled:!o,user:e.params.source,content:Object(l.default)(e.content),updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectComponent":case"CreateStyleguideComponent":{const l=e.params.project?s.a.PROJECT:s.a.STYLEGUIDE,u=e.params[l],p=Object(a.getPlatformString)(u.type),h=r.map(e=>e.component.name),f=r.length>1?r.map(e=>e.component._id):d.component._id,g=Object(o.urlResolve)(l===s.a.PROJECT?"project-styleguide-components":"styleguide-components",{url:{bid:u._id},query:{coid:f}});return i.h(c.CreateComponentNotification,{onClick:t.onClick,link:g,barrelName:u.name,platform:p,componentNames:h,user:e.params.source,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectComponentVersion":case"CreateStyleguideComponentVersion":{const l=e.params.project?s.a.PROJECT:s.a.STYLEGUIDE,u=e.params[l],p=Object(a.getPlatformString)(u.type),h=r.map(e=>e.component.name),f=r.length>1?r.map(e=>e.component._id):d.component._id,g=Object(o.urlResolve)(l===s.a.PROJECT?"project-styleguide-components":"styleguide-components",{url:{bid:u._id},query:{coid:f}});return i.h(c.CreateComponentVersionNotification,{onClick:t.onClick,link:g,barrelName:u.name,platform:p,componentNames:h,user:e.params.source,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectColor":case"CreateStyleguideColor":{const l=r.map(e=>e.color),u=e.params.project?s.a.PROJECT:s.a.STYLEGUIDE,p=e.params[u],h=Object(a.getPlatformString)(p.type),f=r.length>1?r.map(e=>e.color._id):d.color._id,g=Object(o.urlResolve)(u===s.a.PROJECT?"project-styleguide-colors":"styleguide-colors",{url:{bid:p._id},query:{cid:f}});return i.h(c.CreateColorNotification,{onClick:t.onClick,link:g,barrelName:p.name,platform:h,user:e.params.source,colors:l,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateCoupon":return"webURI"in e.action?i.h(c.CreateCouponNotification,{onClick:t.onClick,link:e.action.webURI,content:Object(l.default)(e.content),updated:e.updated,unread:n,baseRef:t.ref}):null;case"CreateDot":{const s=1===r.length?e.content:null,{project:l,screen:u}=e.params,p=Array.from(new Set(r.map(e=>e.source))),h=Object(a.getPlatformString)(l.type),f=r.length>1?r.map(e=>e.dot._id):d.dot._id,g=Object(o.urlResolve)("project-screen",{url:{pid:l._id,sid:u._id},query:{did:f}});return i.h(c.CreateDotNotification,{onClick:t.onClick,link:g,screenName:u.name,barrelName:l.name,platform:h,users:p,notes:r,content:s,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDot-Mention":{const{dot:r,source:s}=d,{project:l,screen:u}=e.params,p=Object(a.getPlatformString)(l.type),h=Object(o.urlResolve)("project-screen",{url:{pid:l._id,sid:u._id},query:{did:r._id,cmid:d.comment._id}});return i.h(c.CommentMentionNotification,{onClick:t.onClick,link:h,barrelName:l.name,platform:p,screenName:u.name,noteName:r.name,user:s,content:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDotComment-Mention":{const{dot:r,project:s,screen:l}=e.params,u=r.name,p=Object(a.getPlatformString)(s.type),h=Object(o.urlResolve)("project-screen",{url:{pid:s._id,sid:l._id},query:{did:r._id,cmid:d.comment._id}});return i.h(c.CommentMentionNotification,{onClick:t.onClick,link:h,barrelName:s.name,platform:p,screenName:l.name,noteName:u,user:d.source,content:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDotComment":{const s=1===r.length?e.content:null,{dot:{_id:l,name:u},project:p,screen:h}=e.params,f=Array.from(new Set(r.map(e=>e.source))),g=Object(a.getPlatformString)(p.type),m=r.length>1?r.map(e=>e.comment._id):d.comment._id,b=Object(o.urlResolve)("project-screen",{url:{pid:p._id,sid:h._id},query:{did:l,cmid:m}});return i.h(c.CreateCommentNotification,{onClick:t.onClick,link:b,screenName:h.name,barrelName:p.name,platform:g,noteName:u,users:f,content:s,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateScreen":{const{project:s,source:l}=e.params,d=r.map(e=>e.screen),u=d.map(e=>e.name),p=d.map(e=>e._id),h=Object(a.getPlatformString)(s.type),f=r.length>1?Object(o.urlResolve)("project",{url:{bid:s._id},query:{sid:p}}):Object(o.urlResolve)("project-screen",{url:{pid:s._id,sid:p[0]}});return i.h(c.CreateScreenNotification,{onClick:t.onClick,link:f,barrelName:s.name,platform:h,user:l,screenNames:u,updated:e.updated,content:e.content,unread:n,baseRef:t.ref})}case"CreateScreenVersion":{const{source:s,project:l}=e.params,d=r.map(e=>e.screen),u=d.map(e=>e.name),p=d.map(e=>e._id),h=Object(a.getPlatformString)(l.type),f=r.length>1?Object(o.urlResolve)("project",{url:{bid:l._id},query:{sid:p}}):Object(o.urlResolve)("project-screen",{url:{pid:l._id,sid:p[0]}});return i.h(c.CreateScreenVersionNotification,{onClick:t.onClick,link:f,barrelName:l.name,platform:h,user:s,screenNames:u,updated:e.updated,content:e.content,unread:n,baseRef:t.ref})}case"CreateProjectTextStyle":case"CreateStyleguideTextStyle":{const{source:l,project:d}=e.params,u=r.map(e=>e.textStyle),p=u.map(({name:e})=>e),h=u.map(({_id:e})=>e),f=d?s.a.PROJECT:s.a.STYLEGUIDE,g=e.params[f],m=Object(a.getPlatformString)(g.type),b=u.length>1?h:h[0],S=Object(o.urlResolve)(f===s.a.PROJECT?"project-styleguide-textstyles":"styleguide-textstyles",{url:{bid:g._id},query:{tsid:b}});return i.h(c.CreateTextStyleNotification,{onClick:t.onClick,link:S,barrelName:g.name,platform:m,user:l,textStyles:p,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectColor":case"DeleteStyleguideColor":{const{source:o,project:l}=e.params,d=r.map(e=>e.color),u=l?s.a.PROJECT:s.a.STYLEGUIDE,p=e.params[u],h=Object(a.getPlatformString)(p.type);return i.h(c.DeleteColorNotification,{barrelName:p.name,platform:h,user:o,colors:d,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectComponent":case"DeleteStyleguideComponent":{const{source:o,project:l}=e.params,d=l?s.a.PROJECT:s.a.STYLEGUIDE,u=e.params[d],p=Object(a.getPlatformString)(u.type),h=r.map(e=>e.component.name);return i.h(c.DeleteComponentNotification,{barrelName:u.name,platform:p,componentNames:h,user:o,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteScreen":{const{source:o,project:s}=e.params,l=r.map(e=>e.screen).map(e=>e.name),d=Object(a.getPlatformString)(s.type);return i.h(c.DeleteScreenNotification,{barrelName:s.name,platform:d,user:o,screenNames:l,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProject":case"DeleteStyleguide":{const o=d.project?s.a.PROJECT:s.a.STYLEGUIDE,a=d[o].name;return i.h(c.DeleteBarrelNotification,{barrelType:o,user:e.params.source,barrelNames:[a],updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectTextStyle":case"DeleteStyleguideTextStyle":{const{source:o,project:l}=e.params,d=r.map(e=>e.textStyle).map(({name:e})=>e),u=l?s.a.PROJECT:s.a.STYLEGUIDE,p=e.params[u],h=Object(a.getPlatformString)(p.type);return i.h(c.DeleteTextStyleNotification,{barrelName:p.name,platform:h,user:o,textStyles:d,updated:e.updated,unread:n,baseRef:t.ref})}case"RemoveExtensionFromProject":case"RemoveExtensionFromStyleguide":{const{extension:o}=d,{source:r,project:l}=e.params,u=l?s.a.PROJECT:s.a.STYLEGUIDE,p=e.params[u],h=Object(a.getPlatformString)(p.type);return i.h(c.DeleteExtensionNotification,{barrelName:p.name,platform:h,extensionName:o.name,user:r,updated:e.updated,unread:n,baseRef:t.ref})}case"ResolveDot":{const s=r.map(e=>e.dot.name),{screen:l,project:u}=e.params,p=Object(a.getPlatformString)(u.type),h=Array.from(new Set(r.map(e=>e.source))),f=r.length>1?r.map(e=>e.dot._id):d.dot._id,g=Object(o.urlResolve)("project-screen",{url:{pid:u._id,sid:l._id},query:{did:f}});return i.h(c.ResolveDotNotification,{onClick:t.onClick,link:g,barrelName:u.name,platform:p,screenName:l.name,users:h,notes:s,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateOrganizationMemberRole":{const a=r[r.length-1],s=a.user.role,{organization:l}=e.params,d=Object(o.urlResolve)("organization-dashboard",{url:{oid:l._id}});return i.h(c.UpdateOrganizationMemberRoleNotification,{onClick:t.onClick,link:d,roleName:s,organizationName:l.name,user:a.source,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectColor":case"UpdateStyleguideColor":{const{source:l,project:u}=e.params,p=r.map(e=>e.color),h=u?s.a.PROJECT:s.a.STYLEGUIDE,f=e.params[h],g=Object(a.getPlatformString)(f.type),m=r.length>1?r.map(e=>e.color._id):d.color._id,b=Object(o.urlResolve)(h===s.a.PROJECT?"project-styleguide-colors":"styleguide-colors",{url:{bid:f._id},query:{cid:m}});return i.h(c.UpdateColorNotification,{onClick:t.onClick,link:b,barrelName:f.name,platform:g,colors:p,user:l,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectUserRole":case"UpdateStyleguideUserRole":{const a=d.project?s.a.PROJECT:s.a.STYLEGUIDE,l=d[a],u=r.map(e=>e[a].name),p=r.length>1?{query:{bid:r.map(e=>e[a]._id)}}:{url:{bid:l._id}},h=r.length>1?a+"s":a,f=Object(o.urlResolve)(h,p);return i.h(c.AssignAdminNotification,{barrelType:a,onClick:t.onClick,link:f,barrelNames:u,user:e.params.source,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectTextStyle":case"UpdateStyleguideTextStyle":{const{source:l,project:d}=e.params,u=r.map(e=>e.textStyle),p=u.map(({name:e})=>e),h=u.map(({_id:e})=>e),f=d?s.a.PROJECT:s.a.STYLEGUIDE,g=e.params[f],m=Object(a.getPlatformString)(g.type),b=u.length>1?h:h[0],S=Object(o.urlResolve)(f===s.a.PROJECT?"project-styleguide-textstyles":"styleguide-textstyles",{url:{bid:g._id},query:{tsid:b}});return i.h(c.UpdateTextStyleNotification,{onClick:t.onClick,link:S,barrelName:g.name,platform:m,user:l,textStyles:p,updated:e.updated,unread:n,baseRef:t.ref})}case"UserJoined":{const a=Array.from(new Set(r.map(e=>e.member))),l=e.params.project?s.a.PROJECT:s.a.STYLEGUIDE,d=e.params[l],u=Object(o.urlResolve)(l,{url:{bid:d._id}});return i.h(c.NewMemberNotification,{onClick:t.onClick,link:u,barrelNames:[d.name],users:a,updated:e.updated,unread:n,baseRef:t.ref})}case"RemoveUserFromProject":case"RemoveUserFromStyleguide":{const{source:o,project:a}=e.params,r=a?s.a.PROJECT:s.a.STYLEGUIDE,l=e.params[r];return i.h(c.RemoveUserNotification,{barrelNames:[l.name],user:o,updated:e.updated,unread:n,baseRef:t.ref})}case"InviteMember":{const{source:a,organization:r}=e.params,s=Object(o.urlResolve)("organization-dashboard",{url:{oid:r._id}});return i.h(c.InviteMemberNotification,{onClick:t.onClick,link:s,organizationName:r.name,user:a,updated:e.updated,unread:n,baseRef:t.ref})}case"InviteProjectUser":case"InviteStyleguideUser":{const a=d.project?s.a.PROJECT:s.a.STYLEGUIDE,l=d[a],u=r.map(e=>e[a].name),p=r.length>1?{query:{bid:r.map(e=>e[a]._id)}}:{url:{bid:l._id}},h=r.length>1?a+"s":a,f=Object(o.urlResolve)(h,p);return i.h(c.InviteUserNotification,{barrelType:a,onClick:t.onClick,link:f,barrelNames:u,user:e.params.source,updated:e.updated,unread:n,baseRef:t.ref})}case"TransferProjectOwnership":case"TransferStyleguideOwnership":{const a=d.project?s.a.PROJECT:s.a.STYLEGUIDE,r=d[a],l=Object(o.urlResolve)(a,{url:{bid:r._id}});return i.h(c.TransferOwnershipNotification,{onClick:t.onClick,link:l,user:e.params.source,barrelNames:[r.name],updated:e.updated,unread:n,baseRef:t.ref})}case"AttachProjectToJiraIssue":case"AttachSectionToJiraIssue":case"AttachScreenToJiraIssue":case"RemoveProjectJiraIssueAttachment":case"RemoveSectionJiraIssueAttachment":case"RemoveScreenJiraIssueAttachment":{const{project:o}=e.params,s=Array.from(new Set(r.map(e=>e.jiraAttachment.issueKey))),l=r.reduce((e,t)=>{const{itemId:n,itemName:i}=t.jiraAttachment;return e.find(e=>e.itemId===n)||e.push({itemId:n,itemName:i}),e},[]),d=Object(a.getPlatformString)(o.type);return i.h(c.JiraAttachmentNotification,{onClick:t.onClick,barrelId:o._id,barrelName:o.name,platform:d,actionName:e.actionName,updated:e.updated,unread:n,issueKeys:s,items:l,baseRef:t.ref})}case"CreateProjectSpacingToken":case"CreateStyleguideSpacingToken":{const{params:l,updated:d}=e,u=r.map(e=>e.spacingToken),p=u.map(({token:e})=>e),h=u.map(({_id:e})=>e),f=l.project?s.a.PROJECT:s.a.STYLEGUIDE,g=l[f],m=Object(o.urlResolve)(f===s.a.PROJECT?"project-styleguide-spacing":"styleguide-spacing",{url:{bid:g._id},query:{sptid:u.length>1?h:h[0]}});return i.h(c.CreateSpacingTokenNotification,{baseRef:t.ref,spacingTokens:p,user:l.source,barrelName:g.name,platform:Object(a.getPlatformString)(g.type),link:m,updated:d,unread:n,onClick:t.onClick})}case"UpdateProjectSpacingToken":case"UpdateStyleguideSpacingToken":{const{params:l,updated:d}=e,u=r.map(e=>e.spacingToken),p=u.map(({token:e})=>e),h=u.map(({_id:e})=>e),f=l.project?s.a.PROJECT:s.a.STYLEGUIDE,g=l[f],m=Object(o.urlResolve)(f===s.a.PROJECT?"project-styleguide-spacing":"styleguide-spacing",{url:{bid:g._id},query:{sptid:u.length>1?h:h[0]}});return i.h(c.UpdateSpacingTokenNotification,{baseRef:t.ref,spacingTokens:p,user:l.source,barrelName:g.name,platform:Object(a.getPlatformString)(g.type),link:m,updated:d,unread:n,onClick:t.onClick})}case"DeleteProjectSpacingToken":case"DeleteStyleguideSpacingToken":{const{params:o,updated:l}=e,d=r.map(e=>e.spacingToken).map(({token:e})=>e),u=o[o.project?s.a.PROJECT:s.a.STYLEGUIDE];return i.h(c.DeleteSpacingTokenNotification,{baseRef:t.ref,spacingTokens:d,user:o.source,barrelName:u.name,platform:Object(a.getPlatformString)(u.type),updated:l,unread:n})}default:return null}}},function(e,t,n){"use strict";n.r(t);var i=n(4);t.default=e=>{const t=e.split(/\*([^*]+)\*/g).map((e,t)=>t%2?i.h("strong",{key:e+t},e):e);return i.h("span",null,t)}},function(e,t,n){"use strict";n.r(t);var i=n(595);n.d(t,"CreateDotNotification",(function(){return i.default}));var o=n(627);n.d(t,"CreateScreenNotification",(function(){return o.default}));var a=n(633);n.d(t,"CreateScreenVersionNotification",(function(){return a.default}));var r=n(636);n.d(t,"NewMemberNotification",(function(){return r.default}));var s=n(641);n.d(t,"UpdateColorNotification",(function(){return s.default}));var l=n(649);n.d(t,"CreateComponentNotification",(function(){return l.default}));var c=n(651);n.d(t,"CreateComponentVersionNotification",(function(){return c.default}));var d=n(653);n.d(t,"DeleteComponentNotification",(function(){return d.default}));var u=n(655);n.d(t,"InviteUserNotification",(function(){return u.default}));var p=n(657);n.d(t,"InviteMemberNotification",(function(){return p.default}));var h=n(660);n.d(t,"UpdateOrganizationMemberRoleNotification",(function(){return h.default}));var f=n(664);n.d(t,"VerificationNotification",(function(){return f.default}));var g=n(667);n.d(t,"ResolveDotNotification",(function(){return g.default}));var m=n(670);n.d(t,"CreateCommentNotification",(function(){return m.default}));var b=n(673);n.d(t,"CommentMentionNotification",(function(){return b.default}));var S=n(676);n.d(t,"DeleteScreenNotification",(function(){return S.default}));var y=n(678);n.d(t,"RemoveUserNotification",(function(){return y.default}));var C=n(680);n.d(t,"AddExtensionNotification",(function(){return C.default}));var v=n(683);n.d(t,"DeleteExtensionNotification",(function(){return v.default}));var O=n(686);n.d(t,"DeleteBarrelNotification",(function(){return O.default}));var E=n(688);n.d(t,"ArchiveBarrelNotification",(function(){return E.default}));var T=n(690);n.d(t,"ActivateBarrelNotification",(function(){return T.default}));var _=n(692);n.d(t,"AssignAdminNotification",(function(){return _.default}));var P=n(694);n.d(t,"CreateColorNotification",(function(){return P.default}));var j=n(696);n.d(t,"DeleteColorNotification",(function(){return j.default}));var D=n(698);n.d(t,"AuthSlackNotification",(function(){return D.default}));var k=n(701);n.d(t,"CreateCouponNotification",(function(){return k.default}));var I=n(704);n.d(t,"CreateTextStyleNotification",(function(){return I.default}));var R=n(706);n.d(t,"DeleteTextStyleNotification",(function(){return R.default}));var A=n(708);n.d(t,"UpdateTextStyleNotification",(function(){return A.default}));var w=n(710);n.d(t,"CreateSpacingTokenNotification",(function(){return w.default}));var N=n(712);n.d(t,"UpdateSpacingTokenNotification",(function(){return N.default}));var L=n(714);n.d(t,"DeleteSpacingTokenNotification",(function(){return L.default}));var x=n(716);n.d(t,"TransferOwnershipNotification",(function(){return x.default}));var M=n(718);n.d(t,"JiraAttachmentNotification",(function(){return M.default}))},function(e,t,n){"use strict";n.r(t);var i=n(596);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(584),c=n(620),d=n(623),u=n(589),p=n(246);n(626);function h(e){const{baseRef:t,users:n,screenName:o,barrelName:a,platform:h,notes:f,content:g,updated:m,link:b,unread:S,onClick:y}=e,C=n.length>1?i.h(l.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.NOTE}):i.h(s.default,{user:n[0],subIconType:u.default.NOTE}),v=i.h(i.Fragment,null,i.h(d.default,{users:n}),` added ${Object(p.pluralize)(f.length,"note")} to `,i.h("span",{class:"screenName"},o),g?":":"."),O=i.h("div",{class:"contentWrapper ellipsis"},g),E=i.h(c.default,{name:a,platform:h});return i.h(r.default,{baseRef:t,class:"createDot",onClick:y,icon:C,header:v,content:O,footer:E,unread:S,updated:m,link:b})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,notes:a.a.arrayOf(a.a.oneOfType([a.a.string,a.a.object])),users:a.a.arrayOf(a.a.object).isRequired,content:a.a.string},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(598);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(599),s=n(395);n(600);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e){const{unread:t,disabled:n,link:o,linkTarget:a,linkType:c,icon:d,header:u,content:p,footer:h,updated:f,onClick:g,class:m,baseRef:b,isCommentMention:S}=e;const y=Object(s.default)("notificationItem",{disabled:n,unread:t},m);let C="a",v={"data-link-type":c,target:a,href:o,onClick:function(){mixpanel.master.track("Clicked notification",{Mention:S,Source:"Notifications pop-up"}),g&&g()}};return n&&(C="div",v={}),i.h(C,l({ref:b,class:y},v),d&&i.h("div",{class:"notificationIcon"},d),i.h("div",{class:"notificationBody"},u&&i.h("div",{class:"notificationHeader"},u),p&&i.h("div",{class:"notificationContent"},p),i.h("div",{class:"notificationFooter"},h,i.h(r.default,{key:"time",type:"time-ago",format:"micro",class:"date",datetime:f}))))}c.propTypes={icon:a.a.node,header:a.a.node,content:a.a.node,footer:a.a.node,unread:a.a.bool,disabled:a.a.bool,link:a.a.string,linkTarget:a.a.string,linkType:a.a.string,class:a.a.string,updated:a.a.string.isRequired,onClick:a.a.func,isCommentMention:a.a.bool},c.defaultProps={linkType:"inApp",isCommentMention:!1},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(550);function a(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class r extends o.default{render(){const e=this.props,{class:t,children:n,type:o}=e,r=a(e,["class","children","type"]),s=`<${o} ${Object.entries(r).map(([e,t])=>`${e}="${t}"`).join(" ")}></${o}>`;return i.h("span",{class:t,dangerouslySetInnerHTML:{__html:s}})}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(585),s=n(519),l=n.n(s),c=n(602),d=n(244);function u({user:e,subIconType:t}){return i.h(c.default,{member:{user:e},topOffset:6},i.h(r.default,{subIconType:t},i.h(l.a,{src:Object(d.getUserAvatar)(e).src,size:36})))}u.propTypes={user:a.a.object.isRequired,subIconType:a.a.string},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(603);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(537),s=n(604),l=n(362),c=n(361),d=n(416),u=n(395),p=n(269),h=n.n(p),f=n(505),g=n.n(f);n(619);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),m(this,"state",{open:this.props.open||!1}),m(this,"popoverMouseEventTimer",null),m(this,"handleMouseEnter",()=>{const{open:e,onVisibilityChange:t}=this.props;e||(clearTimeout(this.popoverMouseEventTimer),this.popoverMouseEventTimer=setTimeout(()=>{this.setState({open:!0}),t&&t(!0)},300))}),m(this,"handleMouseLeave",()=>{const{open:e,onVisibilityChange:t}=this.props;e||(clearTimeout(this.popoverMouseEventTimer),this.popoverMouseEventTimer=setTimeout(()=>{this.setState({open:!1}),t&&t(!1)},100))}),m(this,"handleUserProfileCardContentChange",()=>{this.componentRefs&&this.componentRefs.userProfileCardPopoverContainer.positionPopover()})}static calculateState(e,t){const{userId:n,member:i}=t;if(i){const{user:e,tags:t}=i;return{user:e,tags:t}}const{selectedOrganizationId:o}=h.a.SpaceStore.getState(),{organizationId:a}=h.a.BarrelStore.getState(),{members:r=[]}=l.default.getOrganization(a||o)||{},{users:s=[]}=c.default.getBarrel()||{},d=[...r,...s],{user:u,tags:p}=d.find(e=>e.user._id===n)||{};return{user:u,tags:p}}static getStores(){return[h.a.SpaceStore,h.a.OrganizationStore,h.a.BarrelStore,h.a.ProjectsDataStore,h.a.StyleguidesDataStore]}componentDidUpdate(){this.handleUserProfileCardContentChange()}componentWillUnmount(){clearTimeout(this.popoverMouseEventTimer)}render(){if(!this.state.user)return;const{targetNode:e,topOffset:t,openToLeft:n,class:o,contentClass:a,originParent:l,children:c}=this.props,{user:p,tags:h,open:f}=this.state;return i.h(r.default,{ref:Object(d.default)(this,"userProfileCardPopoverContainer","componentRefs"),class:Object(u.default)("userProfileCardPopoverContainer",o),targetNode:e,content:i.h(s.default,{user:p,tags:h,onContentChange:this.handleUserProfileCardContentChange}),contentClass:Object(u.default)("userProfileCardPopoverContainerContent",a),originParent:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,left:19,topOffset:t,bottomOffset:6,offsetX:6,openToLeft:n,open:f,centerY:!0,stickToEdge:!0,showAnchor:!0,centerAnchorVerticaly:!0},c)}}b.propTypes={targetNode:a.a.object,userId:a.a.string,member:a.a.object,topOffset:a.a.number,openToLeft:a.a.bool,open:a.a.bool,class:a.a.string,contentClass:a.a.string,originParent:a.a.object,children:a.a.node,onVisibilityChange:a.a.func},b.defaultProps={topOffset:58,openToLeft:!0},t.default=g()(b,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(605);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(519),s=n.n(r),l=n(400),c=n(606),d=n(609),u=n(611),p=n(438),h=n(244),f=n(242),g=n(395),m=n(416);n(618);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"handleEmailCopy",()=>{Object(h.copyContent)({content:this.props.user.email,toastContainer:this.nodeRefs.userProfileCard})}),b(this,"renderTags",()=>{if(!this.hasTags)return null;const{tags:e}=this.props;return i.h("div",{class:"userProfileCardTagsContainer"},e.map(e=>i.h("div",{key:e,class:"userProfileCardTag ellipsis"},e)))})}get actionButtonText(){const{fullName:e,bio:t}=this.props.user;let n="Add";return e||(n+=" full name",t||(n+=" and")),t||(n+=" bio"),n}get hasTags(){const{tags:e}=this.props;return Boolean(e&&e.length)}componentDidUpdate(){const{onContentChange:e}=this.props;e&&e()}render(){const{user:e}=this.props,{src:t,srcset:n}=Object(h.getUserAvatar)(e,{size:64}),{_id:o,username:a,email:r,fullName:b,bio:S,status:y}=e,C=Boolean(S),v=!(b&&S||o!==Zeplin.user._id),O=[u.CustomRules.SPOTIFY,u.CustomRules.YOUTUBE,u.MarkdownRules.IMAGE,u.MarkdownRules.CHECKBOX,u.MarkdownRules.TABLE,u.MarkdownRules.HEADING],E="invited"===y;return i.h("div",{ref:Object(m.default)(this,"userProfileCard"),class:Object(g.default)("userProfileCard",{hasBio:C,hasTags:this.hasTags,footerVisible:v})},i.h("div",{class:"userProfileCardHeader"},i.h(s.a,{class:"userProfileCardAvatar",src:t,srcset:n,size:64}),i.h("div",{class:"userProfileCardMetaData"},Boolean(b)&&i.h("div",{class:"userProfileCardFullName ellipsis",title:b},i.h("strong",null,b)),Boolean(a)&&i.h("div",{class:"userProfileCardUsername ellipsis",title:a},"@",a),i.h("div",{class:Object(g.default)("userProfileCardEmail",{userProfileCardSubInfo:!E}),title:r},i.h("span",{class:"ellipsis"},r),i.h(c.default,{targetClass:"userProfileCardCopyEmailButtonContainer",content:"Copy email address"},i.h(l.default,{onClick:this.handleEmailCopy},i.h(p.IconCopy,null)))),E&&i.h("div",{class:"userProfileCardSubInfo"},"Pending Invitation"))),(C||this.hasTags)&&i.h("div",{class:"userProfileCardBody"},C&&i.h("div",{class:"userProfileCardBio"},i.h(d.default,{disabledFeatures:O},S)),this.renderTags()),v&&i.h("div",{class:"userProfileCardFooter"},i.h("a",{target:"_blank",rel:"noopener",href:Object(f.urlResolve)("profile-account"),class:"userProfileCardActionButton button ninja"},this.actionButtonText)))}}S.propTypes={user:a.a.object,tags:a.a.array,onContentChange:a.a.func},t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(607);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(245),s=n(511),l=n(416);n(608);class c extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleTargetClick=this.handleTargetClick.bind(this),this.handleTooltipDidRender=this.handleTooltipDidRender.bind(this),this.state={visible:!1}}get delay(){const{delay:e}=this.props;return void 0===e?500:e}handleMouseEnter(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.state.visible||(this.showTimeout=setTimeout(()=>{this.setState({visible:!0})},this.delay))}handleMouseLeave(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.hideTimeout=setTimeout(()=>{this.setState({visible:!1})},200)}handleTargetClick(){this.setState({visible:!1})}handleTooltipDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect();let i=t.bottom-2,o=t.left+(t.width-n.width)/2;o<12?o=12:o+n.width+12>window.innerWidth&&(o=window.innerWidth-12-n.width),i+n.height+12>window.innerHeight&&(i=i-n.height-12),e.style.transform=`translate3d(${o}px, ${i}px, 0)`}renderTooltip(){const{content:e}=this.props;return i.h("div",{class:"tooltip",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:r.stopPropagation},e)}render(){const{children:e,targetClass:t}=this.props,{visible:n}=this.state;return i.h("div",{ref:Object(l.default)(this,"target"),class:t,onClick:this.handleTargetClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.toChildArray(e),n&&i.h(s.default,{didRender:this.handleTooltipDidRender},this.renderTooltip()))}}c.propTypes={children:a.a.oneOfType([a.a.array,a.a.node,a.a.element,a.a.object]),content:a.a.oneOfType([a.a.node,a.a.element]).isRequired,delay:a.a.number,targetClass:a.a.string},c.defaultProps={delay:500},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(610);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(361),a=n(269),r=n.n(a),s=n(362),l=n(505),c=n.n(l),d=n(611);class u extends i.Component{static getStores(){return[r.a.BarrelStore,r.a.OrganizationStore,r.a.ProjectsDataStore,r.a.SpaceStore,r.a.StyleguidesDataStore,r.a.UserStore]}static calculateState(){const{organizations:e}=r.a.OrganizationStore.getState(),{selectedOrganizationId:t}=r.a.SpaceStore.getState(),{barrelId:n,organizationId:i}=r.a.BarrelStore.getState(),{username:a,userId:l}=r.a.UserStore.getState(),{projects:c}=r.a.ProjectsDataStore.getState(),{styleguides:d}=r.a.StyleguidesDataStore.getState(),u=o.default.getBarrel(),{members:p=[]}=s.default.getOrganization(i||t)||{},{users:h=[]}=u||{};return{organizations:e,barrelId:n,username:a,userId:l,members:[...p,...h],barrel:u,projects:c,styleguides:d}}render(){const{children:e,disabledFeatures:t,onUpdate:n}=this.props,{organizations:o,barrelId:a,barrel:r,username:s,userId:l,members:c,projects:u,styleguides:p}=this.state;return i.h(d.default,{disabledFeatures:t,organizations:o,barrelId:a,barrel:r,username:s,userId:l,members:c,projects:u,styleguides:p,onUpdate:n},e)}}t.default=c()(u,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(612);n.d(t,"default",(function(){return i.default})),n.d(t,"MarkdownRules",(function(){return i.MarkdownRules})),n.d(t,"CustomRules",(function(){return i.CustomRules}))},function(e,t,n){"use strict";n.r(t),n.d(t,"MarkdownRules",(function(){return A})),n.d(t,"CustomRules",(function(){return R}));var i=n(4),o=n(210),a=n.n(o),r=n(613),s=n.n(r),l=n(209),c=n.n(l),d=n(614),u=n(245),p=n(242),h=n(383),f=n(395),g=n(416),m=n(231),b=n(615),S=n(250);n(617);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=/#([\w-]+)/g,v=/^#(?:[\da-f]{8}|[\da-f]{6}|[\da-f]{3,4})$/i,O=/rgba?\s*\(\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,E=/hsla?\s*\(\s*(\d*\.?\d+(?:deg)?)\s*,?\s*(\d*\.?\d+%)\s*,?\s*(\d*\.?\d+%)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,T=new RegExp(`(${m.ZPL_PROTOCOL}//\\S+)`,"g"),_=/tel:([\d+.-]+)\b/g,P=/spotify:([\w:]+)\b/g,j=/youtube\.com\/watch\?v=(\w+)/,D=/youtu\.be\/(\w+)/,k=/:([a-z_-]+?):/g,I=c()();a.a.setOptions({headerIds:!1,highlight(e,t){if(!t)return e;const n=s.a.languages[t];return n?s.a.highlight(e,n):e}});const R={SPOTIFY:"spotify",YOUTUBE:"youtube"},A={HEADING:"heading",TABLE:"table",IMAGE:"image",CHECKBOX:"checkbox"};class w extends i.Component{constructor(e){super(e),y(this,"disableHeadingRenderer",(e,t)=>"#".repeat(t)+" "+e),y(this,"checkboxRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(A.CHECKBOX)?e?"[x] ":"[ ] ":`<input type="checkbox" data-index="${this.checkboxCounter++}" ${e?"checked":""}/>`}),y(this,"imageRenderer",(e,t,n)=>{const{disabledFeatures:i}=this.props,o=t||"";return i.includes(A.IMAGE)?`<a\n                href="${e}"\n                title="${o}"\n                rel="nofollow external noopener noreferrer"\n                target="_blank">${n}</a>`:`<img src="${e}" srcset="${e} ${window.devicePixelRatio}x" title="${o}" alt="${n}">`}),y(this,"spotifyURLRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(R.SPOTIFY)?e:`<iframe\n            src="${e.origin}/embed${e.pathname}${e.search}"\n            width="300" height="80"\n            frameborder="0"\n            allowtransparency="true" allow="encrypted-media"></iframe>`}),y(this,"spotifyURIRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(R.SPOTIFY)?e:e.replace(P,(e,t)=>`<iframe\n                src="https://open.spotify.com/embed/${t.replace(/:/g,"/")}"\n                width="300" height="80" frameborder="0"\n                allowtransparency="true" allow="encrypted-media"></iframe>`)}),y(this,"youtubeRenderer",e=>{const{disabledFeatures:t}=this.props;if(t.includes(R.YOUTUBE))return e;let n="youtu.be"===e.hostname?D:j;const[,i]=e.href.match(n);return`<iframe\n                src="https://www.youtube.com/embed/${i}"\n                width="480" height="270"\n                frameborder="0"></iframe>`}),y(this,"linkRenderer",(e,t,n="")=>{const{barrelId:i}=this.props,o=Object(p.urlResolve)("project",{url:{bid:i}}),a=new URL(e.replace(/&amp;/g,"&"),o),r=t||"";if(a.origin===location.origin||a.protocol===m.ZPL_PROTOCOL){const t=this.parseURL(a,n!==e&&n);if(t){const e=n.startsWith("<")?n:t.anchorText;return`<a\n                    href="${t.href}"\n                    title="${r}"\n                    data-link-type="inApp">${e}</a>`}}return["spotify.com","open.spotify.com"].includes(a.hostname)?this.spotifyURLRenderer(a):["youtube.com","www.youtube.com","youtu.be"].includes(a.hostname)?this.youtubeRenderer(a):`<a href="${e}" title="${r}" rel="nofollow external noopener noreferrer" target="_blank">${n}</a>`}),y(this,"colorRenderer",e=>{const{barrelId:t,barrel:n}=this.props,i=[];return e.replace(C,(e,o)=>{let a,r=n&&n.colors.find(e=>e.name===o),s=e;if(r)a=`{{color${i.length}}}`,i.push(r.toCSS()),s=`<span class="color">${e}<span class="colorPreview" style="background-color: ${a};"></span></span>`;else if(v.test(e)){const t=S.default.fromHex(o);r=n&&n.colors.find(e=>e.equals(t));a=r?e:"",s=`<span class="color">#${r?r.name:o}<span class="colorPreview" style="background-color: ${e};"></span></span>`}if(r){const e=Object(p.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:r.id}});return this.linkRenderer(e,a,s)}return s}).replace(O,(e,...i)=>{const{r:o,g:a,b:r,a:s}=Object(d.parseRGBA)(...i),l=n&&n.colors.find(e=>e.equals({r:o,g:a,b:r,a:s}));let c;if(c=l?`<span class="color">#${l.name}<span class="colorPreview" style="background-color: ${l.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,l){const n=Object(p.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:l.id}});return this.linkRenderer(n,e,c)}return c}).replace(E,(e,...i)=>{const{h:o,s:a,l:r,a:s}=Object(d.parseHSLA)(...i),l=S.default.fromHSLA(o,a,r,s),c=n&&n.colors.find(e=>e.equals(l));let u;if(u=c?`<span class="color">#${c.name}<span class="colorPreview" style="background-color: ${c.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,c){const n=Object(p.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:c.id}});return this.linkRenderer(n,e,u)}return u}).replace(/{{color(\d+)}}/g,(e,t)=>i[parseInt(t,10)])}),y(this,"mentionRenderer",e=>{const{username:t,userId:n,members:i}=this.props,o=Object(u.mentionRegexFn)(t);return e.replace(/@\w+\b/g,e=>{const t=e.substring(1),a=!u.groupMentionKeywords.includes(t)&&i.find(e=>e.user.username===t);let r=e;return a&&a.user.fullName&&(r="@"+a.user.fullName),o.test(e)?`<span data-unique-id="${n}" class="user self">${r}</span>`:a?`<span data-unique-id="${a&&a.user._id}" class="user">${r}</span>`:r})}),y(this,"telRenderer",e=>e.replace(_,(e,t)=>`<a href="tel:${t}">${t}</a>`)),y(this,"emojiRenderer",e=>e.replace(k,(e,t)=>{const n=b.default.searchEmoji(t);return n?n.customEmoji?`<img class="customEmoji" src="${n.emoji}" title="${t}">`:n.emoji:`<span class="customEmojiPlainText">${e}</span>`})),y(this,"textRenderer",e=>{let t=e.replace(/&amp;/g,"&");const n=(t.match(T)||[]).sort((e,t)=>t.length-e.length);for(const i of n)t=t.replace(i,this.linkRenderer(i));return Object(u.pipe)(this.colorRenderer,this.mentionRenderer,this.telRenderer,this.spotifyURIRenderer,this.emojiRenderer,u.spanEmojis)(t)}),y(this,"canWeMakeThisJumbo",e=>{const t=(e.match(I)||[]).length+(e.match(k)||[]).length;let n=e.replace(I,"");return n=n.replace(k,""),!n&&t>0&&t<=5}),y(this,"bindCheckboxEventListeners",()=>{const{disabledFeatures:e,onUpdate:t}=this.props;if(e.includes(A.CHECKBOX)||!t)return;this.nodeRefs.base.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("change",this.handleChange)})}),y(this,"handleChange",e=>{const{children:t,onUpdate:n}=this.props,i=parseInt(e.target.dataset.index,10);let o=-1;n(t.replace(/- \[(x| )\]/g,(e,t)=>(o++,o===i?" "===t?"- [x]":"- [ ]":e)))});const{disabledFeatures:t}=e;this.renderer=new a.a.Renderer,this.renderer.checkbox=this.checkboxRenderer,this.renderer.link=this.linkRenderer,this.renderer.text=this.textRenderer,this.renderer.image=this.imageRenderer,t.includes(A.HEADING)&&(this.renderer.heading=this.disableHeadingRenderer),this.lexer=new a.a.Lexer,t.includes(A.TABLE)&&(this.lexer.rules.table={exec:()=>{}})}getBarrel(e){const{projects:t,styleguides:n}=this.props;return t[e]||n[e]||{}}parseURL(e,t){const{organizations:n,projects:i,styleguides:o,barrelId:a}=this.props,r=Object(d.parseAppLink)(e);if(!r)return null;const{url:s={},query:l={},urlSlug:c}=r;if(t)return{anchorText:t,href:Object(p.urlResolve)(c,{url:s,query:l})};const{oid:u,bid:f,sid:g}=s,m=this.getBarrel(f);let b;switch(c){case"organization-projects":{const{name:e="Organization"}=n.find(e=>e._id===u)||{};b=e+"ʼs Projects";break}case"organization-styleguides":{const{name:e="Organization"}=n.find(e=>e._id===u)||{};b=e+"ʼs Styleguides";break}case"projects":b="Projects";break;case"styleguides":b="Styleguides";break;case"project-screen":{const{did:e=[],cmid:t=[]}=l;if(f!==a){b=t.length?`Comment${t.length>1?"s":""} on screen of ${m.name}`:e.length?`Note${e.length>1?"s":""} on screen of ${m.name}`:"Screen in "+m.name;break}const{name:n="screen",dots:i=[]}=(m.screens||[]).find(e=>e._id===g)||{};if(e.length)if(e.length>1)b="Notes on "+n;else{const{name:o=""}=i.find(t=>t._id===e[0])||{},a=`Note #${o}, ${n}`;b=t.length?`Comment${t.length>1?"s":""} on ${a}`:a}else b=n;break}case"project-screen-version":{const{name:e="screen"}=(m.screens||[]).find(e=>e._id===g)||{};b="Version of "+e;break}case"project-styleguide":case"styleguide":b=f===a?m.name:"Styleguide";break;case"project-styleguide-colors":case"styleguide-colors":b=(f===a?"":m.name)+" Colors";break;case"project-styleguide-textstyles":case"styleguide-textstyles":b=(f===a?"":m.name)+" Text Styles";break;case"project-styleguide-spacing":case"styleguide-spacing":b=(f===a?"":m.name)+" Spacing";break;case"project-styleguide-components":case"styleguide-components":{const{query:{coid:[e]=[]}}=r;if(e){const{component:t}=Object(h.findComponentById)([...Object.values(i),...Object.values(o)].filter(e=>e.complete),e)||{};if(t){b=t.name;break}}b=(f===a?"":m.name)+" Components";break}case"styleguide-about":b=(f===a?"":m.name)+" About";break;case"project-dashboard":default:{const{sid:e=[]}=l;b=e.length?`${e.length} screens in ${f===a?"dashboard":m.name}`:f===a?"Dashboard":m.name;break}}return{anchorText:b,href:Object(p.urlResolve)(c,{url:s,query:l})}}componentDidMount(){this.bindCheckboxEventListeners()}componentDidUpdate(){this.bindCheckboxEventListeners()}renderMarkdown(){const{children:e}=this.props;return this.checkboxCounter=0,a()(e,{renderer:this.renderer,sanitize:!0})}render(){const e=Object(f.default)("markdown",{jumboEmojis:this.canWeMakeThisJumbo(this.props.children)});return i.h("div",{ref:Object(g.default)(this,"base"),class:e,dangerouslySetInnerHTML:{__html:this.renderMarkdown()}})}}w.defaultProps={disabledFeatures:[],organizations:[]},t.default=w},function(e,t){e.exports=Prism},function(e,t,n){"use strict";n.r(t),n.d(t,"parseAppLink",(function(){return f})),n.d(t,"parseRGBA",(function(){return S})),n.d(t,"parseHSLA",(function(){return y}));var i=n(261),o=n.n(i),a=n(231);const r=/\/organization\/([\da-f]{24})\/(projects|styleguides)?/i,s=/\/(styleguide|project)\/([\da-f]{24})/i,l=/\/(dashboard|screen|styleguide)/,c=/\/(about|colors|textStyles|spacing|components)/i,d=/\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i;function u(e){return e===o.a.PROJECT?"dashboard":"about"}function p(e){return e===o.a.PROJECT?"colors":"about"}function h(e){const[t,n="project",i]=e.match(s)||[];if(!i)return null;const a=e.substring(t.length),[,r=u(n)]=a.match(l)||[],h={url:{pid:i,stid:i,bid:i}};if(n===o.a.STYLEGUIDE||"styleguide"===r){const[,e=p(n)]=a.match(c)||[];h.urlSlug=`${function(e){return e===o.a.PROJECT?"project-styleguide":"styleguide"}(n)}-${e.toLowerCase()}`}else if("screen"===r){const[,e,t]=a.match(d)||[];h.urlSlug=t?"project-screen-version":"project-screen",Object.assign(h.url,{sid:e,vid:t})}else h.urlSlug="project-dashboard";return h}function f(e){const t=e.origin===location.origin;return e.protocol===a.ZPL_PROTOCOL?function(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("//styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=e.searchParams.get("pid"),i=e.searchParams.get("stid");if(!n&&!i)return null;if(t.url={pid:n,bid:n||i},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid"),i=e.searchParams.get("vid");t.urlSlug=i?"project-screen-version":"project-screen",t.url.sid=n,t.url.vid=i}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),o=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:o}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),o=e.searchParams.getAll("tsid"),a=e.searchParams.getAll("sptid"),r=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide":"project-styleguide",t.query={cid:n,tsid:o,sptid:a,coid:r}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug=i?"styleguide-colors":"project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug=i?"styleguide-textstyles":"project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//spacing")){const n=e.searchParams.getAll("sptid");t.urlSlug=i?"styleguide-spacing":"project-styleguide-spacing",t.query={sptid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide-components":"project-styleguide-components",t.query={coid:n}}else{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.urlSlug="project-dashboard",t.query={sid:n,seid:i}}}return t}(e):t?function(e){const t={};if(e.pathname.startsWith("/organization")){const[,n,i="projects"]=e.pathname.match(r)||[],o=e.searchParams.getAll("pid"),a=e.searchParams.getAll("stid");t.urlSlug="organization-"+i,t.url={oid:n},t.query={pid:o,stid:a}}else if(e.pathname.startsWith("/projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("/styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=h(e.pathname);if(!n)return null;switch(Object.assign(t,n),t.urlSlug){case"project-screen":{const n=e.searchParams.getAll("did"),i=e.searchParams.getAll("cmid");t.query={did:n,cmid:i};break}case"project-styleguide-colors":case"styleguide-colors":{const n=e.searchParams.getAll("cid");t.query={cid:n};break}case"project-styleguide-textstyles":case"styleguide-textstyles":{const n=e.searchParams.getAll("tsid");t.query={tsid:n};break}case"project-styleguide-spacing":case"styleguide-spacing":{const n=e.searchParams.getAll("sptid");t.query={sptid:n};break}case"project-styleguide-components":case"styleguide-components":{const n=e.searchParams.getAll("coid"),i=e.searchParams.getAll("seid");t.query={coid:n,seid:i};break}case"project-dashboard":{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.query={sid:n,seid:i}}}}return t}(e):null}function g(e){const t=parseFloat(e);return e.endsWith("%")?Math.round(255*t/100):t}function m(e){return parseFloat(e)/100}function b(e){const t=parseFloat(e);return e.endsWith("%")?t/100:t}function S(e,t,n,i="1"){return{r:g(e),g:g(t),b:g(n),a:b(i)}}function y(e,t,n,i="1"){return{h:(o=e,parseFloat(o)/360),s:m(t),l:m(n),a:b(i)};var o}},function(e,t,n){"use strict";n.r(t);var i=n(616),o=n(246);function a(e){return e=e.replace(/_/g," "),i.default.find((function(t){return t.aliases.includes(e)}))}t.default={addCustomEmojis:function(e){var t={};Object.keys(e).forEach((function(n){var o=e[n];if(n=n.replace(/_/g," "),o.startsWith("alias:"))t[n]=o.substring(6);else{var r=a(n);r?r.aliases.push(n):i.default.push({emoji:o,aliases:[n],customEmoji:!0})}})),Object.keys(t).forEach((function(e){var n=a(t[e]);n&&n.aliases.push(e)}))},getSuggestedEmojis:function(e){var t=[];return e=e.toLowerCase().replace(/_/g," ").trim(),i.default.forEach((function(n){for(var i=0;i<n.aliases.length;i++)if(Object(o.anyWordStartsWith)(n.aliases[i],e)||n.aliases[i].startsWith(e))return void t.push({emoji:n.emoji,alias:n.aliases[i],customEmoji:n.customEmoji,formattedAlias:n.aliases[i].replace(/\s/g,"_")})})),t},searchEmoji:a}},function(e,t,n){"use strict";n.r(t),t.default=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀️‍",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀️",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀️",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀️",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀️",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕️",aliases:["woman health worker"]},{emoji:"👨‍⚕️",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈️",aliases:["woman pilot"]},{emoji:"👨‍✈️",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖️",aliases:["woman judge"]},{emoji:"👨‍⚖️",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀️",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂️",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂️",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂️",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂️",aliases:["raising hand man"]},{emoji:"🤦‍♀️",aliases:["woman facepalming"]},{emoji:"🤦‍♂️",aliases:["man facepalming"]},{emoji:"🤷‍♀️",aliases:["woman shrugging"]},{emoji:"🤷‍♂️",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂️",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂️",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂️",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂️",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂️",aliases:["dancing men"]},{emoji:"🚶‍♀️",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀️",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀️",aliases:["women wrestling"]},{emoji:"🤼‍♂️",aliases:["men wrestling"]},{emoji:"🤸‍♀️",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂️",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀️",aliases:["woman playing handball"]},{emoji:"🤾‍♂️",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀️",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀️",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀️",aliases:["woman playing water polo"]},{emoji:"🤽‍♂️",aliases:["man playing water polo"]},{emoji:"🚣‍♀️",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀️",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀️",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀️",aliases:["woman juggling"]},{emoji:"🤹‍♂️",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(621);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o);n(622);function r(e){const{name:t,platform:n}=e;return i.h("div",{class:"barrel"},i.h("span",{class:"name ellipsis",title:t},t)," • ",i.h("span",{class:"platform"},n))}r.propTypes={name:a.a.string.isRequired,platform:a.a.string.isRequired},t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(624);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(602),s=n(255),l=n(329);n(625);function c(e){const{users:t=[]}=e,n=t.length;let o,a,c=[...t];if(!n)return null;function d(e){return i.h(r.default,{class:"usernamesUserProfileCardPopoverContainer",member:{user:e},topOffset:6,openToLeft:!1},Object(s.getUserDisplayName)(e))}if(n>1)if(n>3)c=t.slice(0,3),o=n-3+" more people",a=t.slice(3).map(e=>Object(s.getUserDisplayName)(e)).join("\n");else{o=d(c.pop())}return i.h("span",null,Object(l.joinDOMElements)(c.map(e=>d(e)),", "),o&&i.h("span",{title:a}," and ",o))}c.propTypes={users:a.a.arrayOf(a.a.object).isRequired},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(628);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(620),c=n(623),d=n(629),u=n(589);n(632);function p(e){const{baseRef:t,user:n,screenNames:o,barrelName:a,content:p,platform:h,link:f,unread:g,updated:m,onClick:b}=e,S=i.h(s.default,{user:n,subIconType:u.default.ADD}),y=o.length>1,C=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added ",!y&&"a screen: ",i.h(d.default,{names:o}),y&&" screens","."),v=p?i.h("div",{class:"contentWrapper ellipsis"},p):null,O=i.h(l.default,{name:a,platform:h});return i.h(r.default,{baseRef:t,class:"createScreen",onClick:b,icon:S,header:C,footer:O,unread:g,content:v,updated:m,link:f})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenNames:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(630);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o);n(631);function r(e){const{names:t=[]}=e;if(0===t.length)return null;if(1===t.length)return i.h("span",{key:"multiName",class:"multiName"},t[0]);const n=t.join("\n");return i.h("span",{class:"multiName",title:n},t.length)}r.propTypes={names:a.a.arrayOf(a.a.string).isRequired},t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(634);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(620),c=n(623),d=n(629),u=n(589);n(635);function p(e){const{baseRef:t,user:n,screenNames:o,barrelName:a,platform:p,updated:h,link:f,content:g,unread:m,onClick:b}=e,S=i.h(s.default,{user:n,subIconType:u.default.ADD}),y=o.length>1,C=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added ",y?"versions":"a version"," to ",i.h(d.default,{names:o})," screen",y&&"s","."),v=g?i.h("div",{class:"contentWrapper ellipsis"},g):null,O=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,class:"createScreenVersion",onClick:b,icon:S,header:C,footer:O,unread:m,content:v,updated:h,link:f})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenNames:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(637);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(584),c=n(638),d=n(623),u=n(589);function p(e){const{baseRef:t,users:n,barrelNames:o,updated:a,link:p,unread:h,onClick:f}=e,g=n.length>1?i.h(l.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.PERSON}):i.h(s.default,{user:n[0],subIconType:u.default.PERSON}),m=i.h(i.Fragment,null,i.h(d.default,{users:n})," joined ",i.h(c.default,{barrelNames:o}),".");return i.h(r.default,{baseRef:t,class:"newMember",onClick:f,icon:g,header:m,updated:a,unread:h,link:p})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),users:a.a.arrayOf(a.a.object).isRequired,content:a.a.string},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(639);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o);n(640);function r(e){const{barrelNames:t=[]}=e;let n,o;return 0===t.length?null:(1===t.length?n=t[0]:(o=t.pop(),n=t.join(", ")),i.h("span",null,i.h("span",{class:"barrelName"},n),o&&[" and ",i.h("span",{key:"tail",class:"barrelName"},o)]))}r.propTypes={barrelNames:a.a.arrayOf(a.a.string).isRequired},t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(642);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(643),c=n(620),d=n(623),u=n(646),p=n(589);function h(e){const{baseRef:t,user:n,colors:o,barrelName:a,platform:h,updated:f,link:g,unread:m,onClick:b}=e,S=o.length>1,y=S?i.h(s.default,{iconType:p.default.GROUP_COLORS,subIconType:p.default.ADD}):i.h(l.default,{color:o[0],subIconType:p.default.ADD}),C=i.h(i.Fragment,null,i.h(d.default,{users:[n]})," updated ",!S&&"a color: ",i.h(u.default,{platform:h,colors:o}),S&&" colors","."),v=i.h(c.default,{name:a,platform:h});return i.h(r.default,{baseRef:t,class:"updateColor",onClick:b,icon:y,header:C,footer:v,unread:m,updated:f,link:g})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,user:a.a.object.isRequired,colors:a.a.arrayOf(a.a.object)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(644);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(585),s=n(250);n(645);function l(e){const{color:t,subIconType:n}=e;return i.h(r.default,{subIconType:n},i.h("div",{class:"colorPreviewWrapper"},i.h("div",{class:"colorPreview",style:{backgroundColor:new s.default(t).toCSS()}})))}l.propTypes={color:a.a.string.isRequired,subIconType:a.a.string},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(647);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(250);n(648);function s(e){const{platform:t,colors:n=[]}=e;if(0===n.length)return null;if(1===n.length){const e=new r.default(n[0]);return i.h("span",{class:"colorName",title:e.toPlatformString(t)},e.name)}const o=n.map(e=>{const n=new r.default(e);return n.name+": "+n.toPlatformString(t)}).join("\n");return i.h("span",{class:"colorName",title:o},n.length)}s.propTypes={platform:a.a.string.isRequired,colors:a.a.arrayOf(a.a.object).isRequired},t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(650);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(620),c=n(623),d=n(629),u=n(589);function p(e){const{baseRef:t,user:n,componentNames:o,barrelName:a,platform:p,updated:h,link:f,unread:g,onClick:m}=e,b=i.h(s.default,{user:n,subIconType:u.default.ADD}),S=o.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added ",!S&&"a component: ",i.h(d.default,{names:o}),S&&" components","."),C=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,class:"createComponent",onClick:m,icon:b,header:y,footer:C,unread:g,updated:h,link:f})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,componentNames:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(652);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(620),c=n(623),d=n(629),u=n(589);function p(e){const{baseRef:t,user:n,componentNames:o,barrelName:a,platform:p,updated:h,link:f,unread:g,onClick:m}=e,b=i.h(s.default,{user:n,subIconType:u.default.ADD}),S=o.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added ",S?"versions":"a version"," to ",i.h(d.default,{names:o})," component",S&&"s","."),C=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,class:"createComponentVersion",onClick:m,icon:b,header:y,footer:C,unread:g,updated:h,link:f})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,componentNames:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(654);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(620),c=n(623),d=n(629),u=n(589);function p(e){const{baseRef:t,user:n,componentNames:o,barrelName:a,platform:p,updated:h,unread:f}=e,g=i.h(s.default,{user:n,subIconType:u.default.DELETE}),m=o.length>1,b=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," removed ",!m&&"a component: ",i.h(d.default,{names:o}),m&&" components","."),S=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,class:"deleteComponent",icon:g,header:b,footer:S,unread:f,updated:h,disabled:!0})}p.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,componentNames:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(656);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(623),c=n(638),d=n(589);function u(e){const{baseRef:t,user:n,barrelNames:o,updated:a,link:u,unread:p,onClick:h,barrelType:f}=e,g=i.h(s.default,{user:n,subIconType:d.default.PERSON}),m=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," invited you to ",o.length>1&&`${o.length} ${f}s: `,i.h(c.default,{barrelNames:o}),".");return i.h(r.default,{baseRef:t,class:"inviteUser",onClick:h,icon:g,header:m,updated:a,unread:p,link:u})}u.propTypes={onClick:a.a.bool,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(658);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(623),c=n(589);n(659);function d(e){const{baseRef:t,user:n,organizationName:o,updated:a,link:d,unread:u,onClick:p}=e,h=i.h(s.default,{user:n,subIconType:c.default.PERSON}),f=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," invited you to ",i.h("span",{class:"organizationName"},o)," organization.");return i.h(r.default,{baseRef:t,class:"inviteMember",onClick:p,icon:h,header:f,updated:a,unread:u,link:d,linkType:"legacy"})}d.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,organizationName:a.a.string.isRequired,user:a.a.object.isRequired},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(661);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(623),c=n(543),d=n(589),u=n(662);n(663);function p(e){const{baseRef:t,user:n,roleName:o,organizationName:a,updated:p,link:h,unread:f,onClick:g}=e,m=u.default[o],b=i.h(s.default,{user:n,subIconType:d.default.PERSON}),S=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," assigned you as ",i.h("span",{class:"roleName"},m.name)," ",i.h(c.default,{class:"roleIcon",asset:m.icon})," on ",i.h("span",{class:"organizationName"},a)," organization.");return i.h(r.default,{baseRef:t,class:"updateOrganizationMemberRole",onClick:g,icon:b,header:S,updated:p,unread:f,link:h,linkType:"legacy"})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,roleName:a.a.string.isRequired,organizationName:a.a.string.isRequired,user:a.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t),t.default={king:{name:"Owner",icon:"img/icQueen.png"},queen:{name:"Admin",icon:"img/icQueen.png"},rook:{name:"Editor",icon:"img/icRook.png"},knight:{name:"Developer",icon:"img/icKnight.png"},pawn:{name:"Reviewer",icon:"img/icPawn.png"}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(665);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(623),c=n(589);n(666);function d(e){const{baseRef:t,user:n,content:o,updated:a,link:d,unread:u,onClick:p,disabled:h}=e,f=i.h(s.default,{iconType:c.default.UPDATE}),g=i.h("div",{class:"contentWrapper"},o),m=i.h(l.default,{users:[n]});return i.h(r.default,{baseRef:t,class:"verification",onClick:p,icon:f,content:g,footer:m,unread:u,updated:a,disabled:h,link:d,linkTarget:"_blank"})}d.propTypes={onClick:a.a.func,disabled:a.a.bool,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,user:a.a.object.isRequired,content:a.a.node},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(668);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(584),c=n(620),d=n(623),u=n(589),p=n(246);n(669);function h(e){const{baseRef:t,users:n,screenName:o,barrelName:a,platform:h,notes:f,updated:g,link:m,unread:b,onClick:S}=e,y=n.length>1?i.h(l.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.NOTE}):i.h(s.default,{user:n[0],subIconType:u.default.NOTE}),C=i.h(i.Fragment,null,i.h(d.default,{users:n})," resolved ",Object(p.pluralize)(f.length,"note")," on ",i.h("span",{class:"screenName"},o),"."),v=i.h(c.default,{name:a,platform:h});return i.h(r.default,{baseRef:t,class:"resolveDot",onClick:S,icon:y,header:C,footer:v,unread:b,updated:g,link:m})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,notes:a.a.arrayOf(a.a.string),users:a.a.arrayOf(a.a.object).isRequired},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(671);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(601),c=n(620),d=n(623),u=n(589);n(672);function p(e){const{baseRef:t,users:n,screenName:o,barrelName:a,platform:p,noteName:h,content:f,updated:g,link:m,unread:b,onClick:S}=e,y=n.length>1?i.h(s.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.NOTE}):i.h(l.default,{user:n[0],subIconType:u.default.NOTE}),C=i.h("div",{class:"contentWrapper ellipsis"},f),v=i.h(i.Fragment,null,i.h(d.default,{users:n})," replied to note ",i.h("span",{class:"noteName"},h)," on ",i.h("span",{class:"screenName"},o),f?":":"."),O=i.h(c.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,class:"createComment",onClick:S,icon:y,header:v,content:C,footer:O,unread:b,updated:g,link:m})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,noteName:a.a.string.isRequired,users:a.a.arrayOf(a.a.object).isRequired,content:a.a.string},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(674);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(620),c=n(623),d=n(589);n(675);function u(e){const{baseRef:t,user:n,screenName:o,barrelName:a,platform:u,noteName:p,content:h,updated:f,link:g,unread:m,onClick:b}=e,S=i.h(s.default,{user:n,subIconType:d.default.MENTION}),y=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," mentioned you in note ",i.h("span",{class:"noteName"},p)," on ",i.h("span",{class:"screenName"},o),h?":":"."),C=i.h("div",{class:"contentWrapper ellipsis"},h),v=i.h(l.default,{name:a,platform:u});return i.h(r.default,{baseRef:t,class:"commentMention",onClick:b,icon:S,header:y,content:C,footer:v,unread:m,updated:f,link:g,isCommentMention:!0})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenName:a.a.string.isRequired,noteName:a.a.string.isRequired,user:a.a.object.isRequired,content:a.a.string},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(677);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(620),c=n(623),d=n(629),u=n(589);function p(e){const{baseRef:t,user:n,screenNames:o,barrelName:a,platform:p,updated:h,unread:f}=e,g=i.h(s.default,{user:n,subIconType:u.default.DELETE}),m=o.length>1,b=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," deleted ",!m&&"a screen: ",i.h(d.default,{names:o}),m&&" screens","."),S=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,class:"deleteScreen",icon:g,header:b,footer:S,unread:f,updated:h,disabled:!0})}p.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,screenNames:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(679);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(638),c=n(623),d=n(589);function u(e){const{baseRef:t,user:n,barrelNames:o,updated:a,unread:u}=e,p=i.h(s.default,{user:n,subIconType:d.default.DELETE}),h=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," removed you from ",i.h(l.default,{barrelNames:o}),".");return i.h(r.default,{baseRef:t,class:"removeUser",icon:p,header:h,updated:a,unread:u,disabled:!0})}u.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(681);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(620),c=n(623),d=n(589);n(682);function u(e){const{baseRef:t,user:n,barrelName:o,platform:a,extensionName:u,updated:p,link:h,unread:f,onClick:g}=e,m=i.h(s.default,{user:n,subIconType:d.default.ADD}),b=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added an extension: ",i.h("span",{class:"extensionName"},u),"."),S=i.h(l.default,{name:o,platform:a});return i.h(r.default,{baseRef:t,class:"addExtension",onClick:g,icon:m,header:b,footer:S,unread:f,updated:p,link:h})}u.propTypes={onClick:a.a.bool,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,extensionName:a.a.string.isRequired,user:a.a.object.isRequired},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(684);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(620),c=n(623),d=n(589);n(685);function u(e){const{baseRef:t,user:n,barrelName:o,platform:a,extensionName:u,updated:p,unread:h}=e,f=i.h(s.default,{user:n,subIconType:d.default.DELETE}),g=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," removed an extension: ",i.h("span",{class:"extensionName"},u),"."),m=i.h(l.default,{name:o,platform:a});return i.h(r.default,{baseRef:t,class:"deleteExtension",icon:f,header:g,footer:m,unread:h,updated:p,disabled:!0})}u.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,extensionName:a.a.string.isRequired,user:a.a.object.isRequired},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(687);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(623),c=n(638),d=n(589);function u(e){const{baseRef:t,barrelType:n,user:o,barrelNames:a,content:u,updated:p,unread:h}=e,f=i.h(s.default,{user:o,subIconType:d.default.DELETE}),g=i.h(i.Fragment,null,i.h(l.default,{users:[o]})," deleted a ",n,": ",i.h(c.default,{barrelNames:a}),".");return i.h(r.default,{baseRef:t,icon:f,header:g,content:u,updated:p,unread:h,disabled:!0})}u.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,user:a.a.object.isRequired,barrelNames:a.a.arrayOf(a.a.string),content:a.a.string},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(689);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(623),c=n(638),d=n(589);function u(e){const{baseRef:t,user:n,barrelNames:o,updated:a,unread:u,onClick:p,barrelType:h}=e,f=i.h(s.default,{user:n,subIconType:d.default.ARCHIVE}),g=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," archived a ",h,": ",i.h(c.default,{barrelNames:o}),".");return i.h(r.default,{baseRef:t,onClick:p,icon:f,header:g,updated:a,unread:u,disabled:!0})}u.propTypes={onClick:a.a.func,unread:a.a.bool,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,user:a.a.object.isRequired,barrelNames:a.a.arrayOf(a.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(691);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(623),c=n(638),d=n(589);function u(e){const{baseRef:t,user:n,barrelNames:o,updated:a,link:u,unread:p,onClick:h,barrelType:f}=e,g=i.h(s.default,{user:n,subIconType:d.default.ACTIVATE}),m=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," activated a ",f,": ",i.h(c.default,{barrelNames:o}),".");return i.h(r.default,{baseRef:t,onClick:h,icon:g,header:m,unread:p,updated:a,link:u})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,user:a.a.object.isRequired,barrelNames:a.a.arrayOf(a.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(693);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(623),c=n(638),d=n(589);function u(e){const{baseRef:t,barrelType:n,user:o,barrelNames:a,updated:u,link:p,unread:h,onClick:f}=e,g=i.h(s.default,{user:o,subIconType:d.default.ADMIN}),m=i.h(i.Fragment,null,i.h(l.default,{users:[o]})," assigned you as an admin on ",a.length>1&&`${a.length} ${n}s: `,i.h(c.default,{barrelNames:a}),".");return i.h(r.default,{baseRef:t,class:"assignAdmin",onClick:f,icon:g,header:m,updated:u,unread:h,link:p})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelType:a.a.string.isRequired,barrelNames:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(695);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(643),l=n(584),c=n(620),d=n(623),u=n(646),p=n(589);function h(e){const{baseRef:t,user:n,colors:o,barrelName:a,platform:h,updated:f,link:g,unread:m,onClick:b}=e,S=o.length>1,y=S?i.h(l.default,{iconType:p.default.GROUP_COLORS,subIconType:p.default.ADD}):i.h(s.default,{color:o[0],subIconType:p.default.ADD}),C=i.h(i.Fragment,null,i.h(d.default,{users:[n]})," added ",!S&&"a color: ",i.h(u.default,{platform:h,colors:o}),S&&" colors","."),v=i.h(c.default,{name:a,platform:h});return i.h(r.default,{baseRef:t,class:"createColor",onClick:b,icon:y,header:C,footer:v,unread:m,updated:f,link:g})}h.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,colors:a.a.arrayOf(a.a.object),user:a.a.object.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(697);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(643),c=n(620),d=n(623),u=n(646),p=n(589);function h(e){const{baseRef:t,user:n,colors:o,barrelName:a,platform:h,updated:f,unread:g}=e,m=o.length>1?i.h(s.default,{iconType:p.default.GROUP_COLORS,subIconType:p.default.DELETE}):i.h(l.default,{color:o[0],subIconType:p.default.DELETE}),b=o.length>1,S=i.h(i.Fragment,null,i.h(d.default,{users:[n]})," removed ",!b&&"a color: ",i.h(u.default,{platform:h,colors:o}),b&&" colors","."),y=i.h(c.default,{name:a,platform:h});return i.h(r.default,{baseRef:t,class:"deleteColor",icon:m,header:S,footer:y,unread:g,updated:f,disabled:!0})}h.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,user:a.a.object.isRequired,colors:a.a.arrayOf(a.a.object)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(699);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(623),c=n(589);n(700);function d(e){const{baseRef:t,user:n,barrelName:o,slackChannelName:a,updated:d,link:u,unread:p,onClick:h}=e,f=i.h(s.default,{iconType:c.default.SLACK}),g=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," connected ",i.h("span",{class:"barrelName"},o)," to Slack channel ",i.h("span",{class:"slackChannelName"},a),".");return i.h(r.default,{baseRef:t,class:"authSlack",onClick:h,icon:f,header:g,updated:d,unread:p,link:u})}d.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,slackChannelName:a.a.string.isRequired,user:a.a.object.isRequired,content:a.a.string},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(702);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(589);n(703);function c(e){const{baseRef:t,updated:n,link:o,content:a,unread:c,onClick:d}=e,u=i.h("div",{class:"iconWrapper"},i.h(s.default,{iconType:l.default.STAR})),p=i.h("div",{class:"contentWrapper"},a);return i.h(r.default,{baseRef:t,class:"createCoupon",onClick:d,icon:u,content:p,updated:n,unread:c,link:o})}c.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,content:a.a.node},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(705);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(620),c=n(623),d=n(629),u=n(589);function p(e){const{baseRef:t,user:n,textStyles:o,barrelName:a,platform:p,updated:h,link:f,unread:g,onClick:m}=e,b=i.h(s.default,{iconType:u.default.TEXT_STYLES,subIconType:u.default.ADD}),S=o.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added ",!S&&"a text style: ",i.h(d.default,{names:o}),S&&" text styles","."),C=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,class:"createTextStyle",onClick:m,icon:b,header:y,footer:C,unread:g,updated:h,link:f})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,textStyles:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(707);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(620),c=n(623),d=n(629),u=n(589);function p(e){const{baseRef:t,user:n,textStyles:o,barrelName:a,platform:p,updated:h,unread:f}=e,g=i.h(s.default,{iconType:u.default.TEXT_STYLES,subIconType:u.default.DELETE}),m=o.length>1,b=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," removed ",!m&&"a text style: ",i.h(d.default,{names:o}),m&&" text styles","."),S=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,class:"deleteTextStyle",icon:g,header:b,footer:S,unread:f,updated:h,disabled:!0})}p.propTypes={unread:a.a.bool,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,textStyles:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(709);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(620),c=n(623),d=n(629),u=n(589);function p(e){const{baseRef:t,user:n,textStyles:o,barrelName:a,platform:p,updated:h,link:f,unread:g,onClick:m}=e,b=i.h(s.default,{iconType:u.default.TEXT_STYLES,subIconType:u.default.ADD}),S=o.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," updated ",!S&&"a text style: ",i.h(d.default,{names:o}),S&&" text styles","."),C=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,class:"deleteTextStyle",onClick:m,icon:b,header:y,footer:C,unread:g,updated:h,link:f})}p.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,textStyles:a.a.arrayOf(a.a.string),user:a.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(711);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(620),c=n(623),d=n(629),u=n(589);function p(e){const{baseRef:t,spacingTokens:n,user:o,barrelName:a,platform:p,link:h,updated:f,unread:g,onClick:m}=e,b=i.h(s.default,{iconType:u.default.SPACING,subIconType:u.default.ADD}),S=n.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[o]})," added ",!S&&"a spacing token: ",i.h(d.default,{names:n}),S&&" spacing tokens","."),C=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,icon:b,header:y,footer:C,unread:g,updated:f,link:h,onClick:m})}p.propTypes={spacingTokens:a.a.arrayOf(a.a.string).isRequired,user:a.a.object.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,link:a.a.string.isRequired,updated:a.a.string.isRequired,unread:a.a.bool.isRequired,onClick:a.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(713);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(620),c=n(623),d=n(629),u=n(589);function p(e){const{baseRef:t,spacingTokens:n,user:o,barrelName:a,platform:p,link:h,updated:f,unread:g,onClick:m}=e,b=i.h(s.default,{iconType:u.default.SPACING,subIconType:u.default.ADD}),S=n.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[o]})," updated ",!S&&"a spacing token: ",i.h(d.default,{names:n}),S&&" spacing tokens","."),C=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,icon:b,header:y,footer:C,unread:g,updated:f,link:h,onClick:m})}p.propTypes={spacingTokens:a.a.arrayOf(a.a.string).isRequired,user:a.a.object.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,link:a.a.string.isRequired,updated:a.a.string.isRequired,unread:a.a.bool.isRequired,onClick:a.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(715);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(620),c=n(623),d=n(629),u=n(589);function p(e){const{baseRef:t,spacingTokens:n,user:o,barrelName:a,platform:p,updated:h,unread:f}=e,g=i.h(s.default,{iconType:u.default.SPACING,subIconType:u.default.DELETE}),m=n.length>1,b=i.h(i.Fragment,null,i.h(c.default,{users:[o]})," removed ",!m&&"a spacing token: ",i.h(d.default,{names:n}),m&&" spacing tokens","."),S=i.h(l.default,{name:a,platform:p});return i.h(r.default,{baseRef:t,icon:g,header:b,footer:S,unread:f,updated:h,disabled:!0})}p.propTypes={spacingTokens:a.a.arrayOf(a.a.string).isRequired,user:a.a.object.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,updated:a.a.string.isRequired,unread:a.a.bool.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(717);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(601),l=n(623),c=n(638),d=n(589);function u(e){const{baseRef:t,user:n,barrelNames:o,updated:a,link:u,unread:p,onClick:h}=e,f=i.h(s.default,{user:n,subIconType:d.default.TRANSFER}),g=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," transfered the ownership of ",i.h(c.default,{barrelNames:o})," to you.");return i.h(r.default,{baseRef:t,onClick:h,icon:f,header:g,updated:a,unread:p,link:u})}u.propTypes={onClick:a.a.func,unread:a.a.bool,link:a.a.string.isRequired,updated:a.a.string.isRequired,user:a.a.object.isRequired,barrelNames:a.a.arrayOf(a.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(719);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(597),s=n(584),l=n(395),c=n(589),d=n(720),u=n(242),p=n(620);n(721);function h(e){const{baseRef:t,barrelId:n,barrelName:o,platform:a,actionName:h,issueKeys:f,items:g,updated:m,unread:b,onClick:S}=e,y=d.default[h],C=i.h(s.default,{iconType:c.default.JIRA,subIconType:"attach"===y.eventType?c.default.ADD:c.default.DELETE}),v=g.length>1?`${g.length} ${y.itemType}s`:g[0].itemName,O=f.length>1?f.length+" issues":f[0];let E="";E="attach"===y.eventType&&"project"!==y.itemType?Object(u.urlResolve)("project-dashboard",{url:{pid:n},query:{ja:f}}):"screen"===y.itemType&&1===g.length?Object(u.urlResolve)("project-screen",{url:{pid:n,sid:g[0].itemId}}):Object(u.urlResolve)("project-dashboard",{url:{pid:n}});const T=[i.h("span",{key:"itemNames",class:Object(l.default)({bold:1===g.length})},v),g.length>1?" are ":" is ","attach"===y.eventType?"attached to ":"removed from ",i.h("span",{key:"issueKeys",class:Object(l.default)({bold:1===f.length})},O)],_="project"!==y.itemType?i.h(p.default,{name:o,platform:a}):null;return i.h(r.default,{baseRef:t,class:"JiraAttachment",onClick:S,icon:C,header:T,footer:_,updated:m,unread:b,link:E})}h.propTypes={onClick:a.a.func,unread:a.a.bool,barrelId:a.a.string.isRequired,barrelName:a.a.string.isRequired,platform:a.a.string.isRequired,actionName:a.a.string.isRequired,updated:a.a.string.isRequired,items:a.a.array.isRequired,issueKeys:a.a.arrayOf(a.a.string).isRequired},t.default=h},function(e,t,n){"use strict";n.r(t),t.default={AttachProjectToJiraIssue:{eventType:"attach",itemType:"project"},AttachSectionToJiraIssue:{eventType:"attach",itemType:"section"},AttachScreenToJiraIssue:{eventType:"attach",itemType:"screen"},RemoveProjectJiraIssueAttachment:{eventType:"remove",itemType:"project"},RemoveSectionJiraIssueAttachment:{eventType:"remove",itemType:"section"},RemoveScreenJiraIssueAttachment:{eventType:"remove",itemType:"screen"}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(724);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(725),a=n.n(o),r=n(743),s=n(753),l=n(505),c=n.n(l),d=n(519),u=n.n(d),p=n(537),h=n(245),f=n(395),g=n(416),m=n(244),b=n(765),S=n(269),y=n.n(S),C=n(357),v=n(766);n(841);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class _ extends i.Component{constructor(e){super(e),this.handleUserMenuSelect=this.handleUserMenuSelect.bind(this),this.handleEmotarsSelect=this.handleEmotarsSelect.bind(this),this.handleEmotarClick=this.handleEmotarClick.bind(this)}handleUserMenuSelect(){this.props.onSelectedViewChange(C.USER_MENU)}handleEmotarsSelect(){this.props.onSelectedViewChange(C.EMOTARS)}handleEmotarClick(e){const{selectedEmotar:t,onEmotarChange:n}=this.props;e!==t&&n(e)}renderEmotarsSection(){const{avatar:e,selectedEmotar:t}=this.props;return i.h("section",{class:"emotarsSection",ref:Object(g.default)(this,C.EMOTARS)},i.h(r.default,{avatarUrl:e,selectedEmotar:t,onEmotarClick:this.handleEmotarClick,onBackButtonClick:this.handleUserMenuSelect}))}renderUserMenuSection(){const{currentAvatar:e,username:t,fullName:n,email:o,organizations:r,verified:s,paymentPlan:l,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onEmailNotificationToggle:u,onDesktopNotificationToggle:p,onUpdatePlanClick:h,onLogout:f}=this.props;return i.h("section",{class:"userMenuSection",ref:Object(g.default)(this,C.USER_MENU)},i.h(a.a,{avatarUrl:e,username:t,fullName:n,email:o,organizations:r,verified:s,paymentPlanName:l.name,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onUpdatePlanClick:h,onEmailNotificationToggle:u,onDesktopNotificationToggle:p,onLogoutClick:f,onAvatarClick:this.handleEmotarsSelect}))}render(){const{selectedView:e}=this.props,t=Object(f.default)("userMenuContainer",e);return i.h("div",{ref:Object(g.default)(this,"container"),class:t},this.renderUserMenuSection(),this.renderEmotarsSection())}}class P extends i.Component{constructor(e){super(e),this.handleToggleEmailNotification=this.handleToggleEmailNotification.bind(this),this.handleToggleDesktopNotification=this.handleToggleDesktopNotification.bind(this),this.handleUpdatePlanClick=this.handleUpdatePlanClick.bind(this),this.showDialog=this.showDialog.bind(this),this.closeDialog=this.closeDialog.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.state={showUserMenu:!1,isDialogVisible:!1}}static calculateState(){const{organizations:e,loadingProfiles:t,organizationProfiles:n}=y.a.OrganizationStore.getState(),i=t?[]:e.filter(({_id:e})=>n[e]&&!n[e].restricted).sort(h.sortBy.name),o=y.a.UserStore.getState(),{userId:a,email:r,avatar:s,emotar:l}=o,c=T(o,["userId","email","avatar","emotar"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({organizations:i,userId:a,email:r,emotar:l,avatar:s,currentAvatar:Object(m.getUserAvatar)({email:r,emotar:l,avatar:s,_id:a}).src},c)}static getStores(){return[y.a.UserStore,y.a.OrganizationStore]}showDialog(){this.setState({isDialogVisible:!0})}closeDialog(){this.setState({isDialogVisible:!1})}handleToggleEmailNotification(){const{isEmailNotificationEnabled:e}=this.state;b.default.updateEmailNotifications(!e)}handleToggleDesktopNotification(){const{isDesktopNotificationEnabled:e}=this.state;"default"===Notification.permission?Notification.requestPermission(e=>{b.default.setDesktopNotifications("granted"===e)}):"granted"===Notification.permission?b.default.setDesktopNotifications(!e):"denied"===Notification.permission&&this.showDialog()}handleUpdatePlanClick(){this.setState({showUserMenu:!1},()=>{Object(v.showPlanChooserOverlay)("Profile")})}handlePopoverOpen(){this.setState({showUserMenu:!0})}handlePopoverClose(){this.setState({showUserMenu:!1}),b.default.setSelectedView(C.USER_MENU)}render(){const{username:e,fullName:t,email:n,avatar:o,emotar:a,currentAvatar:r,verified:l,paymentPlan:c,organizations:d,isEmailNotificationEnabled:h,isDesktopNotificationEnabled:f,isDialogVisible:g,selectedView:m,showUserMenu:S}=this.state,y=i.h("div",null,i.h(_,{username:e,fullName:t,email:n,avatar:o,currentAvatar:r,verified:l,paymentPlan:c,selectedEmotar:a,organizations:d,selectedView:m,isDesktopNotificationEnabled:f,isEmailNotificationEnabled:h,onEmailNotificationToggle:this.handleToggleEmailNotification,onDesktopNotificationToggle:this.handleToggleDesktopNotification,onUpdatePlanClick:this.handleUpdatePlanClick,onSelectedViewChange:b.default.setSelectedView,onEmotarChange:b.default.updateUserEmotar,onLogout:b.default.logout}),g&&i.h(s.BasicOverlayDialog,{message:"You need to enable notifications from browser settings.",positiveButtonText:"OK",onPositiveButtonClick:this.closeDialog,hideNegativeButton:!0}));return i.h(p.default,{open:S,content:y,onClose:this.handlePopoverClose,onOpen:this.handlePopoverOpen},i.h("button",{class:"currentUser noSelect",title:e},i.h(u.a,{src:r,size:28})))}}t.default=c()(P,{withProps:!0})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(726);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(727)),r=i(n(733)),s=i(n(736)),l=i(n(400)),c=i(n(739)),d=n(242);n(742),t.default=function(e){const{avatarUrl:t,username:n,fullName:i,email:u,verified:p,paymentPlanName:h,organizations:f,isDesktopNotificationEnabled:g,isEmailNotificationEnabled:m,onUpdatePlanClick:b,onDesktopNotificationToggle:S,onEmailNotificationToggle:y,onAvatarClick:C,onLogoutClick:v}=e;return o.h("div",{class:"userMenu"},o.h(a.default,{profileLink:"/profile",avatarUrl:t,username:n,fullName:i,info:u,verified:p,onAvatarClick:C}),f.length>0&&o.h(o.Fragment,null,o.h("div",{class:"menuSeparator"}),f.map(e=>{const t=d.urlResolve("organization-dashboard",{url:{oid:e._id}});return o.h(r.default,{key:e._id,avatarUrl:e.logo,organizationName:e.name,organizationStatus:e.status,organizationLink:t})})),o.h("div",{class:"menuSeparator"}),0===f.length&&o.h(s.default,{menuLabel:h,iconUrl:"img/icPlan.svg",actionContent:o.h(l.default,{class:"updatePlanButton"},"Update Plan"),onClick:b}),o.h(s.default,{menuLabel:"Desktop Notifications",iconUrl:"img/icNotification.svg",actionContent:o.h(c.default,{checked:g}),onClick:S}),o.h(s.default,{menuLabel:"Email Notifications",actionContent:o.h(c.default,{checked:m}),onClick:y}),o.h("div",{class:"menuSeparator"}),o.h(s.default,{menuLabel:"Log out",onClick:v}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(728);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(729));n(732),t.default=function(e){const{avatarUrl:t,username:n,fullName:i,info:r,profileLink:s,verified:l,onAvatarClick:c}=e,d=i||n;return o.h("a",{class:"menuUserItem",href:s},o.h(a.default,{onClick:function(e){e.preventDefault(),c()},src:t,size:64}),o.h("div",{class:"infoContainer"},o.h("span",{class:"username ellipsis",title:d},d),o.h("span",{class:"info ellipsis"},r),!l&&o.h("span",{class:"status"},"Not verified yet.")))}},function(e,t,n){"use strict";n.r(t);var i=n(730);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(519),a=n.n(o);n(731);t.default=function(e){const t=Object.assign({},e);return delete t.onClick,i.h("div",{class:"updatableAvatar",onClick:e.onClick},i.h(a.a,t))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(734);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(519));n(735),t.default=function({organizationName:e,organizationLink:t,organizationStatus:n,avatarUrl:i}){return o.h("a",{class:"menuOrganizationItem",href:t},o.h(a.default,{src:i,type:"organization",size:64,bgSize:36}),o.h("div",{class:"infoContainer"},o.h("span",{class:"organizationName ellipsis",title:e},e),o.h("span",{class:"info"},"Organization"),"frozen"===n&&o.h("span",{class:"status"},"Organization suspended")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(737);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(249);n(738),t.default=function({menuLabel:e,iconUrl:t,actionContent:n,onClick:a}){return i.h("div",{onClick:a,class:"menuItem noSelect"},i.h("div",{class:"menuIcon"},t&&i.h("img",{src:o.imageUrl(t)})),i.h("span",{class:"menuLabel ellipsis"},e),n)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(740);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(741);class a extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange&&(e.preventDefault(),e.stopPropagation(),this.props.onChange())}render(){const{checked:e}=this.props;return i.h("div",{onClick:this.handleChange,class:Object(o.default)("switch",{switchOn:e})},i.h("input",{type:"checkbox",checked:e,class:"preferenceCheckbox"}),i.h("div",{class:"switchKnob"}))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(744);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(745),s=n(729),l=n(400),c=n(438),d=n(249),u=n(242);n(752);function p(e){const{onEmotarClick:t,onBackButtonClick:n,avatarUrl:o,selectedEmotar:a}=e;let p=null;return a?p=Object(d.emotarUrl)(a):o&&(p=o),i.h("div",{class:"emotars"},i.h("h2",null,i.h(l.default,{class:"backButton",onClick:n},i.h(c.IconArrowLeft,{color:"var(--gandalf)"})," ",i.h("span",null,"Back")),i.h("span",null,"How is your mood today?")),i.h("div",{class:"avatarContainer"},i.h("a",{href:Object(u.urlResolve)("profile")},i.h(s.default,{src:p,size:64}))),i.h(r.default,{onEmotarClick:t,avatarUrl:o,selectedEmotar:a}))}p.propTypes={onEmotarClick:a.a.func.isRequired,onBackButtonClick:a.a.func.isRequired,avatarUrl:a.a.string,selectedEmotar:a.a.string},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(746);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(747),s=n(519),l=n.n(s),c=n(750),d=n(395);n(751);class u extends i.Component{constructor(e){super(e),this.handleRandomClick=this.handleRandomClick.bind(this),this.handleSmallAvatarClick=this.handleSmallAvatarClick.bind(this)}handleRandomClick(){const{onEmotarClick:e}=this.props,t=Math.floor(Math.random()*c.default.length);e(c.default[t])}handleSmallAvatarClick(){this.props.onEmotarClick(null)}render(){const{onEmotarClick:e,avatarUrl:t,selectedEmotar:n}=this.props,o=Object(d.default)("emotar",{selected:!!t&&!n});return i.h("div",{class:"emotarList"},t?i.h("div",{onClick:this.handleSmallAvatarClick,class:o},i.h(l.a,{src:t,size:36})):i.h(r.default,{onClick:this.handleRandomClick,emotar:"random",selected:"random"===n}),c.default.map(t=>i.h(r.default,{key:t,onClick:e,emotar:t,selected:t===n})))}}u.propTypes={onEmotarClick:a.a.func.isRequired,selectedEmotar:a.a.bool,avatarUrl:a.a.string},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(748);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(519),s=n.n(r),l=n(395),c=n(249);n(749);class d extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,emotar:t}=this.props;e(t)}render(){const{emotar:e,selected:t}=this.props,n=Object(l.default)("emotar","noSelect",{selected:t}),o=Object(c.emotarUrl)(e);return i.h("div",{onClick:this.handleClick,class:n},i.h(s.a,{src:o,size:36}))}}d.propTypes={onClick:a.a.func.isRequired,emotar:a.a.string.isRequired,selected:a.a.bool},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t),t.default=["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"]},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(754);n.d(t,"BasicOverlayDialog",(function(){return i.default}));var o=n(762);n.d(t,"DismissibleOverlayDialog",(function(){return o.default}));var a=n(756);n.d(t,"default",(function(){return a.default}))},function(e,t,n){"use strict";n.r(t);var i=n(755);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395),s=n(756);n(761);function l(e){const{title:t,message:n,positiveButtonText:o,negativeButtonText:a,fallbackButtonText:l,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:p,onClose:h,width:f,loading:g,class:m}=e;return i.h(s.default,{class:Object(r.default)("basicDialog",m,{onlyMessage:!t}),positiveButtonText:o,negativeButtonText:a,fallbackButtonText:l,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:p,width:f,loading:g,onClose:h},i.h("div",{class:"dialogBody"},t&&i.h("h1",{class:"title"},t),i.h("div",{class:"message"},n)))}l.displayName="BasicDialog",l.defaultProps={width:400},l.propTypes={title:a.a.string,message:a.a.string.isRequired,positiveButtonText:a.a.string,negativeButtonText:a.a.string,fallbackButtonText:a.a.string,onPositiveButtonClick:a.a.func,onNegativeButtonClick:a.a.func,onFallbackButtonClick:a.a.func,hideNegativeButton:a.a.bool,onClose:a.a.func,width:a.a.number,loading:a.a.bool},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(757),s=n(511),l=n(395),c=n(245);n(760);class d extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())},(n="handleKeyDown")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.isDismissable&&document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{baseRef:e,class:t,children:n,positiveButtonText:o,negativeButtonText:a,fallbackButtonText:d,positiveButtonType:u,negativeButtonType:p,fallbackButtonType:h,positiveButtonDisabled:f,negativeButtonDisabled:g,fallbackButtonDisabled:m,onPositiveButtonClick:b,onNegativeButtonClick:S,onFallbackButtonClick:y,hideNegativeButton:C,onClose:v,width:O,height:E,footer:T,showBackdrop:_,isDismissable:P,loading:j,loadingText:D}=this.props;return i.h(s.default,null,i.h("div",{class:Object(l.default)("overlayDialogContainer",{showBackdrop:_}),onClick:P&&v},i.h("div",{ref:e,class:Object(l.default)("overlayDialog",t,{loading:j,hasLoadingText:Boolean(D)}),style:{width:O,height:E},onClick:c.stopPropagation},i.h("div",{class:"overlayDialogContent"},n),i.h(r.default,{positiveButtonText:o,negativeButtonText:a,fallbackButtonText:d,positiveButtonType:u,negativeButtonType:p,fallbackButtonType:h,positiveButtonDisabled:f,negativeButtonDisabled:g,fallbackButtonDisabled:m,onPositiveButtonClick:b||v,onNegativeButtonClick:S||v,onFallbackButtonClick:y||v,hideNegativeButton:C,footer:T,loading:j,loadingText:D}))))}}d.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit",hideNegativeButton:!0,showBackdrop:!0,isDismissable:!0},d.propTypes={positiveButtonText:a.a.string.isRequired,negativeButtonText:a.a.string,fallbackButtonText:a.a.string,positiveButtonType:a.a.string.isRequired,negativeButtonType:a.a.string.isRequired,fallbackButtonType:a.a.string.isRequired,positiveButtonDisabled:a.a.bool,negativeButtonDisabled:a.a.bool,fallbackButtonDisabled:a.a.bool,onPositiveButtonClick:a.a.func,onNegativeButtonClick:a.a.func,onFallbackButtonClick:a.a.func,hideNegativeButton:a.a.bool,width:a.a.number.isRequired,height:a.a.number,class:a.a.string,onClose:a.a.func.isRequired,children:a.a.node.isRequired,footer:a.a.node,showBackdrop:a.a.bool,isDismissable:a.a.bool,loading:a.a.bool,loadingText:a.a.string},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(758);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395),s=n(249);n(759);const{h:l}=i;function c(e){const{positiveButtonText:t,negativeButtonText:n,fallbackButtonText:o,positiveButtonType:a,negativeButtonType:l,fallbackButtonType:c,positiveButtonDisabled:d,negativeButtonDisabled:u,fallbackButtonDisabled:p,onPositiveButtonClick:h,onNegativeButtonClick:f,onFallbackButtonClick:g,hidePositiveButton:m,hideNegativeButton:b,footer:S,loading:y,loadingText:C}=e;return i.h("form",{method:"dialog",class:Object(r.default)("buttonsContainer",{loading:y,hasLoadingText:Boolean(C)})},S&&i.h("div",{class:"footer"},S),!y&&o&&i.h("button",{class:"secondary fallback",onClick:g,type:c,disabled:p},o),!y&&!b&&i.h("button",{class:"secondary",onClick:f,type:l,disabled:u},n),!m&&i.h("button",{autoFocus:!0,className:"primary",onClick:h,type:a,disabled:y||d},y?i.h(i.Fragment,null,i.h("img",{src:Object(s.imageUrl)("img/icSpinnerBlue.svg"),className:"spinning"}),C):t))}c.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hidePositiveButton:!1,hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},c.propTypes={positiveButtonText:a.a.string.isRequired,negativeButtonText:a.a.string,fallbackButtonText:a.a.string,positiveButtonType:a.a.string.isRequired,negativeButtonType:a.a.string.isRequired,fallbackButtonType:a.a.string.isRequired,positiveButtonDisabled:a.a.bool,negativeButtonDisabled:a.a.bool,fallbackButtonDisabled:a.a.bool,onPositiveButtonClick:a.a.func,onNegativeButtonClick:a.a.func,onFallbackButtonClick:a.a.func,hidePositiveButton:a.a.bool,hideNegativeButton:a.a.bool,footer:a.a.node,loading:a.a.bool,loadingText:a.a.string},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(763);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395),s=n(756),l=(n(764),n(396)),c=n.n(l);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{dismissChecked:!1}),d(this,"handleDismissCheckChange",e=>{this.setState({dismissChecked:e.target.checked})}),d(this,"handlePositiveButtonClick",()=>{const{dismissPrefKey:e,onPositiveButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),d(this,"handleNegativeButtonClick",()=>{const{dismissPrefKey:e,onNegativeButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),d(this,"handleFallbackButtonClick",()=>{const{dismissPrefKey:e,onFallbackButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),d(this,"handleClose",()=>{const{dismissPrefKey:e,onClose:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})})}componentDidMount(){const{dismissChecked:e}=this.props;this.setState({dismissChecked:e})}componentDidUpdate(e){e.dismissChecked!==this.props.dismissChecked&&this.setState({dismissChecked:this.props.dismissChecked})}render(){const{title:e,message:t,positiveButtonText:n,negativeButtonText:o,fallbackButtonText:a,dismissText:l,hideNegativeButton:d,width:u,loading:p,class:h}=this.props,{dismissChecked:f}=this.state,g=Array.isArray(t)?t:[t];return i.h(s.default,{class:Object(r.default)("dismissibleDialog",h,{onlyMessage:!e}),positiveButtonText:n,negativeButtonText:o,fallbackButtonText:a,onPositiveButtonClick:this.handlePositiveButtonClick,onNegativeButtonClick:this.handleNegativeButtonClick,onFallbackButtonClick:this.handleFallbackButtonClick,hideNegativeButton:d,width:u,loading:p,onClose:this.handleClose},i.h("div",{class:"dialogBody"},e&&i.h("h1",{class:"title"},e),i.h("div",{class:"message"},g.map((e,t)=>i.h("p",{key:t},e))),i.h("label",{class:"dismissText"},i.h(c.a,{onChange:this.handleDismissCheckChange,checked:f}),i.h("span",null,l))))}}u.displayName="DismissibleOverlayDialog",u.defaultProps={dismissText:"Do not show this message again",dismissChecked:!1,width:400},u.propTypes={title:a.a.string,message:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),dismissPrefKey:a.a.string.isRequired,dismissText:a.a.string,dismissChecked:a.a.bool,positiveButtonText:a.a.string,negativeButtonText:a.a.string,fallbackButtonText:a.a.string,onPositiveButtonClick:a.a.func,onNegativeButtonClick:a.a.func,onFallbackButtonClick:a.a.func,hideNegativeButton:a.a.bool,onClose:a.a.func,width:a.a.number,loading:a.a.bool},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(356),o=n(269),a=n.n(o),r=n(262),s=n(245),l=n(258);const c=Object(s.debouncePromise)(l.updateEmailNotifications);function d(e,t){a.a.dispatcher.dispatch({type:i.default.SET_USER_ATTRIBUTE,name:e,value:t})}const u={loadUser(e){a.a.dispatcher.dispatch({type:i.default.LOAD_USER,user:e})},updateUser(e){a.a.dispatcher.dispatch({type:i.default.UPDATE_USER,user:e})},setUsername(e){d("username",e)},setEmail(e){d("email",e)},setFullName(e){d("fullName",e)},setBio(e){d("bio",e)},setEmotar(e){d("emotar",e)},setAvatar(e){d("avatar",e)},setEmailNotifications(e){d("isEmailNotificationEnabled",e)},setVerified(){d("verified",!0)},setDesktopNotifications(e){d("isDesktopNotificationEnabled",e)},setBilling(e){d("billing",e)},setSelectedView(e){a.a.dispatcher.dispatch({type:i.default.SET_SELECTED_VIEW,selectedView:e})},updateEmailNotifications(e){const t=Zeplin.user.emailNotifications;u.setEmailNotifications(e),c(e).then(()=>{Zeplin.updateUser({emailNotifications:e})}).catch(e=>{u.setEmailNotifications(t),r.handleError(e)})},updateUserEmotar(e){const t=Zeplin.user.emotar;u.setEmotar(e),Object(l.updateUserEmotar)(e).then(()=>{Zeplin.updateUser({emotar:e}),mixpanel.master.track("Updated emotar",{Emoji:e})}).catch(e=>{u.setEmotar(t),r.handleError(e)})},markZeplinThreeZeroWhatsNewAsSeen(){a.a.dispatcher.dispatch({type:i.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN})},stopPromotingSpacingSectionDescriptionEditButton(){a.a.dispatcher.dispatch({type:i.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON})},hideStyleguideTutorial(){a.a.dispatcher.dispatch({type:i.default.HIDE_STYLEGUIDE_TUTORIAL})},acquaintancesRequested(){a.a.dispatcher.dispatch({type:i.default.ACQUAINTANCES_REQUESTED})},setAcquaintances(e){a.a.dispatcher.dispatch({type:i.default.SET_ACQUAINTANCES,acquaintances:e})},getAcquaintancesFailed(e){a.a.dispatcher.dispatch({type:i.default.GET_ACQUAINTANCES_FAILED,error:e})},logout(){Object(l.logoutUser)().finally(Zeplin.logout)}};t.default=u},function(e,t,n){"use strict";n.r(t),n.d(t,"showPlanChooserOverlay",(function(){return X}));var i=n(4),o=n(232),a=n(767),r=n(575),s=n(241),l=n(262),c=n(258),d=n(242),u=n(245),p=n(231),h=n(389),f=n(768),g=n(829),m=n(835),b=n(770),S=n(838),y=n(839),C=n(228),v=n(840),O=n.n(v);const E=new h.default(f.default,document.body),T=new h.default(b.default,document.body),_=document.getElementById("planChooserOverlay"),P=document.getElementById("planChooserContent"),j=document.getElementById("discountNotice"),D=document.getElementById("couponForm"),k=document.getElementById("couponCode"),I=document.getElementById("plansContainer"),R=document.getElementById("featureCardGallery"),A=document.getElementById("applyCouponButton"),w=document.getElementById("couponWrapper"),N=document.getElementById("friendlyReminderDialog"),L=document.getElementById("cancelFriendlyReminderButton"),x=document.getElementById("continueToPaymentButton");let M,U,B,z,V,W,F,H,G,$;s.polyfill.registerDialog(N);let q=!1;const Z={monthly:{bff:null,banker_bilo:null,free:null,starter:null,growing:null,organization:null},annual:{bff:null,banker_bilo:null,free:null,starter:null,growing:null,organization:null}},K={},Y=Object.freeze({monthly:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_monthly_v2",growing:"growing_monthly_v2",organization:"organization_monthly_unit_price_v2"},annual:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_annual_v2",growing:"growing_annual_v2",organization:"organization_annual_unit_price_v3"}}),J=Object.freeze(["starter_monthly_v2","starter_annual_v2","growing_monthly_v2","growing_annual_v2","organization_monthly_unit_price_v2","organization_annual_unit_price_v3"]);function X(e,t=null){C.isWindowsApp?location.replace(Object(d.urlResolve)("profile-billing",{query:{period:"annual"}})):(_.classList.remove("hidden"),S.default.setOverridingCategory(y.default.PRICING),$=t,mixpanel.master.track("Viewed pricing modal",{Source:e}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup"))}function Q(){_.classList.add("hidden"),S.default.setOverridingCategory(null),$&&($(),$=null)}const ee=document.getElementById("updatePlanButton");function te(e){a.getPlans().then(t=>{const n=t.find(t=>t.id===e);M=e,z=n.price,z?([U,B="monthly"]=e.split("_"),V=U,W=B):(U=e,B="annual",V=U,W=B,ee&&("banker_bilo"===e?ee.querySelector(".bttn").textContent="💰".repeat(3):"bff"===e&&(ee.querySelector(".bttn").textContent="💝"))),P.dataset.currentPlanId=e,"period"in K?(ie(K.period),document.getElementById(K.period+"Payment").checked=!0,delete K.period,X()):(ie(B),document.getElementById(B+"Payment").checked=!0),"coupon"in K&&(k.value=K.coupon,k.parentElement.classList.toggle("typed",!!k.value),ae(K.coupon),delete K.coupon,X())}).catch(l.handleError)}function ne(e,t,n,i){let o=t.price/("monthly"===n?1:12);(function(e,t){if(!t||"annual"===e)return!1;if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return!1;if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return!1;return!0})(W,i)&&(o-="organization"===e?i.percent_off?o*i.percent_off/100:i.amount_off/12:i.percent_off?o*i.percent_off/100:i.amount_off,o=Math.max(o,0)),Z[n][e]=o}function ie(e="monthly",t){W=e,D.classList.toggle("invisible","annual"===e),j.textContent=oe(W,H),a.getPlans().then(n=>{["starter","growing","organization"].forEach(i=>{const o=n.find(t=>Y[e][i]===t.id);ne(i,o,e,t)});if("will_cancel_at_period_end"!==(G||Zeplin.user).subscriptionStatus&&z&&e===B&&"company"!==U&&J.includes(M)){const t=n.find(e=>M===e.id);ne(U,t,e),q=!0}else"organization"===U&&(q="cancel"===K.action)}).catch(l.handleError).finally(()=>{i.render(i.h(g.default,{onChoosePlanClick:de,onCancelPlanClick:se,period:e,currentPeriod:B,planInfo:Z,currentPlan:U,cancelEnabled:q}),I)})}function oe(e,t){if(!t||"annual"===e)return"";if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return"This coupon is expired.";if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return"This coupon is maxed out.";return`${t.percent_off?t.percent_off+"% off":Object(u.formatCurrency)(t.amount_off/100)+" off"} ${function(e,t){switch(t.duration){case"once":return"for the first "+("monthly"===e?"month":"year");case"repeating":return`for ${t.duration_in_months} months`;case"forever":return"forever";default:return""}}(e,t)}.`}function ae(e,t="auto"){(function(e){return e?c.getCoupon(encodeURIComponent(e)):Promise.resolve(null)})(e).then(e=>{H=e,A.disabled=!0,w.classList.add("applied");const n=e.metadata&&e.metadata.source;mixpanel.master.track("Applied coupon",{Type:t,Source:n}),ga("legacyTracker.send","event","PAYMENT_EVENTS","applied-coupon","type:"+t+(n?";source:"+n:""))}).catch(e=>{H=null,A.disabled=!1,l.handleError(e)}).then(()=>{j.textContent=oe(W,H),ie(W,H)})}function re(){const e=G&&G._id;(function(e){return e?c.getOrganizationUpcomingInvoice(e):c.getUserUpcomingInvoice()})(e).then(({invoice:t})=>{Q();const n=Object(u.formatTime)(1e3*t.period_end,{year:"numeric",month:"long",day:"numeric"});E.render({oid:e,organizationPlan:G&&G.paymentPlan,periodEndDate:n,onClose(){E.remove()},onBackClick(){_.classList.remove("hidden"),E.remove()}})}).catch(e=>{l.handleError(e)})}function se(e){e.preventDefault(),re()}Array.from(P.querySelectorAll("[name='paymentPeriod']")).forEach(e=>{e.addEventListener("change",e=>{ie(e.target.value,H)})}),k.parentElement.classList.toggle("typed",!!k.value),k.addEventListener("keyup",()=>{k.parentElement.classList.toggle("typed",!!k.value),k.value||(H=null,ie(W))}),k.addEventListener("blur",()=>{k.parentElement.classList.toggle("typed",!!k.value),k.value||(H=null,ie(W))}),k.addEventListener("input",()=>{A.disabled=H&&H.id===k.value,w.classList.remove("applied")}),D.addEventListener("submit",e=>{e.preventDefault(),ae(k.value,"manual")});const le=O()(e=>{T.render(),function(e,t,n,i){T.render();const o={plan:Y[n][t],stripeToken:e};"monthly"===n&&i&&(o.coupon=i.id),c.createUserSubscription(o).then(()=>{ga("legacyTracker.send","event","PAYMENT_EVENTS","subscribed","to:"+Y[n][t]),Zeplin.updateUser({paymentPlan:Y[n][t]}),location.replace(Object(d.urlResolve)("thanks",{query:{at:"ns"}}))}).catch(e=>{T.remove(),l.handleError(e)})}(e.id,V,W,H)});function ce(e,t){le.open({email:Zeplin.user.email,description:e,panelLabel:t,amount:F}),mixpanel.master.track("Viewed payment modal",{"Prospective Plan":e}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-stripe-popup"),ga("send","pageview","/stripe-popup")}function de(e,t){if(V=e,"organization"===e)location.assign(Object(d.urlResolve)("organization-create",{query:{period:W}}));else if(z)G?(n=G._id,i=e,o=W,r=H,s.create({title:"Downgrade subscription?",message:"You can upgrade again at anytime.",done:{name:"UPDATE",cb(){T.render();const e={plan:Y[o][i]};"monthly"===o&&r&&(e.coupon=r.id),c.downgradeOrganizationSubscription(n,e).then(()=>{Zeplin.updateUser({paymentPlan:Y[o][i]}),location.replace(Object(d.urlResolve)("projects"))}).catch(e=>{T.remove(),l.handleError(e)})}},cancel:{name:"CANCEL"}})):function(e,t,n){s.create({title:"Update subscription?",message:"You can update it again, anytime!",done:{name:"UPDATE",cb(){T.render();const i={plan:Y[t][e]};"monthly"===t&&n&&(i.coupon=n.id),c.updateUserSubscription(i).then(()=>{ga("legacyTracker.send","event","PAYMENT_EVENTS","changed-plan","from:"+Zeplin.user.paymentPlan+";to:"+Y[t][e]),Zeplin.updateUser({paymentPlan:Y[t][e]}),location.replace(Object(d.urlResolve)("thanks",{query:{at:"us"}}))}).catch(e=>{T.remove(),l.handleError(e)})}},cancel:{name:"CANCEL"}}),mixpanel.master.track("Opened change plan dialog",{"Current Plan":Zeplin.user.paymentPlan}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-change-plan-dialog","currentPlan:"+Zeplin.user.paymentPlan)}(e,W,H);else if(F=parseInt(Z[W][e],10),F||"forever"===H.duration){let e;"monthly"===W?e="Pay {{amount}}/mo":(e="Pay {{amount}}/year",F*=12),ce(t,e)}else!function(e,t,n,i){let o;switch(i.duration){case"once":o="30 days";break;case"repeating":o=i.duration_in_months+" months"}Array.from(N.querySelectorAll(".friendlyReminderDuration")).forEach(e=>{e.textContent=o}),N.dataset.planName=t,a.getPlans().then(t=>{const i=t.find(t=>Y[n][e]===t.id);N.querySelector(".friendlyReminderPrice").textContent=i.price/100,N.showModal(),mixpanel.master.track("Opened trial credit card explanation popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-trial-credit-card-explanation-popup")})}(e,t,W,H);var n,i,o,r}L.addEventListener("click",()=>{N.close()}),x.addEventListener("click",()=>{ce(N.dataset.planName,"Subscribe")}),Array.from(P.querySelectorAll(".warning .cancelPlanLink")).forEach(e=>{e.addEventListener("click",se)}),P.addEventListener("click",e=>{e.stopPropagation()}),_.addEventListener("click",()=>{Q()}),_.addEventListener("keydown",e=>{e.stopPropagation()}),document.addEventListener("keydown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&Q()}),location.search&&location.search.substr(1).split("&").forEach(e=>{const[t,n]=e.split("=");K[decodeURIComponent(t)]=decodeURIComponent(n)});const[,ue]=location.pathname.match(/\/organization\/([\da-f]{24})\/profile/i)||[];o.default.get("userToken")&&(ue?c.getOrganization(ue).then(e=>{G=e,"organization_free"!==e.paymentPlan&&te(e.paymentPlan),function(e){const t=r.default.subscribe(p.ORGANIZATION_CHANNEL_PREFIX+e);t.bind("CreateOrganizationSubscription",({body:{plan:e}})=>{G.paymentPlan=e,te(e),ie(B),document.getElementById(B+"Payment").checked=!0}),t.bind("UpdateOrganizationSubscription",({body:{plan:e,subscriptionStatus:t}})=>{G.paymentPlan=e,"will_cancel_at_period_end"===G.subscriptionStatus&&a.hideCancelledSubscriptionBanner(),G.subscriptionStatus=t,te(e),ie(B),document.getElementById(B+"Payment").checked=!0})}(e._id)}).catch(l.handleError):(te(Zeplin.user.paymentPlan),r.userChannel.bind("CreateUserSubscription",({body:{plan:e}})=>{te(e),ie(B),document.getElementById(B+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e})}),r.userChannel.bind("UpdateUserSubscription",({body:{plan:e,subscriptionStatus:t}})=>{te(e),ie(B),document.getElementById(B+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e,subscriptionStatus:t}),a.hideCancelledSubscriptionBanner()}),r.userChannel.bind("CancelUserSubscription",({body:{plan:e,subscriptionStatus:t,subscriptionCancelAt:n}})=>{te(e),ie(B),document.getElementById(B+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e,subscriptionStatus:t,subscriptionCancelAt:n}),a.showCancelledSubscriptionBannerIfNecessary({currentRole:"owner",subscriptionCancelAt:n})}))),i.render([i.h(m.default,{key:"Enterprise",image:"img/artichoke.png",imageClass:"wide",title:"Enterprise",link:!0,action:i.h("a",{href:"mailto:enterprise@zeplin.io?subject=Interested in Zeplin Enterprise Plan"},"Contact us"),cardClass:"enterprise"},i.h("span",{class:"featureCardDescription"},"Peace of mind with built-in security and compliance—including ",i.h("span",null,"SAML single sign-on")," and more! 🔐"),i.h("div",{class:"featureList"},i.h("span",{class:"featureElement"},"SAML single sign-on"),i.h("span",{class:"featureElement"},"Payment by invoice"),i.h("span",{class:"featureElement"},"Master Services Agreement support"),i.h("span",{class:"featureElement"},"Security review"),i.h("span",{class:"featureElement"},"Dedicated Customer Success Manager"),i.h("span",{class:"featureElement"},"1 business day support SLA by email"))),i.h(m.default,{key:"Agency Membership",image:"img/palette.png",title:"Agency Membership",action:i.h("a",{href:p.WEB_URL+"/zam"},"Learn more →")},"Join our community of talented digital agencies who deliver the most impactful experiences with Zeplin and work with your clients with free Zeplin subscriptions."),i.h(m.default,{key:"Students, NGOs, open-source contributors",image:"img/bag.png",title:"Students, NGOs, open-source contributors",action:i.h("a",{href:"mailto:support@zeplin.io?subject=Zeplin <3 Students, NGO, open-source"},"Contact us →")},"Proud to support our community! If you're student, working on a non-profit/open-source project, get the Starter Plan for free.")],R)},function(e,t,n){"use strict";n.r(t),n.d(t,"getPlans",(function(){return u})),n.d(t,"getPlanById",(function(){return p})),n.d(t,"showFailedPaymentBanner",(function(){return g})),n.d(t,"hideFailedPaymentBanner",(function(){return m})),n.d(t,"showCancelledSubscriptionBannerIfNecessary",(function(){return b})),n.d(t,"hideCancelledSubscriptionBanner",(function(){return S})),n.d(t,"showOrganizationFrozenBanner",(function(){return C})),n.d(t,"hideOrganizationFrozenBanner",(function(){return v})),n.d(t,"updateEmotar",(function(){return y}));var i,o=n(232),a=n(576),r=n(258),s=n(242),l=n(246),c=n(231),d=n(428);function u(){return i?Promise.resolve(i):r.getPlans().then(e=>i=Object.freeze(e))}function p(e){return u().then(t=>t.find(t=>t.id===e))}window.addEventListener("storage",(function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}})),function(){var e=window,t=e.Intercom;function n(){var e=i.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/"+c.INTERCOM_APP_ID;var t=i.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}if("function"==typeof t)t("reattach_activator"),t("update",intercomSettings);else{var i=document,o=function(){o.c(arguments)};o.q=[],o.c=function(e){o.q.push(e)},e.Intercom=o,e.attachEvent?e.attachEvent("onload",n):e.addEventListener("load",n,!1)}}(),o.default.get("userToken")&&Intercom("boot",{app_id:c.INTERCOM_APP_ID,user_id:Zeplin.user._id,user_hash:Zeplin.user.intercomHash,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan});const h=document.querySelector("#billingTab");function f(e,t){if(a.closeBanner("payment"),h){e.preventDefault();const n=`Billing - ${"organization"===t?"Organization ":""}Profile - Zeplin`;history.replaceState({},n,e.target.href),document.querySelector("title").textContent=n,document.querySelector("header.tabs").dataset.selection="billing",h.checked=!0}}function g(e){let t,n;e.oid?"queen"!==e.currentRole&&"king"!==e.currentRole||(t=`Payment failed: Please <a href="${Object(s.urlResolve)("organization-profile-billing",{url:{oid:e.oid}})}">update</a> organization payment information to keep ${e.isGeneric?"projects":"this project"} active.`,n={a(e){f(e,"organization")}}):"owner"===e.currentRole?(t=`Payment failed: Please <a href="${Object(s.urlResolve)("profile-billing")}">update</a> your payment information to keep ${e.isGeneric?"your projects":"this project"} active.`,n={a(e){f(e,"user")}}):t=`Payment failed: Please contact the owner (<a href="mailto:${e.ownerEmail}" target="_blank">${e.ownerEmail}</a>) of this project and ask them to update their payment information, to keep this project active.`,t&&a.show({contentType:"html",group:"payment",content:t,bodyCallbacks:n})}function m(){a.closeBanner("payment")}function b(e){const{oid:t,currentRole:n,subscriptionCancelAt:i}=e,o=Object(d.getDateDifference)("h",new Date,i);if(o>168)return;let r,c=Math.floor(o/24);c>0&&o%24>=3&&c++;let u=`Since your subscription is cancelled, your projects and styleguides will be archived automatically in ${c<1?"less than a day":""+Object(l.pluralize)(c,"day")}.`;!t||"queen"!==n&&"king"!==n?"owner"===n&&(u+=` <a href="${Object(s.urlResolve)("profile-billing")}">Resubscribe</a>`,r={a(e){f(e,"user")}}):(u+=` <a href="${Object(s.urlResolve)("organization-profile-billing",{url:{oid:e.oid}})}">Resubscribe</a>`,r={a(e){f(e,"organization")}}),a.show({contentType:"html",group:"cancelledSubscription",content:u,bodyCallbacks:r})}function S(){a.closeBanner("cancelledSubscription")}function y(e){return r.updateUserEmotar(e)}function C(e){let t,n;["king","queen"].includes(e.currentRole)?(n=`Due to a failed payment, your organization has been suspended. Please <a href="${Object(s.urlResolve)("organization-profile-billing",{url:{oid:e.oid}})}">update</a> the payment information to re-activate the organization.`,t={a(e){f(e,"organization")}}):n="Due to a failed payment, your organization has been suspended. Contact an Admin to update the payment information and activate the organization.",a.show({content:n,contentType:"html",group:"organizationFrozen",bodyCallbacks:t})}function v(){a.closeBanner("organizationFrozen")}},function(e,t,n){"use strict";n.r(t);var i=n(769);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(262),a=n(258),r=n(242),s=n(770),l=n(773),c=n(823),d=n(826),u=n(753);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){location.replace(Object(r.urlResolve)("profile-account"))}function f(){Intercom("showNewMessage")}class g extends i.Component{constructor(...e){super(...e),p(this,"state",{loading:!1,transferEmail:"",transferPlanFormShown:!1,transferPlanFormError:"",cancelReason:"",cancelDescription:"",transferPlanWarningDialogShown:!1,transferOrgOwnershipDialogShown:!1,subscriptionCancelledDialogShown:!1,cancelPlanDialogShown:!1}),p(this,"hideTransferPlanWarningDialog",()=>{this.setState({transferPlanWarningDialogShown:!1})}),p(this,"hideTransferOrgOwnershipDialog",()=>{this.setState({transferOrgOwnershipDialogShown:!1})}),p(this,"hideCancelPlanDialog",()=>{this.setState({cancelPlanDialogShown:!1})}),p(this,"hideSubscriptionCancelledDialog",()=>{this.setState({subscriptionCancelledDialogShown:!1})}),p(this,"performTransferUserPlan",()=>{const{transferEmail:e}=this.state;this.setState({loading:!0}),Object(a.transferUserSubscription)(e).then(()=>{this.setState({loading:!1}),Zeplin.user.paymentPlan="free",delete Zeplin.user.subscriptionStatus,location.replace(Object(r.urlResolve)("profile-billing"))}).catch(e=>{this.setState({loading:!1}),Object(o.handleError)(e)})}),p(this,"performCancelUserPlan",()=>{const{cancelReason:e,cancelDescription:t}=this.state;this.setState({loading:!0}),Object(a.cancelUserSubscription)({reason:e,description:t}).then(()=>{Zeplin.updateUser({subscriptionStatus:"will_cancel_at_period_end"}),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(o.handleError)(e)})}),p(this,"performCancelOrgPlan",()=>{const{oid:e}=this.props,{cancelReason:t,cancelDescription:n}=this.state;this.setState({loading:!0}),Object(a.cancelOrganizationSubscription)(e,{reason:t,description:n}).then(()=>{this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(o.handleError)(e)})}),p(this,"performCancelPlan",()=>{this.props.oid?this.performCancelOrgPlan():this.performCancelUserPlan()}),p(this,"handleQuestionChange",()=>{this.state.transferPlanFormShown&&this.setState({transferPlanFormShown:!1})}),p(this,"handleGoToOrgDashboardClick",()=>{const{oid:e}=this.props;location.replace(Object(r.urlResolve)("organization-dashboard",{url:{oid:e}}))}),p(this,"handleCancelPlanClick",(e,t)=>{this.setState({cancelReason:e,cancelDescription:t,cancelPlanDialogShown:!0})}),p(this,"handleTransferPlanFormSubmit",e=>{this.setState({transferPlanFormError:""}),function(e){return e===Zeplin.user.email?Promise.reject(new Error("C'mon, that's you")):new Promise((t,n)=>{Object(a.getUserStatus)(e).then(e=>{"invited"!==e.status?t():n(new Error("No registered user with this email"))}).catch(e=>{Object(o.handleError)(e,{serverErrorHandler:()=>n(new Error("Something is wrong :(")),clientErrorHandler:{404:()=>{n(new Error("No registered user with this email"))}},fallbackHandler:()=>{n(new Error("Something is wrong :("))}})})})}(e).then(()=>{this.setState({transferEmail:e,transferPlanWarningDialogShown:!0})}).catch(e=>{this.setState({transferPlanFormError:e.message})})}),p(this,"handleTransferPlanClick",()=>{const{oid:e}=this.props;e?this.setState({transferOrgOwnershipDialogShown:!0}):this.setState({transferPlanFormShown:!0})}),p(this,"handleCancelPlanSuccess",()=>{const{oid:e}=this.props;e?location.replace(Object(r.urlResolve)("organization-profile-billing",{url:{oid:e}})):location.replace(Object(r.urlResolve)("profile-billing"))})}render(){const{onClose:e,onBackClick:t,periodEndDate:n}=this.props,{loading:o,transferEmail:a,transferPlanFormError:r,transferPlanFormShown:p,subscriptionCancelledDialogShown:g,cancelPlanDialogShown:m,transferPlanWarningDialogShown:b,transferOrgOwnershipDialogShown:S}=this.state;return i.h(i.Fragment,null,i.h(l.default,{onClose:e,onBackClick:t,onCancelPlanClick:this.handleCancelPlanClick,onTransferPlanClick:this.handleTransferPlanClick,onTransferPlanFormSubmit:this.handleTransferPlanFormSubmit,onQuestionChange:this.handleQuestionChange,onChangeEmailClick:h,onContactSupportClick:f,transferPlanFormError:r,transferPlanFormShown:p}),o&&i.h(s.default,null),b&&i.h(c.default,{email:a,onClose:this.hideTransferPlanWarningDialog,onTransfer:this.performTransferUserPlan}),S&&i.h(u.BasicOverlayDialog,{title:"Transfer ownership?",message:'To transfer the ownership of the organization, select the user in the organization dashboard and click "Transfer Ownership"',positiveButtonText:"GO TO DASHBOARD",onPositiveButtonClick:this.handleGoToOrgDashboardClick,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.hideTransferOrgOwnershipDialog}),m&&i.h(d.default,{periodEndDate:n,onCancelPlan:this.performCancelPlan,onClose:this.hideCancelPlanDialog}),g&&i.h(u.BasicOverlayDialog,{title:"Subscription cancelled successfully",message:"Let us know if there's anything bothering you: support@zeplin.io",positiveButtonText:"OK",onPositiveButtonClick:this.handleCancelPlanSuccess,onClose:this.hideSubscriptionCancelledDialog}))}}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(771);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(772);function o(){return i.h("div",{class:"loadingOverlay"},i.h("div",{class:"ripple ripple1"}),i.h("div",{class:"ripple ripple2"}),i.h("div",{class:"ripple ripple3"}),i.h("div",{class:"ripple ripple4"}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(774);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(775),a=n(778),r=n(781),s=n(438);n(822);t.default=function(e){const{onClose:t,onBackClick:n,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:p,onQuestionChange:h,transferPlanFormError:f,transferPlanFormShown:g}=e;return i.h(o.default,{onClose:t},i.h("div",{class:"cancelPlanModal"},i.h("div",{class:"cancelPlanHeader"},i.h("button",{class:"cancelPlanHeaderButton",onClick:n},i.h(s.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",{class:"cancelPlanHeaderButtonText"},"Plans"))),i.h("div",{class:"cancelPlanHero"},i.h("h2",{class:"title"},"Why are you cancelling?"),i.h("p",{class:"text"},"It's sad to see you go. Tell us why you're cancelling, maybe we can help!")),i.h(a.default,null),i.h(r.default,{onBackClick:n,onQuestionChange:h,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:p,transferPlanFormShown:g,transferPlanFormError:f})))}},function(e,t,n){"use strict";n.r(t);var i=n(776);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(245);n(777);class s extends i.Component{constructor(e){super(e),this.handleClose=this.handleClose.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this)}handleClose(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose(e))}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onClose&&this.props.onClose(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeydown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown)}render(){const{children:e}=this.props;return i.h("div",{class:"overlay",onClick:this.handleClose},i.toChildArray(e).map(e=>i.cloneElement(e,{onClick:r.stopPropagation})))}}s.propTypes={onClose:a.a.func},t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(779);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(780);function o(){return i.h("div",{class:"covidNotice"},"Here at Zeplin, we value our community—if you’re having financial/budgetary issues due to the current state of events, please contact us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io"),". We’d love to help.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(782);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(783),a=n(785);n(821);t.default=function(e){const{onBackClick:t,onCancelPlanClick:n,onTransferPlanFormSubmit:r,onTransferPlanClick:s,onChangeEmailClick:l,onContactSupportClick:c,transferPlanFormError:d,transferPlanFormShown:u,onQuestionChange:p}=e;return i.h(o.default,{class:"cancelPlanSurvey",onChange:p},i.h(a.WrongAccount,{onTransferPlanClick:s,onTransferPlanFormSubmit:r,onChangeEmailClick:l,transferPlanFormShown:u,transferPlanFormError:d}),i.h(a.SubscribedAnnually,{onBackClick:t}),i.h(a.MovedToTeamPlan,{onCancelPlanClick:n}),i.h(a.SwitchedToAnotherTool,{onCancelPlanClick:n}),i.h(a.RanIntoIssue,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(a.TooExpensive,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(a.ProjectEnded,{onCancelPlanClick:n}),i.h(a.Other,{onCancelPlanClick:n}))}},function(e,t,n){"use strict";n.r(t);var i=n(784);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);class o extends i.Component{constructor(e){super(e),this.state={index:-1},this.handleSelectQuestion=this.handleSelectQuestion.bind(this)}handleSelectQuestion(e){this.props.onChange&&this.props.onChange(e.target.value),this.setState({index:Number(e.target.value)})}render(){const{index:e}=this.state,{class:t,children:n}=this.props;return i.h("div",{class:t},i.toChildArray(n).map((t,n)=>i.cloneElement(t,{value:n,selected:e===n,onSelect:this.handleSelectQuestion})))}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(786);n.d(t,"MovedToTeamPlan",(function(){return i.default}));var o=n(800);n.d(t,"Other",(function(){return o.default}));var a=n(810);n.d(t,"ProjectEnded",(function(){return a.default}));var r=n(811);n.d(t,"RanIntoIssue",(function(){return r.default}));var s=n(812);n.d(t,"SubscribedAnnually",(function(){return s.default}));var l=n(816);n.d(t,"SwitchedToAnotherTool",(function(){return l.default}));var c=n(817);n.d(t,"TooExpensive",(function(){return c.default}));var d=n(818);n.d(t,"WrongAccount",(function(){return d.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(787),a=n(790),r=n(793),s=n(799);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(s.MOVED_TO_TEAM_PLAN)}render(){const{onSelect:e,selected:t,value:n}=this.props,s=[i.h("p",null,"Glad to hear that you'll be getting more out of Zeplin together! 👨‍👩‍👦‍👦"),i.h(o.default,null,i.h(a.default,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(r.default,{onSelect:e,selected:t,value:n,content:s,mainText:"Moved to a team plan"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(788);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(789);t.default=function(e){return i.h("div",{class:"questionButtons"},e.children)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(791);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(395);n(792);t.default=function(e){const{secondary:t,class:n}=e,r=Object(a.default)("questionButton",n,{primary:!t,secondary:t}),s=Object.assign({},e,{class:r});return delete s.secondary,i.h(o.default,s)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(794);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(795),a=n.n(o),r=n(395);n(798);t.default=function(e){const{content:t,mainText:n,subText:o,onSelect:s,selected:l,value:c}=e;return i.h("div",{class:"cancelPlanSurveyQuestion"},i.h("label",{class:Object(r.default)("selectWithText",{hasSubText:!!o})},i.h(a.a,{onClick:s,checked:l,value:c}),i.h("div",{class:"textContainer"},i.h("p",{class:"mainText"},n),o&&i.h("p",{class:"subText"},o))),l&&i.h("div",{class:"questionContent"},t))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(796);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(4),r=o(n(395));n(797),t.default=function(e){const{class:t}=e,n=i(e,["class"]);return a.h(a.Fragment,null,a.h("input",Object.assign(n,{type:"radio",class:"radioButtonRadio"})),a.h("div",{class:r.default("radioButton",t)},a.h("div",{class:"radioButtonInner"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"PROJECT_ENDED",(function(){return i})),n.d(t,"MOVED_TO_TEAM_PLAN",(function(){return o})),n.d(t,"SWITCHED_TO_ANOTHER_TOOL",(function(){return a})),n.d(t,"RAN_INTO_ISSUE",(function(){return r})),n.d(t,"TOO_EXPENSIVE",(function(){return s})),n.d(t,"OTHER",(function(){return l}));const i="Project ended",o="Moved to team plan",a="Switched to another tool",r="Ran into issue",s="Too expensive",l="Other"},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(801),a=n(793),r=n(799);class s extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(r.OTHER,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"Mind sharing why? This'll help us improve Zeplin."),i.h(o.default,{onSubmit:this.handleFormSubmit,placeholder:"Notes on why you're cancelling",buttonText:"Cancel plan"})];return i.h(a.default,{onSelect:e,selected:t,value:n,content:r,mainText:"Other"})}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(802);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(416),r=n(790),s=n(803),l=n(806);n(809);class c extends i.Component{constructor(e){super(e),this.state={value:"",dirty:!1,isInputValid:!0},this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}isSubmitEnabled(){const{maxLength:e}=this.props,{value:t,isInputValid:n}=this.state;return t&&t.length<e&&t.trim()&&n}handleInput(e){this.setState({value:e.target.value,dirty:!0})}handleSubmit(e){e.preventDefault(),this.isSubmitEnabled()&&(this.props.onSubmit(this.state.value),this.setState({dirty:!1}))}componentDidMount(){this.nodeRefs.textInput.focus()}componentDidUpdate(e,t){"email"===this.props.type&&t.value!==this.state.value&&this.setState({isInputValid:this.nodeRefs.textInput.checkValidity()})}render(){const{placeholder:e,buttonText:t,label:n,type:c,error:d,maxLength:u,class:p}=this.props,{value:h,dirty:f,isInputValid:g}=this.state,m="email"===c&&l.default||s.default,b=!f&&!!d,S=h&&h.trim()&&g;return i.h("form",{class:Object(o.default)("questionTextForm",{hasError:b},p),onSubmit:this.handleSubmit},n&&i.h("label",{class:"questionTextFormLabel"},n),i.h(m,{class:"formInput",maxLength:u,onInput:this.handleInput,type:c,placeholder:e,value:h,inputRef:Object(a.default)(this,"textInput")}),b&&i.h("div",{class:"errorText"},d),i.h(r.default,{class:"questionTextFormButton",disabled:!S,type:"submit"},t))}}c.defaultProps={maxLength:2048},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(804);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(805);class a extends i.Component{constructor(e){super(e),this.state={value:e.value},this.handleInput=this.handleInput.bind(this)}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}render(){const{value:e}=this.state,{placeholder:t,inputRef:n,maxLength:a,class:r}=this.props;return i.h("div",{class:Object(o.default)("questionTextArea",r)},i.h("div",{class:"mirror"},i.h("pre",null,e," ")),i.h("textarea",{value:e,maxLength:a,placeholder:t,ref:n,onInput:this.handleInput}))}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(807);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(808);t.default=function(e){const t=Object.assign({},e,{class:Object(o.default)("questionTextInput",e.class),type:e.type||"text",ref:e.inputRef});return delete t.inputRef,i.h("input",t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(787),a=n(790),r=n(793),s=n(799);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(s.PROJECT_ENDED)}render(){const{onSelect:e,selected:t,value:n}=this.props,s=[i.h("p",null,"Thanks for using Zeplin, hope to have you back on board soon! 👋"),i.h(o.default,null,i.h(a.default,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(r.default,{onSelect:e,selected:t,value:n,content:s,mainText:"Project ended, won't need Zeplin for a while"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(787),a=n(790),r=n(793),s=n(799);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(s.RAN_INTO_ISSUE)}render(){const{onSelect:e,selected:t,value:n}=this.props,s=[i.h("p",null,"Sorry to hear that. Contact us and we'd love to help you out right away. 💪"),i.h(o.default,null,i.h(a.default,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(a.default,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(r.default,{onSelect:e,selected:t,value:n,content:s,mainText:"Ran into an issue",subText:"e.g. “I couldn't export my designs.”, “I failed to install the Photoshop plugin.”"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(793),a=n(813);t.default=function(e){const{onSelect:t,selected:n,value:r,onBackClick:s}=e,l=[i.h("p",null,"You can always switch your billing frequency. ",i.h(a.default,{onClick:s},"Go back")," to plan selection, select the Monthly tab and select your plan."),i.h("br",null),i.h("p",null,"Your previous payment will be pro-rated and credited to your account automatically. For a refund, please contact us.")];return i.h(o.default,{onSelect:t,selected:n,value:r,content:l,mainText:"Subscribed annually, instead of monthly"})}},function(e,t,n){"use strict";n.r(t);var i=n(814);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(815);t.default=function(e){return i.h("button",{class:"questionInlineButton",onClick:e.onClick},e.children)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(801),a=n(793),r=n(799);class s extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(r.SWITCHED_TO_ANOTHER_TOOL,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"Mind sharing which tool and why? This'll help us improve Zeplin."),i.h(o.default,{onSubmit:this.handleFormSubmit,placeholder:"Notes on which tool you're switching to, and why",buttonText:"Cancel plan"})];return i.h(a.default,{onSelect:e,selected:t,value:n,content:r,mainText:"Switched to another tool"})}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(787),a=n(790),r=n(793),s=n(799);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(s.TOO_EXPENSIVE)}render(){const{onSelect:e,selected:t,value:n}=this.props,s=i.h(i.Fragment,null,i.h("p",null,"We wouldn’t want to lose you over pricing. Mind contacting us and sharing why? We’d love to figure out the best plan for you and your team."),i.h(o.default,null,i.h(a.default,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(a.default,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan")));return i.h(r.default,{onSelect:e,selected:t,value:n,content:s,mainText:"Too expensive",subText:"e.g. It’s difficult to pay in USD"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(819);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(787),a=n(790),r=n(801),s=n(793);n(820);function l(e){const{onChangeEmailClick:t,onTransferPlanClick:n,onTransferPlanFormSubmit:s,transferPlanFormError:l,transferPlanFormShown:c}=e;return c?[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h("div",{class:"transferPlanFormContainer"},i.h("span",{class:"emoji"},"☝️"),i.h("div",{class:"text"},i.h("p",null,"By transferring the subscription, you will transfer your billing information and all the projects under this account."),i.h("br",null),i.h("p",null,"Your personal plan will be downgraded to Free plan and you can own only one project."))),i.h(r.default,{class:"transferPlanForm",type:"email",maxLength:254,label:"Enter the email of the user to transfer to:",error:l,onSubmit:s,placeholder:"Email",buttonText:"Transfer plan"})]:[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h(o.default,null,i.h(a.default,{onClick:n},"Transfer plan"),i.h(a.default,{onClick:t},"Change email"))]}t.default=function(e){const{onSelect:t,selected:n,value:o}=e;return i.h(s.default,{onSelect:t,selected:n,value:o,content:l(e),mainText:"Subscribed with the wrong account or email address",subText:"e.g. “I used my personal email address.”, “I subscribed with my own account, instead of our designers.”"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(824);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(753);n(825);t.default=function(e){const{email:t}=e;return i.h(o.default,{onClose:e.onClose,width:444,class:"transferWarningDialog",positiveButtonText:"TRANSFER",negativeButtonText:"CANCEL",onPositiveButtonClick:e.onTransfer,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Transfer subscription"),i.h("div",{class:"dialogBody"},i.h("p",{class:"primaryInfo"},"You’re transferring your subscription to ",i.h("strong",null,'"',t,'"'),"."),i.h("p",null,"By transferring the subscription, you will ",i.h("strong",null,"transfer your billing information and all the projects under this account.")))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(827);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(753);n(828);t.default=function(e){const{periodEndDate:t,onCancelPlan:n,onClose:a}=e;return i.h(o.default,{width:484,class:"cancelPlanDialog",positiveButtonText:"CANCEL PLAN",negativeButtonText:"KEEP PLAN",onClose:a,onPositiveButtonClick:n,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Cancel Plan"),i.h("div",{class:"dialogBody"},i.h("p",null,"You can continue using your plan until your billing period ends on",i.h("strong",null," ",t),". Once the billing period ends, your projects and styleguides will be archived automatically."))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(830);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(831);n(834);function a({period:e,currentPlan:t,currentPeriod:n,planInfo:a,onChoosePlanClick:r,onCancelPlanClick:s,cancelEnabled:l}){return i.h("div",{class:"plans"},i.h(o.Starter,{period:e,currentPlan:t,currentPeriod:n,planInfo:a,onChoosePlanClick:r,onCancelPlanClick:s,cancelEnabled:l}),i.h(o.GrowingBusiness,{period:e,currentPlan:t,currentPeriod:n,planInfo:a,onChoosePlanClick:r,onCancelPlanClick:s,cancelEnabled:l}),i.h(o.Organization,{period:e,currentPlan:t,currentPeriod:n,planInfo:a,onChoosePlanClick:r,onCancelPlanClick:s,cancelEnabled:l}))}},function(e,t,n){"use strict";n.r(t);var i=n(832);n.d(t,"Starter",(function(){return i.Starter})),n.d(t,"GrowingBusiness",(function(){return i.GrowingBusiness})),n.d(t,"Organization",(function(){return i.Organization}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Starter",(function(){return f})),n.d(t,"GrowingBusiness",(function(){return g})),n.d(t,"Organization",(function(){return m}));var i=n(4),o=n(400),a=n(543),r=n(395);n(833);const s={monthly:{free:0,starter:1900,growing:2900,organization:1225},annual:{free:0,starter:1700,growing:2600,organization:1075}},l={free:0,starter:1,growing:2,organization:3};function c(e){return`$${Math.trunc(e/100)}${(e/100%1+""||"").substring(1,4)}`}function d(e,t,n,i){return t&&"free"!==t?function(e,t,n,i){return l[t]<l[e]||"monthly"===i&&"annual"===n&&t===e}(e,t,n,i)?"Upgrade":i===n&&t===e?"Current plan":"Change plan":"Get started"}function u(e){const t=e.monthly.organization&&e.annual.organization?e:s;return Math.trunc(100*(t.monthly.organization-t.annual.organization)/t.monthly.organization)}function p(e,t,n){return(e[n][t]?e:s)[n][t]}function h({planId:e,planImg:t,planName:n,price:a,period:s,details:l,recommended:u=!1,discountInfo:p="",priceDescription:h,description:f,priceInfo:g="",currentPlan:m,currentPeriod:b,planInfo:S,onChoosePlanClick:y,onCancelPlanClick:C,cancelEnabled:v}){const O=m===e&&b===s&&v,E=O||u;return i.h("div",{class:Object(r.default)("planContainer",{recommended:u})},i.h("div",{class:Object(r.default)("plan",e,{current:O}),"data-plan-id":e},i.h("div",{class:"planBody"},t,i.h("div",{class:"planInfo"},i.h("div",{class:"planTitle"},i.h("h4",{class:"planName"},n),p&&i.h("span",{class:"discountInfo"},p)),i.h("p",{class:"planDescription"},f),i.h("div",{class:"priceInfo"},i.h("div",{class:"price"},i.h("span",{class:"priceAmount"},S&&S[s]&&null!==S[s][e]?c(S[s][e]):c(a)),i.h("span",{class:"priceRate"},"/mo",g))),l)),i.h(o.default,{disabled:O,class:Object(r.default)("choosePlan",{primary:E}),onClick:function(){y(e,n)}},d(e,m,s,b)),O&&i.h("div",{class:"cancelPlanContainer"},i.h(o.default,{class:"cancelPlan",onClick:C},"Cancel plan")),h&&!O&&i.h("div",{class:"priceDescription"},h)))}function f({period:e,currentPlan:t,currentPeriod:n,planInfo:o,onChoosePlanClick:r,onCancelPlanClick:s,cancelEnabled:l}){return i.h(h,{period:e,planInfo:o,currentPlan:t,currentPeriod:n,description:"Personal plans for solo designers, freelancers",planId:"starter",planImg:i.h(a.default,{asset:"img/beans.png"}),planName:"Starter",price:p(o,"starter",e),details:i.h("div",{class:"planDetail"},i.h("div",{class:"projectCount"},"3 projects ")),onChoosePlanClick:r,onCancelPlanClick:s,cancelEnabled:l})}function g({period:e,currentPlan:t,currentPeriod:n,planInfo:o,onChoosePlanClick:r,onCancelPlanClick:s,cancelEnabled:l}){return i.h(h,{period:e,planInfo:o,currentPlan:t,currentPeriod:n,description:"Personal plans for solo designers, freelancers",planId:"growing",planImg:i.h(a.default,{asset:"img/corn.png"}),planName:"Growing Business",price:p(o,"growing",e),details:i.h("div",{class:"planDetail"},i.h("div",{class:"projectCount"},"12 projects ")),onChoosePlanClick:r,onCancelPlanClick:s,cancelEnabled:l})}function m({period:e,currentPlan:t,currentPeriod:n,planInfo:o,onChoosePlanClick:r,onCancelPlanClick:s,cancelEnabled:l}){const d=c(12*p(o,"organization",e));return i.h(h,{period:e,planInfo:o,currentPlan:t,currentPeriod:n,description:"Team plan with a shared workspace",recommended:!0,priceInfo:", per seat",priceDescription:`Starts from ${d}/mo, with 12 seats included`,planId:"organization",planImg:i.h(a.default,{asset:"img/cabbage.png"}),planName:"Organization",price:p(o,"organization",e),discountInfo:"annual"===e&&`Save ${u(o)}%`,details:i.h("div",{class:"planDetail"},i.h("div",{class:"projectCount"},"Unlimited projects")),onChoosePlanClick:r,onCancelPlanClick:s,cancelEnabled:l})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(836);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(543),a=n(395);n(837);function r({image:e,imageClass:t,children:n,title:r,action:s,cardClass:l,link:c}){return i.h("div",{class:Object(a.default)("infoCard",l)},i.h("div",{class:"content"},i.h(o.default,{asset:e,class:t}),i.h("h4",{class:"cardTitle"},r),n),i.h("div",{class:Object(a.default)("cardAction",{featureLink:c})},s))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(269),o=n.n(i),a=n(348);const r={setOverridingCategory(e){o.a.dispatcher.dispatch({type:a.default.SET_OVERRIDING_CATEGORY,overridingCategory:e})}};t.default=r},function(e,t,n){"use strict";n.r(t),t.default={DEFAULT:"default",PROFILE:"profile",PRICING:"pricing",PROJECTS:"projects",STYLEGUIDES:"styleguides",STYLEGUIDE:"styleguide",PROJECT_DASHBOARD:"project-dashboard",PROJECT_STYLEGUIDE:"project-styleguide",PROJECT_SCREEN:"project-screen",ORGANIZATION_PROJECTS:"organization-projects",ORGANIZATION_PROFILE:"organization-profile",ORGANIZATION_DASHBOARD:"organization-dashboard"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(231),o=n(249);t.default=function(e){return"StripeCheckout"in window?StripeCheckout.configure({name:"Zeplin, Inc.",key:i.STRIPE_PUBLISHABLE_KEY,image:o.imageUrl("img/favicon/128x128.png"),zipCode:!0,allowRememberMe:!1,token:e}):null}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(843);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(578));t.default=function({hasUnreadNotifications:e,active:t,backLabel:n,backLink:i}){return o.h("a",{href:i,"data-link-type":"inApp","data-back":n},o.h(a.default,{hasUnread:e,active:t}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(845);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(230),r=i(n(364)),s=n(244),l=n(242),c=i(n(509)),d=i(n(427));var u;n(846),function(e){e[e.SwitchBack=0]="SwitchBack",e[e.ShareFeedback=1]="ShareFeedback"}(u||(u={})),t.default=function({oid:e}){const t="user"===e?l.urlResolve(a.WorkspaceTabs.PROJECTS):l.urlResolve("organization-"+a.WorkspaceTabs.PROJECTS,{url:{oid:e}});return o.h(c.default,{onChange:function(e){e===u.ShareFeedback?s.openLink("mailto:beta@zeplin.io?subject=Notifications Feedback",{inNewTab:!1}):e===u.SwitchBack&&(d.default.switchToOldNotificationExperience(),r.default.history.push(t))},class:"activitiesHeaderSelectorDropdown",top:0,left:0,defaultLabel:"👩‍🔧 Prerelease",showSelectedAsLabel:!1,labelClass:"prerelease",optionsClass:"activitiesHeaderSelectorOptions",chevronColor:"var(--cornflower-blue)"},o.h(c.default.Item,{value:u.ShareFeedback},"Share prerelease feedback"),o.h(c.default.Item,{value:u.SwitchBack},"Switch back"))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(848)),a=i(n(272)),r=i(n(849)),s=n(326),l=i(n(269)),c=["CreateDot","CreateDot-Mention","CreateDotComment-Mention","CreateDotComment","ResolveDot"],d=["CreateScreen","CreateScreenVersion","DeleteScreen"],u=["CreateProjectComponent","CreateStyleguideComponent","CreateProjectComponentVersion","CreateStyleguideComponentVersion","CreateProjectColor","CreateStyleguideColor","CreateProjectTextStyle","CreateStyleguideTextStyle","DeleteProjectColor","DeleteStyleguideColor","DeleteProjectComponent","DeleteStyleguideComponent","DeleteProjectTextStyle","DeleteStyleguideTextStyle","UpdateProjectColor","UpdateStyleguideColor","UpdateProjectTextStyle","UpdateStyleguideTextStyle","CreateProjectSpacingToken","CreateStyleguideSpacingToken","UpdateProjectSpacingToken","UpdateStyleguideSpacingToken","DeleteProjectSpacingToken","DeleteStyleguideSpacingToken"],p=[...c,...d,...u],h=["CreateDot","CreateDot-Mention","CreateDotComment-Mention","CreateDotComment"],f=["ResolveDot"],g=["CreateDot-Mention","CreateDotComment-Mention"];function m({actionName:e}){return g.includes(e)}t.default={isTypeValid:function(e){return Object.values(r.default).includes(e)},hasMention:m,doesNoteStatusMatch:function(e,t){switch(t){case o.default.OPEN:return h.includes(e.actionName);case o.default.RESOLVED:return f.includes(e.actionName);case o.default.MENTIONED:return m(e);default:throw Error("Invalid statusFilter type")}},doesNoteColorMatch:function({params:e,events:t},n){var i;return[null===(i=e.dot)||void 0===i?void 0:i.color,...t.map(e=>{var t;return null===(t=e.dot)||void 0===t?void 0:t.color})].filter(e=>e).some(e=>s.getColorName(e)===n)},doesNoteUserMatch:function({events:e},t){return e.some(({source:e})=>(null==e?void 0:e._id)===t)},getRelatedProjects:function({params:e,events:t}){return[...e.project?[e.project._id]:[],...t.filter(({project:e})=>e).map(({project:e})=>e._id)]},getRelatedStyleguides:function({params:e,events:t}){return[...e.styleguide?[e.styleguide._id]:[],...t.filter(({styleguide:e})=>e).map(({styleguide:e})=>e._id)]},isRelatedToProject:function({params:e,events:t},n){var i;return(null===(i=e.project)||void 0===i?void 0:i._id)===n||t.some(e=>{var t;return(null===(t=e.project)||void 0===t?void 0:t._id)===n})},isRelatedToStyleguide:function({params:e,events:t},n){var i;return(null===(i=e.styleguide)||void 0===i?void 0:i._id)===n||t.some(e=>{var t;return(null===(t=e.styleguide)||void 0===t?void 0:t._id)===n})},isInCategory:function({actionName:e},t){return t===a.default.All||(t===a.default.Note?c.includes(e):t===a.default.Screen?d.includes(e):t===a.default.Styleguide?u.includes(e):t===a.default.Other?!p.includes(e):void 0)},getCategory:function({actionName:e}){return c.includes(e)?a.default.Note:d.includes(e)?a.default.Screen:u.includes(e)?a.default.Styleguide:a.default.Other},trackEventWithFilterDetails:function(e,t={}){const{category:n,sectionId:i,noteStatusFilterType:o,memberId:r,color:s}=l.default.ActivitiesViewStore.getState(),c={[a.default.All]:"All",[a.default.Note]:"Notes",[a.default.Screen]:"Screens",[a.default.Styleguide]:"Styleguide",[a.default.Other]:"Others"},d=[...o||s?["Note Type"]:[],...r?["User"]:[],...i?["Section"]:[]];mixpanel.master.track(e,Object.assign(Object.assign({},t),{"Selected Category":c[n],Filters:d.length?d:void 0}))}}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN="open",e.MENTIONED="mentioned",e.RESOLVED="resolved"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AddProjectExtension="AddProjectExtension",e.AddStyleugideExtension="AddStyleguideExtension",e.ActivateProject="ActivateProject",e.ActivateStyleguide="ActivateStyleguide",e.ArchiveProject="ArchiveProject",e.ArchiveStyleguide="ArchiveStyleguide",e.AuthProjectSlack="AuthProjectSlack",e.AuthStyleguideSlack="AuthStyleguideSlack",e.CreateProjectComponent="CreateProjectComponent",e.CreateStyleguideComponent="CreateStyleguideComponent",e.CreateProjectComponentVersion="CreateProjectComponentVersion",e.CreateStyleguideComponentVersion="CreateStyleguideComponentVersion",e.CreateProjectColor="CreateProjectColor",e.CreateStyleguideColor="CreateStyleguideColor",e.CreateDot="CreateDot",e.CreateDotMention="CreateDot-Mention",e.CreateDotCommentMention="CreateDotComment-Mention",e.CreateDotComment="CreateDotComment",e.CreateScreen="CreateScreen",e.CreateScreenVersion="CreateScreenVersion",e.CreateProjectTextStyle="CreateProjectTextStyle",e.CreateStyleguideTextStyle="CreateStyleguideTextStyle",e.DeleteProjectColor="DeleteProjectColor",e.DeleteStyleguideColor="DeleteStyleguideColor",e.DeleteProjectComponent="DeleteProjectComponent",e.DELETE_STYLEGUIDE_COMPONENT="DeleteStyleguideComponent",e.DeleteScreen="DeleteScreen",e.DeleteProject="DeleteProject",e.DeleteStyleguide="DeleteStyleguide",e.DeleteProjectTextStyle="DeleteProjectTextStyle",e.DeleteStyleguideTextStyle="DeleteStyleguideTextStyle",e.RemoveExtensionFromProject="RemoveExtensionFromProject",e.RemoveExtensionFromStyleguide="RemoveExtensionFromStyleguide",e.ResolveDot="ResolveDot",e.UpdateOrganizationMemberRole="UpdateOrganizationMemberRole",e.UpdateProjectColor="UpdateProjectColor",e.UpdateStyleguideColor="UpdateStyleguideColor",e.UpdateProjectUserRole="UpdateProjectUserRole",e.UpdateStyleguideUserRole="UpdateStyleguideUserRole",e.UpdateProjectTextStyle="UpdateProjectTextStyle",e.UpdateStyleguideTextStyle="UpdateStyleguideTextStyle",e.UserJoined="UserJoined",e.ProjectUserJoined="ProjectUserJoined",e.StyleguideUserJoined="StyleguideUserJoined",e.RemoveUserFromProject="RemoveUserFromProject",e.RemoveUserFromStyleguide="RemoveUserFromStyleguide",e.InviteMember="InviteMember",e.InviteProjectUser="InviteProjectUser",e.InviteStyleguideUser="InviteStyleguideUser",e.TransferProjectOwnership="TransferProjectOwnership",e.TransferStyleguideOwnership="TransferStyleguideOwnership",e.CreateProjectSpacingToken="CreateProjectSpacingToken",e.CreateStyleguideSpacingToken="CreateStyleguideSpacingToken",e.UpdateProjectSpacingToken="UpdateProjectSpacingToken",e.UpdateStyleguideSpacingToken="UpdateStyleguideSpacingToken",e.DeleteProjectSpacingToken="DeleteProjectSpacingToken",e.DeleteStyleguideSpacingToken="DeleteStyleguideSpacingToken",e.RemindVerification="RemindVerification",e.VerifyUser="VerifyUser",e.AttachProjectToJiraIssue="AttachProjectToJiraIssue",e.AttachSectionToJiraIssue="AttachSectionToJiraIssue",e.AttachScreenToJiraIssue="AttachScreenToJiraIssue",e.RemoveProjectJiraIssueAttachment="RemoveProjectJiraIssueAttachment",e.RemoveSectionJiraIssueAttachment="RemoveSectionJiraIssueAttachment",e.RemoveScreenJiraIssueAttachment="RemoveScreenJiraIssueAttachment"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(851);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(852),a=n(381),r=n(362),s=n(269),l=n.n(s),c=n(505),d=n.n(c),u=n(416),p=n(242),h=n(229),f=n(228),g=n(230);n(1174);class m extends i.Component{constructor(...e){var t,n,i;super(...e),i=({pid:e,focusAreaVisible:t})=>{const n=167+(t?287:0);if(this.prevWorkspaceScrollTop=this.nodeRefs.workspace.scrollTop,n>this.prevWorkspaceScrollTop){const i=n-this.prevWorkspaceScrollTop+1,o=new IntersectionObserver(n=>{n[0].isIntersecting||(o.unobserve(n[0].target),document.querySelector(".organizationSummary").remove(),document.querySelector(".tabs").remove(),t&&document.querySelector(".focusedProjects").remove(),this.nodeRefs.workspace.scrollTop=1,a.default.toggleProjectSelection(e))},{root:this.nodeRefs.workspace});o.observe(t?document.querySelector(".focusedProjects"):document.querySelector(".tabs")),this.nodeRefs.workspace.scrollBy({top:i,left:0,behavior:"smooth"})}else this.nodeRefs.workspace.scrollTop-=n,document.querySelector(".organizationSummary").remove(),document.querySelector(".tabs").remove(),t&&document.querySelector(".focusedProjects").remove(),a.default.toggleProjectSelection(e)},(n="handleEnableSelectMode")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}static calculateState(){const{loading:e,selectedOrganizationId:t,selectedTab:n,visibleDialogType:i,visibleDialogParams:o}=l.a.SpaceStore.getState(),{selectedProjects:a}=l.a.ProjectSelectionStore.getState(),{organizations:s,organizationProfiles:c,loading:d,loadingOrganization:u,loadingProfiles:h,loadingBarrels:f}=l.a.OrganizationStore.getState(),{loading:g}=l.a.UserStore.getState(),m=e||d||u||h||g||f,b=s.find(({_id:e})=>e===t)||{},S=r.default.getOrganizationProjects(b._id),y=r.default.getOrganizationStyleguides(b._id),{members:C,sections:v}=b,O=c[t];return{selectedTab:n,loading:m,organizationDashboardLink:h||!O||O.restricted?null:Object(p.urlResolve)("organization-dashboard",{url:{oid:t}}),visibleDialogType:i,visibleDialogParams:o,selectedOrganization:b,selectedOrganizationProfile:O,projectsCount:S&&S.length,styleguidesCount:y&&y.length,membersCount:C&&C.length,selectedProjects:a,hideTopSection:a.length>0,sectionsCount:v&&v.length}}static getStores(){return[l.a.SpaceStore,l.a.ProjectSelectionStore,l.a.OrganizationStore,l.a.ProjectsDataStore,l.a.StyleguidesDataStore,l.a.UserStore]}componentDidMount(){f.isWindowsApp&&h.default.ipcRenderer.send("on-login",Zeplin.user)}componentDidUpdate(e,t){!this.state.hideTopSection&&t.hideTopSection&&t.sectionsCount===this.state.sectionsCount&&(this.nodeRefs.workspace.scrollTop=this.prevWorkspaceScrollTop)}getChildContext(){return{workspaceRef:this.nodeRefs.workspace}}render(){const{loading:e,selectedTab:t,hideTopSection:n,selectedOrganization:r,selectedOrganizationProfile:s,organizationDashboardLink:l,projectsCount:c,styleguidesCount:d,membersCount:p,visibleDialogType:h,visibleDialogParams:f}=this.state;return i.h("main",{class:"spaceContainer",ref:Object(u.default)(this,"base")},i.h(o.default,{baseRef:Object(u.default)(this,"workspace"),loading:e,selectedOrganization:r,selectedOrganizationProfile:s,organizationDashboardLink:l,hideTopSection:n,selectedTab:t,toastContainer:this.nodeRefs.base,projectsCount:c,styleguidesCount:d,membersCount:p,showUpgradePlanDialog:h===g.DialogTypes.UPGRADE_PLAN,upgradePlanDialogBarrelType:f.barrelType,onTabChange:a.default.changeSelectedTab,onDialogClose:a.default.closeDialog,onEnableSelectMode:this.handleEnableSelectMode}))}}t.default=d()(m)},function(e,t,n){"use strict";n.r(t);var i=n(853);n.d(t,"default",(function(){return i.default})),n.d(t,"enableScroll",(function(){return i.enableScroll})),n.d(t,"disableScroll",(function(){return i.disableScroll}))},function(e,t,n){"use strict";n.r(t),n.d(t,"enableScroll",(function(){return C})),n.d(t,"disableScroll",(function(){return v}));var i=n(4),o=n(514),a=n(854),r=n(857),s=n(1082),l=n(1167),c=n.n(l),d=n(753),u=n(395),p=n(244),h=n(246),f=n(230),g=n(766),m=n(886),b=n(767);n(1173);function S({label:e,value:t,selected:n,onChange:o}){const a=Object(u.default)("tab","noSelect",{selected:n});return i.h("label",{class:a},e,i.h("input",{type:"radio",name:"workspaceTab",value:t,checked:n,onChange:e=>{e.stopPropagation(),o(t)}}))}function y({baseRef:e,onTabChange:t,onEnableSelectMode:n,onDialogClose:l,loading:u,toastContainer:m,hideTopSection:y,selectedOrganization:{_id:C,logo:v,name:O,status:E},selectedOrganizationProfile:T,organizationDashboardLink:_,projectsCount:P,styleguidesCount:j,membersCount:D,selectedTab:k,showUpgradePlanDialog:I,upgradePlanDialogBarrelType:R}){const A=T&&T.role;Object(o.useEffect)(()=>{Object(b.hideOrganizationFrozenBanner)(),"frozen"===E&&Object(b.showOrganizationFrozenBanner)({oid:C,currentRole:A})},[E,C,A]);function w(e){Object(p.copyContent)({content:e,toastContainer:m})}function N(){l(),Object(g.showPlanChooserOverlay)(`Workspace, Reached ${R} limit`)}return i.h("div",{class:"workspace",ref:e},y?null:i.h(i.Fragment,null,(()=>{if(!C)return null;if(u)return i.h(c.a.Loading,null);const e=D?Object(h.pluralize)(D,"member"):"",t=[void 0!==P?Object(h.pluralize)(P,"project"):"",void 0!==j?Object(h.pluralize)(j,"styleguide"):"",e].filter(Boolean).join(", ");return i.h(c.a,{imageSrc:v,dashboardLink:_,title:O,subInfo:t,projectsCount:P,styleguidesCount:j,membersCount:D})})(),i.h("div",{class:"tabs"},i.h(S,{label:"Projects",value:f.WorkspaceTabs.PROJECTS,selected:k===f.WorkspaceTabs.PROJECTS,onChange:t}),i.h(S,{label:"Styleguides",value:f.WorkspaceTabs.STYLEGUIDES,selected:k===f.WorkspaceTabs.STYLEGUIDES,onChange:t}),i.h("hr",null))),u?i.h(a.default,null):k===f.WorkspaceTabs.PROJECTS?i.h(r.default,{onEnableSelectMode:n,toastContainer:m,onCopyLink:w,hideFocusedProjectsSection:y}):k===f.WorkspaceTabs.STYLEGUIDES?i.h(s.default,{onCopyLink:w}):null,(()=>{if(I)return i.h(d.BasicOverlayDialog,{title:"Please upgrade your plan first",message:`Looks like you reached your ${R} limit, upgrade now to create more!`,onPositiveButtonClick:N,onNegativeButtonClick:l,onClose:l,positiveButtonText:"SEE PLANS",negativeButtonText:"CANCEL",hideNegativeButton:!1})})())}function C(){document.querySelector(".workspace").classList.remove("scrollDisabled")}function v(){document.querySelector(".workspace").classList.add("scrollDisabled")}t.default=function(e){return i.h(m.SectionObserverProvider,null,i.h(y,e))}},function(e,t,n){"use strict";n.r(t);var i=n(855);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(856);t.default=function(){return i.h("div",{class:"overviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"})),i.h("div",{class:"cardGridLoading"},i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(858);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(859),a=n(910),r=n(962),s=n(969),l=n(1035),c=n(875),d=n(1037),u=n(753),p=n(1040),h=n(1051),f=n(1066),g=n(1069),m=n(1072),b=n(1075),S=n(1078),y=n(381),C=n(360),v=n(362),O=n(908),E=n(376),T=n(269),_=n.n(T),P=n(505),j=n.n(P),D=n(1079),k=n(416),I=n(245),R=n(368),A=n(227),w=n(261),N=n.n(w),L=n(312),x=n(230),M=n(1080),U=n(1033);n(1081);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t,n){if(!t||t===n)return[n];const i=e.indexOf(t),o=e.indexOf(n),a=Math.min(i,o),r=Math.max(i,o);return e.slice(a>=0?a:0,r+1)}class F extends i.Component{constructor(...e){super(...e),V(this,"multipleSelectionBaseProject",null),V(this,"state",{hoveredProjects:[]}),V(this,"shiftKeyPressed",!1),V(this,"focusCountLimit",U.DEFAULT_FOCUS_COUNT_LIMIT),V(this,"projectRefs",{}),V(this,"visibleSections",new Set),V(this,"getSelectableProjects",()=>{const{sections:e,collapsedSections:t}=this.state,n=e.reduce((e,n)=>(t[n._id]||n.projects.forEach(t=>{e.add(t.id)}),e),new Set);return Array.from(n)}),V(this,"getSectionName",e=>{const{selectedOrganization:t}=this.state,[n]=t.sections.filter(t=>t._id===e);return n&&n.name}),V(this,"getMoveToSectionMessage",(e,t)=>t.length>1?[`Moving ${t.length} projects out of their sections may cause you to lose access to these sections.`,"Are you sure you want to move these projects from their sections?"]:[`Moving this project out of the "${this.getSectionName(e)}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"]),V(this,"getSectionsToBeEmptied",e=>{const{selectedOrganization:t}=this.state;return t.sections.reduce((n,i)=>{const o=v.default.getVisibleProjectsOfSection(t._id,i._id);return o.length>0&&o.every(t=>e.includes(t._id))?(n.push(i._id),n):n},[])}),V(this,"openMultiselectMoveProjectsDialog",(e,t,n)=>{const i=1===e.length?e[0]:null,o=this.getMoveToSectionMessage(i,t);y.default.openDialog(x.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:o,positiveButtonClick:n,positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}),V(this,"handleProjectPreviewJoin",()=>{E.default.join({barrelType:N.a.PROJECT,bid:this.state.previewProject._id,source:"Preview"})}),V(this,"handleOpenCreateProjectDialog",({oseid:e})=>{y.default.openDialog(x.DialogTypes.CREATE_PROJECT,{oseid:e})}),V(this,"handleCreateProject",e=>{const{selectedOrganizationId:t,visibleDialogParams:{oseid:n}}=this.state;S.default.createProject({oid:t,platform:e,oseid:n})}),V(this,"handleProjectDidMount",(e,t)=>{this.projectRefs[e]=t}),V(this,"handleProjectClick",(e,t,n=!1)=>{const{projects:i,currentUserId:o}=this.state,a=i[t];if(a&&"active"===a.status&&!a.users.some(e=>e.user._id===o))return e.preventDefault(),e.stopPropagation(),void y.default.openDialog(x.DialogTypes.PREVIEW_PROJECT,{previewBarrelId:t});y.default.trackBarrelClick({isFromPinArea:n})}),V(this,"handleArchiveProject",({pid:e})=>{E.default.archive({bid:e,barrelType:N.a.PROJECT,syncWithApi:!0})}),V(this,"handleActivateProject",({pid:e})=>{E.default.activate({bid:e,barrelType:N.a.PROJECT,syncWithApi:!0})}),V(this,"handleJoinProject",({pid:e,shouldLoadBarrel:t})=>{E.default.join({barrelType:N.a.PROJECT,bid:e,shouldLoadBarrel:t})}),V(this,"handleDeleteProject",({pid:e})=>{E.default.remove({bid:e,barrelType:N.a.PROJECT,syncWithApi:!0})}),V(this,"handleLeaveProject",({bid:e,mid:t})=>{E.default.removeMember({barrelType:N.a.PROJECT,bid:e,mid:t,syncWithApi:!0})}),V(this,"handlePin",e=>{const{pinnedBarrels:t}=this.state;O.default.addBarrelToFocus({mid:this.state.currentUserId,bid:e,barrelType:N.a.PROJECT,shouldPopOldestBarrel:t.length===this.focusCountLimit,syncWithApi:!0}),this.showToast({text:"Project pinned",source:"projectsContainer"}),y.default.updatePageState({highlightedBarrels:[e]})}),V(this,"handleUnpinFromFocusArea",e=>{O.default.unpinBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:N.a.PROJECT,syncWithApi:!0}),this.showToast({text:"Project unpinned",source:"projectsContainer"})}),V(this,"handleUnpin",e=>{O.default.removeBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:N.a.PROJECT,syncWithApi:!0}),this.showToast({text:"Project unpinned",source:"projectsContainer"})}),V(this,"handleRemoveUnpinned",e=>{O.default.removeBarrelFromFocus({bid:e})}),V(this,"handleScrollToUnpinnedBarrel",e=>{const{sections:t,collapsedSections:n}=this.state,i=t.find(t=>t.projects.find(({_id:t})=>t===e));i&&n[i._id]&&y.default.expandSections([i._id]),y.default.updatePageState({highlightedBarrels:[e]})}),V(this,"handleReorderProject",({sourceSectionId:e,targetSectionId:t,pid:n,index:i})=>{const{selectedOrganization:o,restrictedUser:a,dismissedDialogs:r}=this.state,s={oseid:t,projects:[n],index:i,shouldCalculateActualIndex:!0,syncWithApi:!0};if(a){if(e===t&&!r.reorderProjectDismissed)return void y.default.openDialog(x.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Reorder Project?",message:["Reordering this project will affect other projects in the section that may not be visible to you.","Are you sure you want to change the order in this section?"],positiveButtonClick:e=>O.default.updateProjectOrder(z(z({},s),{},{dialogDismissParams:e})),positiveButtonText:"REORDER PROJECT",dismissPrefKey:"reorderProjectDismissed"});const i=v.default.findProjectOrganizationSection(n),a=i._id===o.sections[0]._id,l=v.default.getVisibleProjectsOfSection(o._id,i._id);if(!a&&1===l.length&&!r.moveProjectOutOfSectionDismissed)return void y.default.openDialog(x.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:[`Moving this project out of the "${i.name}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"],positiveButtonClick:e=>O.default.updateProjectOrder(z(z({},s),{},{dialogDismissParams:e})),positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}O.default.updateProjectOrder(s)}),V(this,"handleCreateNewSectionWithProjects",e=>{const{selectedOrganization:t,restrictedUser:n,dismissedDialogs:i}=this.state,o=this.getSectionsToBeEmptied(e),a={sectionData:{name:U.NEW_SECTION_TITLE,description:U.NEW_SECTION_DESCRIPTION,projects:e},syncWithApi:!0};if(n){if(!(1===o.length&&o[0]===t.sections[0]._id)&&o.length>0&&!i.moveProjectOutOfSectionDismissed)return void this.openMultiselectMoveProjectsDialog(o,e,e=>{O.default.addProjectSection(z(z({},a),{},{dialogDismissParams:e,bulkOperation:!0})),this.showToast({text:"A new section created",source:"projectsContainer"})})}O.default.addProjectSection(z(z({},a),{},{bulkOperation:!0})),this.showToast({text:"A new section created",source:"projectsContainer"})}),V(this,"handleMoveSelectedProjectsToSection",(e,t)=>{const{selectedOrganization:n,dismissedDialogs:i,restrictedUser:o}=this.state,a=this.getSectionsToBeEmptied(t),r=n.sections.find(t=>t._id===e);if(o){if(!(1===a.length&&a[0]===n.sections[0]._id)&&a.length>0&&!i.moveProjectOutOfSectionDismissed)return void this.openMultiselectMoveProjectsDialog(a,t,n=>{O.default.updateProjectOrder({oseid:e,projects:t,dialogDismissParams:n,index:r.projects.length,syncWithApi:!0,bulkOperation:!0})})}O.default.updateProjectOrder({oseid:e,projects:t,index:r.projects.length,syncWithApi:!0,bulkOperation:!0})}),V(this,"handleMoveProjectToSection",(e,t)=>{this.handleReorderProject({targetSectionId:t,pid:e})}),V(this,"handleProjectToSectionHeaderDrop",(e,t)=>{const n=v.default.findProjectOrganizationSectionId(e);n!==t&&this.handleReorderProject({sourceSectionId:n,targetSectionId:t,pid:e})}),V(this,"handleProjectToSectionDrop",({mirrorPosition:e,sourceId:t,sourceIndex:n,sourceSectionId:i,targetIndex:o,targetSectionId:a})=>{const{isPersonalWorkspace:r,sections:s}=this.state;if(r)return;const l=s.find(e=>e._id===a),c=l.projects[o],d=this.projectRefs[c._id].getBoundingClientRect(),u=e.left>d.left+d.width/2?"right":"left";let p;if(i===a){if("individual"===l.type)return;p=o,n>o&&"right"===u&&(p=o+1),n<o&&"left"===u&&(p=o-1)}else"right"===u?p=o+1:"individual"!==l.type&&o&&(p=o);i===a&&n===p||this.handleReorderProject({sourceSectionId:i,targetSectionId:a,pid:t,index:p})}),V(this,"handleSectionDrop",({sourceId:e,sourceIndex:t,moveIndex:n})=>{const{selectedOrganizationName:i,sections:o,restrictedUser:a,dismissedDialogs:r}=this.state;if(t===n||n===o.length)return;const s={oseid:e,index:n,shouldCalculateActualIndex:!0,syncWithApi:!0};!a||r.reorderSectionDismissed?O.default.updateProjectSectionOrder(s):y.default.openDialog(x.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Reorder Section?",message:[`Reordering this section will affect other sections in the ${i} Workspace that may not be visible to you.`,"Are you sure you want to change the order of this section?"],positiveButtonClick:e=>O.default.updateProjectSectionOrder(z(z({},s),{},{dialogDismissParams:e})),positiveButtonText:"REORDER SECTION",dismissPrefKey:"reorderSectionDismissed"})}),V(this,"handleCreateEmptySection",()=>{O.default.addProjectSection({index:1,sectionData:{name:U.NEW_SECTION_TITLE,description:U.NEW_SECTION_DESCRIPTION,projects:[]},shouldCalculateActualIndex:!0,syncWithApi:!0}),this.showToast({text:"Section created",source:"projectsContainer"})}),V(this,"handleCreateSectionFromProject",e=>{const{selectedOrganization:t,restrictedUser:n,dismissedDialogs:i}=this.state,o={sectionData:{name:U.NEW_SECTION_TITLE,description:U.NEW_SECTION_DESCRIPTION,projects:[e]},shouldCalculateActualIndex:!0,syncWithApi:!0};if(n){const n=v.default.findProjectOrganizationSection(e),a=n._id===t.sections[0]._id,r=v.default.getVisibleProjectsOfSection(t._id,n._id);if(!a&&1===r.length&&!i.moveProjectOutOfSectionDismissed)return void y.default.openDialog(x.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:[`Moving this project out of the "${n.name}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"],positiveButtonClick:e=>O.default.addProjectSection(z(z({},o),{},{dialogDismissParams:e})),positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}O.default.addProjectSection(o),this.showToast({text:"Section created",source:"projectsContainer"})}),V(this,"handleShowCannotDragToast",()=>{const{selectedSortType:e,filterValue:t}=this.state;let n;e!==x.SortTypes.SECTIONS?n="Unselect sort option to reorder":this.isWorkflowStatusFilterApplied?n="Reset status filter to reorder":t&&(n="Reset search to reorder"),n&&this.showToast({text:n,source:"showCannotDragToast"})}),V(this,"handleMouseDown",e=>{const{isPersonalWorkspace:t}=this.state;t||this.canEditSections||e.button!==Zeplin.MOUSE_BUTTON.LEFT||(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.handleShowCannotDragToast,U.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS),document.addEventListener("mouseup",this.handleMouseUp))}),V(this,"handleMouseUp",()=>{clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}),V(this,"handleCollapseAllSections",()=>{const e=v.default.getExpandedSectionIds();e.length>0&&y.default.collapseSections(e)}),V(this,"handleExpandAllSections",()=>{const e=v.default.getCollapsedSectionIds();e.length>0&&y.default.expandSections(e)}),V(this,"handleKeyPress",e=>{this.shiftKeyPressed=e.shiftKey,this.shiftKeyPressed&&this.handleProjectHover(this.hoveredProjectId),Object(A.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),this.handleCollapseAllSections()):Object(A.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections())}),V(this,"handleKeyRelease",e=>{const{hoveredProjects:t}=this.state;t.length>0&&e.keyCode===Zeplin.KEY_CODE.SHIFT&&(this.shiftKeyPressed=!1,this.setState({hoveredProjects:[]}))}),V(this,"handleProjectHover",e=>{if(this.hoveredProjectId=e,this.selectionModeEnabled)if(this.shiftKeyPressed&&this.multipleSelectionBaseProject){const t=W(this.getSelectableProjects(),this.multipleSelectionBaseProject,e);this.setState({hoveredProjects:t})}else this.setState({hoveredProjects:[]});else{const{highlightedBarrels:t,pinnedBarrels:n}=this.state;!n.some(({barrelId:t})=>t===e)&&t.includes(e)&&y.default.unhighlightBarrel(e)}}),V(this,"handleProjectSelect",e=>{const{onEnableSelectMode:t}=this.props,{selectedProjects:n,pinnedBarrels:i}=this.state;if(0!==n.length)if(this.shiftKeyPressed&&this.selectionModeEnabled){const t=W(this.getSelectableProjects(),this.multipleSelectionBaseProject,e);t.every(e=>n.includes(e))?(this.multipleSelectionBaseProject=null,y.default.deselectProjects(t),this.setState({hoveredProjects:[]})):(this.multipleSelectionBaseProject=e,y.default.selectProjects(t))}else n.includes(e)?this.multipleSelectionBaseProject=null:this.multipleSelectionBaseProject=e,y.default.toggleProjectSelection(e);else t({pid:e,focusAreaVisible:i.length>0})}),V(this,"handleChangeBulkStatus",()=>{this.showToast({text:"Projects status changed",source:"projectsContainer"})}),V(this,"handleSectionClickFromElevator",e=>{y.default.highlightSection(e)}),V(this,"handlePinWarningAuntieAction",e=>{O.default.hitPinLimit(z(z({},e),{},{focusCountLimit:this.focusCountLimit}))}),V(this,"handleWorkflowStatusChange",e=>{y.default.changeWorkflowStatusFilter({workflowStatus:e})}),V(this,"handleDismissibleDialogPositiveButtonClick",()=>{y.default.closeDialog(),this.state.visibleDialogParams.positiveButtonClick()}),V(this,"renderProject",(e,t,n)=>{const{onCopyLink:o}=this.props,{currentOrganizationProfile:a,isPersonalWorkspace:r,currentUserId:s,pinnedBarrels:c,highlightedBarrels:d,firstHighlightedProject:u,selectedOrganization:p,selectedProjects:h,hoveredProjects:f}=this.state,g=c.some(({barrelId:t})=>t===e._id),m=!g&&d.includes(e._id),b=!g&&u===e._id;let y;y=r?e.users.find(e=>e.user._id===s):a;const C=h.includes(e._id),v=f.includes(e._id);return i.h(l.default,{key:e._id,sectionId:n,sections:p&&p.sections,onDrop:this.handleProjectToSectionDrop,index:t,onProjectHover:this.handleProjectHover,onClick:this.handleProjectClick,onMouseDown:this.handleMouseDown,project:e,currentUser:y,onArchive:this.handleArchiveProject,onActivate:this.handleActivateProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:S.default.initTransferOwnership,onDelete:this.handleDeleteProject,onInvite:S.default.inviteUser,onCopyLink:o,onMoveProjectToSection:this.handleMoveProjectToSection,onCreateNewSection:this.handleCreateSectionFromProject,highlight:m,onProjectDidMount:this.handleProjectDidMount,pinned:g,scroll:b,shouldDisplayPinWarningAuntie:c.length===this.focusCountLimit,onPinWarningAuntieAction:this.handlePinWarningAuntieAction,onPin:this.handlePin,onUnpin:this.handleUnpin,onSelect:this.handleProjectSelect,isSelected:C,hasHover:v,selectionModeEnabled:this.selectionModeEnabled})}),V(this,"renderProjectSection",(e,t)=>{const{onCopyLink:n}=this.props,{highlightedSection:o,collapsedSections:a,selectedSortType:l}=this.state,c="individual"!==e.type||!!e.projects.length,d=l===x.SortTypes.SECTIONS&&"default"!==e.type&&"individual"!==e.type&&(e.links.length||e.projects.length||this.canEditSections);return c&&i.h(s.default,{collapsed:a[e._id],ref:Object(k.default)(this,e._id,"componentRefs"),key:e.key,index:t+1,data:e,highlight:e._id===o,actionsDisabled:l!==x.SortTypes.SECTIONS||"individual"===e.type,defaultSection:"default"===e.type,readOnly:!this.canEditSections||"individual"===e.type,shouldRenderSummary:d,showDescription:l===x.SortTypes.SECTIONS,onSectionDrop:this.handleSectionDrop,onProjectDrop:this.handleProjectToSectionHeaderDrop,onProjectToSectionDrop:this.handleProjectToSectionDrop,onCreateProjectClick:this.handleOpenCreateProjectDialog,onCopyLink:n},i.h(r.default,null,e.projects&&e.projects.map((t,n)=>this.renderProject(t,n,e._id))))}),V(this,"renderFocusedProjects",()=>{const{hideFocusedProjectsSection:e,onCopyLink:t}=this.props;if(e)return null;const{highlightedBarrels:n,firstHighlightedProject:o,focusedProjects:r,pinnedBarrelOnce:s,selectedOrganizationId:l,selectedOrganization:c={}}=this.state;return i.h("div",{key:"focus",ref:Object(k.default)(this,"focusedProjectsSection"),class:"projects"},i.h(a.default,{projects:r,highlightedProjects:n,firstHighlightedProject:o,pinnedBarrelOnce:s,sections:c.sections,organizationId:l,organizationStatus:c.status,organizationSubscriptionStatus:c.subscriptionStatus,onArchive:this.handleArchiveProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:S.default.initTransferOwnership,onDelete:this.handleDeleteProject,onInvite:S.default.inviteUser,onProjectHover:y.default.unhighlightBarrel,onCopyLink:t,onMoveProjectToSection:this.handleMoveProjectToSection,onCreateNewSection:this.handleCreateSectionFromProject,onProjectClick:this.handleProjectClick,onScrollToUnpinnedBarrel:this.handleScrollToUnpinnedBarrel,onPin:this.handlePin,onUnpin:this.handleUnpinFromFocusArea,onRemoveUnpinned:this.handleRemoveUnpinned}))}),V(this,"renderTopSection",()=>{const{sections:e,filterValue:t,selectedSortType:n,selectedWorkflowStatusFilter:a,selectedProjects:r,movableSectionsForSelectMode:s}=this.state;return this.selectionModeEnabled?i.h(b.default,{sections:s,selectedProjects:r,onCreateSection:this.handleCreateNewSectionWithProjects,onMoveToSection:this.handleMoveSelectedProjectsToSection,onChangeStatus:this.handleChangeBulkStatus,onCancelSelectionMode:y.default.clearProjectSelection}):i.h(o.default,{onSort:y.default.changeProjectSelectedSortType,onToggleArchivedProjects:y.default.toggleArchivedProjects,onFilter:y.default.changeFilterValue,onSectionClick:this.handleSectionClickFromElevator,onSectionReorder:this.handleSectionDrop,onWorkflowStatusChange:this.handleWorkflowStatusChange,onCreateProject:this.handleOpenCreateProjectDialog,onCreateSection:this.handleCreateEmptySection,selectedSortType:n,selectedWorkflowStatusFilter:a,filterValue:t,sections:e})}),V(this,"renderProjects",()=>{if(this.shouldDisplayEmptyProjects)return this.renderProjectsEmptyState();const{sections:e}=this.state;return i.h(i.Fragment,null,this.shouldDisplaySectionOnboarding&&i.h(d.default,{onCreateSection:this.handleCreateEmptySection}),i.h(c.default,{key:"projectSectionsDragDropContainer",class:"projects",itemsClass:"projectsDragDropItems",disabled:!this.canEditSections||this.selectionModeEnabled},e.map(this.renderProjectSection)))})}static calculateState(){const{highlightedBarrels:e,highlightedSection:t,collapsedSections:n,selectedOrganizationId:i,filterValue:o,selectedProjectSortType:a,pinnedBarrelOnce:r,selectedWorkflowStatusFilter:s,visibleDialogType:l,visibleDialogParams:c,showArchivedProjects:d}=_.a.SpaceStore.getState(),{selectedProjects:u}=_.a.ProjectSelectionStore.getState(),{organizations:p,organizationProfiles:h,focusedBarrels:f,dialogDismissStates:g}=_.a.OrganizationStore.getState(),{projects:m,loadingProject:b}=_.a.ProjectsDataStore.getState(),{paymentPlan:S,userId:y}=_.a.UserStore.getState(),O=v.default.getOrganizationProjects(i)||[],E=v.default.getOrganizationStyleguides(i)||[],T=m[c.previewBarrelId],P=p.find(e=>e._id===i),j=P&&P.name,D=P&&P.status,k=P&&P.subscriptionStatus,A="free"!==S.id,w=h[i],N=w&&w.restricted,M="user"===i,U=h[i],B=I.permissions.canUpdateProject(U),V=!!e.length&&e[0],W=g[i],F="suspended"===D||d;let H;if(!M)if(s===L.default.NoStatus._id)H=L.default.NoStatus.name;else{const{name:e}=P&&P.workflowStatuses.find(({_id:e})=>e===s)||{};H=e}let G=[],$=[];const q=F?O:O.filter(({status:e})=>"archived"!==e);if(P){if(P.complete&&P.sections.length){const[e,...t]=P.sections;if(e.name="Individual Projects",e.type="individual",e.description="Individual projects that are not assigned to a section.",G=Object(R.filterSortProjectSections)({sections:[...t,e],projects:q,sortType:a,filterValue:o,statusFilter:s,shouldPutResultsToDefaultSection:!1}),$=P.sections.filter(e=>"individual"!==e.type&&!u.every(t=>e.projects.includes(t))),a===x.SortTypes.SECTIONS&&G.length){const e=G[G.length-1];e.projects=function(e,t){const n=[...e];return n.sort((e,n)=>{const i=e.users.some(({user:e})=>e._id===t),o=n.users.some(({user:e})=>e._id===t);return i===o?new Date(n.updated)-new Date(e.updated):o-i}),n}(e.projects,y)}}}else G=Object(R.filterSortProjectSections)({sections:[{_id:"personalProjectDefaultSection",name:"default",type:"default",projects:O.map(e=>e._id)}],projects:q,sortType:a,filterValue:o,shouldPutResultsToDefaultSection:!0});let Z=[],K=[];const Y=f[i];Y&&(Z=Y.map(({barrelId:e,unpinned:t})=>{const n=O.find(t=>t._id===e);return n?z(z({},n),{},{unpinned:t}):null}).filter(Boolean),K=Y.filter(e=>!e.unpinned));const J=C.default.canCreateProject(),X=w&&I.permissions.canManageWorkflowStatuses({role:w.role});return{sections:G,focusedProjects:Z,pinnedBarrels:K,pinnedBarrelOnce:r,selectedOrganizationId:i,selectedOrganizationName:j,selectedOrganizationStatus:D,selectedOrganizationSubscriptionStatus:k,isPersonalWorkspace:M,projects:m,highlightedBarrels:e,highlightedSection:t,collapsedSections:n,firstHighlightedProject:V,selectedSortType:a,archivedProjectsVisible:F,selectedWorkflowStatusFilter:s,selectedWorkflowStatusName:H,filterValue:o,visibleDialogType:l,visibleDialogParams:c,dismissedDialogs:W,organizations:p,organizationProfiles:h,organizationProjects:O,organizationStyleguides:E,selectedOrganization:P,canCreateProject:J,canUpdateProject:B,currentOrganizationProfile:w,restrictedUser:N,hasPaidPlan:A,currentUserId:y,loadingProject:b,previewProject:T,selectedProjects:u,movableSectionsForSelectMode:$,canManageWorkflowStatuses:X}}static getStores(){return[_.a.ProjectsDataStore,_.a.SpaceStore,_.a.ProjectSelectionStore,_.a.OrganizationStore,_.a.UserStore]}get selectionModeEnabled(){const{selectedProjects:e}=this.state;return e.length>0}get isWorkflowStatusFilterApplied(){const{selectedWorkflowStatusFilter:e}=this.state;return e&&e!==L.default.All._id}get canEditSections(){const{isPersonalWorkspace:e,canCreateProject:t,selectedSortType:n,filterValue:i}=this.state;return!e&&t&&n===x.SortTypes.SECTIONS&&!this.isWorkflowStatusFilterApplied&&!i}get isOrganizationSuspended(){const{selectedOrganizationStatus:e}=this.state;return"suspended"===e}get shouldDisplayEmptyProjects(){const{sections:e}=this.state;return 0===e.reduce((e,t)=>t.projects.length+e,0)}get shouldDisplaySectionOnboarding(){const{sections:e}=this.state;return this.canEditSections&&e.length<=1}async componentDidMount(){const{focus:e=U.DEFAULT_FOCUS_COUNT_LIMIT}=await Object(M.getApiConfigValue)("countLimit");this.focusCountLimit=e,this.toastContainer=this.props.toastContainer,document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("keyup",this.handleKeyRelease)}componentDidUpdate(e,t){this.state.selectedOrganizationId!==t.selectedOrganizationId?this.context.workspaceRef&&(this.context.workspaceRef.scrollTop=0):1===this.state.pinnedBarrels.length&&0===t.pinnedBarrels.length&&(this.state.pinnedBarrelOnce&&this.nodeRefs.focusedProjectsSection?this.context.workspaceRef&&(this.context.workspaceRef.scrollTop+=this.nodeRefs.focusedProjectsSection.clientHeight):this.context.workspaceRef&&(this.context.workspaceRef.scrollTop=0))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("keyup",this.handleKeyRelease)}getChildContext(){const{organizations:e,organizationProfiles:t,selectedOrganizationId:n,selectedOrganizationName:i,currentOrganizationProfile:o,canCreateProject:a,canManageWorkflowStatuses:r,filterValue:s,currentUserId:l,organizationProjects:c,organizationStyleguides:d,archivedProjectsVisible:u,selectedWorkflowStatusName:p}=this.state;return z(z({},this.context),{},{selectedOrganizationId:n,selectedOrganizationName:i,selectedOrganizationProjects:c,selectedOrganizationStyleguides:d,selectedWorkflowStatusName:p,organizations:e,organizationProfiles:t,currentOrganizationProfile:o,canCreateProject:a,canManageWorkflowStatuses:r,canEditSections:this.canEditSections,filterValue:s,currentUserId:l,focusCountLimit:this.focusCountLimit,archivedProjectsVisible:u})}renderDialogs(){const{visibleDialogType:e,visibleDialogParams:t,loadingProject:n,previewProject:o}=this.state;switch(e){case x.DialogTypes.CREATE_PROJECT:return i.h(h.default,{oseid:t.oseid,onCreate:this.handleCreateProject,onClose:y.default.closeDialog});case x.DialogTypes.RESTRICTED_EDITOR_WARNING:return i.h(u.DismissibleOverlayDialog,{title:t.title,message:t.message,dismissPrefKey:t.dismissPrefKey,onPositiveButtonClick:this.handleDismissibleDialogPositiveButtonClick,onNegativeButtonClick:y.default.closeDialog,onClose:y.default.closeDialog,positiveButtonText:t.positiveButtonText,negativeButtonText:"CANCEL",hideNegativeButton:!1});case x.DialogTypes.PREVIEW_PROJECT:return i.h(p.default,{loading:n,onClose:y.default.closeDialog,onJoin:this.handleProjectPreviewJoin,project:o})}}renderNoProjects(){const{organizations:e,hasPaidPlan:t}=this.state,n=e.find(({status:e})=>"deleted"!==e);return i.h(f.default,{hasPaidPlan:t,availableOrganization:n,onCreate:this.handleOpenCreateProjectDialog,onCheckoutOrganization:y.default.changeSelectedOrganization})}renderSuspendedOrganization(){const{selectedOrganizationId:e,selectedOrganizationSubscriptionStatus:t,currentOrganizationProfile:{role:n}}=this.state;return i.h(m.default,{organizationId:e,subscriptionStatus:t,memberRole:n})}renderProjectsEmptyState(){return!this.isOrganizationSuspended&&i.h(g.default,null)}render(){const{organizationProjects:e}=this.state;return i.h("div",{ref:Object(k.default)(this,"base"),class:"projectsContainer"},0===e.length?this.renderNoProjects():i.h(i.Fragment,null,this.renderFocusedProjects(),this.renderTopSection(),this.isOrganizationSuspended&&this.renderSuspendedOrganization(),this.renderProjects()),this.renderDialogs())}}t.default=j()(Object(D.default)(F),{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(860);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(861),a=n(867),r=n(509),s=n(873),l=n(888),c=n(312),d=n(230);n(909);function u(e,t){const{onSectionClick:n,onSectionReorder:o,onWorkflowStatusChange:a,onSort:u,onToggleArchivedProjects:p,selectedSortType:h,selectedWorkflowStatusFilter:f,sections:g}=e,{selectedOrganizationId:m,canEditSections:b,archivedProjectsVisible:S}=t,y="user"===m,C=!y&&g.length>=3,v=function(e){const t=[{label:"Sort by Created",dropdownLabel:"Created",value:d.SortTypes.CREATED},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:d.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:d.SortTypes.NAME},{label:"Show Archived Projects",dropdownLabel:"Show Archived Projects",value:"showArchivedProjects",class:"archivedProjectsOption"}];return e?t:[{label:"Sort by Sections",dropdownLabel:"Sections",value:d.SortTypes.SECTIONS},...t]}(y);return i.h(i.Fragment,null,C&&i.h(s.default,{sections:g,onSectionClick:function(e){n(e),mixpanel.master.track("Navigated to project section",{"Sorted By":v.find(({value:e})=>e===h).dropdownLabel})},onSectionReorder:o,selectedSortType:h,reorderEnabled:b}),i.h(r.default,{class:"projectsSortDropdown",optionsClass:"projectsSortOptions",onChange:function(e){"showArchivedProjects"===e?p():u(e)}},v.map(({label:e,dropdownLabel:t,value:n,class:o})=>i.h(r.default.Item,{class:o,key:n,value:n,label:e,dropdownLabel:t,selected:n===h||"showArchivedProjects"===n&&S}))),!y&&i.h(l.default,{onWorkflowStatusChange:a,selectedWorkflowStatusFilter:f,defaultWorkflowStatus:c.default.All,showAllStatus:!0,showDropdownChevron:!0}))}function p(e,t){const{onCreateProject:n,onCreateSection:a}=e,{currentOrganizationProfile:r,selectedOrganizationId:s,canCreateProject:l}=t;if(!l)return null;const c=r&&r.restricted,d="user"===s;return i.h(o.default,{onCreateProject:n,canCreateSection:!c&&!d,onCreateSection:a})}t.default=function({onFilter:e,onCreateProject:t,onCreateSection:n,onSectionClick:o,onSort:r,onToggleArchivedProjects:s,onSectionReorder:l,onWorkflowStatusChange:c,filterValue:d,sections:h,selectedSortType:f,selectedWorkflowStatusFilter:g}){return i.h(a.default,{onFilter:e,filterValue:d,searchPlaceholder:"Search for a project",searchPlaceholderWidth:131,leftContent:!d&&i.h(u,{onSectionClick:o,onSectionReorder:l,onWorkflowStatusChange:c,onSort:r,onToggleArchivedProjects:s,sections:h,sortOptionsClass:"projectsSortOptionsClass",selectedSortType:f,selectedWorkflowStatusFilter:g}),rightContent:i.h(p,{onCreateProject:t,onCreateSection:n}),sticky:!0})}},function(e,t,n){"use strict";n.r(t);var i=n(862);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(514),s=n(395),l=n(400),c=n(438),d=n(863);n(866);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f({onCreateProject:e,onCreateSection:t,canCreateSection:n}){const o=Object(r.useRef)(null),[a,u]=Object(r.useReducer)((e,t)=>p(p({},e),t),{menuOpen:!1,menuOrigin:{}});function h(){if(o.current&&!a.menuOpen){const{left:e,top:t,height:n}=o.current.getBoundingClientRect(),i=28;return u({menuOpen:!a.menuOpen,menuOrigin:{x:e-i,y:t+n}})}u({menuOpen:!a.menuOpen})}return i.h("div",{class:"buttonDropdownWrapper",ref:o},i.h(l.default,{class:Object(s.default)({canCreateSection:n}),onClick:e,primary:!0},"Create Project"),n&&i.h("button",{class:"buttonDropdown",onClick:h},i.h(c.IconArrowDown,{width:"9",color:"white",class:"chevron"})),a.menuOpen&&i.h(d.default.withAutoPosition,{class:"createContextMenu",onClose:h,autoPosition:{menuContainer:".buttonDropdownWrapper",clickOrigin:a.menuOrigin}},i.h(d.default.Item,{onClick:t},"Create section")))}f.propTypes={onCreateProjectClick:a.a.func.isRequired,canCreateSection:a.a.bool,onCreateSectionClick:a.a.func},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(864);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(416),r=n(245);n(865);class s extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e),this.context.close()}render(){const{children:e,warning:t}=this.props;return i.h("button",{type:"button",class:Object(o.default)("menuitem",{warning:t}),onClick:this.handleClick},e)}}class l extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleOnClose=this.handleOnClose.bind(this)}handleOnClose(){this.props.onClose&&this.props.onClose()}handleDocumentClick(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(this.nodeRefs.base.contains(e.target)||this.handleOnClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.handleOnClose())}componentDidMount(){document.addEventListener("contextmenu",this.handleOnClose,!0),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleDocumentKeyDown,!0);const{onOpen:e}=this.props;e&&e()}componentWillUnmount(){document.removeEventListener("contextmenu",this.handleOnClose,!0),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}getChildContext(){return{close:this.handleOnClose}}render(){const{children:e,toLeft:t,toTop:n,class:s,style:l,onMouseDown:c}=this.props;return i.h("div",{ref:Object(a.default)(this,"base"),class:Object(o.default)("contextMenu",s,{toLeft:t,toTop:n}),style:l,onMouseDown:c,onClick:r.stopPropagation},e)}}class c extends i.Component{constructor(e){super(e),this.state={top:null,left:null,toLeft:!1,toTop:!1}}autoPosition(){const{autoPosition:e}=this.props;if(!e)return;const{sidebar:t,menuContainer:n,clickOrigin:i}=e,{left:o,top:a,toLeft:r,toTop:s}=this.state,l=this.nodeRefs.contextMenu.base,c=("string"==typeof n?document.querySelector(n):n).getBoundingClientRect(),d="string"==typeof t?document.querySelector(t):t,u=d?d.getBoundingClientRect().width:0,p=i.x-c.left+2+"px",h=i.y-c.top+2+"px",f=i.x+u+l.offsetWidth>window.innerWidth,g=i.y+l.offsetHeight>window.innerHeight;p===o&&h===a&&f===r&&g===s||this.setState({left:p,top:h,toLeft:f,toTop:g})}resetAutoPosition(){const{autoPosition:e}=this.props;e&&this.setState({left:null,top:null,toLeft:!1,toTop:!1})}componentDidMount(){this.autoPosition()}componentWillReceiveProps(){this.resetAutoPosition()}componentDidUpdate(){this.autoPosition()}render(){const e=Object.assign({},this.props),{class:t,autoPosition:n}=e;delete e.autoPosition;const{left:r,top:s,toLeft:c,toTop:d}=this.state,u=n?n.zIndex:null;return i.h(l,Object.assign({},e,{toTop:d,toLeft:c,class:Object(o.default)(t,{autoPositioned:!!n}),style:{left:r,top:s,zIndex:u},ref:Object(a.default)(this,"contextMenu")}))}}l.Item=s,l.ItemDivider=()=>i.h("hr",null),l.withAutoPosition=c,t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(868);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395),s=n(869);n(872);function l({class:e,filterValue:t,onFilter:n,leftContent:o,rightContent:a,searchPlaceholder:l,searchPlaceholderWidth:c,searchDisabled:d,sticky:u}){return i.h("div",{class:Object(r.default)("filterBar",{sticky:u},e)},i.h("div",{class:"bumper"},o),i.h(s.default,{placeholder:l,placeholderWidth:c,value:t,onFilter:n,disabled:d}),i.h("div",{class:"bumper"},a))}l.propTypes={searchPlaceholder:a.a.string,searchPlaceholderWidth:a.a.number.isRequired,filterValue:a.a.string,onFilter:a.a.func.isRequired,leftContent:a.a.node,rightContent:a.a.node,searchDisabled:a.a.bool,sticky:a.a.bool},l.defaultProps={filterValue:"",searchDisabled:!1,sticky:!1,class:""},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(870);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(438),a=n(395),r=n(416),s=n(244),l=n(227),c=n(245);n(871);const{h:d}=i;class u extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSearchShortcut=this.handleSearchShortcut.bind(this),this.filterTimeout=null,this.state={focusWithin:!1,value:e.value}}handleBlur(){this.setState({focusWithin:!1})}handleFocus(){this.setState({focusWithin:!0})}handleInput(e){this.setState({value:e.target.value}),clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(this.props.onFilter,200,e.target.value)}handleKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),clearTimeout(this.filterTimeout),e.target.value?(this.setState({value:""}),this.props.onFilter("")):e.target.blur())}handleSearchShortcut(e){Object(l.cmdKey)(e)&&e.keyCode===Zeplin.KEY_CODE.KeyF&&(e.preventDefault(),Object(s.highlightInput)(this.nodeRefs.input),this.nodeRefs.input.scrollIntoView())}componentDidMount(){document.addEventListener("keydown",this.handleSearchShortcut)}componentWillReceiveProps(e){void 0!==e.value&&e.value!==this.props.value&&this.setState({value:e.value})}componentWillUnmount(){document.removeEventListener("keydown",this.handleSearchShortcut)}render(){const{class:e,placeholder:t,placeholderWidth:n,disabled:s}=this.props,{focusWithin:l,value:d}=this.state,u=Object(a.default)("filterInput noSelect",e,{focusWithin:l}),p=l||d?null:{width:n};return i.h("label",{onClick:c.stopPropagation,class:u},i.h(o.IconMagnifier,null),i.h("input",{style:p,type:"search",placeholder:t,value:d,ref:Object(r.default)(this,"input"),disabled:s,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onInput:this.handleInput}))}}t.default=u},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(874);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(514),a=n(5),r=n.n(a),s=n(875),l=n(880),c=n(883),d=n(230),u=n(395),p=n(329),h=n(886);n(887);const f=()=>i.h("hr",{class:"sectionElevatorDivider"});function g({sections:e,selectedSortType:t,reorderEnabled:n,onSectionClick:a,onSectionReorder:r}){const[g,m]=Object(o.useState)(!1),[b,S]=Object(o.useState)(!1),[y,C]=Object(o.useState)(null),[v,O]=Object(o.useState)(null),{initSectionObserver:E,disconnectSectionObserver:T}=Object(h.useSectionObserver)(),_=Object(o.useRef)(null),P=Object(o.useRef)(new Set),j=Object(o.useRef)(null),D=Object(o.useRef)(e);if(!e.length)return null;const k=function(e,t){if(t===d.SortTypes.SECTIONS){if("default"===e[0].type)return 1;if("individual"===e[e.length-1].type)return e.length-1}return t===d.SortTypes.NAME&&"#"===e[0].name?1:-1}(e,t);function I(){b||m(!1)}function R(e){a(e),I()}function A(e){let t=!1;const{current:n}=P,{current:i}=D;if(e.forEach(e=>{const{isIntersecting:i,target:{dataset:{id:o}},intersectionRatio:a,intersectionRect:{height:r}}=e,s=n.has(o),l=i&&(1===a||r>100);l&&!s?(n.add(o),t=!0):!l&&s&&(n.delete(o),t=!0)}),!t)return;n.forEach(e=>{i.some(t=>t._id===e)||n.delete(e)});const o=i.find(e=>n.has(e._id));o&&v!==o._id&&(window.clearTimeout(j.current),j.current=window.setTimeout(e=>{O(o._id)},80))}return Object(o.useEffect)(()=>{const e=Object(p.populateArrayOfConstantIncrements)(0,1,20);return E(new IntersectionObserver(A,{threshold:e})),function(){T()}},[]),Object(o.useLayoutEffect)(()=>{D.current=e},[e]),i.h(s.default,{key:"elevatorDragDropContainer",itemsClass:"elevatorItems",onStartDrag:function(){S(!0)},getScrollableDropContainers:function(){return[_.current]},onEndDrag:function(){S(!1),C(null)}},i.h(l.default,{open:g,class:Object(u.default)("sectionElevator",{narrow:t===d.SortTypes.NAME}),dragMode:b,onOpen:function(){m(!0)},onContentRef:function(e){_.current=e},onClose:I},e.map((e,t)=>function(e){return!("individual"===e.type&&!e.projects.length||"default"===e.type&&!e.screens.length)}(e)&&i.h(i.Fragment,{key:"sectionElevatorItem-"+e._id},t===k&&i.h(f,null),i.h(c.DragDropSectionElevatorItem,{index:t+1,dragMode:b,isDragging:y===e._id,setDragSection:C,reorderEnabled:n&&"individual"!==e.type,section:e,onClick:R,highlight:v===e._id,onSectionDrop:r})))))}g.defaultProps={sections:[]},g.propTypes={sections:r.a.array,selectedSortType:r.a.string.isRequired,reorderEnabled:r.a.bool,onSectionClick:r.a.func.isRequired,onSectionReorder:r.a.func},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(876);n.d(t,"DragSource",(function(){return i.default}));var o=n(877);n.d(t,"DropTarget",(function(){return o.default}));var a=n(878);n.d(t,"default",(function(){return a.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(416),a=n(245);const r={allowX:!0,allowY:!0,movingThreshold:12};t.default=function(e={}){const t=Object.assign({},r,e);return Component=>class extends i.Component{constructor(e){super(e),this.state={dragging:!1},this.initialPosition={top:0,left:0},this.handleBaseRef=this.handleBaseRef.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleDragStart=this.handleDragStart.bind(this)}handleBaseRef(e){const{dragBaseRef:t}=this.props;Object(o.default)(this,"base")(e),t&&t(e)}handleMouseMove(e){if(this.state.dragging)return e.preventDefault(),void this.handleDrag(e);const n=t.allowX?Math.abs(e.clientX-this.state.originX):0,i=t.allowY?Math.abs(e.clientY-this.state.originY):0;Math.hypot(n,i)>t.movingThreshold&&this.handleDragStart(e)}handleMouseDown(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||this.context.dragDisabled||(e.stopPropagation(),this.setState({originX:e.clientX,originY:e.clientY}),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(e){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&(this.handleDragEnd(e),e.preventDefault())}handleDragStart(e){const n=this.nodeRefs.base.getBoundingClientRect(),i={left:e.clientX-n.left,top:e.clientY-n.top};this.dragStartTimeout=!1;const o=t.provideDragData(this.props);this.context.onStartDrag({draggingItemType:t.itemType,sourceRect:n,mirrorComponent:t.mirrorComponent,mirrorZIndex:t.mirrorZIndex,dragData:o,dragOffset:i,position:{left:e.clientX,top:e.clientY}}),t.onStartDrag&&t.onStartDrag(this.props),this.setState({dragging:!0}),this.initialPosition={left:e.clientX,top:e.clientY}}handleDrag(e){this.context.onDrag({left:t.allowX?e.clientX:this.initialPosition.left,top:t.allowY?e.clientY:this.initialPosition.top})}handleDragEnd(){this.context.onEndDrag(),t.onEndDrag&&t.onEndDrag(this.props),this.setState({dragging:!1}),this.initialPosition={top:0,left:0}}render(){return i.h("div",{style:t.style,ref:this.handleBaseRef,onMouseDown:this.handleMouseDown,onDragStart:a.preventDefault},i.h(Component,Object.assign({},this.props,{dragging:this.state.dragging})))}}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(416),a=n(245);t.default=function(e={}){return Component=>class extends i.Component{constructor(e){super(e),this.hasHover=!1}acceptsItemType(t,n){if("string"==typeof e.acceptsItemType)return e.acceptsItemType===t;if(Array.isArray(e.acceptsItemType))return e.acceptsItemType.includes(t);if("object"==typeof e.acceptsItemType){const i=e.acceptsItemType[n];if("string"==typeof i)return i===t;if(Array.isArray(i))return i.includes(t)}}checkHoverOut(t){this.acceptsItemType(t.draggingItemType,"drag")&&this.hasHover&&(e.onHoverOut&&e.onHoverOut(this.props,t),this.hasHover=!1)}checkDrop(t,n){if(!this.acceptsItemType(n.draggingItemType,"drop"))return!1;let i=!0;const o=()=>{i=!1},r=this.nodeRefs.base.getBoundingClientRect(),s={x:t.left,y:t.top},{discardHorizontalPosition:l,discardVerticalPosition:c}=e;return!!Object(a.rectContainsPoint)(r,s,{discardHorizontalPosition:l,discardVerticalPosition:c})&&(e.onDrop&&e.onDrop(this.props,n,o),i)}checkHover(t,n){if(!this.acceptsItemType(n.draggingItemType,"drag"))return;const i=this.nodeRefs.base.getBoundingClientRect(),o={x:t.left,y:t.top},{discardHorizontalPosition:r,discardVerticalPosition:s}=e;if(Object(a.rectContainsPoint)(i,o,{discardHorizontalPosition:r,discardVerticalPosition:s}))return e.onHover&&e.onHover(this.props,n),void(this.hasHover||(this.hasHover=!0));this.checkHoverOut(n)}componentDidMount(){this.context.registerDropTarget(this)}componentWillUnmount(){this.context.unregisterDropTarget(this)}render(){return i.h("div",{style:e.style,ref:Object(o.default)(this,"base")},i.h(Component,this.props))}}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(511),a=n(550),r=n(395),s=n(416),l=n(244),c=n(245),d=n(5),u=n.n(d);n(879);class p extends a.default{getChildContext(){const{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:o,unregisterDropTarget:a}=this.props;return{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:o,unregisterDropTarget:a}}render(){const{class:e,baseRef:t,items:n,onScroll:o}=this.props;return i.h("div",{class:e,ref:t,onScroll:o},n)}}function h(e){return{top:e.top+window.scrollY,left:e.left}}class f extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleWheel=this.handleWheel.bind(this),this.registerDropTarget=this.registerDropTarget.bind(this),this.unregisterDropTarget=this.unregisterDropTarget.bind(this),this.state={dragging:!1,dragData:null,sourceRect:null,draggingItemType:"",mirrorComponent:null,mirrorZIndex:"",dragOffset:{top:0,left:0},mirrorPosition:{top:0,left:0}},this.scrollableDropContainers=null,this.lastScrolledDropContainer=null,this.registeredDropTargets=new Set,this.scrollRoot=this.scrollRoot.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}scrollRoot(){const{base:e,mirror:t}=this.nodeRefs;if(!t)return;cancelAnimationFrame(this.scrollRootAF);const{mirrorPosition:n}=this.state;let i=this.lastScrolledDropContainer||e;if(i.scrollHeight<=i.clientHeight&&(i=Object(l.getFirstScrollableParent)(i)||i),this.scrollableDropContainers)for(let l of this.scrollableDropContainers){const e=l.getBoundingClientRect(),t={x:n.left,y:n.top};if(Object(c.rectContainsPoint)(e,t)){i=l,this.lastScrolledDropContainer=l;break}}const o=t.getBoundingClientRect(),a=i.getBoundingClientRect(),r=o.top-.1*o.height-a.top;if(r<0&&i.scrollTop>0)return i.scrollTop+=r,void(this.scrollRootAF=requestAnimationFrame(this.scrollRoot));const s=n.top-window.scrollY,d=o.top+.1*o.height-a.bottom,u=s+30-a.bottom,p=d>0?d:u;p>0&&i.scrollTop+i.offsetHeight+.1*o.height<i.scrollHeight&&(i.scrollTop+=p,this.scrollRootAF=requestAnimationFrame(this.scrollRoot))}registerDropTarget(e){this.registeredDropTargets.add(e)}unregisterDropTarget(e){this.registeredDropTargets.delete(e)}checkHoverOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};this.registeredDropTargets.forEach(t=>{t.checkHover(e,this.state)})}checkDropOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};let t=!1;this.registeredDropTargets.forEach(n=>{!this.props.enableDropOntoMultipleTargets&&t||(t=n.checkDrop(e,this.state)),n.checkHoverOut(this.state)})}isDragEnded(e){return e.dragging&&!this.state.dragging}isDragPositionChanged(e){return this.state.dragging&&this.state.mirrorPosition!==e.mirrorPosition}handleDocumentClick(e){this.state.dragging&&(e.preventDefault(),e.stopImmediatePropagation())}handleStartDrag({draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:o,dragOffset:a,position:r}){const{disabled:s,getScrollableDropContainers:l}=this.props;s||(this.lastScrolledDropContainer=null,this.scrollableDropContainers=l&&l(),this.setState({dragging:!0,draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:o,dragOffset:a,mirrorPosition:h(r)},()=>{document.body.classList.add("dragging"),this.props.onStartDrag&&this.props.onStartDrag()}))}handleDrag(e){this.props.disabled||this.setState({mirrorPosition:h(e)})}handleEndDrag(){this.props.disabled||(this.scrollableDropContainers=null,this.setState({dragging:!1},()=>{document.body.classList.remove("dragging"),this.props.onEndDrag&&this.props.onEndDrag()}))}handleBaseRef(e){Object(s.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleWheel(e){this.state.dragging&&this.setState(e=>({mirrorPosition:{top:e.mirrorPosition.top,left:e.mirrorPosition.left}}))}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("wheel",this.handleWheel)}componentDidUpdate(e,t){this.isDragEnded(t)?this.checkDropOnVisibleTargets():this.isDragPositionChanged(t)&&(cancelAnimationFrame(this.scrollRootAF),this.scrollRootAF=requestAnimationFrame(this.scrollRoot),this.checkHoverOnVisibleTargets())}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("wheel",this.handleWheel),document.body.classList.remove("dragging")}render(){const{class:e,children:t,disabled:n,itemsClass:a,noScroll:l,onScroll:c}=this.props,{dragging:d,sourceRect:u,mirrorComponent:h,mirrorZIndex:f,dragData:g,mirrorPosition:m,dragOffset:b}=this.state,S=Object(r.default)("dragDropItems",a,{noScroll:l});return i.h("div",{class:Object(r.default)("dragDropContainer",e)},i.h(p,{class:S,onScroll:c,dragDisabled:n,baseRef:this.handleBaseRef,onStartDrag:this.handleStartDrag,onDrag:this.handleDrag,onEndDrag:this.handleEndDrag,registerDropTarget:this.registerDropTarget,unregisterDropTarget:this.unregisterDropTarget,items:t}),d&&i.h(o.default,null,i.h("div",{ref:Object(s.default)(this,"mirror"),class:"dragMirrorWrapper",style:{transform:`translate(${m.left-b.left}px, ${m.top-b.top}px)`,zIndex:f}},i.h(h,Object.assign({},g,{sourceRect:u})))))}}f.propTypes={onStartDrag:u.a.func,onEndDrag:u.a.func,disabled:u.a.bool,class:u.a.string,itemsClass:u.a.string,noScroll:u.a.bool,enableDropOntoMultipleTargets:u.a.bool,children:u.a.node},t.default=f},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(881);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(514),a=n(5),r=n.n(a),s=n(511),l=n(500),c=n.n(l),d=n(395);n(882);function u({class:e,open:t,onOpen:n,onClose:a,onContentRef:r,dragMode:l,children:u}){const p=Object(o.useRef)(null),h=Object(o.useRef)(null),f=Object(o.useRef)(t),[g,m]=Object(o.useState)(!1),[b,S]=Object(o.useState)(!1),[y,C]=Object(o.useState)(0);function v(){n(),m(!1)}function O(){a(),S(!1)}return Object(o.useLayoutEffect)(()=>{f.current=t},[t]),Object(o.useLayoutEffect)(()=>{if(!t)return;if(h.current.scrollHeight>h.current.clientHeight)return void C(78);const e=p.current.getBoundingClientRect(),n=(e.top+e.bottom)/2,i=n/window.innerHeight,o=Math.max(n-h.current.clientHeight*i,78);C(o)},[window.innerHeight,t,h.current?h.current.clientHeight:0]),i.h(i.Fragment,null,i.h("div",{class:"elevatorIconWrapper",ref:p,onMouseEnter:function(){l||(clearTimeout(O),m(!0),setTimeout(v,300))}},i.h(c.a,null)),(g||t)&&i.h(s.default,null,i.h("div",{class:"elevatorBackdrop"},i.h("div",{class:Object(d.default)("elevatorContent",{open:t,closing:b},e),style:{top:y},ref:function(e){h.current=e,r(e)},onMouseLeave:function(){!f.current||g||l||(S(!0),setTimeout(O,350))}},u))))}u.propTypes={class:r.a.string,open:r.a.bool.isRequired,onOpen:r.a.func.isRequired,onClose:r.a.func.isRequired,children:r.a.node},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(884);n.d(t,"default",(function(){return i.default})),n.d(t,"DragDropSectionElevatorItem",(function(){return i.DragDropSectionElevatorItem}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropSectionElevatorItem",(function(){return f}));var i=n(4),o=n(514),a=n(875),r=n(501),s=n.n(r),l=n(395),c=n(245);n(885);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const u=["projects","screens","components"];function p({section:e,reorderEnabled:t,highlight:n,mirror:a,isDragging:r,dragMode:c,targetPosition:d,onClick:p}){const h=Object(o.useRef)(null);return Object(o.useEffect)(()=>{n&&h.current.scrollIntoView()},[n]),i.h("div",{ref:h,class:Object(l.default)("sectionElevatorItem","noSelect",d,{hidden:r,dragMode:c,mirror:a}),onClick:function(){p(e._id)}},i.h("div",{class:Object(l.default)("sectionElevatorItemContent",{highlight:n})},t&&i.h("div",{class:"dragHandleWrapper"},i.h(s.a,null)),i.h("span",{className:"sectionName ellipsis"},"default"===e.type?"No Section":e.name),i.h("span",{className:"sectionItemCount"},function(e){const t=u.find(t=>t in e);return t?e[t].length:0}(e))))}const h=Object(c.pipe)(Object(a.DragSource)({itemType:"SectionElevatorItem",mirrorComponent:e=>{let t=Object.assign({},e);return i.h(p,d({mirror:!0},t))},mirrorZIndex:1e3,onStartDrag:e=>e.onStartDrag(),provideDragData:e=>e}),Object(a.DropTarget)({acceptsItemType:"SectionElevatorItem",discardHorizontalPosition:!0,onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.section._id,sourceIndex:t.dragData.index}),onHover:(e,t)=>e.onMirrorHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left}),onHoverOut:(e,t)=>e.onMirrorHoverOut({top:t.mirrorPosition.top,left:t.mirrorPosition.left})}))(p);function f(e){const t=Object(o.useRef)(null),[n,a]=Object(o.useState)("");return e.reorderEnabled?i.h(h,d({},e,{ref:t,targetPosition:n,onStartDrag:function(){const{setDragSection:t,section:{_id:n}}=e;t(n)},onMirrorHover:function(e){const{base:i}=t.current,o=i.getBoundingClientRect(),r=n?34:0,s=("top"===n?o.top+r:o.top)+(o.height-r)/2,l=e.top>=s?"bottom":"top";n!==l&&a(l)},onMirrorHoverOut:function(e){n&&a("")},onDrop:function({sourceId:t,sourceIndex:i}){if(!n)return;const{index:o,onSectionDrop:a}=e,r="bottom"===n;let s=o;i>o&&r&&(s=o+1),i<o&&!r&&(s=o-1),a({sourceId:t,sourceIndex:i,moveIndex:s})}})):i.h(p,e)}t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"SectionObserverContext",(function(){return a})),n.d(t,"SectionObserverProvider",(function(){return r})),n.d(t,"useSectionObserver",(function(){return s}));var i=n(4),o=n(514);const a=i.createContext({});function r(e){const[t,n]=Object(o.useState)(null),r=Object(o.useRef)(null);return i.h(a.Provider,{value:{sectionObserver:t,initSectionObserver:function(e){n(e),r.current=e},disconnectSectionObserver:function(){r.current&&r.current.disconnect()}}},e.children)}const s=()=>Object(o.useContext)(a)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(889);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(890),a=n(908),r=n(312),s=n(241),l=n(246);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"handleWorkflowStatusChange",e=>{const{onWorkflowStatusChange:t}=this.props,{workflowStatus:n}=this.workflowStatuses.find(({workflowStatus:{_id:t}})=>t===e);t(n)}),u(this,"handleAddButtonClick",e=>{e.stopPropagation();const t=this.workflowStatuses.filter(({workflowStatus:{name:e}})=>e.startsWith("New Status")),{workflowStatus:{name:n}={}}=t[t.length-1]||{},i=r.default.generateNew(n);a.default.addOrganizationWorkflowStatus({workflowStatusData:i,syncWithApi:!1})}),u(this,"handleWorkflowInputBlur",(e,t,n)=>{const{_id:i}=e,o=d(d({},e),{},{name:t});i.startsWith("newWorkflowStatusId")?n?a.default.deleteOrganizationWorkflowStatus({workflowStatusId:o._id,syncWithApi:!1}):a.default.addOrganizationWorkflowStatus({workflowStatusData:o,syncWithApi:!0}):n||e.name===t||a.default.updateOrganizationWorkflowStatusName({workflowStatusId:i,name:t,syncWithApi:!0})}),u(this,"handleUpdateWorkflowStatusColor",(e,t)=>{a.default.updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:!0})}),u(this,"handleDeleteWorkflowStatus",e=>{const{count:t}=this.workflowStatuses.find(({workflowStatus:{_id:t}})=>t===e),n=1===t?"is":"are",i=1===t?"this project.":"all of these projects.";if(t)return s.create({message:`There ${n} ${Object(l.pluralize)(t,"project")} using this status. Deleting the status will remove it from ${i}`,done:{name:"DELETE",cb(){a.default.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}});const o=e.startsWith("newWorkflowStatusId");a.default.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!o})})}get workflowStatuses(){const{showAllStatus:e,hideNoStatusWhenCountIsZero:t}=this.props,{organizations:n,selectedOrganizationProjects:i,selectedOrganizationId:o,archivedProjectsVisible:a}=this.context,{workflowStatuses:s}=n.find(({_id:e})=>e===o)||{};return function({workflowStatuses:e=[],projects:t,options:{showAllStatus:n=!1,hideNoStatusWhenCountIsZero:i=!0}}){const o=t.reduce((e,{workflowStatus:{_id:t}})=>(e[t]?e[t]++:e[t]=1,e),{}),a=[],s={workflowStatus:r.default.All};n&&a.push(s);const l=e.map(({_id:e,name:t,color:n})=>({workflowStatus:new r.default({_id:e,name:t,color:n}),count:o[e]||0}));a.push(...l);const c=o[r.default.NoStatus._id];return(c>0||!i)&&a.push({workflowStatus:r.default.NoStatus,count:c}),a}({workflowStatuses:s,projects:a?i:i.filter(({status:e})=>"archived"!==e),options:{showAllStatus:e,hideNoStatusWhenCountIsZero:t}})}render(){const{defaultLabel:e,defaultWorkflowStatus:t,showDropdownChevron:n,dropdownAlignRight:a,showSelectedAsLabel:r,selectedWorkflowStatusFilter:s,openCustomizeEmptyStateInitially:l,hideStatusCount:c,hideNoStatusIfSelected:d,dropdownClass:u,disabled:p,onDropdownClick:h}=this.props;return i.h(o.default,{dropdownClass:u,onDropdownClick:h,workflowStatuses:this.workflowStatuses,selectedWorkflowStatusFilter:s,onWorkflowStatusChange:this.handleWorkflowStatusChange,onAddButtonClick:this.handleAddButtonClick,onWorkflowInputBlur:this.handleWorkflowInputBlur,onUpdateWorkflowStatusColor:this.handleUpdateWorkflowStatusColor,onDeleteWorkflowStatus:this.handleDeleteWorkflowStatus,defaultLabel:e,defaultWorkflowStatus:t,showSelectedAsLabel:r,showChevron:n,alignRight:a,disabled:p,openCustomizeEmptyStateInitially:l,hideStatusCount:c,hideNoStatusIfSelected:d})}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(891);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(509),a=n(400),r=n(892),s=n(895),l=n(897),c=n.n(l),d=n(606),u=n(416),p=n(395),h=n(906),f=n(245),g=n(326),m=n(312);n(907);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"state",{customizing:!1,dropdownOpen:!1}),b(this,"handleDropdownStateChange",e=>{const{workflowStatuses:t}=this.props,n=!e&&1!==t.length;this.setState(t=>({dropdownOpen:e,customizing:!n&&t.customizing}))}),b(this,"handleCustomizeClick",e=>{e.stopPropagation(),this.setState({customizing:!0})}),b(this,"handleDoneClick",e=>{const{workflowStatuses:t,openCustomizeEmptyStateInitially:n}=this.props;(!n||t.length>1)&&(e.stopPropagation(),this.setState({customizing:!1}))}),b(this,"renderWorkflowStatusLabel",({color:e,name:t})=>i.h("div",{class:"workflowStatusDropdownLabel"},i.h(c.a,{color:Object(g.getColorName)(e)}),i.h("span",{class:"ellipsis"},t))),b(this,"renderFooter",()=>{const{customizing:e}=this.state,{canManageWorkflowStatuses:t,currentOrganizationProfile:n}=this.context;return i.h("div",{key:"workflowStatusOptionsFooter",class:Object(p.default)("workflowStatusOptionsFooter",{customizing:e}),onClick:f.stopPropagation},t?i.h(a.default,{key:"customize",onClick:this.handleCustomizeClick,ninja:!0},"Customize"):i.h(d.default,{content:Object(h.default)(n.role,"customize statuses")},i.h(a.default,{ninja:!0,disabled:!0},"Customize")))}),b(this,"renderCustomize",()=>{const{workflowStatuses:e,onAddButtonClick:t,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:o,onDeleteWorkflowStatus:a}=this.props,s=e.filter(({workflowStatus:{_id:e}})=>e!==m.default.All._id&&e!==m.default.NoStatus._id);return i.h(r.default,{workflowStatuses:s,onAddButtonClick:t,onDoneButtonClick:this.handleDoneClick,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:o,onDeleteWorkflowStatus:a})}),b(this,"renderWorkflowStatusItem",({workflowStatus:{_id:e,name:t,color:n},count:a})=>{const{selectedWorkflowStatusFilter:r,onUpdateWorkflowStatusColor:l,hideStatusCount:c,hideNoStatusIfSelected:d}=this.props,u=e===r;if(d&&e===m.default.NoStatus._id&&u)return null;const p=![m.default.All._id,m.default.NoStatus._id].includes(e);return i.h(o.default.Item,{key:e,label:this.renderWorkflowStatusLabel({color:n,name:t}),value:e,selected:u},i.h("div",{class:"workflowStatusItemWrapper"},i.h(s.default,{itemId:e,selectedColor:Object(g.getColorName)(n),colorSelectable:p,onColorClick:l,selected:u}),i.h("div",{class:"label ellipsis"},t),!c&&a>0&&i.h("span",{class:"labelInfo"},a)))}),b(this,"renderWorkflowStatuses",()=>{const{workflowStatuses:e}=this.props,{customizing:t}=this.state;return i.h("div",{key:"workflowStatusOptions",class:Object(p.default)("workflowStatusDropdownOptionsWrapper",{customizing:t})},e.map(e=>this.renderWorkflowStatusItem(e)))})}componentDidMount(){const{workflowStatuses:e,openCustomizeEmptyStateInitially:t}=this.props,n=1===e.length&&t;this.setState({customizing:n})}componentDidUpdate(e,t){const{workflowStatuses:n,openCustomizeEmptyStateInitially:i}=this.props;if(e.workflowStatuses.length!==n.length&&i){const e=n.length,i=e>1&&t.customizing&&t.dropdownOpen;1===e||i?this.setState({customizing:!0}):e>1&&!t.dropdownOpen&&this.setState({customizing:!1})}}render(){const{dropdownClass:e,onWorkflowStatusChange:t,disabled:n,defaultLabel:a,defaultWorkflowStatus:r,showChevron:s,alignRight:l,showSelectedAsLabel:c,onDropdownClick:d}=this.props,{customizing:h,dropdownOpen:f}=this.state,g=Object(p.default)("workflowStatusFilter",e,{dropdownOpen:f}),m=r?this.renderWorkflowStatusLabel(r):a;return i.h(o.default,{class:g,ref:Object(u.default)(this,"dropdown"),defaultLabel:m,showSelectedAsLabel:c,optionsClass:"workflowStatusOptions",onChange:t,onDropdownClick:d,onDropdownStateChange:this.handleDropdownStateChange,disableClosingWithESC:h,showCheck:!1,showChevron:!!s,alignRight:!!l,disabled:n},this.renderWorkflowStatuses(),this.renderFooter(),h&&this.renderCustomize())}}t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(893);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(894),r=n(902),s=n(606),l=n(245),c=n(395),d=n(416);n(905);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"state",{inputFocused:!1,discard:!1,scrolling:!1}),u(this,"updateScrolling",()=>{const{scrolling:e}=this.state,{workflowStatusItemsWrapper:t}=this.nodeRefs||{};t&&(t.clientHeight<t.scrollHeight&&!e?this.setState({scrolling:!0}):t.clientHeight===t.scrollHeight&&e&&this.setState({scrolling:!1}))}),u(this,"handleInputDeleteClick",(e,t)=>{e.stopPropagation();const{onDeleteWorkflowStatus:n}=this.props;n(t._id)}),u(this,"handleInputFocus",()=>{this.setState({inputFocused:!0})}),u(this,"handleInputBlur",(e,t)=>{const{onWorkflowInputBlur:n}=this.props,{discard:i}=this.state,o=t._id.startsWith("newWorkflowStatusId")&&e.relatedTarget&&e.relatedTarget.className.includes("inputDelete")&&e.relatedTarget.previousSibling.firstChild.value===t.name,a=i||o||!e.target.value;n(t,e.target.value,a),this.setState({discard:!1,inputFocused:!1})}),u(this,"handleKeyDown",e=>{e.stopPropagation();const{onDoneButtonClick:t}=this.props,{inputFocused:n}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(n?this.setState({discard:!0},()=>{e.target.blur()}):t(e)),e.keyCode===Zeplin.KEY_CODE.ENTER&&e.target.blur()}),u(this,"renderAddButton",()=>{const{workflowStatuses:{length:e},onAddButtonClick:t}=this.props;return 20===e?i.h(s.default,{content:"An organization can have at most 20 statuses."},i.h(o.default,{ninja:!0,disabled:!0},"Add")):i.h(o.default,{key:"add",onClick:t,ninja:!0},"Add")}),u(this,"renderInputsOrEmptyState",()=>{const{workflowStatuses:e,onUpdateWorkflowStatusColor:t}=this.props;return e.length?i.h("div",{class:"workflowStatusItemsWrapper",ref:Object(d.default)(this,"workflowStatusItemsWrapper")},e.map(({workflowStatus:e})=>i.h(a.default,{key:e._id,workflowStatus:e,onUpdateWorkflowStatusColor:t,onInputFocus:this.handleInputFocus,onInputBlur:this.handleInputBlur,onInputDelete:this.handleInputDeleteClick,colorSelectable:!e._id.startsWith("newWorkflowStatusId")}))):i.h(r.default,null)})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),this.updateScrolling()}componentDidUpdate(){this.updateScrolling()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selectedWorkflowStatus:e,onDoneButtonClick:t}=this.props,{scrolling:n}=this.state;return i.h("div",{class:Object(c.default)("customizeWorkflowStatus",{scrolling:n}),selected:e},this.renderInputsOrEmptyState(),i.h("div",{class:"workflowStatusOptionsFooter",onClick:l.stopPropagation},this.renderAddButton(),i.h(o.default,{key:"done",onClick:t,ninja:!0},"Done")))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(895),a=n(438),r=n(416),s=n(245),l=n(326);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"handleInputBlur",(e,t)=>{const{onInputBlur:n}=this.props;n&&n(e,t)}),c(this,"handleInputDeleteClick",(e,t)=>{const{onInputDelete:n}=this.props;n&&n(e,t)})}componentDidMount(){const{workflowStatus:{_id:e}}=this.props;e.startsWith("newWorkflowStatusId")&&(this.nodeRefs.inputRef.select(),this.nodeRefs.inputRef.scrollIntoView())}render(){const{workflowStatus:e,colorSelectable:t,onUpdateWorkflowStatusColor:n,onInputFocus:c}=this.props,d=Object(l.getColorName)(e.color);return i.h("div",{key:e.name,class:"workflowStatusItem",onClick:s.stopPropagation},d&&i.h(o.default,{itemId:e._id,selectedColor:d,colorSelectable:t,onColorClick:n}),i.h("div",{class:"inputWrapper"},i.h("input",{ref:Object(r.default)(this,"inputRef"),type:"text",name:e.name,value:e.name,onFocus:c,onBlur:t=>this.handleInputBlur(t,e),maxLength:20})),i.h("button",{type:"button",class:"inputDelete deleteButton",onClick:t=>this.handleInputDeleteClick(t,e),tabIndex:"-1"},i.h(a.IconDelete,null)))}}d.defaultProps={colorSelectable:!0},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(896);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(897),s=n.n(r),l=n(326),c=n(245),d=n(395),u=n(900);n(901);class p extends i.Component{constructor(...e){var t,n,i;super(...e),i=(e,t)=>{const{itemId:n,onColorClick:i,selectedColor:o}=this.props;t!==o&&i&&(e.stopPropagation(),i(n,new u.Color(Object(l.getColorValueByName)(t))))},(n="handleColorClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{selectedColor:e,colorSelectable:t,selected:n}=this.props;return i.h("div",{class:Object(d.default)("colorSelector",{selectable:t}),onClick:c.stopPropagation},i.h(s.a,{key:e+"-viewOnly",color:e,selected:n,mainColor:!0}),t&&i.h("div",{class:"colorDotsContainer"},i.h("div",{class:"colorDots"},l.colorNames.map(t=>i.h(s.a,{key:t+"-colorDot",color:t,selected:t===e,onClick:this.handleColorClick})))))}}p.propTypes={itemId:a.a.string,selected:a.a.bool,selectedColor:a.a.string,colorSelectable:a.a.bool,onColorClick:a.a.func},p.defaultProps={size:"small",colorSelectable:!0},t.default=p},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(898);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(395));n(899);t.default=({class:e,size:t="small",color:n="karl",selected:i,mainColor:r,onClick:s})=>o.h("div",{class:a.default("colorDot",e,t,n,{selected:i,mainColor:r,clickable:!!s}),onClick:e=>{null==s||s(e,n)}})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(250);n.d(t,"Color",(function(){return i.default}));var o=n(297);n.d(t,"Fill",(function(){return o.default}));var a=n(300);n.d(t,"Font",(function(){return a.default}));var r=n(298);n.d(t,"Gradient",(function(){return r.default}));var s=n(293);n.d(t,"Layer",(function(){return s.default}));var l=n(318);n.d(t,"Barrel",(function(){return l.default}));var c=n(302);n.d(t,"Shadow",(function(){return c.default}))},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(903);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(904);t.default=()=>i.h("div",{class:"workflowEmptyState"},i.h("div",null,"No custom status. 🤷‍♀️"),i.h("br",null),i.h("div",null,"You can create status by clicking on “Add” button"))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(249),a=n(245);function r(e){const t=a.getRoleIconName(e);return i.h("img",{src:Object(o.imageUrl)(`img/${t}.png`),srcSet:`${Object(o.imageUrl)(`img/${t}@2x.png`)} 2x, ${Object(o.imageUrl)(`img/${t}@3x.png`)} 3x`})}function s(e,t){return[i.h("p",{key:"tooltipExplanation"},"Your organization role is ",a.getUserRoleString(e)," ",r(e)," , only ",a.getUserRoleString("rook"),"s or higher can ",t,"."),i.h("p",{key:"tooltipLink"},i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!")]}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(308),o=n(362),a=n(269),r=n.n(a);function s(e){let{oid:t,selectedOrganizationId:n}=e;return n=n||t,n||(({selectedOrganizationId:n}=r.a.SpaceStore.getState()),e.oid=n),e}const l={getBarrels(e){r.a.dispatcher.dispatch({type:i.default.GET_BARRELS,oid:e})},requestInvite(e,t){r.a.dispatcher.dispatch({type:i.default.REQUEST_INVITE,id:e,container:t})},addOrganization(e){r.a.dispatcher.dispatch({type:i.default.ADD_ORGANIZATION,organization:e})},addOrganizationWorkflowStatus(e){const{oid:t,workflowStatusData:n,syncWithApi:o=!1}=s(e);r.a.dispatcher.dispatch({type:i.default.ADD_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusData:n,syncWithApi:o})},updateOrganization(e,t){r.a.dispatcher.dispatch({type:i.default.UPDATE_ORGANIZATION,id:e,organization:t})},updateOrganizationProfile(e,t){r.a.dispatcher.dispatch({type:i.default.UPDATE_ORGANIZATION_PROFILE,id:e,organizationProfile:t})},updateOrganizationWorkflowStatus(e){const{oid:t,workflowStatusId:n,workflowStatusData:a,syncWithApi:l=!1}=s(e),c=l?o.default.getOrganizationWorkflowStatus(t,n):{};r.a.dispatcher.dispatch({type:i.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusId:n,workflowStatusData:a,oldWorkflowStatusData:c,syncWithApi:l})},updateOrganizationWorkflowStatusName({workflowStatusId:e,name:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{name:t},syncWithApi:n})},updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{color:t},syncWithApi:n})},removeOrganization(e){r.a.dispatcher.dispatch({type:i.default.REMOVE_ORGANIZATION,id:e})},deleteOrganizationWorkflowStatus(e){const{oid:t,workflowStatusId:n,syncWithApi:a=!1}=s(e),l=a?o.default.getOrganizationWorkflowStatus(t,n):{};r.a.dispatcher.dispatch({type:i.default.DELETE_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusId:n,oldWorkflowStatusData:l,syncWithApi:a})},getOrganizationsSuccess(e){r.a.dispatcher.dispatch({type:i.default.GET_ORGANIZATIONS_SUCCESS,organizations:e})},getOrganizationSuccess(e){r.a.dispatcher.dispatch({type:i.default.GET_ORGANIZATION_SUCCESS,organization:e})},getOrganizationSectionsSuccess(e,t){r.a.dispatcher.dispatch({type:i.default.GET_ORGANIZATION_SECTIONS_SUCCESS,sections:e,oid:t})},organizationMembersRequested(e){r.a.dispatcher.dispatch({type:i.default.ORGANIZATION_MEMBERS_REQUESTED,oid:e})},getOrganizationMembersSuccess(e){r.a.dispatcher.dispatch({type:i.default.GET_ORGANIZATION_MEMBERS_SUCCESS,organizationMembers:e})},getOrganizationMembersFailed(e,t){r.a.dispatcher.dispatch({type:i.default.GET_ORGANIZATION_MEMBERS_FAILED,oid:e,error:t})},getOrganizationMemberProfilesSuccess(e){r.a.dispatcher.dispatch({type:i.default.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS,organizationProfiles:e})},addOrganizationProfile(e,t){r.a.dispatcher.dispatch({type:i.default.ADD_ORGANIZATION_MEMBER_PROFILE,organizationProfile:e,oid:t})},getFocusedBarrelsSuccess(e){const{focusedBarrels:t,oid:n}=s(e);r.a.dispatcher.dispatch({type:i.default.GET_FOCUSED_BARRELS_SUCCESS,focusedBarrels:t,oid:n})},addBarrelToFocus(e){const{mid:t,bid:n,barrelType:o,shouldPopOldestBarrel:a,oid:l,syncWithApi:c}=s(e),{focusedBarrels:d}=r.a.OrganizationStore.getState();let u;d[l]&&d[l].length&&(u=d[l][0]),r.a.dispatcher.dispatch({type:i.default.ADD_BARREL_TO_FOCUS,oid:l,mid:t,bid:n,barrelType:o,poppedBarrel:u,shouldPopOldestBarrel:a,syncWithApi:c})},addBarrelToFocusSuccess(e){r.a.dispatcher.dispatch({type:i.default.ADD_BARREL_TO_FOCUS_SUCCESS})},removeBarrelFromFocus(e){const{mid:t,bid:n,barrelType:o,poppedBarrel:a,oid:l,syncWithApi:c}=s(e);r.a.dispatcher.dispatch({type:i.default.REMOVE_BARREL_FROM_FOCUS,oid:l,mid:t,bid:n,barrelType:o,poppedBarrel:a,syncWithApi:c})},unpinBarrelFromFocus(e){const{mid:t,bid:n,barrelType:o,oid:a,syncWithApi:l}=s(e);r.a.dispatcher.dispatch({type:i.default.UNPIN_BARREL_FROM_FOCUS,oid:a,mid:t,bid:n,barrelType:o,syncWithApi:l})},unpinBarrelFromFocusSuccess(e){const{bid:t}=s(e);r.a.dispatcher.dispatch({type:i.default.UNPIN_BARREL_FROM_FOCUS_SUCCESS,bid:t})},repinBarrelToFocus(e){const{selectedOrganizationId:t,bid:n}=s(e);r.a.dispatcher.dispatch({type:i.default.REPIN_BARREL_TO_FOCUS,oid:t,bid:n})},hitPinLimit(e){const{pinnedAnyway:t,focusCountLimit:n}=s(e);r.a.dispatcher.dispatch({type:i.default.HIT_PIN_LIMIT,pinnedAnyway:t,focusCountLimit:n})},removeUnjoinedBarrels({oid:e,mid:t}){const n=o.default.getOrganizationProjects(e),a=o.default.getOrganizationStyleguides(e),s=n.filter(({users:e})=>e.some(({user:e})=>e._id===t)).map(({_id:e})=>e),l=a.filter(({users:e})=>e.some(({user:e})=>e._id===t)).map(({_id:e})=>e);r.a.dispatcher.dispatch({type:i.default.REMOVE_UNJOINED_BARRELS,oid:e,remainingProjects:s,remainingStyleguides:l})},updateMemberTags({oid:e,mid:t,operation:n,tags:o}){r.a.dispatcher.dispatch({type:i.default.UPDATE_MEMBER_TAGS,oid:e,mid:t,operation:n,tags:o})},addProjectSection(e){const{oid:t,index:n,sectionData:a,shouldCalculateActualIndex:l,dialogDismissParams:c,syncWithApi:d,bulkOperation:u=!1}=s(e),{sections:p}=o.default.getOrganization(t);let h;d&&(h=o.default.findSectionIndicesOfProjects(t,a.projects));let f=n;if(void 0===f){const e=p.findIndex(e=>e.projects.includes(a.projects[0]));f=0===e?p.length:e+1}l&&(f=o.default.whereToDropSectionInWorkspace({oid:t,index:f})),r.a.dispatcher.dispatch({type:i.default.ADD_PROJECT_SECTION,oid:t,index:f,sectionData:a,oldIndices:h,dialogDismissParams:c,syncWithApi:d,bulkOperation:u})},addProjectSectionId(e){const{oid:t,index:n,oseid:o}=s(e);r.a.dispatcher.dispatch({type:i.default.ADD_PROJECT_SECTION_ID,oid:t,index:n,oseid:o})},updateProjectSection(e){const{oid:t,oseid:n,sectionData:a,syncWithApi:l=!1}=s(e);let c;if(l){c=o.default.getOrganization(t).sections.find(e=>e._id===n)}r.a.dispatcher.dispatch({type:i.default.UPDATE_PROJECT_SECTION,oid:t,oseid:n,sectionData:a,oldSectionData:c,syncWithApi:l})},removeProjectSection(e){const{oid:t,oseid:n,syncWithApi:a=!1}=s(e);let l,c;if(a){const e=o.default.getOrganization(t);c=e.sections.findIndex(e=>e._id===n),l=e.sections[c]}r.a.dispatcher.dispatch({type:i.default.REMOVE_PROJECT_SECTION,oid:t,oseid:n,oldSectionIndex:c,oldSectionData:l,syncWithApi:a})},updateProjectSectionOrder(e){const{oid:t,oseid:n,index:a,shouldCalculateActualIndex:l,dialogDismissParams:c,syncWithApi:d=!1}=s(e);let u;if(d){const{sections:e}=o.default.getOrganization(t);u=e.findIndex(e=>e._id===n)}let p=a;l&&(p=o.default.whereToDropSectionInWorkspace({oid:t,index:a})),r.a.dispatcher.dispatch({type:i.default.UPDATE_PROJECT_SECTION_ORDER,oid:t,oseid:n,index:p,oldSectionIndex:u,dialogDismissParams:c,syncWithApi:d})},updateProjectOrder(e){const{oid:t,oseid:n,projects:a,index:l,shouldCalculateActualIndex:c,dialogDismissParams:d,syncWithApi:u=!1,bulkOperation:p=!1}=s(e);let h,f=[];if(u){const{sections:e}=o.default.getOrganization(t);h=n===e[0]._id,f=o.default.findSectionIndicesOfProjects(t,a)}let g=l;c&&(g=o.default.whereToDropProjectInSection({oid:t,oseid:n,index:l})),r.a.dispatcher.dispatch({type:i.default.UPDATE_PROJECT_ORDER,oid:t,oseid:n,projects:a,index:g,oldIndices:f,isDefaultSection:h,dialogDismissParams:d,syncWithApi:u,bulkOperation:p})},addSectionLink(e){const{oid:t,oseid:n,linkData:o,syncWithApi:a=!1}=s(e);r.a.dispatcher.dispatch({type:i.default.ADD_SECTION_LINK,oid:t,oseid:n,linkData:o,syncWithApi:a})},updateSectionLink(e){const{oid:t,oseid:n,oselid:a,linkData:l,syncWithApi:c=!1}=s(e);let d;if(c){d=o.default.getOrganization(t).sections.find(({_id:e})=>e===n).links.find(e=>e._id===a)}r.a.dispatcher.dispatch({type:i.default.UPDATE_SECTION_LINK,oid:t,oseid:n,oselid:a,linkData:l,oldLink:d,syncWithApi:c})},removeSectionLink(e){const{oid:t,oseid:n,oselid:a,syncWithApi:l=!1}=s(e);let c;if(l){c=o.default.getOrganization(t).sections.find(({_id:e})=>e===n).links.find(e=>e._id===a)}r.a.dispatcher.dispatch({type:i.default.REMOVE_SECTION_LINK,oid:t,oseid:n,oselid:a,oldLink:c,syncWithApi:l})}};t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(911);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(912),a=n(962),r=n(965);n(968);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),s(this,"handleProjectClick",(e,t)=>{this.props.onProjectClick(e,t,!0)}),s(this,"renderFocusedProject",e=>{const{currentOrganizationProfile:t}=this.context,{highlightedProjects:n,firstHighlightedProject:a,pinnedBarrelOnce:r,sections:s,onDelete:l,onInvite:c,onTransferOwnership:d,onArchive:u,onLeave:p,onProjectHover:h,onJoin:f,onCopyLink:g,onCreateNewSection:m,onMoveProjectToSection:b,onUnpin:S}=this.props,y=n.includes(e._id),C=!r&&a===e._id;return i.h(o.default,{key:e._id,sections:s,onProjectHover:y?h:null,onClick:this.handleProjectClick,project:e,currentUser:t,onArchive:u,onLeave:p,onTransferOwnership:d,onDelete:l,onInvite:c,onJoin:f,onCopyLink:g,onCreateNewSection:m,onMoveProjectToSection:b,highlight:y,scroll:C,pinned:!0,onUnpin:S,selectable:!1})})}render(){const{projects:e,onScrollToUnpinnedBarrel:t,onRemoveUnpinned:n}=this.props;return e.length?i.h("section",{class:"focusedProjects"},i.h(a.default,null,e.map(e=>e.unpinned?i.h(r.default,{barrelId:e._id,onScrollToUnpinnedBarrel:t,onDismiss:n}):this.renderFocusedProject(e)))):null}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(913);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(914),a=n(939),r=n(946),s=n(949),l=n(537),c=n(753),d=n(951),u=n(954),p=n(853),h=n(245),f=n(242),g=n(955),m=n(395),b=n(416),S=n(230),y=n(261),C=n.n(y),v=n(956),O=n(959),E=n(231),T=n(960);n(961);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.Component{constructor(...e){super(...e),_(this,"transferOwnershipPayload",{}),_(this,"projectThumbnailObserver",null),_(this,"state",{transferOwnershipPopupVisible:!1,moveProjectToSectionPopupVisible:!1,visibleDialogType:null,contextMenu:null,projectThumbnail:null}),_(this,"showTransferOwnershipPopup",()=>{this.setState({transferOwnershipPopupVisible:!0})}),_(this,"hideTransferOwnershipPopup",()=>{this.setState({transferOwnershipPopupVisible:!1})}),_(this,"showMoveProjectToSectionPopup",()=>{this.setState({moveProjectToSectionPopupVisible:!0})}),_(this,"hideMoveProjectToSectionPopup",()=>{this.setState({moveProjectToSectionPopupVisible:!1})}),_(this,"openArchiveDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.ARCHIVE})}),_(this,"openLeaveDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.LEAVE})}),_(this,"openDeleteDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.DELETE})}),_(this,"openTransferDialog",(e,t)=>{this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:S.DialogTypes.TRANSFER})}),_(this,"generateShortlink",()=>{Object(T.fetchShortlink)(this.webURL)}),_(this,"handlePopoverClose",()=>{const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;e?this.hideTransferOwnershipPopup():t&&this.hideMoveProjectToSectionPopup()}),_(this,"handleDialogClose",()=>{this.transferOwnershipPayload={},this.setState({visibleDialogType:null})}),_(this,"handleContextMenu",e=>{this.setState({contextMenu:{origin:e}})}),_(this,"handleContextMenuClose",()=>{this.setState({contextMenu:null})}),_(this,"handleJoinFromContextMenu",()=>{const{project:{_id:e},onJoin:t}=this.props;t({pid:e,shouldLoadBarrel:!1})}),_(this,"handleJoinFromCard",e=>{e.stopPropagation();const{project:{_id:t},onJoin:n}=this.props;n({pid:t,shouldLoadBarrel:!0})}),_(this,"handleArchive",()=>{const{project:{_id:e},onArchive:t}=this.props;t({pid:e})}),_(this,"handleActivate",()=>{const{project:{_id:e},onActivate:t}=this.props;t({pid:e})}),_(this,"handleDelete",()=>{const{project:{_id:e},onDelete:t}=this.props;t({pid:e})}),_(this,"handleLeave",()=>{const{project:{_id:e},currentUser:t,onLeave:n}=this.props;this.handleDialogClose(),n({bid:e,mid:t.user._id})}),_(this,"handleInvite",()=>{const{selectedOrganizationId:e}=this.context,{onInvite:t,project:{_id:n,users:i}}=this.props;t({container:this.nodeRefs.base,pid:n,users:i,oid:e}),this.hideTransferOwnershipPopup()}),_(this,"handleMoveProjectToSection",e=>{const{project:{_id:t},onMoveProjectToSection:n}=this.props;this.setState({moveProjectToSectionPopupVisible:!1},()=>n(t,e))}),_(this,"handleCreateNewSection",()=>{const{project:{_id:e},onCreateNewSection:t}=this.props;t(e)}),_(this,"handleRemoveProjectFromSection",()=>{const{project:{_id:e},sections:t=[],onMoveProjectToSection:n}=this.props,[i]=t;n(e,i._id)}),_(this,"handleCopyWebLink",()=>{const{project:{_id:e},onCopyLink:t}=this.props;t(Object(T.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Project",Source:"Workspace",project_id:e})}),_(this,"handleCopyAppUri",()=>{const{project:{_id:e},onCopyLink:t}=this.props;t(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Project",Source:"Workspace",project_id:e})}),_(this,"handleTransferOwnership",()=>{const{selectedOrganizationId:e}=this.context,{onTransferOwnership:t,project:{_id:n},currentUser:i}=this.props,{selected:o,toOrganization:a}=this.transferOwnershipPayload;t({pid:n,fromUserId:i.user._id,targetId:o,toOrganization:a,oid:e})}),_(this,"handleIntersection",e=>{0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.projectThumbnailObserver.unobserve(this.nodeRefs.base),this.setState({projectThumbnail:this.props.project.thumbnail||null})},{timeout:300}):cancelIdleCallback(this.cropTimeout)}),_(this,"handleBaseRef",e=>{Object(b.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)})}get webURL(){return Object(f.urlResolve)("project",{url:{bid:this.props.project._id}})}get appURI(){return`${E.ZPL_PROTOCOL}//project?pid=${this.props.project._id}`}get isPopoverOpen(){const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;return e||t}get targetSectionsForMovePopup(){const{project:{_id:e},sections:t=[]}=this.props;return t.filter(t=>"individual"!==t.type&&!t.projects.includes(e))}get removeFromSectionsVisible(){const{project:{_id:e},sections:t=[]}=this.props,n=t.find(t=>t.projects.includes(e));return n&&"individual"!==n.type}componentDidMount(){const{scroll:e}=this.props,{base:t}=this.nodeRefs;e&&t.scrollIntoView(),this.projectThumbnailObserver=Object(u.getThumbnailObserver)(),this.projectThumbnailObserver.observe(t,this.handleIntersection)}componentWillReceiveProps(e){const{projectThumbnail:t}=this.state;null!==t&&e.project.thumbnail!==t&&this.setState({projectThumbnail:e.project.thumbnail})}componentDidUpdate(e,t){const{project:{_id:n},scroll:i,onProjectDidMount:o}=this.props,{scroll:a}=e;o&&o(n,this.nodeRefs.base),!a&&i&&this.nodeRefs.base.scrollIntoView();const{contextMenu:r,transferOwnershipPopupVisible:s,moveProjectToSectionPopupVisible:l}=this.state;!t.contextMenu&&r||!t.transferOwnershipPopupVisible&&s||!t.moveProjectToSectionPopupVisible&&l?Object(p.disableScroll)():(t.contextMenu&&!r||t.transferOwnershipPopupVisible&&!s||t.moveProjectToSectionPopupVisible&&!l)&&Object(p.enableScroll)()}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.projectThumbnailObserver.unobserve(this.nodeRefs.base)}renderPopoverContent(){const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;return e?this.renderTransferOwnershipPopup():t?this.renderMoveProjectToSectionsPopup():null}renderTransferOwnershipPopup(){const{project:{users:e}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:o,currentUserId:r}=this.context,s=Object(g.getTransferableUsers)(e,r,n),l=Object(g.getTransferableOrganizations)(t,o,n);return i.h(a.default,{barrelType:C.a.PROJECT,users:s,organizations:l,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderMoveProjectToSectionsPopup(){return i.h(r.default,{barrelType:C.a.PROJECT,sections:this.targetSectionsForMovePopup,onSelect:this.handleMoveProjectToSection})}renderContextMenu(){const{contextMenu:e}=this.state;if(!e)return null;const{currentUser:t,project:n}=this.props;return i.h(s.default,{currentUser:t,project:n,moveToSectionVisible:!!this.targetSectionsForMovePopup.length,removeFromSectionsVisible:this.removeFromSectionsVisible,onClose:this.handleContextMenuClose,onOpen:this.generateShortlink,onJoin:this.handleJoinFromContextMenu,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onLeave:this.openLeaveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.showTransferOwnershipPopup,onInvite:this.handleInvite,onCopyWebLink:this.handleCopyWebLink,onCopyAppUri:this.handleCopyAppUri,onMoveProjectToSection:this.showMoveProjectToSectionPopup,onCreateNewSection:this.handleCreateNewSection,onRemoveProjectFromSection:this.handleRemoveProjectFromSection,autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e.origin}})}renderDialog(e){const{organizations:t}=this.context,{project:{name:n,users:o}}=this.props,{selected:a,toOrganization:r}=this.transferOwnershipPayload;if(e===S.DialogTypes.DELETE)return i.h(d.default,{title:"Enter the name of the project to confirm:",placeholder:"Project name",confirmationText:n,onDelete:this.handleDelete,onClose:this.handleDialogClose});let s,l,u;if(e===S.DialogTypes.TRANSFER){let e;e=r?t.find(e=>e._id===a).name:o.find(e=>e.user._id===a).user.username,s="TRANSFER",l=`Transfer ownership of “${n}” to ${e}?`,u=this.handleTransferOwnership}return e===S.DialogTypes.LEAVE&&(s="LEAVE",l=`Leave “${n}”?`,u=this.handleLeave),e===S.DialogTypes.ARCHIVE&&(s="ARCHIVE",l=`Archive “${n}”?`,u=this.handleArchive),i.h(c.BasicOverlayDialog,{positiveButtonText:s,onPositiveButtonClick:u,onClose:this.handleDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:l})}render(){const{filterValue:e}=this.context,{visibleDialogType:t,projectThumbnail:n}=this.state,{project:{_id:a,name:r,type:s,users:c,updated:d,status:u,workflowStatus:p},moveCubukPosition:g,dragging:b,highlight:S,onClick:y,onProjectHover:C,pinned:E,shouldDisplayPinWarningAuntie:T,onPinWarningAuntieAction:_,onPin:P,onUnpin:j,onMouseDown:D,isSelected:k,hasHover:I,onSelect:R,selectionModeEnabled:A,selectable:w}=this.props,N=Object(f.urlResolve)("project",{url:{bid:a}}),L=c.sort(h.sortBy.role),x=i.h(v.default,{top:12,height:191}),M="archived"===u;return i.h("div",{class:"projectWrapper"},i.h("div",{class:"projectPaddingArea left"},g===O.CUBUK_POSITION.LEFT&&x),i.h("div",{class:"projectCardWrapper"},i.h(l.default,{open:this.isPopoverOpen,onClose:this.handlePopoverClose,content:this.renderPopoverContent(),top:-12,left:-236,faceTop:!0},i.h(o.default,{id:a,class:Object(m.default)("projectCard",{dragging:b,hovered:I}),baseRef:this.handleBaseRef,onClick:y,onHover:C,link:N,type:s,name:r,members:L,source:n,updated:d,filterValue:E?"":e,onContextMenu:this.handleContextMenu,contextMenu:this.renderContextMenu(),highlight:S,archived:M,pinned:E,shouldDisplayPinWarningAuntie:T,onPinWarningAuntieAction:_,onPin:P,onUnpin:j,onJoin:this.handleJoinFromCard,onMouseDown:D,workflowStatus:p,onSelect:R,isSelected:k,selectionModeEnabled:A,selectable:w}),t&&this.renderDialog(t))),i.h("div",{class:"projectPaddingArea right"},g===O.CUBUK_POSITION.RIGHT&&x))}}t.default=P},function(e,t,n){"use strict";n.r(t);var i=n(915);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"SpaceCardMirror",(function(){return v}));var i=n(4),o=n(5),a=n.n(o),r=n(916),s=n(920),l=n(400),c=n(926),d=n(888),u=n(929),p=n(396),h=n.n(p),f=n(935),g=n(376),m=n(395),b=n(416),S=n(245),y=n(312);n(938);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=({source:e,users:t,type:n,name:o})=>{const a=t.sort(S.sortBy.role);return i.h("div",{class:"spaceCard noSelect mirror"},i.h(r.default,{source:e,isMirror:!0}),i.h(s.default,{name:o,type:n,members:a}))};class O extends i.Component{constructor(...e){super(...e),C(this,"state",{showPinWarningAuntie:!1,showWorkflowStatusAuntie:!1,visited:!1}),C(this,"showPinWarningAuntie",()=>{document.addEventListener("scroll",this.hidePinWarningAuntie,!0),document.addEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!0})}),C(this,"hidePinWarningAuntie",()=>{document.removeEventListener("scroll",this.hidePinWarningAuntie,!0),document.removeEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!1})}),C(this,"handleClick",e=>{const{onClick:t,id:n,selectionModeEnabled:i}=this.props;!i&&t&&t(e,n)}),C(this,"handleCardClick",e=>{const{onClick:t,id:n,selectionModeEnabled:i}=this.props;i?this.handleCardCheckboxClick(e):t&&t(e,n)}),C(this,"handleMouseEnter",()=>{const{onHover:e,id:t,selectionModeEnabled:n}=this.props;e&&e(t),n&&!this.isUserJoined&&this.setState({visited:!0})}),C(this,"handleCardCheckboxClick",e=>{e.preventDefault();const{onSelect:t,id:n}=this.props;t(n)}),C(this,"handleContextMenu",e=>{e.preventDefault();const{onContextMenu:t,selectionModeEnabled:n}=this.props;t&&!n&&t({x:e.clientX-12,y:e.clientY-12})}),C(this,"handleOptionsClick",e=>{e.preventDefault(),e.stopPropagation();const{id:t,onContextMenu:n}=this.props;if(n){const e=this.nodeRefs.optionsButton.getBoundingClientRect();n({x:e.left+12,y:e.top-12},t)}}),C(this,"handlePinButtonClick",e=>{e.preventDefault(),e.stopPropagation();const{id:t,pinned:n,shouldDisplayPinWarningAuntie:i,onPin:o,onUnpin:a}=this.props;n?a(t):i?this.showPinWarningAuntie():o(t)}),C(this,"handlePinAnyway",()=>{const{id:e,onPin:t,onPinWarningAuntieAction:n}=this.props;t(e),n({pinnedAnyway:!0}),this.hidePinWarningAuntie()}),C(this,"handleHideAuntie",()=>{const{onPinWarningAuntieAction:e}=this.props;e({pinnedAnyway:!1}),this.hidePinWarningAuntie()}),C(this,"handleWorkflowStatusChange",e=>{const{id:t}=this.props;e._id===y.default.NoStatus._id?g.default.deleteWorkflowStatus({bid:t,syncWithApi:!0}):g.default.updateWorkflowStatus({bid:t,workflowStatus:e,syncWithApi:!0})}),C(this,"handleWorkflowStatusDropdownClick",e=>{e.stopPropagation(),this.setState({showWorkflowStatusAuntie:!0})}),C(this,"handleWorkflowStatusAuntieClick",()=>{this.setState({showWorkflowStatusAuntie:!1})}),C(this,"renderPinButtonAndAuntie",()=>{if(!this.canPin)return null;const{focusCountLimit:e}=this.context,{pinned:t}=this.props,{pinWarningAuntieVisible:n}=this.state;return i.h("div",{class:"pinButtonContainer"},i.h(u.default,{class:"pinButton",pinned:t,onClick:this.handlePinButtonClick}),n&&i.h(f.default,{class:"pinWarningAuntie",content:`You can only pin ${e} projects at once. Pinning this project will unpin the oldest.`,popover:!0,buttonText:"OK, got it!",actionButton:{text:"Pin anyway",callback:this.handlePinAnyway},hideCallback:this.handleHideAuntie}))}),C(this,"renderActionButtons",()=>i.h(i.Fragment,null,this.canSelect&&i.h("label",{class:"cardCheckbox",onClick:this.handleCardCheckboxClick},i.h(h.a,{class:"round",checked:this.props.isSelected})),this.renderPinButtonAndAuntie(),i.h(c.default,{class:"optionsButton",baseRef:Object(b.default)(this,"optionsButton"),onClick:this.handleOptionsClick}))),C(this,"renderCardActions",()=>{const{showWorkflowStatusAuntie:e}=this.state,{canManageWorkflowStatuses:t,currentOrganizationProfile:{role:n}={}}=this.context,{archived:o,contextMenu:a,workflowStatus:r,selectionModeEnabled:s}=this.props,l=!this.isPersonalWorkspace&&r;return i.h("div",{class:Object(m.default)("cardActions",{archivedCardActions:o})},i.h("div",{class:"cardButtons",onClick:S.stopPropagation},this.renderActionButtons(),a),l&&i.h("div",{className:"spaceCardWorkflowStatusContainer"},i.h(d.default,{dropdownClass:"spaceCardWorkflowStatusDropdown",onDropdownClick:!t&&this.handleWorkflowStatusDropdownClick,onWorkflowStatusChange:this.handleWorkflowStatusChange,selectedWorkflowStatusFilter:r._id,defaultWorkflowStatus:y.default.NoStatus,disabled:o||s,openCustomizeEmptyStateInitially:!0,dropdownAlignRight:!0,hideNoStatusIfSelected:!0,hideStatusCount:!0,hideNoStatusWhenCountIsZero:!1}),e&&i.h(f.default,{class:"workflowStatusAuntie",content:`Your organization role is ${Object(S.getUserRoleString)(n)}, only ${Object(S.getUserRoleString)("rook")}s or higher can customize statuses.`,popover:!0,anchor:"top",buttonText:"OK, got it!",hideCallback:this.handleWorkflowStatusAuntieClick})))}),C(this,"renderContent",()=>{const{source:e,archived:t,name:n,type:o,link:a,updated:l,members:c,filterValue:d,selectionModeEnabled:u}=this.props,p=i.h(i.Fragment,null,i.h(r.default,{source:e}),i.h(s.default,{filterValue:d,members:c,name:n,type:o,updated:l}));return t?i.h("div",{class:Object(m.default)({archived:t})},p):i.h("a",{onClick:this.handleClick,href:this.isUserJoined&&!u?a:null,"data-link-type":"inApp"},p)}),C(this,"renderBottomOverlay",()=>this.isUserJoined?null:i.h("span",{onClick:S.stopPropagation,className:"unjoinedOverlay"},"Not joined yet, ",i.h(l.default,{class:"joinButton",ninja:!0,onClick:this.props.onJoin},"join now"),"."))}get isPersonalWorkspace(){return"user"===this.context.selectedOrganizationId}get isUserJoined(){return this.props.members.some(({user:e})=>e._id===this.context.currentUserId)}get canSelect(){const{selectable:e}=this.props,{selectedOrganizationId:t,canCreateProject:n}=this.context;return e&&n&&"user"!==t}get canPin(){const{archived:e,pinnable:t}=this.props,{selectedOrganizationId:n}=this.context;return t&&!e&&"user"!==n}componentDidUpdate(e){const{selectionModeEnabled:t}=this.props;!t&&e.selectionModeEnabled&&this.setState({visited:!1})}render(){const{highlight:e,workflowStatus:t,onMouseDown:n,baseRef:o,class:a,selectionModeEnabled:r,isSelected:s,pinned:l}=this.props,{visited:c}=this.state,d=Object(m.default)("spaceCard","noSelect",{highlight:e,noStatus:t&&t._id===y.default.NoStatus._id,isSelected:s,selectionModeEnabled:r,visited:c,multiselect:this.canSelect,pinned:l},a);return i.h("div",{onContextMenu:this.handleContextMenu,onClick:this.handleCardClick,onMouseEnter:this.handleMouseEnter,onMouseDown:n,class:d,ref:o},this.renderCardActions(),this.renderContent(),this.renderBottomOverlay())}}O.propTypes={id:a.a.string.isRequired,source:a.a.string,archived:a.a.bool,highlight:a.a.bool,name:a.a.string.isRequired,type:a.a.string.isRequired,link:a.a.string.isRequired,updated:a.a.string.isRequired,members:a.a.array.isRequired,filterValue:a.a.string,onContextMenu:a.a.func,contextMenu:a.a.element,pinned:a.a.bool,pinnable:a.a.bool,onPin:a.a.func,onUnpin:a.a.func,shouldDisplayPinWarningAuntie:a.a.bool,onPinWarningAuntieAction:a.a.func,onSelect:a.a.func,isSelected:a.a.bool,selectable:a.a.bool,selectionModeEnabled:a.a.bool},O.defaultProps={selectable:!0,pinnable:!0},t.default=O},function(e,t,n){"use strict";n.r(t);var i=n(917);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(918),a=n.n(o),r=n(395);n(919);class s extends i.Component{constructor(e){super(e),this.handleImageLoad=this.handleImageLoad.bind(this),this.state={source:null,loading:!1}}handleImageLoad(){this.setState({loading:!1})}componentDidMount(){const{source:e}=this.props;this.setState({source:e,loading:!!e})}componentWillReceiveProps(e){const{source:t}=this.state;e.source!==t&&this.setState({source:e.source,loading:!0})}render(){const{loading:e,source:t}=this.state,n=Object(r.default)("cardThumbnailFrame",{breathe:e});return i.h("div",{class:n},t&&i.h(a.a,{class:"cardThumbnail",source:t,onLoad:this.handleImageLoad,width:270,height:92}))}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=n(249);class s extends o.Component{constructor(){super(...arguments),this.state={src:null,srcset:null},this.imgRef=a.useRef(),this.handleError=()=>{const{source:e}=this.props;if(!e)return null;if(!this.dimensions)return;const{width:t,height:n}=this.dimensions;Promise.all([r.cropImage(e,{width:t,height:n}),r.cropImage(e,{width:2*t,height:2*n})]).then(([e,t])=>{this.setState({src:e,srcset:t})})}}get dimensions(){const{width:e,height:t}=this.props;if(void 0!==e&&void 0!==t)return{width:e,height:t};if(!this.imgRef.current)return null;const{width:n,height:i}=this.imgRef.current;return{width:n,height:i}}load(e){if(!this.dimensions)return;const{src:t,srcset:n}=r.getResizedImageSources(e,this.dimensions);this.setState({src:t,srcset:n})}componentDidMount(){const{source:e}=this.props;e&&this.load(e)}componentWillReceiveProps(e){const{source:t}=e,{source:n}=this.props;t&&t!==n&&this.load(t)}render(){const{src:e,srcset:t}=this.state,n=this.props,{source:a}=n,r=i(n,["source"]);return o.h("img",Object.assign({},r,{src:e,srcSet:t,onError:this.handleError,ref:this.imgRef}))}}t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(921);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(922),a=n(599),r=n(244);n(925);const s=Object.freeze({base:"BASE",android:"ANDROID",ios:"iOS",osx:"macOS",web:"WEB"});t.default=function({members:e=[],name:t,type:n,updated:l,filterValue:c=""}){const d=s[n],u=d.toLowerCase();let p;p=new RegExp(`\\s*\\b${u}\\b\\s*`,"ig").test(c)?`<span class="highlight">${d}</span>`:d;const h=Object(r.highlightMatchedParts)(t,c,{caseInsensitive:!0});return i.h("div",{class:"cardInfo"},i.h("div",{class:"subInfo"},i.h("div",{class:"type",dangerouslySetInnerHTML:{__html:p}}),i.h(a.default,{type:"time-ago",format:"micro",class:"updated",datetime:l})),i.h("div",{title:t,class:"name ellipsis",dangerouslySetInnerHTML:{__html:h}}),i.h(o.default,{members:e}))}},function(e,t,n){"use strict";n.r(t);var i=n(923);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(519),a=n.n(o),r=n(244),s=n(395);n(924);function l(e,t){return"invited"!==e.status?e.username+("user"!==t?` (${e.email})`:""):`Pending… (${e.email})`}function c({remainingMembers:e,currentMemberRole:t,class:n}){const o="+"+e.length,a=e.map(e=>l(e.user,t)).join("\n");return i.h("div",{class:Object(s.default)("remainingMembers",n),title:a},o)}t.default=function({members:e,currentMemberRole:t,class:n,remainingMembersClass:o,avatarSize:d=30,stacked:u}){const p=e.slice(0,6),h=e.length;let f;if(h>7)f=i.h(c,{class:o,key:"remainingMembers",currentMemberRole:t,remainingMembers:e.slice(6)});else if(7===h){const n=e[h-1],o=Object(r.getUserAvatar)(n.user).src,s=l(n.user,t);f=i.h(a.a,{key:"lastUser",class:"avatar",src:o,title:s,size:d})}return i.h("div",{class:Object(s.default)("memberAvatarList",n,{stacked:u})},p.map(e=>{const n=Object(r.getUserAvatar)(e.user).src,o=l(e.user,t);return i.h(a.a,{key:e.user._id,class:"avatar",src:n,title:o,size:d})}),f)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(927);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(438),a=n(395),r=n(400);n(928);t.default=function({onClick:e,baseRef:t,class:n}){const s=Object(a.default)("optionsButton",n);return i.h(r.default,{secondary:!0,baseRef:t,onClick:e,class:s},i.h(o.IconSettings,null))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(930);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(477),a=n.n(o),r=n(478),s=n.n(r),l=n(395),c=n(400),d=n(931),u=n.n(d);n(934);const p=u()((function({pinned:e,class:t,onClick:n,hover:o}){const r=Object(l.default)("pinButton",t,{pinned:e});return i.h(c.default,{secondary:!0,class:r,onClick:n},e&&o?i.h(s.a,null):i.h(a.a,{color:e?"var(--cornflower-blue)":"var(--teflon)"}))}));t.default=p},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(932);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(245);function a(e){return class extends i.Component{constructor(){super(...arguments),this.state={hover:!1},this.changeHover=e=>{var t,n;this.setState({hover:e}),null===(n=(t=this.props).onHoverChange)||void 0===n||n.call(t,e)},this.handleMouseEnter=()=>{this.changeHover(!0)},this.handleMouseLeave=e=>{const{initialHover:t,ignoreOverlays:n=!0}=this.props,{clientX:i,clientY:a,relatedTarget:r}=e,s=e.target.getBoundingClientRect();if(!t)if(n&&r&&o.rectContainsPoint(s,{x:i,y:a})){const e=()=>this.changeHover(!1);r.addEventListener("mouseleave",(function t(n){o.rectContainsPoint(s,{x:n.clientX,y:n.clientY})||e(),r.removeEventListener("mouseleave",t)}))}else this.changeHover(!1)}}componentWillReceiveProps({initialHover:e}){void 0!==e&&e!==this.state.hover&&this.setState({hover:e})}render(){return i.h("div",{class:"hoverRegion",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h(e,Object.assign({},this.props,{hover:this.state.hover})))}}}n(933),a.displayName="HoverRegion",a.defaultProps={initialHover:!1,ignoreOverlays:!0},t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(936);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(4),o=n(245),a=n(395),r=n(249),s=n(416);n(937);class l extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.closeHandler=this.closeHandler.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleActionButtonClick=this.handleActionButtonClick.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}handleActionButtonClick(){this.props.actionButton.callback&&this.props.actionButton.callback()}handleButtonClick(){this.props.noControls||(this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}closeHandler(){(this.props.noControls||this.props.popover)&&(this.props.noControls&&this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}componentDidMount(){document.addEventListener("click",this.closeHandler),this.props.bodyCallbacks&&Object.keys(this.props.bodyCallbacks).forEach(e=>{this.nodeRefs.base.querySelector(e).addEventListener("click",this.props.bodyCallbacks[e])})}componentWillUnmount(){document.removeEventListener("click",this.closeHandler)}render(){const{popover:e,padBottom:t,actionButton:n,content:l,noControls:c,buttonText:d,anchor:u,class:p}=this.props,h=Object(a.default)("hideableInfo",p,{popover:e,padBottom:t});let f=null;n&&n.text&&n.callback&&(f=i.h("button",{class:"infoActionButton",onClick:this.handleActionButtonClick},n.text));let g=null;return c||(g=i.h("div",{class:"infoButtons"},i.h("button",{class:"infoHideButton",onClick:this.handleButtonClick},i.h("div",null,i.h("img",{src:r.imageUrl("img/icGuidelineRemove.svg"),alt:"×"}),i.h("span",{class:"infoHideButtonText"},d||"OK, hide it!"))),f)),i.h("div",{class:h,onClick:o.stopPropagation,ref:Object(s.default)(this,"base")},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"infoBody"},i.h("div",{class:"infoText"},l),g),i.h("div",{class:"anchor "+(u||"bottom")}))}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(940);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(941),a=n(400),r=n(519),s=n.n(r),l=n(244),c=n(249),d=n(416),u=n(395),p=n(261),h=n.n(p);n(945);function f({selected:e,avatarUrl:t,avatarType:n,avatarBgSize:o,info:a,subInfo:r}){const l=Object(u.default)("listItem",{selected:e});return i.h("div",{class:l},i.h(s.a,{class:"itemAvatar",src:t,size:36,bgSize:o,type:n}),i.h("div",{class:"infoContainer"},i.h("div",{class:"info ellipsis"},a),r&&i.h("div",{class:"subInfo ellipsis"},r)))}class g extends i.Component{constructor(e){super(e),this.renderOrganizationListItem=this.renderOrganizationListItem.bind(this),this.renderUserListItem=this.renderUserListItem.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,organizations:n}=this.props,i=n.find(t=>t._id===e);t(e,i)}renderOrganizationListItem(e){const t=e._id;return i.h(o.default.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderOrganizationListItemContent})}renderOrganizationListItemContent({logo:e,name:t},n){return i.h(f,{selected:n,avatarUrl:e,avatarType:"organization",avatarBgSize:19,info:t})}renderUserListItem(e){const t=e.user._id;return i.h(o.default.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderUserListItemContent})}renderUserListItemContent(e,t){const{user:n,user:{email:o,username:a}}=e,r=Object(l.getUserAvatar)(n).src;return i.h(f,{selected:t,avatarUrl:r,avatarType:"user",info:a,subInfo:o})}renderListBody(){const{onInvite:e,organizations:t,users:n}=this.props;return t.length+n.length===0?i.h("div",{class:"targetOwnersEmpty"},"No invited team members yet.",i.h(a.default,{class:"inviteButton",onClick:e},"INVITE NOW")):i.h("div",{class:"transferOwnershipBody"},i.h(o.default,{class:"targetOwners",onSelect:this.handleSelect},[t.length>0&&i.h("h5",null,"To an organization:"),t.map(this.renderOrganizationListItem),n.length>0&&i.h("h5",null,"To a member:"),n.map(this.renderUserListItem)]),i.h("div",{class:"transferOwnershipFooter"},i.h("img",{src:Object(c.imageUrl)("img/icInfo.svg"),alt:"ℹ"}),"We’ll notify them via email"))}render(){const{barrelType:e}=this.props;return i.h("div",{class:"transferOwnership noSelect",ref:Object(d.default)(this,"base")},i.h("h5",{class:"transferOwnershipHeader"},"You can only transfer your ",e,"s to invited team members or organizations.",e===h.a.STYLEGUIDE&&" Transferring a styleguide will also transfer its children."),this.renderListBody())}}g.defaultProps={organizations:[],users:[]},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(942);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(943),s=n(506),l=n(416),c=n(395),d=n(244);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return e.filter(e=>e&&e.type&&e.type.name===r.default.name).map(e=>e.props.value)}class h extends i.Component{constructor(...e){super(...e),u(this,"values",p(this.listItems)),u(this,"state",{selected:this.values[0]}),u(this,"handleKeyDown",e=>{if(!this.values.length)return;this.mouseActive=!1;const{selected:t}=this.state;let n=this.values.indexOf(t);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n=Math.max(n-1,0);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n=Math.min(n+1,this.values.length-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.props.onSelect(t)}this.changeSelected(this.values[n])}),u(this,"handleItemHover",e=>{this.mouseActive&&this.changeSelected(e)}),u(this,"handleMouseMove",()=>{this.mouseActive=!0})}get listItems(){return i.toChildArray(this.props.children)}changeSelected(e){this.state.selected!==e&&this.setState({selected:e},()=>{Object(d.scrollIfNecessary)(this.nodeRefs["selectedListItem-"+e])})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){const t=p(this.listItems);Object(s.default)(t,this.values)&&(this.values=t,this.changeSelected(this.values[0]))}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderBody(){const{selected:e}=this.state,{onSelect:t}=this.props;return this.listItems.map(n=>{if(!n||!n.type||n.type.name!==r.default.name)return n;const o=n.props.value,a=o===e;return i.cloneElement(n,{key:o,onClick:t,onHover:this.handleItemHover,selected:a,baseRef:Object(l.default)(this,"selectedListItem-"+o)})})}render(){const{class:e}=this.props,t=Object(c.default)("selectableListView",e);return i.h("div",{class:t,onMouseMove:this.handleMouseMove},this.renderBody())}}h.propTypes={onSelect:a.a.func.isRequired,children:a.a.oneOfType([a.a.instanceOf(r.default),a.a.node])},h.ListItem=r.default,t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(944);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o);class r extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleHover=this.handleHover.bind(this)}handleClick(){const{onClick:e,value:t,disabled:n}=this.props;n||e&&void 0!==t&&e(t)}handleHover(){const{onHover:e,value:t}=this.props;e&&void 0!==t&&e(t)}render(){const{selected:e,item:t,renderItem:n,style:o,baseRef:a,class:r}=this.props;return i.h("div",{ref:a,class:r,onClick:this.handleClick,onMouseEnter:this.handleHover,style:o},n(t,e))}}r.propTypes={renderItem:a.a.func.isRequired,onClick:a.a.func,onHover:a.a.func,value:a.a.string.isRequired,selected:a.a.bool},t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(947);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(941),s=n(395);n(948);function l(e,t){return i.h("div",{class:Object(s.default)("listItem",{selected:t})},e.name)}function c({sections:e,onSelect:t}){return i.h("div",{class:"moveProjectToSection noSelect"},i.h("div",{class:"moveProjectToSectionBody"},i.h(r.default,{class:"targetSections",onSelect:t},e.map(({_id:e,name:t})=>i.h(r.default.ListItem,{key:e,class:"selectableListItem",value:e,item:{name:t},renderItem:l})))))}c.defaultProps={sections:a.a.array,onSelect:a.a.func},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(950);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(863),a=n(245);function r(e,t){const{project:{users:n,status:r},currentUser:s,moveToSectionVisible:l,removeFromSectionsVisible:c,autoPosition:d,onInvite:u,onJoin:p,onActivate:h,onArchive:f,onTransferOwnership:g,onDelete:m,onLeave:b,onClose:S,onOpen:y,onCopyWebLink:C,onCopyAppUri:v,onMoveProjectToSection:O,onRemoveProjectFromSection:E,onCreateNewSection:T}=e,{organizations:_,selectedOrganizationId:P}=t,j=n.some(e=>e.user._id===Zeplin.user._id),D=_.find(e=>e._id===P),k=D&&"suspended"===D.status,I="archived"===r,R=!j&&!k,A=j&&!k,w=!I&&j&&!k&&a.permissions.canChangeProjectStatus(s),N=I&&j&&!k&&a.permissions.canChangeProjectStatus(s),L=j&&a.permissions.canUpdateProject(s),x=c&&L&&!k,M=l&&L&&!k,U=D&&a.permissions.canCreateProjectSection(s)&&!k,B=j&&a.permissions.canTransferOwnership(s),z=j&&!k&&a.permissions.canLeaveProject(s),V=j&&a.permissions.canDeleteProject(s);return i.h(o.default.withAutoPosition,{autoPosition:d,onOpen:y,onClose:S},R&&i.h(o.default.Item,{key:"join",onClick:p},"Join"),A&&i.h(o.default.Item,{key:"invite",onClick:u},"Invite…"),!I&&i.h(o.default.Item,{key:"copyWebLink",onClick:C},"Copy project web link"),!I&&i.h(o.default.Item,{key:"copyApiUri",onClick:v},"Copy project app URI"),B&&i.h(o.default.ItemDivider,{key:"ownershipDivider"}),B&&i.h(o.default.Item,{key:"transferOwnership",onClick:g},"Transfer ownership…"),(U||M)&&i.h(o.default.ItemDivider,{key:"sectionOptionsDivider"}),M&&i.h(o.default.Item,{key:"moveProjectToSection",onClick:O},"Move project to section…"),U&&i.h(o.default.Item,{key:"createNewSection",onClick:T},"Create a new section"),x&&i.h(o.default.Item,{key:"removeProjectFromSection",onClick:E},"Remove project from section"),(z||V)&&i.h(o.default.ItemDivider,{key:"warningDivider"}),w&&i.h(o.default.Item,{key:"archive",onClick:f},"Archive project"),N&&i.h(o.default.Item,{key:"activate",onClick:h},"Activate project"),z&&i.h(o.default.Item,{key:"leave",onClick:b,warning:!0},"Leave project"),V&&i.h(o.default.Item,{key:"delete",onClick:m,warning:!0},"Delete project…"))}},function(e,t,n){"use strict";n.r(t);var i=n(952);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(753),a=n(393);n(953);class r extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.state={value:""}}handleInputChange(e){this.setState({value:e})}handleKeyPress(e){if(e.keyCode!==Zeplin.KEY_CODE.ENTER)return;const{value:t}=this.state,{confirmationText:n,onDelete:i}=this.props;t===n&&i()}render(){const{value:e}=this.state,{onDelete:t,onClose:n,title:r,placeholder:s,confirmationText:l,loading:c}=this.props,d=l!==e;return i.h(o.default,{class:"deleteDialog",positiveButtonText:"DELETE",negativeButtonText:"CANCEL",positiveButtonDisabled:d,onPositiveButtonClick:t,hideNegativeButton:!1,onClose:n,width:400,loading:c},i.h("div",{class:"deleteDialogBody"},i.h("h2",null,r),i.h(a.default,{autofocus:!0,label:s,onInput:this.handleInputChange,onKeyPress:this.handleKeyPress,primary:!0})))}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";let i,o;n.r(t),n.d(t,"getThumbnailObserver",(function(){return s}));const a=new WeakMap;function r(e){e.forEach(e=>{const t=a.get(e.target);t&&t(e)})}function s(e){return o||(i=new IntersectionObserver(r,{root:"string"==typeof e?document.querySelector(e):e,threshold:[0,.01]}),o={observe(e,t){a.set(e,t),i.observe(e)},unobserve(e){i.unobserve(e),a.delete(e)}}),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferableUsers=t.getTransferableOrganizations=void 0;const i=n(245);t.getTransferableOrganizations=function(e,t,n){return e.filter(({_id:e,status:o})=>{const a=t[e];return a&&i.permissions.canReceiveOwnership(a)&&"active"===o&&n!==e})},t.getTransferableUsers=function(e,t,n){return e.filter(({user:{_id:e,status:i}})=>"invited"!==i&&!(e===t&&"user"===n))}},function(e,t,n){"use strict";n.r(t);var i=n(957);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(958);t.default=function(e){const{height:t,top:n,left:o}=e;return i.h("div",{class:"moveCubuk",style:{height:t,top:n,left:o}})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"CUBUK_POSITION",(function(){return i}));const i=Object.freeze({LEFT:"left",RIGHT:"right"})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{l(i.next(e))}catch(t){a(t)}}function s(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.hasShortlink=t.getShortlink=t.fetchShortlink=void 0;const s=a(n(258)),l={};t.fetchShortlink=function(e,t){var n;return r(this,void 0,void 0,(function*(){try{return null!==(n=l[e])&&void 0!==n?n:l[e]=yield s.generateShortlink(e,t)}catch(i){return e}}))},t.getShortlink=function(e){var t;return null!==(t=l[e])&&void 0!==t?t:e},t.hasShortlink=function(e){return Boolean(l[e])}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(963);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(964);t.default=function({children:e}){return i.h("div",{class:"projectsList"},e)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(966);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(450),a=n.n(o);n(967);t.default=function(e){const{barrelId:t,onScrollToUnpinnedBarrel:n,onDismiss:o}=e;return i.h("div",{class:"unpinnedBarrel"},i.h("p",null,"Project unpinned."),i.h("a",{href:"#",onClick:e=>function(e,t,n){e.preventDefault(),t(n)}(e,n,t)},i.h("strong",null,"Scroll to project")),i.h("div",{onClick:()=>o(t)},i.h(a.a,null),i.h("span",null,"Got it!")))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(970);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(971),a=n(974),r=n(1008),s=n(886),l=n(753),c=n(381),d=n(908),u=n(1005),p=n(416),h=n(246),f=n(395),g=n(227),m=n(314),b=n(242),S=n(1033),y=n(231),C=n(960);n(1034);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),T(this,"state",{editingDescription:!1,deleteDialogVisible:!1,waiting:this.props.index>1&&!this.props.data.newSection}),T(this,"subscribedToObserver",!1),T(this,"generateShortlink",()=>{Object(C.fetchShortlink)(this.webURL)}),T(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),T(this,"highlightNameAndScrollTo",()=>{this.componentRefs.section.highlightNameAndScrollTo()}),T(this,"registerToObserverIfReady",()=>{const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&!this.subscribedToObserver&&(e.observe(t),this.subscribedToObserver=!0)}),T(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==m.TEMPORARY_PROJECT_SECTION_ID?d.default.updateProjectSection({oseid:n,sectionData:{name:t},syncWithApi:!0}):this.highlightNameAndScrollTo())}),T(this,"handleDescriptionUpdate",e=>{const{data:{_id:t}}=this.props;d.default.updateProjectSection({oseid:t,sectionData:{description:e},syncWithApi:!0}),this.handleEditingStateChange()}),T(this,"handleEditingStateChange",()=>{this.setState(e=>({editingDescription:!e.editingDescription}))}),T(this,"handleExpand",e=>{c.default.expandSections([e])}),T(this,"handleCollapse",e=>{c.default.collapseSections([e])}),T(this,"handleCopyWebLink",()=>{const{onCopyLink:e}=this.props;e(Object(C.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Project section"})}),T(this,"handleCopyAppURI",()=>{const{onCopyLink:e}=this.props;e(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Project section"})}),T(this,"handleDeleteSectionClick",()=>{this.setState({deleteDialogVisible:!0})}),T(this,"handleDeleteDialogClose",()=>{this.setState({deleteDialogVisible:!1})}),T(this,"handleDeleteSection",()=>{const{data:{_id:e}}=this.props;d.default.removeProjectSection({oseid:e,syncWithApi:!0}),this.context.showToast({text:"Section deleted",source:"projectsContainer"})}),T(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})}),T(this,"handleAddCustomLinkClick",e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props,i=E(E({},e),{},{_id:"tempCustomLinkId"});d.default.addSectionLink({oid:t,oseid:n,linkData:i,syncWithApi:!0})}),T(this,"handleUpdateCustomLinkClick",e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props;d.default.updateSectionLink({oid:t,oseid:n,oselid:e._id,linkData:e,syncWithApi:!0})}),T(this,"handleRemoveCustomLinkClick",e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props;d.default.removeSectionLink({oid:t,oseid:n,oselid:e,syncWithApi:!0})}),T(this,"handleAddNewDescription",()=>{this.handleDescriptionUpdate(S.NEW_SECTION_DESCRIPTION)}),T(this,"handleCreateProjectClick",()=>{const{data:{_id:e},onCreateProjectClick:t}=this.props;t({oseid:e})}),T(this,"renderOptionsMenu",()=>{const{data:{description:e}}=this.props,{canCreateProject:t,canEditSections:n}=this.context;return i.h(o.default,{onOpen:this.generateShortlink},i.h(i.Fragment,null,n&&!e&&i.h(i.Fragment,null,i.h(o.default.Item,{onClick:this.handleAddNewDescription},"Add description"),i.h(o.default.ItemDivider,null)),i.h(o.default.Item,{onClick:this.handleCopyWebLink},"Copy section web link"),i.h(o.default.Item,{onClick:this.handleCopyAppURI},"Copy section app URI"),t&&i.h(i.Fragment,null,i.h(o.default.ItemDivider,null),i.h(o.default.Item,{onClick:this.handleCreateProjectClick},"Create project in section")),n&&i.h(i.Fragment,null,i.h(o.default.ItemDivider,null),i.h(o.default.Item,{warning:!0,onClick:this.handleDeleteSectionClick},"Delete section"))))}),T(this,"renderSummary",()=>{const{shouldRenderSummary:e}=this.props,{editingDescription:t}=this.state;if(!e||t)return null;const{actionsDisabled:n,readOnly:o,data:{projects:a,links:s}}=this.props;return i.h(r.default,{projectCount:a.length,styleguides:this.sectionStyleguides,links:s,readOnly:o||n,onAddLinkButtonClick:this.handleAddCustomLinkClick,onUpdateLinkButtonClick:this.handleUpdateCustomLinkClick,onRemoveLinkButtonClick:this.handleRemoveCustomLinkClick})})}get webURL(){const{selectedOrganizationId:e}=this.context,{data:{_id:t}}=this.props;return Object(b.urlResolve)("organization-projects",{url:{oid:e},query:{seid:t}})}get appURI(){const{selectedOrganizationId:e}=this.context,{data:{_id:t}}=this.props;return`${y.ZPL_PROTOCOL}//projects?oid=${e}&seid=${t}`}get sectionStyleguides(){const{data:{projects:e}}=this.props,{selectedOrganizationStyleguides:t}=this.context;return e.reduce((e,n)=>{const{styleguideLink:{styleguide:{_id:i}={}}={}}=n,o=t.find(({_id:e})=>e===i);return o&&!e.includes(o)?[...e,o]:e},[])}componentDidMount(){this.props.data.newSection?this.highlightNameAndScrollTo():this.props.index>1&&requestIdleCallback(()=>{this.setState({waiting:!1})},{timeout:200}),this.registerToObserverIfReady()}componentDidUpdate(e,t){this.registerToObserverIfReady()}componentWillUnmount(){const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&e.unobserve(t)}renderDeleteDialog(){return i.h(l.BasicOverlayDialog,{title:"Delete Section?",message:"Deleting a section will delete the section links and descriptions, the projects will still remain. Are you sure you want to delete this section?",positiveButtonText:"DELETE",onPositiveButtonClick:this.handleDeleteSection,onClose:this.handleDeleteDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{waiting:e,editingDescription:t,deleteDialogVisible:n}=this.state;if(e)return null;const{data:{projects:o,name:r,type:s,description:l,_id:d},index:m,collapsed:b,readOnly:S,actionsDisabled:y,highlight:C,showDescription:v,onSectionDrop:O,onProjectDrop:E,onProjectToSectionDrop:T,children:_}=this.props,P=o&&o.length?Object(h.pluralize)(o.length,"project")+" collapsed":"",j=this.renderOptionsMenu();return i.h(i.Fragment,null,i.h(a.DragDropProjectSection,{id:d,class:Object(f.default)("projectSection",{safari:Object(g.getBrowser)()===g.BROWSER.SAFARI}),name:r,index:m,type:u.PROJECT_SECTION,collapsed:b,baseRef:Object(p.default)(this,"base"),optionsButtonRef:Object(p.default)(this,"sectionOptionsButton"),componentRef:Object(p.default)(this,"section","componentRefs"),empty:0===o.length,headerClass:"projectSectionHeader",description:l,countInfoText:P,optionsMenu:j,defaultSection:"default"===s,actionsDisabled:y,readOnly:S,highlight:C,scroll:C,draggable:!0,isWorkspace:!0,showDescription:v,editingDescription:t,onSectionDrop:O,onProjectDrop:E,onProjectToSectionDrop:T,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionUpdate,onEditingStateChange:this.handleEditingStateChange,onExpand:this.handleExpand,onCollapse:this.handleCollapse,onHighlightEnd:c.default.unhighlightSection,summary:this.renderSummary()},!b&&i.toChildArray(_)),n&&this.renderDeleteDialog())}}t.default=e=>i.h(s.SectionObserverContext.Consumer,null,({sectionObserver:t})=>i.h(_,v({sectionObserver:t},e)))},function(e,t,n){"use strict";n.r(t);var i=n(972);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(863);n(973);const a=e=>i.h(o.default,Object.assign({},e,{class:"sectionMenu"}));a.Item=o.default.Item,a.ItemDivider=o.default.ItemDivider,t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(975);n.d(t,"default",(function(){return i.default}));var o=n(1003);n.d(t,"DragDropScreenThumbnailSection",(function(){return o.default}));var a=n(1006);n.d(t,"DragDropComponentSection",(function(){return a.default}));var r=n(1007);n.d(t,"DragDropProjectSection",(function(){return r.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getSectionComponent",(function(){return u}));var i=n(4),o=n(5),a=n.n(o),r=n(245),s=n(395),l=n(416),c=n(976);n(1002);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){class t extends i.Component{constructor(...e){super(...e),d(this,"state",{menuShown:!1,hidden:!1}),d(this,"collapseExpandSection",e=>{const{id:t,collapsed:n,onExpand:i,onCollapse:o}=this.props;e.stopPropagation(),n?i(t):o(t)}),d(this,"showOptionsMenu",e=>{e.stopPropagation(),this.state.menuShown||this.setState({menuShown:!0})}),d(this,"hideOptionsMenu",()=>{this.state.menuShown&&this.setState({menuShown:!1})}),d(this,"highlight",()=>{const{scroll:e,highlight:t,onScroll:n}=this.props;if((e||t)&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs&&this.nodeRefs.headerBase){this.highlighting=!0;this.nodeRefs.headerBase.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}).addEventListener("finish",this.handleHighlightEnd,{once:!0})}e&&n&&n()}),d(this,"highlightName",()=>{this.componentRefs.header.highlightName()}),d(this,"highlightNameAndScrollTo",()=>{this.componentRefs.header.highlightNameAndScrollTo()}),d(this,"highlightDescription",()=>{const{id:e,collapsed:t,onExpand:n}=this.props;if(t)return n(e),void(this.shouldHighlightDescription=!0);this.componentRefs.header.highlightDescription()}),d(this,"handleHeaderClick",()=>{const{id:e,collapsed:t,onExpand:n}=this.props;t&&n(e)}),d(this,"handleHighlightEnd",()=>{const{onHighlightEnd:e}=this.props;this.highlighting=!1,e&&e()}),d(this,"handleStartDrag",()=>{const{id:e,collapsed:t,empty:n,isWorkspace:i,onCollapse:o}=this.props;!t&&(!n||i)&&o(e),this.setState(Object(r.getStateUpdateFunction)({hidden:!0,menuShown:!1}))}),d(this,"handleEndDrag",()=>{this.setState({hidden:!1})}),d(this,"handleBaseRef",e=>{Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)})}componentDidMount(){this.highlight()}componentDidUpdate(e){e.collapsed&&!this.props.collapsed&&this.shouldHighlightDescription&&(this.componentRefs.header.highlightDescription(),this.shouldHighlightDescription=!1),this.highlighting||this.highlight()}renderHeader(){const{id:t,name:n,index:o,collapsed:a,styleguideId:r,defaultSection:s,countInfoText:c,componentCount:d,emptyText:u,empty:p,isWorkspace:h,readOnly:f,headerClass:g,actionsDisabled:m,description:b,showDescription:S,optionsMenu:y,editingDescription:C,onNameBlur:v,onDescriptionBlur:O,onEditingStateChange:E,draggable:T,optionsButtonRef:_,optionsActive:P,sectionHeaderHover:j,summary:D,variantOptionsButton:k,onHover:I,onHoverOut:R,onDrop:A}=this.props,{menuShown:w}=this.state;return s?null:i.h(e,{baseRef:Object(l.default)(this,"headerBase"),componentRef:Object(l.default)(this,"header","componentRefs"),class:g,hasDragHover:j,id:t,index:o,styleguideId:r,name:n,countInfoText:c,componentCount:d,empty:p,emptyText:u,isWorkspace:h,defaultSection:s,readOnly:f,actionsDisabled:m,description:b,showDescription:S,onNameBlur:v,onDescriptionBlur:O,collapsed:a,optionsMenu:w&&y,draggable:T,optionsButtonRef:_,optionsActive:P,editingDescription:C,onEditingStateChange:E,onShowOptionsMenu:this.showOptionsMenu,onHideOptionsMenu:this.hideOptionsMenu,onExpandCollapseSection:this.collapseExpandSection,onHeaderClick:this.handleHeaderClick,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,summary:D,variantOptionsButton:k,onHover:I,onHoverOut:R,onDrop:A})}render(){const{id:e,collapsed:t,children:n,targetPosition:o,empty:a,isWorkspace:r,putComponentGroupInto:l,class:c}=this.props,{hidden:d,menuShown:u}=this.state,p=Object(s.default)("section",c,o,{putComponentGroupInto:l,collapsed:t,empty:a,menuShown:u,isWorkspace:r,hidden:d});return i.h("div",{class:p,"data-id":e,ref:this.handleBaseRef},this.renderHeader(),!t&&!a&&n)}}return e=>{const n=Object.assign({ref:e.componentRef},e);return delete n.componentRef,i.h(t,n)}}const p=u(c.default);p.displayName="Section",p.propTypes={onNameBlur:a.a.func.isRequired,onDescriptionBlur:a.a.func.isRequired,name:a.a.string,description:a.a.string,id:a.a.string.isRequired,defaultSection:a.a.bool,countInfoText:a.a.string,showOptionsButton:a.a.bool,optionsMenu:a.a.element,readOnly:a.a.bool,actionsDisabled:a.a.bool},p.defaultProps={showOptionsButton:!1,defaultSection:!1},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(977);n.d(t,"default",(function(){return i.default})),n.d(t,"DragSourceSectionHeader",(function(){return i.DragSourceSectionHeader}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DragSourceSectionHeader",(function(){return b}));var i=n(4),o=n(416),a=n(978),r=n(875),s=n(438),l=n(395),c=n(245),d=n(981),u=n(989);n(1001);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class f extends i.Component{constructor(e){var t,n,i;super(e),i=e=>{const{onDescriptionBlur:t}=this.props;t(e)},(n="handleDescriptionUpdate")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.state={hasHover:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}highlightName(){this.componentRefs.nameInput.highlight()}highlightNameAndScrollTo(){this.componentRefs.nameInput.highlightAndScrollTo()}highlightDescription(){this.componentRefs.descriptionInput.highlight()}handleMouseEnter(){this.setState({hasHover:!0})}handleMouseLeave(){this.setState({hasHover:!1})}handleBaseRef(e){Object(o.default)(this,"header")(e),this.props.baseRef(e)}componentDidUpdate(e){if(this.props.optionsMenu&&!e.optionsMenu){const{contextMenu:e,header:t}=this.nodeRefs,{topPadding:n}=this.props;!function(e,t,n=60){const i=e.getBoundingClientRect(),o=window.innerHeight;if(i.bottom+12>o)e.style.top=o+-36-i.bottom-12+"px";else if(i.top-n-12<0){const i=t.querySelector("div:first-child").getBoundingClientRect().top;e.style.top=12+n-i+"px"}}(e,t,n)}}renderMenu(){const{optionsMenu:e,onHideOptionsMenu:t}=this.props,n=i.cloneElement(e,{onClose:t});return i.h("div",{class:"sectionContextMenuContainer",ref:Object(o.default)(this,"contextMenu")},n)}renderSectionInfo(){const{hasHover:e}=this.state,{draggable:t,showMoveHandle:n,name:r,readOnly:l,actionsDisabled:c,onNameBlur:d,collapsed:u,empty:p,countInfoText:h,emptyText:f}=this.props,g=t&&!c&&(e||n);return i.h("div",{class:"sectionInfo"},g&&i.h(s.IconSectionDrag,{class:"moveHandleIcon"}),i.h(a.default,{ref:Object(o.default)(this,"nameInput","componentRefs"),value:r,required:!0,readOnly:l||c,onBlur:d}),u&&i.h("span",{class:"countInfo"},h),p&&i.h("span",{class:"countInfo"},f))}renderSectionActions(){const{empty:e,actionsDisabled:t,optionsButtonRef:n,optionsActive:o,isWorkspace:a,mirror:r,editingDescription:d,collapsed:u,variantOptionsButton:p,onEditingStateChange:h,onExpandCollapseSection:f,onShowOptionsMenu:g}=this.props;const m=!r&&a?!t:!e;return i.h("div",{class:Object(l.default)("sectionActions",{disabled:t})},p,m&&i.h("button",{class:"collapseButton",onMouseDown:c.stopPropagation,onClick:function(e){a&&!u&&d&&h(),f(e)}},i.h(s.IconCollapse,null)),!t&&i.h("button",{class:Object(l.default)("sectionOptionsButton",{active:o}),ref:n,onMouseDown:c.stopPropagation,onClick:g},i.h(s.IconMenu,null)))}renderDescriptionInfo(){const{description:e,readOnly:t,actionsDisabled:n,isWorkspace:r,showDescription:s,empty:l,editingDescription:c,onEditingStateChange:d,collapsed:p,onDescriptionBlur:h}=this.props,f=t||n||r&&p;return r&&!s?null:i.h("div",{key:"descriptionInfo",class:"descriptionInfo"},r?i.h(u.default,{description:e,readOnly:f,editing:c,emptyWorkspaceSection:l,sectionCollapsed:p,onEditingStateChange:d,onUpdateDescription:this.handleDescriptionUpdate}):i.h(a.default,{value:e,ref:Object(o.default)(this,"descriptionInput","componentRefs"),required:!1,readOnly:f,showRemaining:!0,onBlur:h}))}renderJiraIntegrations(){const{id:e}=this.props;return i.h("div",{key:"jiraAttachmentsContainer",class:"jiraIntegrationArea"},i.h(d.default,{items:[{itemType:"section",itemId:e,label:"Attached to "}]}),i.h("div",{class:"bumper"}))}render(){const{width:e,isWorkspace:t,description:n,collapsed:o,class:a,onHeaderClick:r,hasDragHover:s,empty:c,summary:d,optionsMenu:u}=this.props,p=t||!o&&n;return i.h("div",{class:Object(l.default)("sectionHead",a,{collapsed:o,empty:c,dragHover:s}),style:{width:e},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:this.handleBaseRef,onClick:r},i.h("div",{class:"mainInfo"},this.renderSectionInfo(),this.renderSectionActions(),u&&this.renderMenu()),d,p&&this.renderDescriptionInfo(),!o&&this.renderJiraIntegrations())}}const g=e=>{const t=Object.assign({ref:e.componentRef},e);return delete t.componentRef,i.h(f,t)},m=Object(r.DragSource)({itemType:"SectionHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n,variantOptionsButton:o}=e,a=h(e,["sourceRect","class","variantOptionsButton"]);return i.h(f,p({},a,{width:t.width,mirror:!0,class:Object(l.default)("mirror","noSelect",n),actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>Object.assign({},e,{collapsed:!e.empty||e.isWorkspace,optionsMenu:null})})(g),b=e=>i.h(m,Object.assign({draggable:!0},e));t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(979);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(245),s=n(416),l=n(244);n(980);const c=100;function d(e,t,n){return`<line x1="${e}" y1="0.5" x2="${t}" y2="0.5" stroke="%23419bf9" stroke-width="1" stroke-linecap="${n}"/>`}function u(...e){return`<svg xmlns="http://www.w3.org/2000/svg" width="3" height="1">${e.join(" ")}</svg>`}class p extends i.Component{constructor(e){var t,n,i;super(e),i=()=>{Object(l.highlightAndScrollToInput)(this.nodeRefs.input)},(n="highlightAndScrollTo")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleDocumentMouseUp=this.handleDocumentMouseUp.bind(this),this.handleDocumentMouseMove=Object(r.debounce)(this.handleDocumentMouseMove).bind(this),this.handleSelectionChange=Object(r.debounce)(this.handleSelectionChange).bind(this),this.getSelectionPoints=this.getSelectionPoints.bind(this),this.state={focusWithin:!1,discard:!1,selectionPoints:{selectionStart:0,selectionEnd:0},shouldCheckRightSelection:!1,value:e.value}}getSelectionPoints(){return{selectionStart:this.nodeRefs.input.selectionStart,selectionEnd:this.nodeRefs.input.selectionEnd}}calculateShouldCheckRightSelection(){const{widthlessMirror:e,inputContainer:t}=this.nodeRefs;return e.scrollWidth>=t.offsetWidth}highlight(){Object(l.highlightInput)(this.nodeRefs.input)}focus(){this.nodeRefs.input.focus()}handleBlur(){const{required:e,value:t,readOnly:n}=this.props;if(n)return;const{value:i}=this.state;let o=this.state.discard;const a={focusWithin:!1};e&&!i&&(a.value=t,o=!0),this.setState(a),this.props.onBlur({discard:o,value:i})}handleFocus(){this.props.readOnly||this.setState({focusWithin:!0,discard:!1})}handleInput(e){const{onAttemptToChange:t}=this.props;if(t)return void t();const n=e.target.value;if(n===this.state.value)return;const i=this.getSelectionPoints();this.setState({value:n,selectionPoints:i})}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:{e.stopPropagation();const{value:t}=this.props;this.setState({value:t,discard:!0}),this.nodeRefs.input.blur();break}case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:this.handleSelectionChange()}}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),document.addEventListener("mousemove",this.handleDocumentMouseMove),document.addEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseMove(e){1&e.buttons?this.handleSelectionChange():(document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseUp(){this.handleSelectionChange(),document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp)}handleClick(e){e.stopPropagation(),this.handleSelectionChange()}handleSubmit(e){e.preventDefault(),this.nodeRefs.input.blur()}handleSelectionChange(){const e=this.getSelectionPoints();this.setState({selectionPoints:e})}componentDidMount(){this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}componentWillReceiveProps(e){const t={};this.state.focusWithin||e.value===this.state.value||(t.value=e.value),Object.keys(t).length&&this.setState(t)}componentDidUpdate(e,t){this.state.value!==t.value&&this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}render(){const{required:e,readOnly:t,maxLength:n=c,showRemaining:o,fontStyle:a,tabIndex:r=0}=this.props,{focusWithin:l,value:p,selectionPoints:h,shouldCheckRightSelection:f}=this.state;let g=Object.assign({},a);if(l&&!t){const{selectionStart:e,selectionEnd:t}=h,n=function(e,t){return e&&t?u(d(0,2.5,"butt")):e?u(d(0,1.5,"butt"),d(1.5,2.5,"round")):t?u(d(.5,1.5,"round"),d(1.5,2.5,"butt")):void 0}(e!==t&&0===e,f&&e!==t&&t===p.length);n&&Object.assign(g,{borderImageSource:`url('data:image/svg+xml;utf8,${n}')`,borderImageSlice:"0 1 1 1",borderImageRepeat:"stretch"})}return i.h("div",{class:"expandableInputWrapper"},i.h("form",{ref:Object(s.default)(this,"inputContainer"),class:"expandableInputForm",onSubmit:this.handleSubmit},i.h("span",{ref:Object(s.default)(this,"widthlessMirror"),class:"mirror widthless",style:a},p||" "),i.h("span",{class:"mirror",style:a},p||" "),i.h("input",{style:g,type:"text",name:"expandableInput",class:"expandableInput",minlength:"1",maxlength:n,autocomplete:"off",spellCheck:"false",required:e,value:p,readonly:t,tabIndex:r,ref:Object(s.default)(this,"input"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onSelect:this.handleSelectionChange,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleBlur})),o&&l&&i.h("span",{class:"remainingCounter"},n-p.length))}}p.propTypes={value:a.a.string,required:a.a.bool,onBlur:a.a.func,readOnly:a.a.bool,maxLength:a.a.oneOfType([a.a.number,a.a.string]),showRemaining:a.a.bool,fontStyle:a.a.object,inputRef:a.a.func,tabIndex:a.a.number},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(982);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(269),s=n.n(r),l=n(361),c=n(505),d=n.n(c),u=n(245),p=n(983),h=n(986),f=n(395),g=n(231);class m extends i.Component{constructor(e){super(e),this.handleJiraAttachmentClick=this.handleJiraAttachmentClick.bind(this)}static getStores(){return[s.a.BarrelStore,s.a.ProjectsDataStore]}static calculateState(e,t){const{loading:n}=s.a.BarrelStore.getState(),{integration:i={}}=l.default.getBarrel()||{};return{loading:n,integration:i}}handleJiraAttachmentClick(){mixpanel.master.track("Clicked Jira issue")}shouldComponentUpdate(e,t){return this.props.itemId!==e.itemId||this.props.itemType!==e.itemType||(this.state.integration.jira!==t.integration.jira||this.state.loading!==t.loading)}renderJiraAttachments(e){const{class:t}=this.props;return i.h("div",{class:Object(f.default)("jiraAttachmentsContainer",t)},e.map(e=>i.h(p.default,{logo:i.h(h.default,null),description:e.label,text:e.attachmentIds,href:e.href,onClick:this.handleJiraAttachmentClick})))}render(){const{loading:e,integration:{jira:t}}=this.state,{wrappingFn:n,items:i,maxNumberOfAttachmentsShown:o}=this.props;if(e||!i||!i.length||!t)return null;const a=i.reduce((e,n)=>n.itemId?e.concat(function(e,{itemType:t,itemId:n,label:i},o){if(!e)return[];const a=Object(u.groupBy)(e.filter(e=>e.type===t&&e.itemId===n),"deploymentUrl"),r="atlOrigin="+g.JIRA_ATL_ORIGIN_TOKEN;return Object.values(a).map(e=>{let t="",n="",a="",s=0;return e.forEach((e,i)=>{0===i?(t=e.issueKey,n=e.issueUrl,a+="jql=issuekey in ("+e.issueKey):i<o?(t+=", "+e.issueKey,a+=","+e.issueKey):(s++,a+=","+e.issueKey)}),a+=")",s>0&&(t+=` and ${s} more`),{attachmentIds:t,label:i,href:e.length>1?`${n}?${a}&${r}`:`${n}?${r}`}})}(t.attachments,n,o)):e,[]),r=this.renderJiraAttachments(a);return a.length>0&&n?n(r):r}}m.propTypes={wrappingFn:a.a.func,itemType:a.a.string,itemId:a.a.string,maxNumberOfAttachmentsShown:a.a.number},m.defaultProps={maxNumberOfAttachmentsShown:3},t.default=d()(m,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(984);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395);n(985);function s(e){const{class:t,logo:n,description:o,text:a,href:s,onClick:l}=e;return i.h("div",{class:Object(r.default)("integrationInfo",t)},i.h("span",{class:"integrationLogo"},n),i.h("span",{class:"integrationDescription"},o),s?i.h("a",{class:"integrationName ellipsis",target:"_blank",title:a,href:s,onClick:l,rel:"external noopener noreferrer"},a):i.h("span",{class:"integrationName ellipsis"},a))}s.propTypes={logo:a.a.element,description:a.a.string,text:a.a.string,href:a.a.string},t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(987);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(988);t.default=function(e){const{class:t,disabled:n}=e,a=Object(o.default)("jiraLogo",t,{disabled:n});return i.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16",class:a},i.h("defs",null,i.h("linearGradient",{id:"a",x1:"67.673%",x2:"40.808%",y1:"40.311%",y2:"81.641%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"})),i.h("linearGradient",{id:"b",x1:"32.633%",x2:"59.341%",y1:"-23.325%",y2:"17.855%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"}))),i.h("g",{fill:"none","fill-rule":"nonzero"},i.h("path",{fill:"#2684FF",d:"M15.586 7.55L8.703.667 8.036 0 2.854 5.181.484 7.55a.635.635 0 0 0 0 .895L5.22 13.18l2.817 2.816 5.18-5.181.08-.08 2.29-2.285a.633.633 0 0 0 0-.9zm-7.55 2.813L5.67 7.998l2.365-2.365L10.4 7.998l-2.364 2.365z"}),i.h("path",{fill:"url(#a)",d:"M7.736 5.633A3.981 3.981 0 0 1 7.718.019L2.544 5.192 5.36 8.008l2.376-2.375z",transform:"translate(.3)"}),i.h("path",{fill:"url(#b)",d:"M10.106 7.991l-2.37 2.372a3.982 3.982 0 0 1 0 5.63l5.189-5.185-2.819-2.817z",transform:"translate(.3)"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(990);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(514),s=n(611),l=n(991),c=n(395),d=n(245);n(1e3);const u=[s.CustomRules.SPOTIFY,s.CustomRules.YOUTUBE,s.MarkdownRules.IMAGE,s.MarkdownRules.CHECKBOX,s.MarkdownRules.TABLE,s.MarkdownRules.HEADING];function p({description:e,readOnly:t,editing:n,sectionCollapsed:o,emptyWorkspaceSection:a,onEditingStateChange:s,onUpdateDescription:p}){const h=Object(r.useRef)(null),[f,g]=Object(r.useState)(!1),[m,b]=Object(r.useState)(!1),[S,y]=Object(r.useState)(!1);Object(r.useLayoutEffect)(()=>{const e=h.current;if(e){const{scrollHeight:t,clientHeight:n}=e;g(m?n>36:t>n),b(!1),function(e){const t=e.querySelector(".markdown");if(t){const{firstElementChild:e,childElementCount:n}=t;y(n>1&&18===e.offsetHeight)}}(e)}},[e]),Object(r.useEffect)(()=>{o&&b(!1)},[o]);const C=!m&&!n&&f;return i.h("div",{class:Object(c.default)("workspaceDescriptionWrapper",{editing:n}),onMouseDown:d.stopPropagation},e&&i.h("div",{class:Object(c.default)("workspaceDescription",{expanded:m,readOnly:t,hasNewLine:S}),ref:h},i.h(l.default,{value:e,disabledFeatures:u,supportLink:"https://zpl.io/article/lightweight-markdown-support",readOnly:t,editing:n,onEdit:s,onCancel:s,onUpdate:p})),f&&!n&&i.h("div",{class:"textButton",onClick:function(){b(!m)}},C?"Show more":"Show less"),a&&!o&&i.h("p",{class:"emptyWorkspaceSection"},"☝️ No projects yet. Move projects to this section by dragging and dropping."))}p.propTypes={description:a.a.string,editing:a.a.bool,emptyWorkspaceSection:a.a.bool,onEditingStateChange:a.a.func,onUpdateDescription:a.a.func},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(992);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(550),s=n(395),l=n(993),c=n(245),d=n(227),u=n(400),p=n(994),h=n(615),f=n(609),g=n(438),m=n(611);n(999);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=/:(\S+?):/g;class y extends r.default{constructor(...e){super(...e),b(this,"state",{selectedEmojiIndex:0,suggestedEmojis:[],autoCompletedEmoji:!1,value:this.props.value}),b(this,"textAreaRef",i.createRef()),b(this,"emojiAutoCompleteContainerRef",i.createRef()),b(this,"markdownDescriptionRef",i.createRef()),b(this,"changeSuggestedEmojis",()=>{const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,i=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),o=e.substring(i,t).match(/^:(.+)/);if(o){const e=o[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),a=n.substring(t,i+1).match(S);return a&&h.default.searchEmoji(a[0].substring(1,a[0].length-1))?[]:h.default.getSuggestedEmojis(e)}return[]}(e,this.textAreaRef.current.selectionStart);if(i!==t){const e=Math.max(0,Math.min(n,i.length-1));this.setState({suggestedEmojis:i,selectedEmojiIndex:e})}}),b(this,"setValueStateToInitialValue",()=>{const{initialValue:e}=this.props,{value:t}=this.state;!t&&e&&this.setState({value:e})}),b(this,"scrollIntoView",()=>{this.markdownDescriptionRef.current.scrollIntoView()}),b(this,"handleCancel",()=>{const{value:e,onCancel:t}=this.props;this.setState({value:e}),t()}),b(this,"handleSubmit",()=>{const{readOnly:e}=this.props;e||this.submit()}),b(this,"handleInput",e=>{const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})}),b(this,"handleKeyDown",e=>{const{editing:t,readOnly:n}=this.props;if(n)return;t&&this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleCancel(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(d.cmdKey)(e)&&this.submit())}),b(this,"handleKeyDownListActions",Object(c.debounce)(e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}})),b(this,"handleKeyDownWhenListOpen",e=>{(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)}),b(this,"handleKeyUp",e=>{e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis)}),b(this,"handleListItemClick",(e,t)=>{this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}),b(this,"handleListItemMouseOver",(e,t)=>{this.setState({selectedEmojiIndex:e})}),b(this,"handleSelectEmoji",()=>{const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,i=this.textAreaRef.current,o=e[t],a=i.selectionStart,r=n.substring(0,a).lastIndexOf(":"),s=o.formattedAlias,l=`${n.substring(0,r)}:${s}: ${n.substring(a)}`,c=r+s.length+3;this.setState({value:l,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{i.focus(),i.setSelectionRange(c,c)})}),b(this,"handleTextAreaClick",()=>{this.props.editing&&this.changeSuggestedEmojis()})}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return e&&"safari"===Object(d.getBrowser)()?e+(t.match(/\n/g)||[]).length:e}submit(){const{value:e,onUpdate:t,onCancel:n}=this.props,{value:i}=this.state;i!==e?t(i):n()}positionEmojiAutoComplete(){cancelAnimationFrame(this.rAF),this.rAF=requestAnimationFrame(()=>{const e=this.textAreaRef.current,t=this.emojiAutoCompleteContainerRef.current;if(!e||!t)return;const n=e.selectionStart,{top:i,left:o}=Object(l.default)(e,n),a=i+22,r=o;t.style.top=a+"px",t.style.left=r+"px"})}componentDidMount(){const{editing:e}=this.props;e&&(this.setValueStateToInitialValue(),this.textAreaRef.current.focus())}componentWillReceiveProps(e){const{value:t}=this.props,{value:n=""}=e;t!==n&&this.setState({value:n})}componentDidUpdate(e,t){const{editing:n}=this.props,{value:i,autoCompletedEmoji:o,suggestedEmojis:a}=this.state;n&&e.editing!==n&&(this.setValueStateToInitialValue(),this.textAreaRef.current.focus()),o||i===t.value||this.changeSuggestedEmojis(),n&&a.length&&this.positionEmojiAutoComplete()}renderEditBar(){const{editing:e,readOnly:t,onEdit:n}=this.props;return e||t?null:i.h("div",{key:"editBar",class:"editBar"},i.h(u.default,{onClick:n},i.h(g.IconEdit,null)))}renderControls(){const{editing:e,value:t,disabledFeatures:n,supportLink:o,readOnly:a}=this.props;if(!e||a)return null;const r=o||"https://zpl.io/article/markdown-support";return i.h("div",{key:"controls",class:"controls"},i.h("div",{class:"markdownGuide"},i.h("div",{class:"markdownSamples"},!n.includes(m.MarkdownRules.HEADING)&&i.h("span",null,"# Header  "),i.h("strong",null,"**bold**"),"  ",i.h("em",null,"_italics_"),"  ",i.h("code",null,"`code`"),"  ",i.h("span",null,">quote")),i.h("a",{href:r,target:"_blank"},"Learn more")),i.h("div",{class:"buttons"},i.h(u.default,{secondary:!0,onClick:this.handleCancel},"Cancel"),i.h(u.default,{primary:!0,class:"submitButton",onClick:this.handleSubmit,disabled:t===this.state.value},t?"Update":"Add")))}renderEmojiAutocomplete(){const{editing:e}=this.props,{suggestedEmojis:t,selectedEmojiIndex:n}=this.state;return e&&t.length?i.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",ref:this.emojiAutoCompleteContainerRef},i.h(p.default,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:t,selectedIndex:n})):null}render(){const{editing:e,shouldPromoteEditButton:t,placeholder:n,disabledFeatures:o,onUpdate:a}=this.props,{value:r}=this.state,l=!e&&!r&&Boolean(n),c=Object(s.default)("markdownDescription",{editing:e,promoteEditButton:t,placeholderVisible:l});return i.h("div",{ref:this.markdownDescriptionRef,class:c},this.renderEditBar(),i.h("div",{class:"textArea"},!e&&i.h(f.default,{onUpdate:a,disabledFeatures:o},r||n),i.h("div",{class:"editor"},i.h("div",{class:"mirror"},r," "),this.renderEmojiAutocomplete(),i.h("textarea",{ref:this.textAreaRef,value:r,spellcheck:"false",maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}))),this.renderControls())}}y.propTypes={value:a.a.string,maxLength:a.a.number,readOnly:a.a.bool,placeholder:a.a.string,shouldPromoteEditButton:a.a.bool,supportLink:a.a.string,onEdit:a.a.func,onUpdate:a.a.func,onCancel:a.a.func},y.defaultProps={value:"",initialValue:"# Title\n\nDescription",editing:!1,readOnly:!1,disabledFeatures:[]},t.default=y},function(e,t,n){"use strict";n.r(t);const i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o=null!==window.mozInnerScreenX;t.default=function(e,t){const n=document.createElement("div");document.body.appendChild(n);const a=n.style,r=window.getComputedStyle(e);var s="INPUT"===e.nodeName;a.whiteSpace="pre-wrap",s||(a.wordWrap="break-word"),a.position="absolute",a.visibility="hidden",i.forEach(e=>{if(s&&"lineHeight"===e)if("border-box"===r.boxSizing){const e=parseInt(r.height,10),t=parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10),n=t+parseInt(r.lineHeight,10);a.lineHeight=e>n?e-t+"px":e===n?r.lineHeight:0}else a.lineHeight=r.height;else a[e]=r[e]}),o?e.scrollHeight>parseInt(r.height,10)&&(a.overflowY="scroll"):a.overflow="hidden",n.textContent=e.value.substring(0,t),s&&(n.textContent=n.textContent.replace(/\s/g," "));const l=document.createElement("span");l.textContent=e.value.substring(t)||".",n.appendChild(l);var c={top:l.offsetTop+parseInt(r.borderTopWidth,10),left:l.offsetLeft+parseInt(r.borderLeftWidth,10),height:parseInt(r.lineHeight,10)};return document.body.removeChild(n),c}},function(e,t,n){"use strict";n.r(t);var i=n(995);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(5),r=n.n(a),s=n(996);n(998);function l(e){const{emoji:t,formattedAlias:n,selected:a,customEmoji:r,onMouseOver:s,onClick:l,listRef:c}=e,d=r?i.h("img",{src:t,class:"emojiImg"}):i.h("span",{class:"emojiChar"},t);return i.h("div",{class:Object(o.default)({selected:a},"emojiItem"),onMouseOver:s,onClick:l,ref:c},d,i.h("span",{class:"emojiAlias"},n))}function c({suggestedEmojis:e,selectedIndex:t,onItemClick:n,onItemMouseOver:a,class:r}){return i.h(s.default,{class:Object(o.default)("emojiAutoCompleteList",r),options:e,keyProp:"formattedAlias",selectedIndex:t,onItemMouseOver:a,onItemClick:n,RowComponent:l})}c.propTypes={suggestedEmojis:r.a.array,selectedIndex:r.a.number,onItemClick:r.a.func,onItemMouseOver:r.a.func},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(997);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),a=n(416),r=n(244);function s(e,t){return n=>t(e,n)}const l=Object(o.debounce)(e=>{e&&Object(r.scrollIfNecessary)(e)});class c extends i.Component{componentWillReceiveProps(e){const{selectedIndex:t}=e,{selectedIndex:n}=this.props;if(n===t)return;const i=this.nodeRefs["ref"+t],o=this.nodeRefs["ref"+n];i&&(l(i),i.classList.add("selected")),o&&o.classList.remove("selected")}shouldComponentUpdate(e,t){return this.props.options!==e.options}render({class:e,options:t,keyProp:n,RowComponent:o,selectedIndex:r,onItemMouseOver:l,onItemClick:c}){return i.h("div",{class:e},t.map((e,t)=>i.h(o,Object.assign({},e,{key:e[n]},{listRef:Object(a.default)(this,"ref"+t)},{selected:t===r,onMouseOver:s(t,l),onClick:s(t,c)}))))}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(875),a=n(976),r=n(975),s=n(1004),l=n(416);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",p="ScreenThumbnail",h=Object(o.DropTarget)({acceptsItemType:p,onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id},t.draggingItemType)})(a.DragSourceSectionHeader),f=Object(r.getSectionComponent)(h),g=Object(o.DropTarget)({acceptsItemType:u,onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(f);class m extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1}),d(this,"handleBaseRef",e=>{Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}),d(this,"handleDragHover",(e,t)=>{t!==u?this.setSectionHeaderHover():this.setTargetPosition(e)}),d(this,"handleDragHoverOut",e=>{e!==u?this.unsetSectionHeaderHover():this.unsetTargetPosition()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t},n)=>n===u?this.dropSectionHeader(e,t):n===p?this.dropScreenThumbnail(e):void 0)}dropSectionHeader(e,t){if(""===this.props.targetPosition)return;const n=this.calculateMoveIndex(t);this.props.onSectionHeaderDrop(e,t,n)}dropScreenThumbnail(e){const{id:t,onScreenThumbnailDrop:n}=this.props;n(e,t)}render(){const{targetPosition:e,sectionHeaderHover:t}=this.state,{dragDisabled:n}=this.context;return i.h(g,c({},this.props,{baseRef:this.handleBaseRef,targetPosition:e,draggable:!n,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(s.default)(m)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1005);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a={[i.SCREEN_THUMBNAIL_SECTION]:80,[i.STYLEGUIDE_COMPONENT_SECTION]:80,[i.PROJECT_SECTION]:160};function r(e){return class extends e{constructor(...e){super(...e),o(this,"calculateMoveIndex",e=>{const{defaultSection:t,index:n}=this.props,{targetPosition:i}=this.state,o="bottom"===i;if(t&&!o)return;let a=n;return e>n&&o&&(a=n+1),e<n&&!o&&(a=n-1),a}),o(this,"setTargetPosition",e=>{const{defaultSection:t,type:n}=this.props,{targetPosition:i}=this.state,{base:o}=this.nodeRefs,r=function({type:e,baseRect:t,pointerPosition:n,targetPosition:i}){const o=i?a[e]:0,r=("top"===i?t.top+o:t.top)+(t.height-o)/2;return n.top>=r}({type:n,baseRect:o.getBoundingClientRect(),pointerPosition:e,targetPosition:i});if(t&&!r)return void this.setState({targetPosition:""});const s=r?"bottom":"top";i!==s&&this.setState({targetPosition:s})}),o(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),o(this,"setSectionHeaderHover",()=>{this.state.sectionHeaderHover||this.setState({sectionHeaderHover:!0})})}unsetSectionHeaderHover(){this.state.sectionHeaderHover&&this.setState({sectionHeaderHover:!1})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_DESCRIPTION",(function(){return i})),n.d(t,"SCREEN_THUMBNAIL_SECTION",(function(){return o})),n.d(t,"STYLEGUIDE_COMPONENT_SECTION",(function(){return a})),n.d(t,"PROJECT_SECTION",(function(){return r}));const i="A sweet, short description.",o="ScreenThumbnailSection",a="StyleguideComponentSection",r="ProjectSection"},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(875),a=n(976),r=n(975),s=n(1004),l=n(416);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",p="GroupHeader",h="StyleguideComponent",f=Object(o.DropTarget)({acceptsItemType:h,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(a.DragSourceSectionHeader),g=Object(r.getSectionComponent)(f),m=Object(o.DropTarget)({acceptsItemType:[u,p],onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(g);class b extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1,putComponentGroupInto:!1}),d(this,"setPutComponentGroupInto",(e,t)=>{const n=this.nodeRefs.base.getBoundingClientRect(),{id:i,defaultSection:o,collapsed:a,componentGroupsCount:r}=this.props,{putComponentGroupInto:s}=this.state,l=t[0];o||a||r&&(1!==r||l!==i)||!function(e,t,n){return t.top+43+36>e.bottom-(n?43:0)}(n,e,s)?this.unsetPutComponentGroupInto():s||this.setState({putComponentGroupInto:!0})}),d(this,"unsetPutComponentGroupInto",()=>{this.state.putComponentGroupInto&&this.setState({putComponentGroupInto:!1})}),d(this,"dropSectionHeader",(e,t,n)=>{if(""===this.state.targetPosition)return;const{styleguideId:i,onSectionOrGroupDrop:o}=this.props,a=this.calculateMoveIndex(e);n===i&&e===a||o({sourceIdPath:[t],sourceIndex:e,sourceStyleguideId:n,targetStyleguideId:i,to:a})}),d(this,"dropComponent",(e,t,n)=>{const{id:i,styleguideId:o,componentCount:a,onComponentToSectionOrGroupDrop:r}=this.props;r({sourceIdPath:t,sourceIndex:e,targetIdPath:[i],sourceStyleguideId:n,targetStyleguideId:o,to:a})}),d(this,"dropGroupHeader",(e,t,n)=>{if(!this.state.putComponentGroupInto)return;const{id:i,styleguideId:o,onSectionOrGroupDrop:a}=this.props;a({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:[i],sourceStyleguideId:n,targetStyleguideId:o,to:0})}),d(this,"handleDragHover",(e,t)=>{const{draggingItemType:n}=t;if(n===u)this.setTargetPosition(e);else if(n===p){const{dragData:{idPath:n}}=t;this.setPutComponentGroupInto(e,n)}else n===h&&this.setSectionHeaderHover()}),d(this,"handleDragHoverOut",e=>{e===u?this.unsetTargetPosition():e===p?this.unsetPutComponentGroupInto():e===h&&this.unsetSectionHeaderHover()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t,sourceIdPath:n,sourceStyleguideId:i},o)=>{o===u?this.dropSectionHeader(t,e,i):o===h?this.dropComponent(t,n,i):o===p&&this.dropGroupHeader(t,n,i)})}render(){const{targetPosition:e,sectionHeaderHover:t,putComponentGroupInto:n}=this.state,{dragDisabled:o}=this.context;return i.h(m,c({},this.props,{baseRef:Object(l.default)(this,"base"),targetPosition:e,putComponentGroupInto:n,draggable:!o,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(s.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(875),a=n(976),r=n(975),s=n(1004),l=n(416);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",p="Project",h=Object(o.DropTarget)({acceptsItemType:p,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(a.DragSourceSectionHeader),f=Object(o.DropTarget)({acceptsItemType:p,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id},t.draggingItemType)})(r.default),g=Object(r.getSectionComponent)(h),m=Object(o.DropTarget)({acceptsItemType:u,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(g);class b extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1}),d(this,"dropSectionHeader",(e,t)=>{if(""===this.state.targetPosition)return;const n=this.calculateMoveIndex(t);this.props.onSectionDrop({sourceId:e,sourceIndex:t,moveIndex:n})}),d(this,"dropProject",e=>{const{id:t,onProjectDrop:n}=this.props;n(e,t)}),d(this,"handleBaseRef",e=>{Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}),d(this,"handleDragHover",(e,t)=>{t!==u?this.setSectionHeaderHover():this.setTargetPosition(e)}),d(this,"handleDragHoverOut",e=>{e!==u?this.unsetSectionHeaderHover():this.unsetTargetPosition()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t},n)=>{n===u?this.dropSectionHeader(e,t):n===p&&this.dropProject(e)})}render(){const{targetPosition:e,sectionHeaderHover:t}=this.state,{dragDisabled:n}=this.context,{actionsDisabled:o}=this.props,a=o?f:m;return i.h(a,c({},this.props,{baseRef:this.handleBaseRef,targetPosition:e,draggable:!n,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(s.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(1009);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(514),a=n(5),r=n.n(a),s=n(1010),l=n(1015),c=n(1018),d=n(1012),u=n(511),p=n(935),h=n(852),f=n(1031),g=n(246),m=n(242),b=n(244),S=n(234),y=n(364);n(1032);function C({projectCount:e,styleguides:t,links:n,readOnly:a,onAddLinkButtonClick:r,onUpdateLinkButtonClick:C,onRemoveLinkButtonClick:v},{selectedOrganizationId:O}){const[E,T]=Object(o.useState)(8),[_,P]=Object(o.useState)({}),[j,D]=Object(o.useState)(!1),[k,I]=Object(o.useState)(!1),[R,A]=Object(o.useState)(!1),w=Object(o.useRef)(null);function N(){const e=w.current;if(e){const t=e.scrollWidth>e.clientWidth,i=n.length;t&&E>1&&T(e=>e===i?i-1:e-1)}}function L(){I(!0)}function x(){P({}),D(!1),I(!1)}function M(e){e.stopPropagation(),P({}),L()}async function U(){await S.userPrefs.get("styleguidesUsed")?Object(b.openLink)("https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"):y.default.history.push(Object(m.urlResolve)("organization-styleguides",{url:{oid:O}}))}function B(e,t){e.stopPropagation(),function(e){mixpanel.master.track("Clicked project section link",{Type:Object(f.getLinkType)(e)})}(t)}function z(){A(!R)}const V=new ResizeObserver(()=>{T(8),N()});return Object(o.useEffect)(()=>(w.current&&V.observe(w.current),()=>V.disconnect()),[]),Object(o.useLayoutEffect)(()=>{N()},[E,n.length]),Object(o.useLayoutEffect)(()=>(j||R?Object(h.disableScroll)():Object(h.enableScroll)(),()=>Object(h.enableScroll)()),[j,R]),i.h(i.Fragment,null,i.h("div",{class:"sectionHeaderSummary",ref:w},Boolean(e)&&i.h("div",{class:"summaryItem projectSummaryItem"},Object(g.pluralize)(e,"project"),i.h(l.default,null)),i.h(s.default,{linkTitle:e?t.length?Object(g.pluralize)(t.length,"styleguide"):i.h(i.Fragment,null,i.h("div",{onClick:z},"No linked styleguides"),R&&i.h(p.default,{class:"styleguideHideableInfo",content:"Link styleguides to projects to display components, colors, text styles and more.",buttonText:"OK, got it!",hideCallback:z,actionButton:{text:"Learn more",callback:U},popover:!0})):null,items:t.map(({_id:e,name:t})=>({_id:e,title:t,url:Object(m.urlResolve)("styleguide",{url:{bid:e}}),inApp:!0})),footer:function(){const e=Object(m.urlResolve)("organization-styleguides",{url:{oid:O},query:{stid:t.map(({_id:e})=>e)}});return i.h(d.default.Link,{href:e,inApp:!0},"View All Styleguides")}(),trackStyleguideClick:function(){mixpanel.master.track("Clicked project section linked styleguides")}}),function(){const t=Boolean(e||n.length);return i.h(i.Fragment,null,n.slice(0,E).map(({_id:t,title:n,url:o},r)=>{const s=0!==r||Boolean(e);return i.h("div",{class:"summaryItem",key:t},s&&i.h(l.default,null),i.h("a",{title:"Right-click to edit",href:o,key:t,class:"summaryItemLink noSelect",target:"_blank",rel:"noopener",onContextMenu:e=>function({ev:e,_id:t,title:n,url:i}){a||(e.preventDefault(),P({pos:{x:e.clientX,y:e.clientY},_id:t,title:n,url:i}),D(!0))}({ev:e,_id:t,title:n,url:o}),onClick:e=>B(e,o)},Object(f.getLinkIcon)(o),i.h("div",{class:"summaryItemText ellipsis"},n)))}),n.length<8&&n.length<=E&&!a&&i.h("div",{class:"summaryItem"},t&&i.h(l.default,null),i.h("button",{class:"summaryItemLink",onClick:M},"Add link")))}(),n.length>E&&i.h(i.Fragment,null,i.h(l.default,null),i.h(s.default,{linkTitle:"Show more",items:n.slice(E),footer:!a&&i.h(i.Fragment,null,n.length<8&&!a&&i.h(d.default.Button,{onClick:M},"Add link"),i.h(d.default.Submenu,{name:"Edit custom link"},n.slice(E).map(({_id:e,title:t,url:n})=>i.h(d.default.Button,{key:"submenu-"+e,onClick:()=>function({_id:e,title:t,url:n}){P({_id:e,title:t,url:n}),L()}({_id:e,title:t,url:n})},t))))}))),j&&function(){if(a)return;const{pos:{x:e,y:t}}=_;return i.h(u.default,{didRender:function(n){n.style.transform=`translate(${e}px, ${t}px)`}},i.h(d.default,{onClose:function(){D(!1)},onChange:L},i.h(d.default.Button,null,"Edit")))}(),k&&function(){const{_id:e,title:t,url:n}=_,o=Boolean(t)||Boolean(n)?C:r;return i.h(c.default,{id:e,title:t,url:n,onClose:x,onPositiveButtonClick:o,onRemoveLinkButtonClick:v})}())}C.propTypes={selectedOrganizationId:r.a.string.isRequired,projectCount:r.a.number.isRequired,styleguides:r.a.array.isRequired,links:r.a.array.isRequired,readOnly:r.a.bool.isRequired,onAddLinkButtonClick:r.a.func.isRequired,onUpdateLinkButtonClick:r.a.func.isRequired,onRemoveLinkButtonClick:r.a.func.isRequired},t.default=C},function(e,t,n){"use strict";n.r(t);var i=n(1011);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(514),s=n(1012),l=n(511),c=n(852);function d({linkTitle:e,items:t,footer:n,trackStyleguideClick:o}){const a=Object(r.useRef)(),[d,u]=Object(r.useState)(!1);return Object(r.useLayoutEffect)(()=>(d?Object(c.disableScroll)():Object(c.enableScroll)(),()=>Object(c.enableScroll)()),[d]),i.h(i.Fragment,null,i.h("div",{class:"summaryItem withMenu",ref:a,onClick:function(e){o&&o(),e.stopPropagation(),t.length&&u(!0)}},e),d&&i.h(l.default,{didRender:function(e){if(a.current){const{x:t,y:n,width:i}=a.current.getBoundingClientRect(),{width:o}=e.getBoundingClientRect(),r=8,s=t+i+o+36<=window.innerWidth?t+i+r:t-o-r;e.style.transform=`translate(${s}px, ${n}px)`}}},i.h(s.default,{class:"customLinkMenu",onClose:function(){u(!1)}},t.map(({_id:e,title:t,url:n,inApp:o})=>i.h(s.default.Link,{class:"ellipsis",key:e,href:n,inApp:o},t)),i.h("hr",null),n)))}d.propTypes={linkTitle:a.a.node,items:a.a.array,footer:a.a.node,trackStyleguideClick:a.a.func},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1013);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),a=n(395),r=n(416),s=n(249);n(1014);class l extends i.Component{constructor(e){super(e),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.state={open:!1,direction:"right"}}hideSubmenu(){this.setState({open:!1})}positionSubmenu(){if(!this.state.open)return;const{edgeOffset:e}=this.context,t=this.nodeRefs.base.getBoundingClientRect(),n=this.nodeRefs.submenu.getBoundingClientRect(),i=window.innerWidth>=t.right+n.width+e?"right":"left";let o=0;const a=window.innerHeight-2*e;if(n.bottom>a){const t=n.height,i=Math.max(t-a,0);o=window.innerHeight-n.bottom-e+i,this.nodeRefs.submenu.style.maxHeight=a+"px"}0!==o&&(this.nodeRefs.submenu.style.transform=`translate3d(0, ${o}px, 0)`),i!==this.state.direction&&this.setState({direction:i})}showSubmenu(){this.setState({open:!0})}componentDidMount(){this.positionSubmenu()}componentDidUpdate(){this.positionSubmenu()}render(){const{open:e,direction:t}=this.state,{content:n,name:o,children:l,submenuClass:c}=this.props;return i.h("label",{ref:Object(r.default)(this,"base"),for:"sidebarSubmenu",class:"sidebarSubmenu",onMouseEnter:this.showSubmenu,onMouseLeave:this.hideSubmenu},i.h("span",null,n||o),i.h("img",{src:s.imageUrl("img/icMenuArrow.svg"),alt:">",class:"menuChevron"}),e&&i.h("div",{ref:Object(r.default)(this,"submenu"),class:Object(a.default)("submenu",t,c)},l))}}class c extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.value)}render(){const{options:e,name:t,value:n,submenu:o,content:a}=this.props,r=e.map(e=>{const o=e.value===n,{value:a,name:r}=e;return i.h("label",{key:`${r}-${a}`},i.h("span",null,r),i.h("input",{onClick:this.clickHandler,type:"radio",name:t,value:a,checked:o}),i.h("img",{src:s.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))});if(o){let o=t;if(a){o=`${a} (${e.find(e=>e.value===n).name})`}return i.h(l,{content:o},r)}return i.h("div",null,r)}}class d extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{this.props.onClick&&this.props.onClick(this.props.name,e.target.checked)},(n="handleClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{content:e,name:t,disabled:n,value:o}=this.props;return i.h("label",{class:Object(a.default)({disabled:n})},i.h("span",null,e||t),i.h("input",{type:"checkbox",disabled:n,onClick:this.handleClick,name:t,checked:o}),i.h("img",{src:s.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))}}class u extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e,t){const{name:n,selectedOptionNames:i,onClick:o}=this.props;if(o){let a=i?[...i]:[];t?a.push(e):a=a.filter(t=>t!==e),o(n,a,!1)}}render(){const{options:e,content:t,selectedOptionNames:n,minNumberOfSelectedOptions:o}=this.props,a=e.map(e=>n&&n.includes(e.name)),r=o>=a.filter(e=>e).length;return i.h(h.Submenu,{content:t},e.map((e,t)=>i.h(h.Switch,{key:e.key||t,name:e.name,content:e.content,value:a[t],disabled:e.disabled||r&&a[t],onClick:this.clickHandler})))}}class p extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){const{onClick:t,name:n}=this.props;t(e,n)}render(){const{disabled:e,warning:t}=this.props;return i.h("button",{type:"button",class:Object(a.default)({warning:!!t}),disabled:e,onClick:this.handleClick},this.props.children)}}class h extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}handleClick(e,t,n=!0){this.props.onChange&&this.props.onChange(e,t),n&&this.props.onClose()}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||this.props.onClose()}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}getChildContext(){return{edgeOffset:this.edgeOffset}}render(){const{class:e,children:t}=this.props,n=Object(a.default)("zplMenu",e);return i.h("div",{ref:Object(r.default)(this,"base"),onClick:o.stopPropagation,class:n},i.toChildArray(t).map(e=>i.cloneElement(e,{onClick:this.handleClick})))}}h.Submenu=l,h.Picker=c,h.Switch=d,h.SwitchMenu=u,h.Button=p,h.Link=function({class:e,href:t,inApp:n,children:o}){return n?i.h("a",{class:e,href:t,"data-link-type":"inApp",rel:"noopener"},o):i.h("a",{class:e,href:t,target:"_blank",rel:"noopener"},o)},h.Divider=function(){return i.h("hr",null)},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1016);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1017);function o(){return i.h("div",{class:"separator"})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1019);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(514),a=n(5),r=n.n(a),s=n(242),l=n(1020),c=n(1027);n(1030);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h({id:e,title:t,url:n,onPositiveButtonClick:a,onRemoveLinkButtonClick:r,onClose:d}){const[p,h]=Object(o.useState)({title:t,url:n}),f=t&&n?"edit":"add",g=p.title&&Object(s.isValidUrl)(p.url);function m(e,t){h(u(u({},p),{},{[e]:t}))}function b(){a({_id:e,title:p.title,url:p.url})}const S={add:{title:"Add link to a related resource: e.g. brief, requirements or repo.",buttonText:"ADD"},edit:{title:"Update existing link name and URL.",buttonText:"UPDATE",fallbackButtonText:"REMOVE"}};return i.h(c.default,{class:"customLinkDialog",width:540,positiveButtonText:S[f].buttonText,negativeButtonText:"CANCEL",fallbackButtonText:S[f].fallbackButtonText,onPositiveButtonClick:b,onNegativeButtonClick:d,onFallbackButtonClick:function(){r(e)},onClose:d,hideNegativeButton:!1,positiveButtonDisabled:!g},i.h("div",{class:"dialogBody",onKeyPress:function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:if(!g)return;e.preventDefault(),b(),d()}}},i.h("h3",null,S[f].title),i.h(l.default,{name:"title",label:"Name",value:p.title,placeholder:"Add a name for the link",maxLength:48,shouldDisplayCountDown:!1,onChange:m,autoFocus:!0}),i.h(l.default,{name:"url",label:"URL",value:p.url,placeholder:"Add URL",maxLength:1024,shouldDisplayCountDown:!1,nativeProps:{type:"url"},onChange:m})))}h.propTypes={width:r.a.number,linkName:r.a.string,url:r.a.string,onPositiveButtonClick:r.a.func,onClose:r.a.func},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1021);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(1022),s=n(395);n(1026);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"state",{error:null,isFocused:!1}),c(this,"handleChange",e=>{const{name:t,onChange:n,validate:i}=this.props,o=e.target.value;i&&this.setState({error:i(t,o)}),n(t,o)}),c(this,"handleFocus",()=>{this.setState({isFocused:!0})}),c(this,"handleBlur",()=>{const{name:e,value:t,validate:n,onBlur:i}=this.props;n?this.setState({error:n(e,t),isFocused:!1}):this.setState({isFocused:!1}),i&&i()}),c(this,"handleKeyDown",e=>{const{name:t,onEscape:n,onEnter:i}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC?(e.preventDefault(),e.target.blur(),n&&n(t)):e.keyCode===Zeplin.KEY_CODE.ENTER&&i&&(e.preventDefault(),e.target.blur(),i())})}get shouldDisplayCountDown(){const{maxLength:e,shouldDisplayCountDown:t}=this.props,{isFocused:n}=this.state;return t&&Boolean(e)&&n}get remainingCharCount(){const{maxLength:e,value:t}=this.props;return e-t.length}render(){const{error:e,isFocused:t}=this.state,{name:n,class:o,label:a,value:c,placeholder:d,customSuccessMessage:u,customErrorMessage:p,tipText:h,pendingText:f,nativeProps:g,maxLength:m,rows:b,disabled:S,autoFocus:y,shouldAlwaysDisplayTipText:C,isPending:v}=this.props;return i.h(r.default,{class:Object(s.default)("textFormField",o,{hasCountDown:this.shouldDisplayCountDown}),label:a,successMessage:!this.shouldDisplayCountDown&&u,errorMessage:!this.shouldDisplayCountDown&&(p||e),tipText:h,pendingText:f,disabled:S,shouldDisplayErrorMessageIcon:Boolean(c),shouldDisplayTipText:t||C,isPending:v},b?i.h("textarea",l({name:n,value:c,placeholder:d,maxlength:m,rows:b,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocus:y,disabled:S},g)):i.h("input",l({name:n,value:c,placeholder:d,maxlength:m,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocus:y,disabled:S},g)),this.shouldDisplayCountDown&&i.h("div",{class:Object(s.default)("countDown",{exceed:0===this.remainingCharCount})},this.remainingCharCount))}}d.propTypes={name:a.a.string.isRequired,class:a.a.string,label:a.a.string,value:a.a.string,placeholder:a.a.string,customSuccessMessage:a.a.node,customErrorMessage:a.a.node,tipText:a.a.node,pendingText:a.a.string,nativeProps:a.a.object,maxLength:a.a.number,rows:a.a.number,disabled:a.a.bool,autoFocus:a.a.bool,shouldDisplayCountDown:a.a.bool,shouldAlwaysDisplayTipText:a.a.bool,isPending:a.a.bool,onChange:a.a.func.isRequired,onBlur:a.a.func,onEscape:a.a.func,onEnter:a.a.func,validate:a.a.func},d.defaultProps={value:"",shouldDisplayCountDown:!0},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(1023),s=n.n(r),l=n(1024),c=n.n(l),d=n(475),u=n.n(d),p=n(395);n(1025);function h(e){const{children:t,class:n,label:o,successMessage:a,errorMessage:r,tipText:l,pendingText:d,disabled:h,shouldDisplayErrorMessageIcon:f,shouldDisplayTipText:g,isPending:m}=e;let b;return r?b=i.h("div",{class:"formFieldMessageContainer error"},f&&i.h(c.a,null),i.h("p",{class:"formFieldMessage"},r)):m?b=i.h("div",{class:"formFieldMessageContainer pending"},i.h(u.a,null),i.h("p",{class:"formFieldMessage"},d)):a&&(b=i.h("div",{class:"formFieldMessageContainer success"},i.h(s.a,null),i.h("p",{class:"formFieldMessage"},a))),i.h("div",{class:Object(p.default)("formField",n,{disabled:h,hasMessage:Boolean(a||r)||m})},i.h("div",{class:"formFieldLabel"},o),i.h("div",{class:"formFieldContent"},t,b,Boolean(l)&&g&&i.h("div",{className:"formFieldTipText"},l)))}h.propTypes={class:a.a.string,label:a.a.string,children:a.a.node.isRequired,successMessage:a.a.node,errorMessage:a.a.node,tipText:a.a.node,pendingText:a.a.string,disabled:a.a.bool,shouldDisplayErrorMessageIcon:a.a.bool,shouldDisplayTipText:a.a.bool,isPending:a.a.bool},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=11*e/14;return i.h("svg",{width:e,height:n,viewBox:"0 0 14 11"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M5.057 7.264l6.8-7.055c.268-.279.702-.279.97 0l.972 1.008c.268.278.268.73 0 1.007l-8.256 8.567c-.268.279-.703.279-.971 0L.202 6.256c-.27-.278-.27-.73 0-1.008l.97-1.008c.269-.278.703-.278.972 0l2.913 3.024z"}))}o.defaultProps={width:14,color:"#C8CF2D"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=12*e/12;return i.h("svg",{width:e,height:n,viewBox:"0 0 12 12"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M6 3.898L2.317.215c-.282-.282-.759-.284-1.052.01l-1.04 1.04c-.298.298-.298.764-.01 1.052L3.898 6 .215 9.683c-.282.282-.284.759.01 1.052l1.04 1.04c.298.298.764.298 1.052.01L6 8.102l3.683 3.683c.282.282.759.284 1.052-.01l1.04-1.04c.298-.298.298-.764.01-1.052L8.102 6l3.683-3.683c.282-.282.284-.759-.01-1.052l-1.04-1.04c-.298-.298-.764-.298-1.052-.01L6 3.898z"}))}o.defaultProps={width:12,color:"#EE6723"},t.default=o},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(757);n.d(t,"DialogFooter",(function(){return i.default}));var o=n(1028);n.d(t,"default",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(511),s=n(245),l=n(416),c=n(395),d=n(22),u=n(757);n(1029);const{h:p}=i;class h extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.stopPropagation()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),d.default.registerDialog(this.nodeRefs.dialog),this.nodeRefs.dialog.showModal()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:o,negativeButtonType:a,fallbackButtonType:d,positiveButtonDisabled:p,negativeButtonDisabled:h,fallbackButtonDisabled:f,onPositiveButtonClick:g,onNegativeButtonClick:m,onFallbackButtonClick:b,hidePositiveButton:S,hideNegativeButton:y,onClose:C,width:v,footer:O,loading:E,loadingText:T,class:_,bodyClass:P}=this.props;return i.h(r.default,null,i.h("dialog",{onClick:s.stopPropagation,onClose:C,style:{width:v},class:Object(c.default)(_,"dialog",{loading:E}),ref:Object(l.default)(this,"dialog")},i.h("div",{class:Object(c.default)(P,"body")},this.props.children),i.h(u.default,{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:o,negativeButtonType:a,fallbackButtonType:d,positiveButtonDisabled:p,negativeButtonDisabled:h,fallbackButtonDisabled:f,onPositiveButtonClick:g,onNegativeButtonClick:m||C,onFallbackButtonClick:b,hidePositiveButton:S,hideNegativeButton:y,footer:O,loading:E,loadingText:T})))}}h.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hidePositiveButton:!1,hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},h.propTypes={positiveButtonText:a.a.string.isRequired,negativeButtonText:a.a.string,fallbackButtonText:a.a.string,positiveButtonType:a.a.string.isRequired,negativeButtonType:a.a.string.isRequired,fallbackButtonType:a.a.string.isRequired,positiveButtonDisabled:a.a.bool,negativeButtonDisabled:a.a.bool,onPositiveButtonClick:a.a.func,onNegativeButtonClick:a.a.func,onFallbackButtonClick:a.a.func,hidePositiveButton:a.a.bool,hideNegativeButton:a.a.bool,width:a.a.oneOfType([a.a.number,a.a.string]),onClose:a.a.func,children:a.a.node,footer:a.a.node,loading:a.a.bool,loadingText:a.a.string},t.default=h},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"getLinkType",(function(){return l})),n.d(t,"getLinkIcon",(function(){return c}));var i=n(4),o=n(438);const a=(e,...t)=>t.some(t=>e.endsWith(t)),r={zeplin:{type:"Zeplin",icon:i.h(o.IconZeplin,null)},asana:{type:"Asana",icon:i.h(o.IconAsana,null)},abstract:{type:"Abstract",icon:i.h(o.IconAbstract,null)},github:{type:"Github",icon:i.h(o.IconGithub,null)},gitlab:{type:"Gitlab",icon:i.h(o.IconGitlab,null)},bitbucket:{type:"Bitbucket",icon:i.h(o.IconBitbucket,null)},figma:{type:"Figma",icon:i.h(o.IconFigma,null)},sketchCloud:{type:"SketchCloud",icon:i.h(o.IconSketchCloud,null)},invision:{type:"Invision",icon:i.h(o.IconInvision,null)},notion:{type:"Notion",icon:i.h(o.IconNotion,null)},paper:{type:"Paper",icon:i.h(o.IconPaper,null)},trello:{type:"Trello",icon:i.h(o.IconTrello,{width:20,color:"var(--gandalf)"})},confluence:{type:"Confluence",icon:i.h(o.IconConfluence,null)},jira:{type:"Jira",icon:i.h(o.IconJira,{width:20,color:"var(--gandalf)"})},default:{type:"Custom",icon:i.h(o.IconCustomLink,null)}};function s(e){try{const{hostname:t,pathname:n}=new URL(e);return function(e,t){return a(e,"zeplin.io","zpl.io")?r.zeplin:a(e,"asana.com")?r.asana:a(e,"abstract.com")?r.abstract:a(e,"github.com")?r.github:a(e,"gitlab.com")?r.gitlab:a(e,"bitbucket.org")?r.bitbucket:a(e,"figma.com")?r.figma:a(e,"sketch.com")?r.sketchCloud:a(e,"invisionapp.com","invis.io")?r.invision:a(e,"notion.so")?r.notion:a(e,"paper.dropbox.com")?r.paper:a(e,"trello.com")?r.trello:a(e,"atlassian.net","jira.com")?((e,...t)=>["/wiki","/l/c/"].some(t=>e.startsWith(t)))(t)?r.confluence:r.jira:r.default}(t,n)}catch(t){return r.default}}const l=e=>s(e).type,c=e=>s(e).icon},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_FOCUS_COUNT_LIMIT",(function(){return i})),n.d(t,"NEW_SECTION_TITLE",(function(){return o})),n.d(t,"NEW_SECTION_DESCRIPTION",(function(){return a})),n.d(t,"GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS",(function(){return r}));const i=4,o="Untitled Section",a="Add a _markdown_ flavored description and tell the story of this section.",r=300},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1036);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(912),a=n(875),r=n(245),s=n(416),l=n(959),c=n(915),d=n(954);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const p=Object(r.pipe)(Object(a.DragSource)({itemType:"Project",mirrorComponent:c.SpaceCardMirror,provideDragData:e=>{const{project:{name:t,thumbnail:n,users:i,_id:o,type:a},moveCubukPosition:r,sectionId:s,index:l,lightness:c}=e;return{sectionId:s,moveCubukPosition:r,name:t,source:n,users:i,id:o,type:a,index:l,lightness:c}}}),Object(a.DropTarget)({acceptsItemType:"Project",onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,moveCubukPosition:t.dragData.moveCubukPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId})}))(o.default);class h extends i.Component{constructor(e){var t,n,i;super(e),i=e=>{cancelIdleCallback(this.visibleId);const t=e.isIntersecting;this.visibleId=requestIdleCallback(()=>{t!==this.state.visible&&this.setState({visible:t})})},(n="handleIntersection")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.state={lightness:"dark",moveCubukPosition:"",visible:!1},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this)}getImageProperties(){}handleDragHover({mirrorPosition:e}){const{sections:t,sectionId:n}=this.props;if("individual"===t.find(({_id:e})=>e===n).type)return;const i=this.nodeRefs.base.getBoundingClientRect(),o=e.left>i.left+i.width/2;this.setState(Object(r.getStateUpdateFunction)({moveCubukPosition:o?l.CUBUK_POSITION.RIGHT:l.CUBUK_POSITION.LEFT}))}handleDragHoverOut(){this.setState(Object(r.getStateUpdateFunction)({moveCubukPosition:""}))}componentDidMount(){this.observer=Object(d.getThumbnailObserver)(),this.observer.observe(this.base,this.handleIntersection)}shouldComponentUpdate(e,t){return!(!this.state.visible&&!t.visible)}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,lightness:t}=this.state;return i.h(p,u({baseRef:Object(s.default)(this,"base"),dragBaseRef:Object(s.default)(this,"dragBase"),lightness:t,moveCubukPosition:e,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1038);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(400),s=n(543);n(1039);function l({onCreateSection:e},{currentOrganizationProfile:{restricted:t}={}}){return i.h("div",{class:"sectionOnboarding"},i.h("h1",null,"Introducing Sections for projects ",i.h(s.default,{width:"24",height:"18",asset:"img/emjWaffle.png"})),i.h("div",{class:"description"},"Bring clarity to your workspace by organizing and adding more context to your projects."),i.h(s.default,{class:"image noSelect",width:"720",asset:"img/sampleProjectSection.png"}),t?i.h("div",{class:"description restrictedUserInfo"},'Right-click a project and select "Create a new section" to get started'):i.h(r.default,{onClick:e,primary:!0},"Create Section"))}l.propTypes={onCreateSection:a.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1041);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1042),a=n(1027),r=n(1047),s=n(395);n(1050);t.default=function(e){const{project:t,onClose:n,onJoin:l,loading:c}=e,d=Object(s.default)("projectPreviewDialogBody",{loading:c});return i.h(a.default,{class:"projectPreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:l,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:n,width:"66vw"},i.h("div",{class:d},c?i.h(r.default,null):i.h(o.default,{projectData:t,requiredMinimumPadding:24,defaultPadding:36,hideJoinButton:!0,headerSticky:!1})))}},function(e,t,n){"use strict";n.r(t);var i=n(1043);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(249),a=n(395),r=n(244),s=n(245),l=n(416),c=n(1044),d=n(519),u=n.n(d);n(1046);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){const{snapshot:t}=e.versions[0],n=Math.floor(180*t.height/t.width);return i.h(c.default,{height:n,key:e._id,source:t.url})}function m(e,t){if(!e||!e.length)return i.h("div",{class:"projectUsersEmpty"},"No members in this project, be the first!");const n=function(e){return e.sort(s.sortBy.role).map(({user:e})=>h(h({},e),{},{avatar:Object(r.getUserAvatar)(e).src,title:"invited"!==e.status?e.username:`Pending… (${e.email})`}))}(e),o=n.slice(0,t).map(e=>i.h(u.a,{key:e._id,class:"userImageFrame",src:e.avatar,title:e.title,size:36}));if(n.length===t+1){const e=n[t];o.push(i.h(u.a,{key:e._id,class:"userImageFrame",src:e.avatar,title:e.title,size:36}))}else if(n.length>t+1){const a=n.slice(t).map(e=>e.title).join("\n"),r=i.h("div",{key:"remainingUsers",class:"remainingUsers",title:a},"+",e.length-t);o.push(r)}return i.h("div",{class:"projectUsers"},o)}class b extends i.Component{constructor(e){super(),this.centerScreensUsersHeader=this.centerScreensUsersHeader.bind(this),this.handleJoinClick=this.handleJoinClick.bind(this),this.state={usersLimit:5}}centerScreensUsersHeader(){const{requiredMinimumPadding:e,defaultPadding:t,projectData:n}=this.props;if(!n.screens)return;const i=Math.floor(this.nodeRefs.base.getBoundingClientRect().width),o=Math.floor((i-e)/204),a=i-204*o;let r=t;n.screens.length&&(r=a/2),this.nodeRefs.base.style=`padding-left: ${r}px; padding-right: ${r}px;`;const s=204*o-24-36,l=Math.floor(s/42);l!==this.state.usersLimit&&this.setState({usersLimit:l})}handleJoinClick(){const{projectData:{_id:e},onJoin:t}=this.props;t({bid:e,source:"Preview"})}componentDidMount(){this.centerScreensUsersHeader(),window.addEventListener("resize",this.centerScreensUsersHeader)}componentDidUpdate(e,t){!e.projectData&&this.props.projectData&&this.centerScreensUsersHeader()}componentWillUnmount(){window.removeEventListener("resize",this.centerScreensUsersHeader)}render(){const{projectData:{_id:e,name:t,type:n,densityScale:r,users:c,screens:d},loadingJoin:u=!1,hideJoinButton:p,headerSticky:h}=this.props,{usersLimit:f}=this.state,b=Object(a.default)("projectPreviewHeader",{sticky:h}),S=Object(s.getDensityScaleRepresentation)(n,r);return i.h("div",{ref:Object(l.default)(this,"base"),class:"projectPreview",key:e},i.h("div",{class:b},i.h("div",null,i.h("h1",null,t),i.h("h5",null,i.h("span",{class:"projectPreviewType"},Object(s.getPlatformString)(n)),r&&i.h("span",{class:"projectPreviewDensity"},S))),!p&&i.h("button",{type:"button",class:"joinProject",onclick:this.handleJoinClick},u?i.h("img",{src:o.imageUrl("img/icSpinnerWhite.svg"),class:"spinning"}):i.h("span",null,"Join"))),m(c,f),function(e){return e&&e.length?i.h("div",{class:"projectPreviewScreens"},e.map(g)):i.h("div",{class:"projectPreviewScreensEmpty"},i.h("h1",null,"No designs in this project yet!"),i.h("h3",null,"Join and upload the first!"))}(d))}}t.default=b},function(e,t,n){"use strict";n.r(t);var i=n(1045);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(918),a=n.n(o),r=n(395);class s extends i.Component{constructor(e){super(e),this.handleLoad=this.handleLoad.bind(this),this.state={loading:!0}}handleLoad(){this.setState({loading:!1})}render(){const{height:e,source:t}=this.props,{loading:n}=this.state,o=Object(r.default)({loading:n},"projectPreviewScreen","noSelect");return i.h("div",{class:o,style:{height:e}},i.h(a.a,{source:t,onLoad:this.handleLoad}))}}t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1048);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(416),a=n(395),r=n(245);n(1049);const s=Array.from({length:10},()=>{const e=Math.floor(180*Math.random()*.7)+180;return i.h("div",{style:{height:e},class:"projectPreviewLoadingScreen breathe"})});class l extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(r.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:Object(a.default)("projectPreviewLoading",this.props.class),ref:Object(o.default)(this,"base")},i.h("div",{class:"projectPreviewLoadingHead breathe"}),i.h("div",{class:"projectPreviewLoadingSubHead breathe"}),i.h("div",{class:"projectPreviewLoadingMembers"},function(e){const t=Math.floor(e/42);return Array.from({length:Math.min(12,t)},()=>i.h("div",{class:"projectPreviewLoadingMember breathe"}))}(e)),i.h("div",{class:"projectPreviewLoadingScreens"},s))}}t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1052);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1053),a=n(1062),r=n(753),s=n(543),l=n(249);n(1065);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"values",["ios","android","web","osx"]),c(this,"state",{selected:this.values[0]}),c(this,"handleChange",e=>{this.setState({selected:e})}),c(this,"handlePositiveButtonClick",()=>{const{selected:e}=this.state,{onCreate:t}=this.props;t(e)}),c(this,"handleTabClick",e=>{const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}})}componentDidMount(){window.addEventListener("keydown",this.handleTabClick,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleTabClick,!0)}render(){const{selected:e}=this.state,{onClose:t}=this.props;return i.h(r.default,{class:"createProjectDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:t,width:720,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody"},i.h("h1",null,"Choose your project type"),i.h("div",{class:"projectTypes"},i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"ios",label:"iOS",image:i.h("svg",{width:"140",height:"104"},i.h("g",{fill:"ios"===e?"var(--cornflower-blue)":"var(--gandalf)","fill-rule":"evenodd"},i.h("path",{class:"frame",d:"M118 87.96v-59.8c0-3.93-3.23-7.16-7.17-7.16H15.17C11.23 21 8 24.23 8 28.17v59.8c0 3.93 3.23 7.16 7.17 7.16h95.66c3.94 0 7.17-3.23 7.17-7.17zm-4.78-29.9c0 .66-.54 1.2-1.2 1.2-.66 0-1.2-.54-1.2-1.2 0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2zm-102.83 0c0-1.97 1.6-3.58 3.57-3.58s3.6 1.6 3.6 3.6c0 1.97-1.62 3.57-3.6 3.57s-3.6-1.6-3.6-3.58zm9.55 32.3v-64.6h88.47v64.58H19.96z"}),i.h("g",{transform:"translate(81 4)"},i.h("path",{class:"frame",d:"M38.74 0H9.24C4.17 0 0 4.05 0 9v80.82c0 4.95 4.18 9 9.25 9h29.5c5.08 0 9.25-4.05 9.25-9V9c0-4.95-4.17-9-9.26-9zM24 2.82c.77 0 1.4.62 1.4 1.38 0 .75-.63 1.37-1.4 1.37-.8 0-1.42-.62-1.42-1.37 0-.76.63-1.38 1.4-1.38zM19.5 8h9c.82 0 1.5.68 1.5 1.5 0 .83-.68 1.5-1.5 1.5h-9c-.83 0-1.5-.67-1.5-1.5 0-.82.67-1.5 1.5-1.5zM24 96c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm21-11H3V13h42v72z"}),i.h("circle",{cx:"24",cy:"92",r:"4",fill:"#FFF"}),i.h("path",{fill:"#FFF",d:"M3 13h42v72H3z"})))),dimensionType:"pt",exportType:"Objective-C/Swift",selected:"ios"===e}),i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"android",label:"Android",image:"android"===e?i.h(s.default,{asset:"img/icPrj_android-selected.png"}):i.h("img",{src:Object(l.imageUrl)("img/icPrj_android.svg")}),dimensionType:"dp/sp",exportType:"XML",selected:"android"===e}),i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"web",label:"Web",image:i.h(s.default,{asset:`img/icPrj_web${"web"===e?"-selected":""}.png`}),dimensionType:"px",exportType:"CSS and HTML",selected:"web"===e})),i.h("div",{class:"experimentalProjectTypes"},i.h(a.default,{name:"projectType",onClick:this.handleChange,value:"osx",label:"macOS",dimensionType:"pt",exportType:"Objective-C/Swift",selected:"osx"===e}))))}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1054);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1055),a=n(1058);n(1061);function r({image:e}){return i.h("div",{class:"projectTypeImage noSelect"},e)}class s extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:s,image:l,dimensionType:c,exportType:d}=this.props;return i.h("label",{class:"projectType"},i.h(a.default,{name:e,value:n,label:s,checked:t,onClick:this.handleClick}),i.h(r,{image:l}),i.h(o.default,{dimensionType:c,exportType:d,selected:t}))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1056);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(1057);t.default=function({dimensionType:e,exportType:t,selected:n,singleLine:a}){const r=Object(o.default)("projectInfo","noSelect",{selected:n});return i.h("div",{class:r},"Dimensions in ",i.h("strong",null,e),",",!a&&i.h("br",null)," ",t," export.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1059);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(795),a=n.n(o);n(1060);t.default=function(e){const{value:t,name:n,label:o,checked:r,onClick:s}=e;return i.h("div",{class:"projectRadio"},i.h(a.a,{name:n,checked:r,onClick:s,value:t}),i.h("span",{class:"projectTypeName noSelect"},o))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1063);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1055),a=n(1058);n(1064);class r extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:r,dimensionType:s,exportType:l}=this.props;return i.h("label",{class:"experimentalProjectType"},i.h(a.default,{name:e,value:n,label:r,checked:t,onClick:this.handleClick}),i.h(o.default,{dimensionType:s,exportType:l,selected:t,singleLine:!0}))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1067);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(416),r=n(227),s=n(228);n(1068);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u;const p={primaryButtonLabel:i.h("strong",null,"Looks like you’re a part of an organization:"),primaryButtonText:"Check out {{organizationName}}'s space",primaryButtonSubLabel:"You can always switch between workspaces from the top."},h={title:"Welcome to Zeplin! We are glad you’re here 👋",description:i.h("strong",null,"Let’s start by watching this short tutorial:")},f={FREE_PLAN:c(c({},h),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),primaryButtonText:"Create a project"}),ORGANIZATION_MEMBER:c(c(c({},h),p),{},{secondaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),secondaryButtonText:"Create a project"}),PAID_PLAN:c(c({},h),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),primaryButtonText:"Create a project"}),ORGANIZATION_NO_CREATE_PERMISSION:c(c({},h),{},{primaryButtonLabel:i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank",rel:"noopener"},"Learn more…"))})};class g extends i.Component{constructor(e){super(e),this.showVideoOverlay=this.showVideoOverlay.bind(this),this.hideVideoOverlay=this.hideVideoOverlay.bind(this),this.handleVideoClick=this.handleVideoClick.bind(this),this.youtubePlayer=null,this.state={videoOverlayVisible:!1}}getLabelsAndHandlers(){const{canCreateProject:e,selectedOrganizationId:t}=this.context,{availableOrganization:n,hasPaidPlan:i,onCheckoutOrganization:o,onCreate:a}=this.props;if("user"===t){let e;return i?e={labels:f.PAID_PLAN,onPrimaryButtonClick:a}:(e={labels:h},s.isWindowsApp&&(e={labels:f.FREE_PLAN,onPrimaryButtonClick:a})),n&&(e=c(c({},e),{},{labels:c(c({},f.ORGANIZATION_MEMBER),{},{primaryButtonText:f.ORGANIZATION_MEMBER.primaryButtonText.replace("{{organizationName}}",n.name)}),onPrimaryButtonClick:()=>o(n._id)}),(i||s.isWindowsApp)&&(e=c(c({},e),{},{onSecondaryButtonClick:a}))),e}return e?{labels:f.PAID_PLAN,onPrimaryButtonClick:a}:{labels:f.ORGANIZATION_NO_CREATE_PERMISSION}}showVideoOverlay(){this.setState({videoOverlayVisible:!0})}hideVideoOverlay(){this.youtubePlayer.pauseVideo(),this.setState({videoOverlayVisible:!1})}handleVideoClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;Object(r.getDevice)()===r.DEVICE_TYPES.MOBILE?location.assign("https://www.youtube.com/watch?v=x1RPNx8Jsp4"):this.setState({videoOverlayVisible:!0})}componentDidMount(){u||(u=new Promise(e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",t.id="youtubeAPIScript",document.head.appendChild(t),window.onYouTubeIframeAPIReady=()=>e(window.YT)}))}componentDidUpdate(e,t){!t.videoOverlayVisible&&this.state.videoOverlayVisible&&u.then(e=>{this.youtubePlayer=new e.Player(this.nodeRefs.youtubePlayerAnchor,{width:800,height:530,videoId:"x1RPNx8Jsp4",events:{onReady:()=>this.youtubePlayer.playVideo()}})})}renderTutorialVideo(){return i.h("div",{key:"video",style:{backgroundImage:"url(https://img.youtube.com/vi/x1RPNx8Jsp4/maxresdefault.jpg)"},class:"tutorialVideo",onClick:this.handleVideoClick},i.h("button",{class:"watchTutorialButton"}))}renderVideoOverlay(){return i.h("div",{key:"overlay",onClick:this.hideVideoOverlay,class:"videoOverlay"},i.h("div",{ref:Object(a.default)(this,"youtubePlayerAnchor")}))}renderListItems(){return i.h("ol",null,i.h("li",null,"If you’re a developer, ask your designer to create a project for you."),i.h("li",null,i.h("span",null,"If you’re a designer, download our ",i.h("a",{href:"https://zpl.io/download-mac",target:"_blank"},"macOS")," or ",i.h("a",{href:"https://zpl.io/download-windows-64",target:"_blank"},"Windows")," app to export designs.")))}render(){const{videoOverlayVisible:e}=this.state,{availableOrganization:t}=this.props,{labels:n,onPrimaryButtonClick:a,onSecondaryButtonClick:r}=this.getLabelsAndHandlers(),l=!t&&!s.isWindowsApp;return i.h("div",{class:"noProjectsScrollContainer"},i.h("div",{class:"noProjects"},i.h("h1",null,n.title),i.h("p",{class:"description"},n.description),this.renderTutorialVideo(),e&&this.renderVideoOverlay(),l&&this.renderListItems(),i.h("div",{class:"buttonContainer"},i.h("p",{class:"primaryButtonLabel"},n.primaryButtonLabel),a&&i.h(o.default,{onClick:a,primary:!0},n.primaryButtonText),i.h("p",{class:"primaryButtonSubLabel"},n.primaryButtonSubLabel)),r&&i.h("div",{class:"buttonContainer"},i.h("p",{class:"secondaryButtonLabel"},n.secondaryButtonLabel),i.h(o.default,{onClick:r,secondary:!0},n.secondaryButtonText))))}}t.default=g},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1070);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1071);t.default=function(e,t){const{filterValue:n,canCreateProject:o,selectedOrganizationId:a,selectedWorkflowStatusName:r,currentOrganizationProfile:{restricted:s}={}}=t,l="user"===a,c=`No ${l?"":"organization"} projects ${function(e,t){let n="currently.";return e?n="with this name or type 🤷‍♀️":t&&(n=`with “${t}” status 🤷‍♀️`),n}(n,r)}`;return i.h("div",{class:"emptyProjects"},i.h("h3",null,c),!r&&!n&&!l&&i.h("p",null,o?"Go ahead and create one! ✌️":function(e){return e?i.h("span",null,"To create a project or be invited to an existing project, you can contact anyone with an Editor role in the Organization. "):i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))}(s)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1073);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(242);n(1074);t.default=function(e){const{organizationId:t,subscriptionStatus:n,memberRole:a}=e,r=Object(o.urlResolve)("organization-profile-billing",{url:{oid:t}}),s=["king","queen"].includes(a),l="auto_cancelled"===n?"Payment Failure":"Subscription Cancelled";let c,d;return c="auto_cancelled"===n?"Due to a failed payment, your organization has been suspended.":s?"Looks like you've cancelled your subscription, your organization has been suspended.":"It looks like the subscription has been cancelled and your organization has been suspended.",d=s?"auto_cancelled"===n?i.h("span",null,i.h("a",{href:r},"Click here")," to update your payment information"):i.h("span",null,i.h("a",{href:r},"Click here")," to activate the subscription."):i.h("span",null,"Please contact an admin to reactivate it."),i.h("div",{class:"suspendedOrganizationInfo"},i.h("h3",{key:"suspendedHeader"},l),i.h("p",{key:"suspendedInfo"},c,i.h("br",null),d))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1076);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(514),a=n(5),r=n.n(a),s=n(400),l=n(935),c=n(888),d=n(946),u=n(537),p=n(376),h=n(381),f=n(312),g=n(246),m=n(395),b=n(261),S=n.n(b),y=(n(1077),n(852));function C({onCreateSection:e,onMoveToSection:t,onChangeStatus:n,onCancelSelectionMode:a,selectedProjects:r,sections:b},{selectedOrganizationProjects:C}){const[v,O]=Object(o.useState)(!1),E=Object(o.useRef)(null),T=Object(o.useRef)(null),_=C.filter(({status:e})=>"archived"===e).map(({_id:e})=>e),P=function(e,t){return t.some(t=>e.includes(t))}(_,r),j=function(e,t){const n=t.reduce((t,n)=>t+(e.includes(n)?1:0),0);let i="";return n>0&&(i=` (includes ${Object(g.pluralize)(n,"archived project")})`),`${Object(g.pluralize)(t.length,"project")} selected${i}`}(_,r);function D(e){T.current=()=>function(e){t(e,r)}(e),h.default.clearProjectSelection()}function k(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),h.default.clearProjectSelection())}return Object(o.useEffect)(()=>(document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k),Object(y.enableScroll)()}),[]),Object(o.useEffect)(()=>{v?Object(y.disableScroll)():Object(y.enableScroll)()},[v]),Object(o.useEffect)(()=>()=>{T.current&&requestIdleCallback(()=>{T.current(),T.current=null},{timeout:500})},[r]),i.h("div",{class:Object(m.default)("selectModeActionBar","noSelect")},i.h(s.default,{class:"cancelSelectionMode",onClick:a,secondary:!0},"Cancel"),i.h("span",{class:"selectedProjectText ellipsis",title:j},j),i.h(s.default,{class:"createSection",onClick:function(){T.current=()=>e(r),h.default.clearProjectSelection()},primary:!0},"Create section"),b.length>0&&i.h(s.default,{class:"moveToSection",ref:E,onClick:function(){O(!0)},secondary:!0},"Move to section…"),i.h(u.default,{targetNode:E.current&&E.current.base,open:v,onClose:function(){O(!1)},content:function(){return i.h(d.default,{barrelType:S.a.PROJECT,sections:b,onSelect:D})},top:12,left:0,faceLeft:!0}),i.h("div",{class:"statusContainer"},i.h(c.default,{onWorkflowStatusChange:function(e){e._id===f.default.NoStatus._id?p.default.deleteWorkflowStatuses({bids:r,syncWithApi:!0}):p.default.updateWorkflowStatuses({bids:r,workflowStatus:e,syncWithApi:!0}),n()},disabled:P,defaultLabel:"Change status to…",showSelectedAsLabel:!1}),i.h(l.default,{class:Object(m.default)("selectModeInfo",{show:P}),content:"It looks like one of your projects is archived. In order to update the status of these projects, they all need to be active.",popover:!0,anchor:"top",noControls:!0})))}C.propTypes={onCreateSection:r.a.func.isRequired,onMoveToSection:r.a.func.isRequired,onChangeStatus:r.a.func.isRequired,onCancelSelectionMode:r.a.func.isRequired,sections:r.a.array,selectedProjects:r.a.array},t.default=C},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(309),o=n.n(i),a=n(269),r=n.n(a);const s={getProjectsSuccess({projects:e,oid:t}){r.a.dispatcher.dispatch({type:o.a.GET_PROJECTS_SUCCESS,projects:e,oid:t})},getProjectsFailed(e){r.a.dispatcher.dispatch({type:o.a.GET_PROJECTS_FAILED,error:e})},requestProject(e){r.a.dispatcher.dispatch({type:o.a.REQUEST_PROJECT,pid:e})},getProjectRequest(){r.a.dispatcher.dispatch({type:o.a.GET_PROJECT_REQUESTED})},getProjectSuccess({project:e}){r.a.dispatcher.dispatch({type:o.a.GET_PROJECT_SUCCESS,project:e})},getProjectFailed(e){r.a.dispatcher.dispatch({type:o.a.GET_PROJECT_FAILED,error:e})},createProject({oid:e,platform:t,oseid:n}){r.a.dispatcher.dispatch({type:o.a.CREATE_PROJECT,oid:e,platform:t,oseid:n,syncWithApi:!0})},updateProject({pid:e,data:t}){r.a.dispatcher.dispatch({type:o.a.UPDATE_PROJECT,pid:e,data:t})},initTransferOwnership({pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:a}){r.a.dispatcher.dispatch({type:o.a.INIT_TRANSFER_OWNERSHIP,pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:a,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:i,oid:a,users:s}){r.a.dispatcher.dispatch({type:o.a.TRANSFER_OWNERSHIP,bid:e,fromUserId:t,targetId:n,toOrganization:i,oid:a,users:s})},inviteUser({container:e,pid:t,users:n,oid:i}){r.a.dispatcher.dispatch({type:o.a.INVITE_USER,container:e,pid:t,users:n,oid:i})},toggleProjectSelection(e){r.a.dispatcher.dispatch({type:o.a.TOGGLE_PROJECT_SELECTION,pid:e})}};t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(257);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return class extends e{constructor(...e){super(...e),r(this,"showToast",({text:e,source:t})=>{(this.toastContainer||this.nodeRefs&&this.nodeRefs.base)&&Object(i.default)({text:e,source:t,container:this.toastContainer||this.nodeRefs.base})})}getChildContext(){let e;return super.getChildContext&&(e=super.getChildContext()),a(a({},e),{},{showToast:this.showToast})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"getApiConfigValue",(function(){return o}));var i=n(258);async function o(e){return Zeplin.apiConfig||(window.Zeplin.apiConfig=await Object(i.getApiConfig)()),Zeplin.apiConfig[e]}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1083);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1084),a=n(1086),r=n(1122),s=n(1157),l=n(1161),c=n(1163),d=n(1166),u=n(381),p=n(360),h=n(362),f=n(376),g=n(269),m=n.n(g),b=n(261),S=n.n(b),y=n(505),C=n.n(y),v=n(766),O=n(230),E=n(254),T=n(377),_=n(231),P=n(234);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D extends i.Component{constructor(...e){super(...e),j(this,"state",{differentTypeDialogVisible:!1,styleguidesInfoVisible:!1}),j(this,"openDifferentTypeDialog",()=>{this.setState({differentTypeDialogVisible:!0})}),j(this,"closeDifferentTypeDialog",()=>{this.setState({differentTypeDialogVisible:!1})}),j(this,"createStyleguide",()=>{d.default.createStyleguide({platform:this.selectedType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})}),j(this,"createStyleguideWithParentType",()=>{d.default.createStyleguide({platform:this.parentStyleguideType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})}),j(this,"handleCreateStyleguide",(e,t)=>{this.selectedType=e,this.selectedParent=t,t&&(this.parentStyleguideType=this.state.currentStyleguides.find(e=>e._id===t).type,e!==this.parentStyleguideType&&this.parentStyleguideType!==O.PLATFORM.BASE)?this.openDifferentTypeDialog():this.createStyleguide()}),j(this,"handleStyleguideClick",(e,t)=>{const{filteredStyleguides:n}=this.state,i=n.find(e=>e._id===t);if("active"!==i.status)return;i.users.some(e=>e.user._id===Zeplin.user._id)?P.userPrefs.set("styleguidesUsed",!0):(e.preventDefault(),e.stopPropagation(),u.default.openDialog(O.DialogTypes.PREVIEW_STYLEGUIDE,{previewBarrelId:t}))}),j(this,"handleStyleguidePreviewJoin",()=>{f.default.join({barrelType:S.a.STYLEGUIDE,bid:this.state.previewStyleguide._id,source:"Preview"})}),j(this,"handleDeleteStyleguide",({stid:e})=>{f.default.remove({barrelType:S.a.STYLEGUIDE,bid:e,syncWithApi:!0})}),j(this,"handleLeaveStyleguide",({bid:e,mid:t})=>{f.default.removeMember({barrelType:S.a.STYLEGUIDE,bid:e,mid:t,syncWithApi:!0})}),j(this,"handleArchiveStyleguide",({stid:e})=>{f.default.archive({bid:e,barrelType:S.a.STYLEGUIDE,syncWithApi:!0})}),j(this,"handleActivateStyleguide",({stid:e})=>{f.default.activate({bid:e,barrelType:S.a.STYLEGUIDE,syncWithApi:!0})}),j(this,"handleJoinStyleguide",({stid:e,shouldLoadBarrel:t})=>{f.default.join({barrelType:S.a.STYLEGUIDE,bid:e,shouldLoadBarrel:t})}),j(this,"handleSelectParent",({stid:e,parent:t,oldParent:n})=>{d.default.selectParent({stid:e,parent:t,oldParent:n,syncWithApi:!0})}),j(this,"handleRemoveParent",({stid:e,oldParent:t})=>{d.default.removeParent({stid:e,oldParent:t,syncWithApi:!0})}),j(this,"handleCopyLink",e=>{const{onCopyLink:t}=this.props;t(`${_.ZPL_PROTOCOL}//styleguide?stid=${e}`)}),j(this,"handleCopyStyleguideWebLink",e=>{const{onCopyLink:t}=this.props;t(e)}),j(this,"handleOpenCreateStyleguideDialog",()=>{u.default.openDialog(O.DialogTypes.CREATE_STYLEGUIDE)}),j(this,"handleShowPlanChooserOverlay",()=>{Object(v.showPlanChooserOverlay)("Styleguides, Deprecated plan warning")})}static calculateState(){const{organizations:e,organizationProfiles:t}=m.a.OrganizationStore.getState(),{selectedOrganizationId:n,filterValue:i,styleguidesTabVisited:o,highlightedBarrels:a,visibleDialogType:r,visibleDialogParams:s}=m.a.SpaceStore.getState(),{loadingStyleguide:l}=m.a.StyleguidesDataStore.getState(),{userId:c,paymentPlan:d}=m.a.UserStore.getState(),u=h.default.getOrganizationStyleguides(n),f=u&&0===u.length,g=u||[],b=g.find(({_id:e})=>e===s.previewBarrelId),S=e.find(e=>e._id===n),y=t[n],C=c;let v=function(e,t=""){return t.length?e.map(e=>({styleguide:e,score:Object(E.calculateMatchingScore)(t,e.name,e.type)})).filter(({score:e})=>e).sort((e,t)=>t.score-e.score).map(({styleguide:e})=>e):e}(g,i);y&&y.restricted&&(v=v.filter(e=>e.users.some(e=>e.user._id===C)));const O=function(e,t){for(let n of e)if(t.includes(n._id))return n._id;return null}(v,a),_=Object(T.generateTrees)(v),P=Object(T.generateNodes)(v),j=p.default.canCreateStyleguide();return{currentStyleguides:g,filteredStyleguides:v,trees:_,nodes:P,selectedOrganizationId:n,organizations:e,organizationProfiles:t,selectedOrganization:S,currentOrganizationProfile:y,filterValue:i,canCreateStyleguide:j,showWelcome:f,loadingStyleguide:l,paymentPlan:d,styleguidesTabVisited:o,highlightedBarrels:a,firstHighlightedStyleguide:O,currentUserId:C,visibleDialogType:r,visibleDialogParams:s,previewStyleguide:b}}static getStores(){return[m.a.StyleguidesDataStore,m.a.SpaceStore,m.a.OrganizationStore,m.a.UserStore]}getChildContext(){const{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:o,canCreateStyleguide:a,currentStyleguides:r,currentUserId:s}=this.state;return{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:o,currentUserId:s,canCreateStyleguide:a,currentStyleguides:r}}renderDialogs(){const{currentStyleguides:e,visibleDialogType:t,loadingStyleguide:n,selectedOrganizationId:o,currentUserId:a,previewStyleguide:l}=this.state;if(t===O.DialogTypes.CREATE_STYLEGUIDE){let t=Object(T.generateTrees)(e).filter(e=>!e.isArchived());return"user"===o&&(t=t.filter(e=>{const t=e.root.data.users.find(e=>"owner"===e.role);return t&&t.user._id===a})),i.h(s.default,{trees:t,onCreate:this.handleCreateStyleguide,onClose:u.default.closeDialog})}if(t===O.DialogTypes.PREVIEW_STYLEGUIDE)return i.h(r.default,{styleguide:l,loading:n,onJoin:this.handleStyleguidePreviewJoin,onClose:u.default.closeDialog})}renderDifferentTypeDialog(){const{differentTypeDialogVisible:e}=this.state;return e?i.h(l.default,{parentStyleguideType:this.parentStyleguideType,childStyleguideType:this.selectedType,onCreateAnyway:this.createStyleguide,onCreateWithParentType:this.createStyleguideWithParentType,onClose:this.closeDifferentTypeDialog}):null}renderEmptyStyleguides(){const{paymentPlan:e,organizations:t}=this.state,n="company_annual"===e.id||"company_monthly"===e.id,o="free"===e.id,a=t.find(({status:e})=>"deleted"!==e);return i.h(c.default,{hasCompanyPlan:n,hasFreePlan:o,availableOrganization:a,onOpenPlanChooserOverlay:this.handleShowPlanChooserOverlay,onCreate:this.handleOpenCreateStyleguideDialog,onCheckoutOrganization:u.default.changeSelectedOrganization})}render(){const{onCopyLink:e}=this.props,{trees:t,nodes:n,filterValue:r,selectedOrganizationId:s,selectedOrganization:l={},showWelcome:c,styleguidesTabVisited:p,highlightedBarrels:h,firstHighlightedStyleguide:f}=this.state;return i.h("div",null,c?this.renderEmptyStyleguides():i.h(i.Fragment,null,i.h(o.default,{filterValue:r,onFilter:u.default.changeFilterValue,onCreateStyleguide:this.handleOpenCreateStyleguideDialog}),i.h(a.default,{key:"styleguides",nodes:n,trees:t,highlightedStyleguides:h,firstHighlightedStyleguide:f,organizationId:s,organizationStatus:l.status,organizationSubscriptionStatus:l.subscriptionStatus,isVisited:p,onVisited:u.default.setStyleguidesTabVisited,onStyleguideClick:this.handleStyleguideClick,onStyleguideHover:u.default.unhighlightBarrel,onStyleguideDelete:this.handleDeleteStyleguide,onStyleguideArchive:this.handleArchiveStyleguide,onStyleguideActivate:this.handleActivateStyleguide,onStyleguideLeave:this.handleLeaveStyleguide,onStyleguideTransferOwnership:d.default.initTransferOwnership,onStyleguideJoin:this.handleJoinStyleguide,onStyleguideInvite:d.default.inviteUser,onStyleguideParentSelect:this.handleSelectParent,onStyleguideParentRemove:this.handleRemoveParent,onCopyLink:e})),this.renderDialogs(),this.renderDifferentTypeDialog())}}t.default=C()(D,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1085);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(867),a=n(400);t.default=function({onFilter:e,onCreateStyleguide:t,filterValue:n},{canCreateStyleguide:r}){return i.h(o.default,{onFilter:e,filterValue:n,searchPlaceholder:"Search for a styleguide",searchPlaceholderWidth:155,rightContent:r&&i.h(a.default,{class:"noSelect",onClick:t,primary:!0},"Create Styleguide"),sticky:!0})}},function(e,t,n){"use strict";n.r(t);var i=n(1087);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1088),a=n(1094),r=n(1115),s=n(1118),l=n(1072),c=n(550),d=n(416),u=n(245),p=n(395);n(1121);class h extends c.default{constructor(e){super(e),this.handleResize=Object(u.debounce)(this.handleResize).bind(this),this.handleHintBoxHideClick=this.handleHintBoxHideClick.bind(this),this.renderTree=this.renderTree.bind(this),this.renderNode=this.renderNode.bind(this),this.initialScroll=!1,this.state={wrapRootTrees:!0,styleguidesInfoVisible:!1}}handleResize(){this.nodeRefs&&this.nodeRefs.rootTrees&&this.nodeRefs.base&&this.setState({wrapRootTrees:this.nodeRefs.base.clientWidth>=this.nodeRefs.base.scrollWidth})}handleHintBoxHideClick(){this.setState({styleguidesInfoVisible:!1})}componentDidMount(){this.handleResize();const{isVisited:e,onVisited:t}=this.props;e||(this.setState({styleguidesInfoVisible:!0}),t()),window.addEventListener("resize",this.handleResize)}componentWillReceiveProps(e){e.nodes.length!==this.props.nodes.length&&this.handleResize()}componentDidUpdate(e,t){this.props.organizationId!==e.organizationId&&this.nodeRefs&&this.nodeRefs.scrollContainer&&(this.nodeRefs.scrollContainer.scrollTop=0)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}renderTree(e){const{onStyleguideDelete:t,onStyleguideArchive:n,onStyleguideActivate:a,onStyleguideTransferOwnership:r,onStyleguideLeave:s,onStyleguideJoin:l,onStyleguideInvite:c,onStyleguideClick:d,onStyleguideHover:u,onStyleguideParentSelect:p,onStyleguideParentRemove:h,onCopyLink:f,highlightedStyleguides:g,firstHighlightedStyleguide:m}=this.props;return i.h(o.default,{key:e.root.id,tree:e,highlightedStyleguides:g,firstHighlightedStyleguide:m,onNodeDelete:t,onNodeArchive:n,onNodeActivate:a,onNodeTransferOwnership:r,onNodeLeave:s,onNodeJoin:l,onNodeInvite:c,onNodeClick:d,onNodeHover:u,onNodeParentSelect:p,onNodeParentRemove:h,onCopyLink:f})}renderBranchedTrees(e){const{wrapRootTrees:t}=this.state,n=Object(p.default)("trees",{center:1===e.length&&t});return i.h("div",{class:n},e.map(this.renderTree))}renderRootTrees(e){const{wrapRootTrees:t}=this.state;return i.h("div",{class:"rootTrees"},i.h("div",{style:{flexWrap:t?"wrap":"nowrap"},ref:Object(d.default)(this,"rootTrees"),class:"trees"},e.map(this.renderTree)))}renderArchivedTrees(e){const t=[],n=[];for(const i of e)i.isRootTree()?t.push(i):n.push(i);return i.h("div",null,i.h("div",{class:"styleguideHeader"},i.h("h3",null,"Archived Trees"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu.")),i.h("div",{class:"archivedTrees"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t)))}renderEmptyStyleguides(){const{organizationId:e,organizationStatus:t,organizationSubscriptionStatus:n}=this.props;return"suspended"===t?i.h(l.default,{organizationId:e,subscriptionStatus:n}):i.h(r.default,null)}renderInTreeFormat(){const{trees:e}=this.props,t=[],n=[],o=[];for(const i of e)i.isArchived()?o.push(i):i.isRootTree()?t.push(i):n.push(i);return i.h("div",{ref:Object(d.default)(this,"base"),class:"styleguidesTreeView"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t),0===n.length&&0===t.length&&this.renderEmptyStyleguides(),o.length>0&&this.renderArchivedTrees(o))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onStyleguideClick:o,onStyleguideHover:r,onStyleguideDelete:s,onStyleguideArchive:l,onStyleguideActivate:c,onStyleguideTransferOwnership:d,onStyleguideLeave:u,onStyleguideJoin:p,onStyleguideInvite:h,onStyleguideParentSelect:f,onStyleguideParentRemove:g,onCopyLink:m}=this.props,b=t.includes(e.id),S=n===e.id;return i.h(a.default,{key:e.id,node:e,archived:e.isArchived(),highlight:b,scroll:S,onDelete:s,onArchive:l,onActivate:c,onTransferOwnership:d,onLeave:u,onJoin:p,onInvite:h,onClick:o,onHover:r,onParentSelect:f,onParentRemove:g,onCopyLink:m})}renderInListFormat(){const{filterValue:e}=this.context,{nodes:t}=this.props,n=[],o=[];for(const i of t)i.isArchived()?o.push(i):n.push(i);return i.h("div",{class:"styleguidesListView"},n.length>0?i.h("div",{class:"styleguideNodes"},n.map(this.renderNode)):this.renderEmptyStyleguides(),o.length>0&&i.h("div",{class:"styleguideNodes"},i.h("div",{class:"styleguideHeader"},e?i.h("h4",null,"Archived Styleguides"):i.h(i.Fragment,null,i.h("h3",null,"Archived Styleguides"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu."))),o.map(this.renderNode)))}render(){const{filterValue:e}=this.context,{styleguidesInfoVisible:t}=this.state;return i.h("div",{ref:Object(d.default)(this,"scrollContainer"),class:"styleguides"},t&&i.h(s.default,{onHideClick:this.handleHintBoxHideClick,hideButtonText:"Got it!"}),e?this.renderInListFormat():this.renderInTreeFormat())}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1089);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1090),a=n(1094),r=n(550),s=n(245),l=n(416),c=n(506),d=n(1092);n(1114);function u(e){return[e.id].concat(...e.children.map(u))}class p extends r.default{constructor(e){super(e),this.handleNodeRef=this.handleNodeRef.bind(this),this.renderNode=this.renderNode.bind(this),this.handleNodeMouseEnter=this.handleNodeMouseEnter.bind(this),this.handleNodeMouseLeave=this.handleNodeMouseLeave.bind(this),this.treeMounted=!1,this.nodeRefs={},this.state={hoveredParentId:null}}handleNodeRef(e,t){this.nodeRefs[e]=t}handleNodeMouseEnter(e){this.setState({hoveredParentId:e})}handleNodeMouseLeave(){this.setState({hoveredParentId:null})}componentDidMount(){const{tree:e}=this.props;e.isRootTree()||this.forceUpdate()}componentWillReceiveProps(e){Object(c.default)(u(e.tree.root),u(this.props.tree.root))&&(this.treeMounted=!1)}componentDidUpdate(){const{tree:e}=this.props;e.isRootTree()||this.treeMounted||(this.treeMounted=!0,setTimeout(()=>{this.forceUpdate()}))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onNodeDelete:o,onNodeArchive:r,onNodeActivate:s,onNodeTransferOwnership:l,onNodeLeave:c,onNodeJoin:d,onNodeInvite:u,onNodeClick:p,onNodeHover:h,onNodeParentSelect:f,onNodeParentRemove:g,onCopyLink:m}=this.props,b=t.includes(e.id),S=n===e.id;return i.h(a.default,{key:e.id,node:e,archived:e.isArchived(),highlight:b,scroll:S,onMount:this.handleNodeRef,onDelete:o,onArchive:r,onActivate:s,onLeave:c,onJoin:d,onInvite:u,onClick:p,onHover:h,onTransferOwnership:l,onMouseEnter:this.handleNodeMouseEnter,onMouseLeave:this.handleNodeMouseLeave,onParentSelect:f,onParentRemove:g,onCopyLink:m})}renderLevels(){const{hoveredParentId:e}=this.state,{tree:t}=this.props,n={marginBottom:d.TOTAL_LEVEL_GAP};return[i.h("div",{style:n,class:"level",key:"root"},this.renderNode(t.root)),t.levels.map((a,r)=>{const c=function(e){const t=Object(s.groupBy)(e,"parentId"),n=Object.values(t).sort((e,t)=>t.length-e.length);let i=-1;return n.reduce((n,o,a,r)=>{const s=o[0].parentId;if(-1===i&&r[a+1]&&o.length===r[a+1].length){const t=r[r.length-1],n=t[t.length-1];e.map(e=>e.id).indexOf(n.id)<e.length/2&&(i=a)}let l;return l=-1!==i?a-i+1:r.length-a,n[s]={weight:l,nodes:t[s]},n},{})}(a.nodes),d=Object.keys(c);let u=d;if(r>0){const e=t.getNodesAtLevel(r-1);u=d.sort((t,n)=>{const i=e.find(e=>e.id===t),o=e.find(e=>e.id===n);return i.index-o.index})}const p=Object.keys(c).length,h=r!==t.levels.length-1?n:null;return i.h("div",{ref:Object(l.default)(this,"level"+r),style:h,class:"level",key:r},u.map(n=>{const{nodes:a,weight:s}=c[n],l=a.map(e=>this.nodeRefs[e.id]),d=this.nodeRefs[n],u=this.nodeRefs["level"+r];return i.h(i.Fragment,{key:"branches"+n},this.treeMounted&&u&&d&&l.length>0&&i.h(o.default,{key:n,parentId:n,totalWeight:p,weight:s,levelRef:u,parentNodeRef:d,nodeRefs:l,highlight:!t.isArchived()&&n===e}),i.h("div",{key:"nodes"+n,class:"nodes"},a.map(this.renderNode)))}))})]}render(){const{tree:e}=this.props;return e.isRootTree()?this.renderNode(e.root):i.h("div",{class:"styleguideTree"},this.renderLevels())}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1091);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1092),a=n(395);n(1093);t.default=function(e){const{parentId:t,levelRef:n,parentNodeRef:r,nodeRefs:s,totalWeight:l,weight:c,highlight:d}=e,u=s[0].getBoundingClientRect(),p=s[s.length-1].getBoundingClientRect(),h=n.getBoundingClientRect(),f=r.getBoundingClientRect().left+136,g=Math.min(u.left+136,f),m=Math.max(p.right-136,f)-g,b=u.left+136-f>0,S=o.TOTAL_LEVEL_GAP/(l+1)*c,y=o.TOTAL_LEVEL_GAP-S,C=`M2,${S} l${m},00 `,v=2+(b?u.left-g+136:0),O=Array(s.length).fill().reduce((e,t,n)=>e.concat(i.h("path",{key:n,d:`M${v+296*n},${S} l00,${y}`})),[]),E=`M${2+(b?0:f-g)},00 l00,${S}`,T=g-h.left-2,_=Object(a.default)("branches",{highlight:d});return i.h("svg",{class:_,"data-parentId":t,style:{left:T,top:-o.TOTAL_LEVEL_GAP},width:m+4,height:o.TOTAL_LEVEL_GAP},O,i.h("path",{d:C}),i.h("path",{d:E}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"TOTAL_LEVEL_GAP",(function(){return i}));const i=48},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1095);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(914),a=n(1096),r=n(753),s=n(951),l=n(537),c=n(939),d=n(1099),u=n(245),p=n(242),h=n(416),f=n(955),g=n(261),m=n.n(g),b=n(377),S=n(230),y=n(852),C=n(231),v=n(960);n(1113);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E="transferOwnership",T="selectParent";class _ extends i.Component{constructor(...e){super(...e),O(this,"transferOwnershipPayload",{}),O(this,"state",{contextMenu:null,visibleDialogType:null,visiblePopoverType:null,transferOwnershipPopupVisible:!1,selectParentPopupVisible:!1,selectedParentStyleguide:null}),O(this,"getCurrentUser",()=>{const{selectedOrganizationId:e,currentOrganizationProfile:t,currentUserId:n}=this.context,{node:{data:{users:i}}}=this.props;let o;return o="user"===e?i.find(e=>e.user._id===n):t,o}),O(this,"openTransferOwnershipPopup",()=>{this.setState({visiblePopoverType:E})}),O(this,"openSelectParentPopup",()=>{this.setState({visiblePopoverType:T})}),O(this,"closePopovers",()=>{this.setState({visiblePopoverType:null})}),O(this,"openArchiveDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.ARCHIVE})}),O(this,"openTransferDialog",(e,t)=>{this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:S.DialogTypes.TRANSFER})}),O(this,"openLeaveDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.LEAVE})}),O(this,"openDeleteDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.DELETE})}),O(this,"openSelectParentDialog",e=>{const{currentStyleguides:t}=this.context,n=t.find(t=>t._id===e._id);this.setState({visibleDialogType:S.DialogTypes.SELECT_PARENT,selectedParentStyleguide:n})}),O(this,"openRemoveParentDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.REMOVE_PARENT})}),O(this,"closeDialogs",()=>{this.transferOwnershipPayload={},this.setState({visibleDialogType:null,selectedParentStyleguide:null})}),O(this,"selectParent",()=>{const{selectedParentStyleguide:{_id:e}}=this.state,{node:{data:{_id:t,parent:n}},onParentSelect:i}=this.props;i({stid:t,parent:e,oldParent:n})}),O(this,"generateShortlink",()=>{Object(v.fetchShortlink)(this.webURL)}),O(this,"handleContextMenu",e=>{Object(y.disableScroll)(),this.setState({contextMenu:{origin:e}})}),O(this,"handleContextMenuClose",()=>{Object(y.enableScroll)(),this.setState({contextMenu:null})}),O(this,"handleMouseEnter",()=>{const{node:{id:e},onMouseEnter:t}=this.props;t&&t(e)}),O(this,"handleMouseLeave",()=>{const{onMouseLeave:e}=this.props;e&&e()}),O(this,"handleDelete",()=>{const{node:{data:{_id:e}},onDelete:t}=this.props;t({stid:e})}),O(this,"handleArchive",()=>{const{node:{data:{_id:e}},onArchive:t}=this.props;t({stid:e})}),O(this,"handleActivate",()=>{const{node:{data:{_id:e}},onActivate:t}=this.props;t({stid:e})}),O(this,"handleTransferOwnership",()=>{const{selectedOrganizationId:e,currentUserId:t}=this.context,{onTransferOwnership:n,node:{data:{_id:i}}}=this.props,{selected:o,toOrganization:a}=this.transferOwnershipPayload;n({stid:i,fromUserId:t,targetId:o,toOrganization:a,oid:e})}),O(this,"handleLeave",()=>{const{node:{data:{_id:e}},onLeave:t}=this.props,n=this.getCurrentUser();this.closeDialogs(),t({bid:e,mid:n.user._id})}),O(this,"handleInvite",()=>{const{selectedOrganizationId:e}=this.context,{onInvite:t,node:{data:{_id:n,users:i}}}=this.props;t({container:this.nodeRefs.base,stid:n,users:i,oid:e}),this.closePopovers()}),O(this,"handleCopyWebLink",()=>{const{node:{data:{_id:e}},onCopyLink:t}=this.props;t(Object(v.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Styleguide",Source:"Workspace",styleguide_id:e})}),O(this,"handleCopyAppUri",()=>{const{node:{data:{_id:e}},onCopyLink:t}=this.props;t(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Styleguide",Source:"Workspace",styleguide_id:e})}),O(this,"handleJoinFromContextMenu",()=>{const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e,shouldLoadBarrel:!1})}),O(this,"handleJoinFromCard",()=>{const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e,shouldLoadBarrel:!0})}),O(this,"handleParentRemove",()=>{const{node:{data:{_id:e,parent:t}},onParentRemove:n}=this.props;n({stid:e,oldParent:t})})}get webURL(){return Object(p.urlResolve)("styleguide",{url:{bid:this.props.node.id}})}get appURI(){return`${C.ZPL_PROTOCOL}//styleguide?stid=${this.props.node.id}`}componentDidMount(){const{node:{id:e},scroll:t,onMount:n}=this.props,{base:i}=this.nodeRefs;t&&i.scrollIntoView(),n&&n(e,i)}renderTransferOwnershipPopup(){const{node:{data:{users:e}}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:o,currentUserId:a}=this.context,r=Object(f.getTransferableUsers)(e,a,n),s=Object(f.getTransferableOrganizations)(t,o,n);return i.h(c.default,{barrelType:m.a.STYLEGUIDE,users:r,organizations:s,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderDialog(e){const{organizations:t}=this.context,{node:{data:{name:n,users:o,type:a,parent:l}}}=this.props,{selected:c,toOrganization:d}=this.transferOwnershipPayload;if(e===S.DialogTypes.DELETE)return i.h(s.default,{title:"Enter the name of the styleguide to confirm:",placeholder:"Styleguide name",confirmationText:n,onDelete:this.handleDelete,onClose:this.closeDialogs});let u,p,h,f;switch(e){case S.DialogTypes.TRANSFER:{let e;e=d?t.find(e=>e._id===c).name:o.find(e=>e.user._id===c).user.username,u="TRANSFER",p=`Transfer ownership of “${n}” to ${e}?`,h=this.handleTransferOwnership;break}case S.DialogTypes.LEAVE:u="LEAVE",p=`Leave “${n}”?`,h=this.handleLeave;break;case S.DialogTypes.ARCHIVE:u="ARCHIVE",p=`Archive “${n}”?`,h=this.handleArchive;break;case S.DialogTypes.SELECT_PARENT:{const{selectedParentStyleguide:e}=this.state;if(!e)return null;const{name:t,type:i}=e,o=a===i||i===S.PLATFORM.BASE;u=`${l?"CHANGE":"SELECT"}${o?"":" ANYWAY"}`;const r=l?"to":"as";f=`${l?"Change":"Select"} parent styleguide of ${`“${n}”`+(o?"":` (${S.PlatformString[a]})`)} ${r} ${`“${t}”`+(o?"":` (${S.PlatformString[i]})`)}?`,p="Styleguide parent can be changed later.",h=this.selectParent;break}case S.DialogTypes.REMOVE_PARENT:u="REMOVE PARENT",p=`Remove parent styleguide of “${n}”?`,h=this.handleParentRemove}return i.h(r.BasicOverlayDialog,{positiveButtonText:u,onPositiveButtonClick:h,onClose:this.closeDialogs,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:p,title:f})}renderContextMenu(e){const{contextMenu:{origin:t}}=this.state,{node:{data:n}}=this.props;return i.h(a.default,{currentUser:this.getCurrentUser(),styleguide:n,onClose:this.handleContextMenuClose,onOpen:this.generateShortlink,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.openTransferOwnershipPopup,onInvite:this.handleInvite,onJoin:this.handleJoinFromContextMenu,onLeave:this.openLeaveDialog,onParentSelect:this.openSelectParentPopup,onParentRemove:this.openRemoveParentDialog,onCopyWebLink:this.handleCopyWebLink,onCopyAppUri:this.handleCopyAppUri,selectableParentStyleguidesLength:e,autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t}})}renderPopovers(e){const{visiblePopoverType:t}=this.state;if(!t)return null;let n;switch(t){case E:n=this.renderTransferOwnershipPopup();break;case T:n=i.h(d.default,{styleguides:e,onSelect:this.openSelectParentDialog})}return i.h(l.default,{targetNode:this.nodeRefs.base,onClose:this.closePopovers,content:n,top:-12,left:-236,faceTop:!0,open:!0})}render(){const{filterValue:e,selectedOrganizationId:t,currentStyleguides:n}=this.context,{contextMenu:a,visibleDialogType:r}=this.state,{node:s,node:{id:l,parentId:c,data:{type:d,name:f,users:g,thumbnail:m,updated:S}},highlight:y,archived:C,onClick:v,onHover:O}=this.props,E=Object(p.urlResolve)("styleguide",{url:{bid:l}}),T=g.sort(u.sortBy.role),_=Object(b.getSelectableParentStyleguides)({isOrganizationStyleguide:"user"!==t,currentStyleguides:n,currentUser:this.getCurrentUser(),id:l,parentId:c,users:g});return i.h("div",{ref:Object(h.default)(this,"base"),class:"styleguideCard",onMouseLeave:C||s.isLeaf()?null:this.handleMouseLeave,onMouseEnter:C||s.isLeaf()?null:this.handleMouseEnter},i.h(o.default,{id:l,onClick:v,onHover:O,link:E,type:d,name:f,members:T,source:m,updated:S,onContextMenu:this.handleContextMenu,contextMenu:a&&this.renderContextMenu(_.length),filterValue:e,highlight:y,archived:C,onJoin:this.handleJoinFromCard,pinnable:!1,selectable:!1}),r&&this.renderDialog(r),this.renderPopovers(_))}}t.default=_},function(e,t,n){"use strict";n.r(t);var i=n(1097);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(863),a=n(245),r=n(1098);class s extends i.Component{renderOwnershipItems(){const{currentUser:e,onTransferOwnership:t}=this.props,n=a.permissions.canTransferOwnership(e);return[i.h(o.default.ItemDivider,{key:"ownershipDivider"}),n&&i.h(o.default.Item,{key:"transferOwnership",onClick:t},"Transfer ownership…"),n&&i.h(o.default.ItemDivider,{key:"ownershipDividerEnd"})]}renderParentItems(){const{currentUser:e,onParentSelect:t,onParentRemove:n,selectableParentStyleguidesLength:s,styleguide:{parent:l,status:c}}=this.props;if(c===r.default.ARCHIVED)return null;const d=a.permissions.canUpdateStyleguide(e),u=d&&s>0;return[!l&&u&&i.h(o.default.Item,{key:"selectParent",onClick:t},"Select parent styleguide"),l&&u&&i.h(o.default.Item,{key:"changeParent",onClick:t},"Change parent styleguide"),l&&d&&i.h(o.default.Item,{key:"removeParent",onClick:n},"Remove parent styleguide"),(l||u)&&i.h(o.default.ItemDivider,{key:"parentItemDividerEnd"})]}renderStatusItems(){const{currentUser:e,onActivate:t,onArchive:n,styleguide:{status:s}}=this.props,l=a.permissions.canChangeStyleguideStatus(e),c=a.permissions.canChangeStyleguideStatus(e),d=s===r.default.ARCHIVED;return[!d&&l&&i.h(o.default.Item,{key:"archive",onClick:n},"Archive styleguide"),d&&c&&i.h(o.default.Item,{key:"activate",onClick:t},"Activate styleguide")]}renderWarningItems(){const{currentUser:e,onLeave:t,onDelete:n}=this.props,r=a.permissions.canDeleteStyleguide(e);return[a.permissions.canLeaveStyleguide(e)&&i.h(o.default.Item,{key:"leave",onClick:t,warning:!0},"Leave styleguide"),r&&i.h(o.default.Item,{key:"delete",onClick:n,warning:!0},"Delete styleguide")]}renderCopyLinks(){const{styleguide:{status:e},onCopyWebLink:t,onCopyAppUri:n}=this.props,a=e===r.default.ARCHIVED;return[!a&&i.h(o.default.Item,{key:"copyWebLink",onClick:t},"Copy styleguide web link"),!a&&i.h(o.default.Item,{key:"copyApiUri",onClick:n},"Copy styleguide app URI")]}renderItems(){const{currentUserId:e}=this.context,{styleguide:{users:t},onInvite:n,onJoin:a}=this.props;return t.some(t=>t.user._id===e)?[i.h(o.default.Item,{key:"invite",onClick:n},"Invite…"),this.renderCopyLinks(),this.renderOwnershipItems(),this.renderParentItems(),this.renderStatusItems(),this.renderWarningItems()]:[i.h(o.default.Item,{key:"join",onClick:a},"Join"),this.renderCopyLinks()]}render(){const{autoPosition:e,onClose:t,onOpen:n}=this.props;return i.h(o.default.withAutoPosition,{autoPosition:e,onClose:t,onOpen:n},this.renderItems())}}t.default=s},function(e,t,n){"use strict";n.r(t),t.default={ROOT:"root",ARCHIVED:"archived",BRANCHED:"branched"}},function(e,t,n){"use strict";n.r(t);var i=n(1100);n.d(t,"default",(function(){return i.default})),n.d(t,"NoStyleguides",(function(){return i.NoStyleguides})),n.d(t,"NoStyleguidesForNonOwnerUser",(function(){return i.NoStyleguidesForNonOwnerUser})),n.d(t,"NoStyleguideToMoveInOrganization",(function(){return i.NoStyleguideToMoveInOrganization})),n.d(t,"NoStyleguideToMoveNonOwner",(function(){return i.NoStyleguideToMoveNonOwner})),n.d(t,"NoStyleguideToMove",(function(){return i.NoStyleguideToMove}))},function(e,t,n){"use strict";n.r(t),n.d(t,"NoStyleguides",(function(){return d})),n.d(t,"NoStyleguidesForNonOwnerUser",(function(){return c})),n.d(t,"NoStyleguideToMoveInOrganization",(function(){return u})),n.d(t,"NoStyleguideToMoveNonOwner",(function(){return p})),n.d(t,"NoStyleguideToMove",(function(){return h}));var i=n(4),o=n(1101),a=n(242),r=n(416),s=n(377);n(1112);const l=({title:e="No styleguides to link yet",children:t})=>i.h("div",{class:"linkToStyleguidePopupEmpty"},i.h("h3",null,e),t),c=({projectOwnerName:e})=>i.h(l,null,i.h("p",null,"Styleguides can only be linked to projects with the same owner. Looks like this project is owned by ",i.h("strong",null,e)," and you’re not invited to any of their styleguides.")),d=({hasOrganization:e})=>i.h(l,null,i.h("p",null,!e&&"Styleguides can only be linked to projects with the same owner. ","Looks like ",e?"there’s no organization styleguide yet":"you don’t have a styleguide yet",", ",i.h("a",{href:Object(a.urlResolve)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),u=({oid:e})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,"Looks like there’s no organization styleguide yet, ",i.h("a",{href:Object(a.urlResolve)("organization-styleguides",{url:{oid:e}}),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),p=({resourceType:e,barrelType:t,barrelOwnerName:n})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like this ",t," is owned by ",n," and you’re not invited to any of their styleguides.")),h=({resourceType:e})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like you don’t have a styleguide yet, ",i.h("a",{href:Object(a.urlResolve)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."));class f extends i.Component{constructor(e){super(e),this.handleSelect=this.handleSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this);const t=Object(s.generateTrees)(e.styleguides);this.state={selected:t.length>0?t[0].root.id:null,trees:t}}handleSelect(e,t){if(this.setState({selected:e}),t){const{styleguides:t}=this.props,n=t.find(t=>t._id===e);this.props.onSelect(n)}}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:{const{selected:e}=this.state,{onSelect:t,styleguides:n}=this.props;t(n.find(t=>t._id===e));break}}}componentDidMount(){this.nodeRefs&&(this.nodeRefs.base.style.height=this.nodeRefs.base.clientHeight+"px"),document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){if(e.styleguides.length!==this.props.styleguides.length){const t=Object(s.generateTrees)(e.styleguides);this.setState({trees:t,selected:t[0].root.id})}e.selected!==this.props.selected&&this.setState({selected:e.selected})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selected:e,trees:t}=this.state,{loading:n,text:a}=this.props;return i.h("div",{ref:Object(r.default)(this,"base"),class:"linkToStyleguidePopup"},i.h("p",{class:"noSelect"},a),i.h(o.default,{selectedNodeId:e,trees:t,loading:n,onNodeSelect:this.handleSelect,hoverable:!0}))}}f.defaultProps={text:"Select a styleguide to reference the same colors, text styles and components."},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1102);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1103),a=n(438),r=n(395),s=n(230);n(1111);function l({name:e,type:t,selected:n,loading:o}){const s=Object(r.default)("nodeItem",{selected:n});return i.h("div",{class:s},i.h("span",{class:"styleguideName ellipsis"},e),", ",i.h("span",{class:"nodeType"},t),o&&n&&i.h("div",{class:"nodeSpinner"},i.h(a.IconSpinner,{color:"#fff"})))}t.default=function(e){const{trees:t,selectedNodeId:n,onNodeSelect:a,hoverable:c,loading:d,class:u}=e,p=function(e,t,n){return function e(o){return o.map(({id:o,data:{name:a,type:r},children:c})=>({id:o,title:a,children:e(c),content:i.h(l,{name:a,loading:n,type:s.PlatformString[r],selected:t===o})}))}(e.map(e=>e.root))}(t,n,d),h=Object(r.default)("styleguidesTreeView",u);return i.h(o.default,{class:h,tree:p,selectedNodeId:n,onNodeSelect:a,hoverable:!d&&c,focusOnMount:!0,frozen:d})}},function(e,t,n){"use strict";n.r(t);var i=n(1104);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(245),s=n(227),l=n(395),c=n(416),d=n(1105),u=n(1108);n(1110);function p(e,t,n){return[].concat(...e.map(e=>(e.parent=n,t.includes(e.id)?e:[e].concat(p(e.children,t,e.id)))))}function h(e,t){for(const n of e){if(n.id===t)return n;const e=h(n.children,t);if(e)return e}return null}class f extends i.Component{constructor(e){super(e),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeSelect=this.handleNodeSelect.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this);const{selectedNodeId:t,tree:n}=e;this.nodeList=p(n,[],null),this.state={collapsedNodes:[],selectedNodeId:t}}findSelectedNodeIndex(){const{selectedNodeId:e}=this.state;return this.nodeList.findIndex(({id:t})=>t===e)}findNextSelectableNode(e,t,n){if(this.nodeList[t]){if(this.nodeList[t].nonSelectable){let i;return i=n?"mac"===Object(s.getOS)()&&e.metaKey?this.nodeList.length-1:t+1:"mac"===Object(s.getOS)()&&e.metaKey?0:t-1,this.findNextSelectableNode(e,i,n)}return this.nodeList[t]}}toggleExpand(e){this.nodeRefs.base.focus({preventScroll:!0}),this.setState(t=>{const{collapsedNodes:n}=t;return n.includes(e)?Object(r.arrayRemove)(n,t=>t===e):n.push(e),{collapsedNodes:n}})}handleStartDrag(e){const{collapsedNodes:t}=this.state;t.includes(e)||this.setState({collapsedNodes:[...t,e]})}handleChevronClick(e){const{tree:t}=this.props,{selectedNodeId:n}=this.state;this.toggleExpand(e);const i=h(t,e);var o;o=n,h(i.children,o)&&this.handleNodeSelect(e)}handleNodeSelect(e,{debounce:t=!1,isSelectedWithClick:n=!1}={}){const{onNodeSelect:i,frozen:o}=this.props,{nonSelectable:a,expandOnClick:r}=this.nodeList.find(({id:t})=>t===e);if(r&&this.toggleExpand(e),o||a)return;this.setState({selectedNodeId:e});const s=t?300:4;clearTimeout(this.nodeTimeout),this.nodeTimeout=setTimeout(i,s,e,n)}handleNodeHover(e){const{hoverable:t}=this.props;t&&this.handleNodeSelect(e)}handleArrowDown(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(-1===n||n===this.nodeList.length-1)return;const i="mac"===Object(s.getOS)()&&e.metaKey?this.nodeList.length-1:n+1,o=this.findNextSelectableNode(e,i,!0);o&&this.handleNodeSelect(o.id,{debounce:!0})}handleArrowUp(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(n<1)return;const i="mac"===Object(s.getOS)()&&e.metaKey?0:n-1,o=this.findNextSelectableNode(e,i,!1);o&&this.handleNodeSelect(o.id,{debounce:!0})}handleArrowLeft(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];!n.children.length||e.includes(n.id)?null!==n.parent&&this.handleNodeSelect(n.parent,{debounce:!0}):this.handleChevronClick(n.id)}handleArrowRight(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];n.children.length&&e.includes(n.id)&&this.handleChevronClick(n.id)}handleHome(){if(this.findSelectedNodeIndex()<1)return;const{id:e}=this.nodeList[0];this.handleNodeSelect(e,{debounce:!0})}handleEnd(){const e=this.findSelectedNodeIndex();if(-1===e||e===this.nodeList.length-1)return;const t=this.nodeList[this.nodeList.length-1];this.handleNodeSelect(t.id,{debounce:!0})}handleKeyDown(e){if(Object(s.cmdKey)(e)||e.altKey||e.shiftKey)return;let t=!0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowDown:this.handleArrowDown(e);break;case Zeplin.KEY_CODE.ArrowUp:this.handleArrowUp(e);break;case Zeplin.KEY_CODE.ArrowLeft:this.handleArrowLeft();break;case Zeplin.KEY_CODE.ArrowRight:this.handleArrowRight();break;case Zeplin.KEY_CODE.HOME:this.handleHome();break;case Zeplin.KEY_CODE.END:this.handleEnd();break;default:t=!1}t&&e.preventDefault()}handleFocus(){document.addEventListener("keydown",this.handleKeyDown,!0)}handleBlur(){document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidMount(){const{focusOnMount:e}=this.props;e&&this.nodeRefs.base.focus({preventScroll:!0})}componentWillUpdate(e,t){const{collapsedNodes:n}=this.state,{tree:i,selectedNodeId:o}=e,{collapsedNodes:a}=t;n.length!==a&&(this.nodeList=p(i,a,null)),o!==this.props.selectedNodeId&&this.setState({selectedNodeId:o})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderTree(e,t,n){const{nodeClass:o,nodePadding:a,dragDropEnabled:r,onComponentToSectionNodeDrop:s,onReorderComponentSectionOrGroup:l}=this.props,{collapsedNodes:c,selectedNodeId:p}=this.state;return e.map(({id:h,idPath:f,styleguideId:g,title:m,content:b,class:S,children:y},C)=>{const v=c.includes(h),O=p===h,E=r?u.default:d.default;return i.h("div",{key:"tree-"+h,class:"tree"},i.h(E,{key:"node-"+h,class:[o,S],extraPadding:a,id:h,index:C+1,parentIndex:n,idPath:f,styleguideId:g,title:m,level:t,numberOfChildren:y.length,lastNode:e.length===C+1,collapsed:v,selected:O,onChevronClick:this.handleChevronClick,onNodeSelect:this.handleNodeSelect,onNodeHover:this.handleNodeHover,onStartDrag:this.handleStartDrag,onComponentToSectionNodeDrop:s,onReorderComponentSectionOrGroup:l},b),0!==y.length&&!v&&this.renderTree(y,t+1,C+1))})}render(){const{class:e,tree:t,startingLevel:n=1}=this.props,o=Object(l.default)("treeView",e);return i.h("div",{class:o,tabIndex:"0",ref:Object(c.default)(this,"base"),onClick:r.stopPropagation,onFocus:this.handleFocus,onBlur:this.handleBlur},this.renderTree(t,n,null))}}const g={id:a.a.string.isRequired,title:a.a.string.isRequired,content:a.a.node.isRequired},m=a.a.shape(g);m.children=a.a.arrayOf(m).isRequired,f.propTypes={class:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),nodeClass:a.a.string,nodePadding:a.a.number,dragDropEnabled:a.a.bool,tree:a.a.arrayOf(m).isRequired,selectedNodeId:a.a.string,onNodeSelect:a.a.func.isRequired,hoverable:a.a.bool,focusOnMount:a.a.bool,frozen:a.a.bool},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1106);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"NodeMirror",(function(){return h}));var i=n(4),o=n(5),a=n.n(o),r=n(438),s=n(244),l=n(395),c=n(416),d=n(1107);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class p extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeClick=this.handleNodeClick.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this)}handleBaseRef(e){const{baseRef:t,mirror:n}=this.props;Object(c.default)(this,"base")(e),!n&&t&&t(e)}handleChevronClick(e){const{id:t,onChevronClick:n}=this.props;e.stopPropagation(),n(t)}handleNodeClick(e){const{id:t,onNodeSelect:n}=this.props;e.stopPropagation(),n(t,{isSelectedWithClick:!0})}handleNodeHover(e){const{id:t,onNodeHover:n}=this.props;e.stopPropagation(),n(t)}shouldComponentUpdate(e){const{children:t}=this.props,{children:n}=e,o=i.toChildArray(t),a=i.toChildArray(n);if(o.length!==a.length)return!0;for(const[i,r]of Object(d.default)(o,a))if(i!==r)return!0;return this.props.id!==e.id||this.props.title!==e.title||this.props.level!==e.level||this.props.numberOfChildren!==e.numberOfChildren||this.props.collapsed!==e.collapsed||this.props.selected!==e.selected||this.props.class!==e.class||this.props.dragging!==e.dragging||this.props.targetPosition!==e.targetPosition}componentDidUpdate(){const{selected:e}=this.props;e&&Object(s.scrollIfNecessary)(this.nodeRefs.base)}render(){const{children:e,class:t,extraPadding:n,title:o,level:a,numberOfChildren:s,collapsed:c,selected:d,dragging:u,targetPosition:p,mirror:h}=this.props,f=Object(l.default)("node",t,p,{selected:d,mirror:h,dragging:u}),g=Object(l.default)("chevron",{collapsed:c}),m=n+12*a+(s?8:24);return i.h(i.Fragment,null,"top"===p&&i.h("span",{class:"dragDropNode placeholder"}),i.h("div",{class:f,style:{paddingLeft:m},onClick:this.handleNodeClick,onMouseEnter:this.handleNodeHover,ref:this.handleBaseRef},!!s&&i.h("button",{class:g,onClick:this.handleChevronClick},i.h(r.IconChevron,null)),i.h("span",{class:"nodeName ellipsis noSelect",title:o},e)),"bottom"===p&&i.h("span",{class:"dragDropNode placeholder"}))}}const h=e=>{let t=Object.assign({},e);return i.h(p,u({},t,{mirror:!0,collapsed:!0}))};p.propTypes={class:a.a.oneOfType([a.a.string,a.a.arrayOf(a.a.string)]),extraPadding:a.a.number,id:a.a.string.isRequired,level:a.a.number.isRequired,children:a.a.oneOfType([a.a.node,a.a.element]).isRequired,title:a.a.string.isRequired,numberOfChildren:a.a.number.isRequired,collapsed:a.a.bool.isRequired,selected:a.a.bool.isRequired,dragging:a.a.bool.isRequired,mirror:a.a.bool,targetPosition:a.a.oneOf(["","into","top","bottom"]),onNodeSelect:a.a.func.isRequired,onChevronClick:a.a.func.isRequired},p.defaultProps={extraPadding:0},t.default=p},function(e,t,n){"use strict";n.r(t),t.default=function*(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=t.map(e=>e.next());if(e.some(e=>e.done))return e.map(e=>e.value);yield e.map(e=>e.value)}}},function(e,t,n){"use strict";n.r(t);var i=n(1109);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1106),a=n(875),r=n(395),s=n(416);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="StyleguideSectionNode",p="StyleguideComponent",h=0,f=1,g=2,m=Object(a.DropTarget)({acceptsItemType:[u,p],onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop(e,t){const{idPath:n,index:i}=t.dragData;e.onDrop({idPath:n,index:i},t)}})(o.default),b=Object(a.DragSource)({itemType:u,mirrorComponent:o.NodeMirror,provideDragData:e=>e,onStartDrag:e=>{const{id:t,onStartDrag:n}=e;n(t)}})(m);class S extends i.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1,targetPosition:""}),d(this,"setTargetPosition",(e,t)=>{const{level:n,numberOfChildren:i,lastNode:o,collapsed:a}=this.props,{targetPosition:r}=this.state;if(t===g&&n===h)return;if(n===h)return void this.setState({targetPosition:"bottom"});if(n===f&&t===n&&i&&!a)return void this.setState({targetPosition:"top"});if(t===f&&n===g)return void(o&&this.setState({targetPosition:"bottom"}));if(t===g&&n===f)return void this.setState({targetPosition:"into"});const s=this.nodeRefs.base.getBoundingClientRect(),l=s.top+s.height/2,c=e.top>=l?"bottom":"top";r!==c&&this.setState({targetPosition:c})}),d(this,"calculateMoveIndex",(e,t,n)=>{let i=t;return e>i&&n?i++:e<i&&!n&&i--,i}),d(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),d(this,"setSectionHeaderHover",e=>{const{barrelId:t}=this.context,{styleguideId:n}=this.props;t===n&&t===e&&this.setState({hovered:!0})}),d(this,"unsetSectionHeaderHover",()=>{this.state.hovered&&this.setState({hovered:!1})}),d(this,"handleComponentDrop",(e,t)=>{if(!this.state.hovered)return;const{idPath:n,onComponentToSectionNodeDrop:i}=this.props;i(e,n,t)}),d(this,"handleNodeDrop",(e,t,n)=>{const{id:i,idPath:o,index:a,parentIndex:r,level:s,numberOfChildren:l,onReorderComponentSectionOrGroup:c}=this.props,{targetPosition:d}=this.state;if(!d)return;const u="bottom"===d,p={csid:e,sourceIndex:t};if(n===f&&s===h){if(1===t)return;p.to=1}else if(n===f&&s===f){const e=this.calculateMoveIndex(t,a,u);if(e===t)return;p.to=e}else if(n===f&&s===g){const e=this.calculateMoveIndex(t,r,u);if(e===t)return;p.to=e}else if(n===g&&s===f){if(i===e[0])return;p.tcsid=o,p.to=l}else if(n===g&&s===g){const[n]=e,[i]=o,r=n===i?this.calculateMoveIndex(t,a,u)-1:a-Number(!u);if(n===i&&r===t-1)return;p.to=r,p.tcsid=[i]}c(p)}),d(this,"handleDragHover",(e,t)=>{const{draggingItemType:n,dragData:i}=t;n===u?this.setTargetPosition(e,i.level):n===p&&this.setSectionHeaderHover(i.styleguideId)}),d(this,"handleDragHoverOut",e=>{e===u?this.unsetTargetPosition():e===p&&this.unsetSectionHeaderHover()}),d(this,"handleDrop",({idPath:e,index:t},n)=>{const{draggingItemType:i,dragData:{level:o}}=n;i===u?this.handleNodeDrop(e,t,o):i===p&&this.handleComponentDrop(e,t)})}render(){const{barrelId:e}=this.context,{hovered:t,targetPosition:n}=this.state,a=this.props,{class:d,level:u}=a,p=c(a,["class","level"]),f=u===h?m:b;return e===this.props.styleguideId?i.h(f,l({},p,{level:u,class:Object(r.default)("dragDropNode",d,{dropHover:t||"into"===n}),baseRef:Object(s.default)(this,"base"),targetPosition:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop})):i.h(o.default,this.props)}}t.default=S},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1116);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1117);t.default=function(e,t){const{selectedOrganizationId:n,filterValue:o,canCreateStyleguide:a}=t,r="user"!==n;return i.h("div",{class:"emptyActiveStyleguides"},i.h("h3",null,"No ",r?"joined":"active"," styleguides ",o?"with this name/type. 🤷":"currently."),!o&&r&&i.h("p",null,a?"Go ahead and create one! ✌️":i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1119);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(565);n(1120);const a=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("rect",{width:"80",height:"40",x:"188",fill:"#979197",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"130",y:"64",fill:"#979197",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#979197","stroke-width":"2",d:"M170 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#979197","fill-rule":"nonzero",d:"M227 40h2v12h-2z"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"210.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"200.314",y:"31"},"Styleguide")),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"156.494",y:"81"},"Child")," ",i.h("tspan",{x:"142.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"246",y:"64",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"272.494",y:"81"},"Child")," ",i.h("tspan",{x:"258.314",y:"95"},"Styleguide")),i.h("path",{fill:"#979197",d:"M283.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M340.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M425.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M178.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M97.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045.51-.472 1.01-.958 1.494-1.457.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"148",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"160.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"394",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"406.051",y:"181"},"Project"))));t.default=function({onHideClick:e,hideButtonText:t}){return i.h("div",{class:"styleguidesHintBoxContainer"},i.h(o.default,{class:"styleguidesHintBox",onHideClick:e,hideButtonText:t,hideEmoji:!0},i.h("div",{class:"topContainer"},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"text"},i.h("h5",null,"Curate your design system 🍡"),i.h("p",null,"Here, you can explore styleguides created by you or your team. Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides."))),i.h("div",{class:"imageContainer"},a)))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1123);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1124),a=n(1027);n(1156);t.default=function(e){const{styleguide:t,loading:n,onClose:r,onJoin:s}=e,{name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,componentSections:[{components:f}]=[{}]}=t;return i.h(a.default,{class:"styleguidePreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:s,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:r,width:"66vw"},n?i.h("div",{class:"styleguidePreviewDialogLoadingBody"},i.h(o.StyleguidePreviewLoading,null)):i.h("div",{class:"styleguidePreviewDialogBody"},i.h(o.default,{name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,components:f})))}},function(e,t,n){"use strict";n.r(t);var i=n(1125);n.d(t,"StyleguidePreviewLoading",(function(){return i.default}));var o=n(1137);n.d(t,"default",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1126);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(416),a=n(245),r=n(1127),s=n(1130),l=(n(1136),n(395));class c extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(a.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:Object(l.default)("styleguidePreviewLoading",this.props.class),ref:Object(o.default)(this,"base")},i.h("div",{class:"styleguidePreviewLoadingHead"}),i.h("div",{class:"styleguidePreviewLoadingSubHead"}),i.h("div",{class:"styleguidePreviewLoadingMembers"},function(e){const t=Math.floor(e/42);return Array.from({length:Math.min(12,t)},()=>i.h("div",{class:"styleguidePreviewLoadingMember"}))}(e)),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead"}),i.h("div",{class:"styleguidePreviewLoadingColors"},function(e){const t=Math.floor(e/72);return Array.from({length:2*t},()=>i.h(r.ColorPreviewPlaceholder,null))}(e))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead textStylesSection"}),i.h("div",{class:"styleguidePreviewLoadingTextStyles"},Array.from({length:6},()=>i.h(s.Placeholder,null)))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead componentsSection"}),i.h("div",{class:"styleguidePreviewLoadingComponents"},function(e){const t=Math.floor(e/108);return Array.from({length:2*t},()=>i.h("div",{class:"styleguidePreviewLoadingComponentPlaceholder"}))}(e))))}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1128);n.d(t,"default",(function(){return i.default})),n.d(t,"ColorPreviewPlaceholder",(function(){return i.ColorPreviewPlaceholder}))},function(e,t,n){"use strict";n.r(t),n.d(t,"ColorPreviewPlaceholder",(function(){return o}));var i=n(4);n(1129);function o(){return i.h("div",{class:"styleguidePreviewColorPreview placeholder"})}t.default=function({color:e}){return i.h("div",{class:"styleguidePreviewColorPreview",style:{backgroundColor:e.toRGBAString()}})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1131);n.d(t,"default",(function(){return i.default})),n.d(t,"Placeholder",(function(){return i.Placeholder}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Placeholder",(function(){return r}));var i=n(4),o=n(1132);n(1135);class a extends i.Component{renderName(){const{textStyle:{scaledFontSize:e,name:t,fontWeight:n,fontStyle:o}}=this.props,a={fontSize:e,fontWeight:n,fontStyle:o};return i.h("span",{style:a},t)}renderMainInfo(){const{formatter:e,textStyle:t}=this.props,{content:n,fontSize:a}=Object(o.getMainInfo)(t);return i.h("div",{class:"previewTextStyleCatalogRowStyle"},i.h("span",{class:"previewTextStyleCatalogRowFamily ellipsis",title:n},n),", ",e.textLength(a))}renderExtraInfo(){const{formatter:e,textStyle:t}=this.props;return i.h("div",{class:"previewTextStyleCatalogRowExtraInfo ellipsis"},Object(o.getExtraInfo)(e,t))}renderColor(){const{formatter:e,textStyle:{color:t}}=this.props;return i.h("div",{class:"previewTextStyleCatalogColorContainer"},i.h("span",{class:"previewTextStyleCatalogColorPreview",style:{backgroundColor:e.colorString(t)}}),i.h("span",{class:"previewTextStyleCatalogColorText ellipsis"},t.name?"#"+t.name:t.toHexString()))}render(){const{textStyle:{color:e}}=this.props;return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName ellipsis"},this.renderName()),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"previewTextStyleCatalogRowMainInfo"},this.renderMainInfo(),e&&this.renderColor()),this.renderExtraInfo()))}}function r(){return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName"},i.h("div",{class:"placeholder"})),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"placeholder"})))}t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"REGISTERED_AXES",(function(){return s})),n.d(t,"enumerateFontVariationSettings",(function(){return c})),n.d(t,"getMainInfo",(function(){return d})),n.d(t,"getExtraInfo",(function(){return u}));var i=n(4),o=n(246),a=n(1133),r=n(1134);const s=Object.freeze({wght:"Weight",wdth:"Width",slnt:"Slant",ital:"Italic",opsz:"Optical sizing"}),l=Object.freeze({wght:0,wdth:1,slnt:2,ital:3,opsz:4});function c(e){return Object.entries(e).sort(([e],[t])=>e in s&&t in s?l[e]-l[t]:e in s&&!(t in s)?-1:!(e in s)&&t in s?1:e<t?-1:1)}function d(e){const{fontFamily:t,fontStyle:n,fontSize:i,stretchText:a,weightText:r,fontVariationSettings:s}=e,l=s||"normal"===a?"":" "+Object(o.uppercaseFirst)(a),c=s||"normal"===n?"":" "+Object(o.uppercaseFirst)(n),d=s?"":Object(o.uppercaseFirst)(r);return{content:`${t}${l}${d||c?", ":""}${d}${c}`,fontSize:i}}function u(e,t){const{textAlign:n,lineHeight:l,letterSpacing:d,fontVariationSettings:u}=t;let p=[];if(n&&"left"!==n&&p.push(Object(o.uppercaseFirst)(n)),u){const t=c(u).map(([t,n])=>i.h("span",{key:t},s[t]||i.h("code",null,t),": ",e.fontVariationAxis(n)));p.push(...t)}return l&&p.push("Line height: "+e.textLength(l)),"number"==typeof d&&p.push("Letter spacing: "+e.letterSpacing(d)),p=[...Object(a.default)(p,Object(r.default)(", "))],p.pop(),p}},function(e,t,n){"use strict";n.r(t),t.default=function*(...e){if(1===e.length)yield*e[0][Symbol.iterator]();else{const t=e.map(e=>e[Symbol.iterator]());let n,i=0,o=t[0].next();for(;;)if(n=o,i=(i+1)%t.length,o=t[i].next(),yield n.value,o.done)return}}},function(e,t,n){"use strict";n.r(t),t.default=function*(e,t=1/0){if(t===1/0)for(;;)yield e;else for(let n=0;n<t;n++)yield e}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(4),o=n(245),a=n(395),r=n(249),s=n(230),l=n(1138),c=n(1144),d=n(1148),u=n(1152),p=n(922),h=n(400);n(1155);function f(e){const{loading:t,name:n,type:f,users:g,densityScale:m,colors:b,textStyles:S,components:y,showJoinButton:C,loadingJoin:v,onJoin:O,headerSticky:E}=e;if(t)return null;const T=b&&!!b.length,_=S&&!!S.length,P=y&&!!y.length,j=!T&&!_&&!P,D=Object(o.getDensityScaleRepresentation)(f,m);return i.h("div",{class:"styleguidePreview"},i.h("div",{class:Object(a.default)("styleguidePreviewHeader",{sticky:E})},i.h("div",null,i.h("h1",null,n),i.h("h5",null,i.h("span",{class:"styleguidePreviewType"},s.PlatformString[f]),m&&i.h("span",{class:"styleguidePreviewDensity"},", ",D))),C&&i.h(h.default,{class:"styleguidePreviewJoinButton",onClick:O},v?i.h("img",{src:Object(r.imageUrl)("img/icSpinnerWhite.svg"),class:"spinning"}):"Join")),i.h(p.default,{members:g,class:"styleguidePreviewMembers",avatarSize:36}),T&&i.h(l.default,{colors:b}),_&&i.h(c.default,{textStyles:S}),P&&i.h(d.default,{components:y}),j&&i.h(u.default,null))}},function(e,t,n){"use strict";n.r(t);var i=n(1139);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1127),a=n(1140),r=n(416);n(1143);class s extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){requestAnimationFrame(()=>{this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state,{colors:t}=this.props,n=t.slice(0,10),s=n.length,l=t.length>=10,c=Math.floor(e/72),d=c-s%c;let u;return u=d===c?c:c+d,i.h(a.default,{name:"Color Palette"},i.h("div",{class:"styleguidePreviewColorPalette",ref:Object(r.default)(this,"contentWrapper")},n.map(e=>i.h(o.default,{color:e,key:e.id})),l&&Array.from({length:u},()=>i.h(o.ColorPreviewPlaceholder,null))))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1141);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1142);t.default=function(e){const{name:t,children:n}=e;return i.h("div",{class:"styleguidePreviewSection"},i.h("div",{class:"styleguidePreviewSectionHeader"},t),i.h("div",{class:"styleguidePreviewSectionContent"},n))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1145);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1140),a=n(1130),r=n(1146);n(1147);t.default=function(e){const{textStyles:t}=e,n=new r.default({dimensionSuffix:"px",textDimensionSuffix:"px",densityScale:1,type:"common"}),s=t.slice(0,6);return i.h(o.default,{name:"Text Style Catalog"},i.h("div",{class:"styleguidePreviewTextStyleCatalog"},s.map(e=>i.h(a.default,{formatter:n,textStyle:e})),t.length>=6&&[i.h(a.Placeholder,null),i.h(a.Placeholder,null)]))}},function(e,t,n){"use strict";n.r(t);var i=n(301);const o=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});t.default=class{constructor(e){this.project=e}percentage(e,t=0){return Object(i.round)(100*e,t)+"%"}withUnit(e){return`${e}${this.project.dimensionSuffix}`}withTextUnit(e){return`${e}${this.project.textDimensionSuffix}`}length(e){return this.withUnit(Object(i.round)(e/this.project.densityScale,1))}textLength(e){return this.withTextUnit(Object(i.round)(e/this.project.densityScale,1))}letterSpacing(e){return this.withTextUnit(Object(i.round)(e/this.project.densityScale,2))}fontVariationAxis(e){return String(Object(i.round)(e,2))}colorString(e,t){return e.toPlatformString(this.project.type,t)}alpha(e){return o.format(e)}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1149);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1140),a=n(1150),r=n(245),s=n(416);n(1151);const l=()=>{};class c extends i.Component{constructor(e){super(e),this.state={lastComponentRowAvailableWidth:0,availableWidth:0},this.handleWindowResize=Object(r.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const e=this.nodeRefs.contentWrapper.getBoundingClientRect(),t=this.nodeRefs.lastComponentEl.getBoundingClientRect().right;this.setState({lastComponentRowAvailableWidth:e.right-t-6,availableWidth:e.width})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e,lastComponentRowAvailableWidth:t}=this.state,{components:n}=this.props,r=n.slice(0,10),c=n.length>=10,d=Math.max(Math.floor(t/108),0),u=Math.floor(e/108)+d;return i.h(o.default,{name:"Components"},i.h("div",{class:"styleguidePreviewComponents",ref:Object(s.default)(this,"contentWrapper")},r.map((e,t)=>{const{latestVersion:{snapshot:{width:n,height:o,url:c}}}=e,d=t===r.length-1?Object(s.default)(this,"lastComponentEl"):l;return i.h(a.default,{key:t,width:n,height:o,url:c,baseRef:d})}),c&&Array.from({length:u},()=>i.h(a.ComponentPlaceholder,null))))}}t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"ComponentPlaceholder",(function(){return r}));var i=n(4),o=n(395),a=n(249);class Component extends i.Component{constructor(e){super(e),this.state={lightness:null}}componentDidMount(){const{url:e}=this.props;Object(a.getImageProperties)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}render(){const{lightness:e}=this.state,{width:t,height:n,url:a,baseRef:r}=this.props,s={width:(l=t,12*Math.ceil(l/12)+48)};var l;const c=Object(o.default)("styleguidePreviewComponentContent",e);return i.h("div",{class:"styleguidePreviewComponent",style:s,ref:r},i.h("div",{class:c,style:{paddingBottom:100*n/t+"%"}},i.h("img",{class:"noSelect",width:t,height:n,src:a})))}}function r(){return i.h("div",{class:"styleguidePreviewComponent"})}t.default=Component},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1153);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1154);t.default=function(){return i.h("div",{class:"styleguidePreviewEmptyBody"},i.h("h1",null,"No colors, text styles or components yet."),i.h("h3",null,"Join and upload the first."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1158);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(753),a=n(1101),r=n(396),s=n.n(r),l=n(1159),c=n(395);n(1160);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"handleChange",()=>{const{onChange:e,value:t}=this.props;e(t)})}render(){const{selected:e,value:t,label:n,image:o,description:a,horizontal:r,tall:s}=this.props,l=Object(c.default)("styleguideType",{selected:e,horizontal:r,tall:s});return i.h("label",{class:l},i.h("h5",null,n),!r&&i.h("div",{class:"imageWrapper"},o),i.h("p",null,a),i.h("input",{onClick:this.handleChange,type:"radio",value:t,name:"styleguideType"}))}}class p extends i.Component{constructor(...e){super(...e),d(this,"values",Object.keys(l.default).map(e=>l.default[e].value)),d(this,"state",{selected:this.values[0],selectedParentStyleguide:this.props.trees[0]?this.props.trees[0].root.id:null,chooseParentChecked:!1}),d(this,"handleChange",e=>{this.setState({selected:e})}),d(this,"handleCheckboxChange",e=>{const{trees:t}=this.props,n=e.target.checked,i=n&&t[0]?t[0].root.id:null;this.setState({chooseParentChecked:n,selectedParentStyleguide:i})}),d(this,"handleParentStyleguideChange",e=>{this.setState({selectedParentStyleguide:e})}),d(this,"handlePositiveButtonClick",()=>{const{onCreate:e}=this.props,{selected:t,selectedParentStyleguide:n,chooseParentChecked:i}=this.state;i?e(t,n):e(t)}),d(this,"handleKeyDown",e=>{const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderStyleguidesPicker(){const{selectedParentStyleguide:e}=this.state,{trees:t}=this.props;return i.h("div",{class:"styleguidesPicker"},i.h("p",null,"Choose a parent styleguide"),i.h("div",{class:"styleguidesTreeViewContainer"},i.h(a.default,{trees:t,selectedNodeId:e,onNodeSelect:this.handleParentStyleguideChange})))}render(){const{selected:e,chooseParentChecked:t}=this.state,{trees:n,onClose:a}=this.props;return i.h(o.default,{class:"createStyleguideDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:a,width:828,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody noSelect"},i.h("h1",null,"Choose a type"),i.h("div",{class:"bodyContainer box"},i.h("div",null,i.h("h3",null,"Platform-free"),i.h(u,{onChange:this.handleChange,value:l.default.BASE.value,label:l.default.BASE.label,image:i.h(l.default.BASE.Image,{selected:e===l.default.BASE.value}),description:l.default.BASE.description,selected:l.default.BASE.value===e,tall:!0})),i.h("div",{class:"splitter"}),i.h("div",{class:"platformTypesContainer"},i.h("h3",null,"Platform-specific"),i.h("div",{class:"platformSpecificTypes"},i.h(u,{onChange:this.handleChange,value:l.default.WEB.value,label:l.default.WEB.label,image:i.h(l.default.WEB.Image,{selected:e===l.default.WEB.value}),description:l.default.WEB.description,selected:l.default.WEB.value===e}),i.h(u,{onChange:this.handleChange,value:l.default.IOS.value,label:l.default.IOS.label,image:i.h(l.default.IOS.Image,{selected:e===l.default.IOS.value}),description:l.default.IOS.description,selected:l.default.IOS.value===e}),i.h(u,{onChange:this.handleChange,value:l.default.ANDROID.value,label:l.default.ANDROID.label,image:i.h(l.default.ANDROID.Image,{selected:e===l.default.ANDROID.value}),description:l.default.ANDROID.description,selected:l.default.ANDROID.value===e}),i.h(u,{onChange:this.handleChange,value:l.default.OSX.value,label:l.default.OSX.label,image:i.h(l.default.OSX.Image,{selected:e===l.default.OSX.value}),description:l.default.OSX.description,selected:l.default.OSX.value===e,horizontal:!0})))),n.length>0&&i.h("div",{class:"nestedStyleguides"},i.h("label",{class:"checkboxContainer"},i.h(s.a,{name:"chooseParent",onChange:this.handleCheckboxChange,checked:t}),i.h("div",{class:"checkboxInfoContainer"},i.h("h5",null,"Create as child styleguide"),i.h("p",null,"Creating as child styleguide will inherit colors, text styles and components from the parent styleguide."))),t&&this.renderStyleguidesPicker())))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(4);t.default={BASE:{value:"base",label:"Base",description:"For parent styleguides with resources shared between platforms",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}},WEB:{value:"web",label:"Web",description:"Dimensions in px/% CSS and HTML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"nonzero",d:"M122 15h4a2 2 0 0 1 2 2v61a2 2 0 0 1-2 2H14a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h106a2 2 0 0 1 2 2v10zm-2 0V8H14v70h78V43H38a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h54V17a2 2 0 0 1 2-2h26zM92 38H38v4h54v-4zM52 4.5a1 1 0 0 0 0 2h30a1 1 0 0 0 0-2H52zm-37 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM94 20v58h32V20H94zm1-3.5a1 1 0 0 0 0 2h30a1 1 0 1 0 0-2H95zM97 45h26a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H97a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm0 1v4h26v-4H97z"}))}},IOS:{value:"ios",label:"iOS",description:"Dimensions in pt, Objective-C/Swift export, PNG and PDF assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M122 10.162h-2.834a.417.417 0 0 0-.395.395c0 .757-.353 1.392-.888 1.759a1.95 1.95 0 0 1-1.107.34h-13.552c-1.102 0-1.995-.894-1.996-2.1a.417.417 0 0 0-.394-.394H97.57a3.16 3.16 0 0 0-3.159 3.159v61.182a3.16 3.16 0 0 0 3.16 3.159h24.859a3.16 3.16 0 0 0 3.159-3.16V13.322a3.16 3.16 0 0 0-3.16-3.16H122zM117.883 8V6.538l-.003-.465a3.355 3.355 0 0 0-.04-.463 1.528 1.528 0 0 0-.422-.816 1.556 1.556 0 0 0-.822-.418 3.764 3.764 0 0 0-.47-.041H16.134c-.052 0-.316.009-.47.037a1.557 1.557 0 0 0-.822.418 1.528 1.528 0 0 0-.422.816 3.363 3.363 0 0 0-.04.463l-.002.466v67.434s0 .144.002.214c.002.155.012.31.04.463a1.53 1.53 0 0 0 .422.816 1.56 1.56 0 0 0 .822.418c.154.026.31.036.467.04l.47.003h75.797a5.359 5.359 0 0 1-.149-1.256v-40a.25.25 0 0 1-.249-.25V29.75a.25.25 0 0 1 .25-.25v-1.333a.25.25 0 0 1-.25-.25V23.25a.25.25 0 0 1 .25-.25v-2.5a.25.25 0 0 1-.25-.25v-2.167a.25.25 0 0 1 .25-.25v-4.5A5.327 5.327 0 0 1 97.57 8h20.313zM106.25 80H17.33c-.264 0-.52 0-.774-.008a10.139 10.139 0 0 1-1.676-.144 5.593 5.593 0 0 1-1.591-.522A5.306 5.306 0 0 1 10.94 77a5.466 5.466 0 0 1-.528-1.575 12.029 12.029 0 0 1-.144-1.66c0-.262-.009-.514-.009-.767V11.33h-.217a.043.043 0 0 1-.043-.042V6.052c0-.024.02-.043.043-.043h.24c.02-.395.058-.787.13-1.176.102-.556.264-1.07.528-1.576A5.307 5.307 0 0 1 13.289.932a5.593 5.593 0 0 1 1.59-.523 12.383 12.383 0 0 1 1.677-.143c.263 0 .519-.008.774-.008h1.685V.043c0-.024.02-.043.044-.043h4.508c.024 0 .043.02.043.043v.215h.91V.043c0-.024.02-.043.043-.043h4.508c.024 0 .044.02.044.043v.215h85.815c.264 0 .52 0 .775.008.561.008 1.123.042 1.676.143.561.101 1.08.261 1.59.523a5.306 5.306 0 0 1 2.348 2.326c.264.505.426 1.019.528 1.575.093.548.128 1.104.145 1.66 0 .26.008.514.008.767V8h.43a5.327 5.327 0 0 1 5.32 5.333v11.5a.25.25 0 0 1 .25.25v7.5a.25.25 0 0 1-.25.25v41.834A5.327 5.327 0 0 1 122.43 80h-16.18zM12.304 39.47a.648.648 0 0 0-.651.644v.003c0 .356.291.645.651.645.36 0 .652-.289.652-.645v-.003a.648.648 0 0 0-.652-.645zm-.007 2.719a.906.906 0 0 0-.91.901c0 .498.408.901.91.901.503 0 .91-.403.91-.9a.906.906 0 0 0-.91-.902zm0 3.219c-.359 0-.65.288-.65.644 0 .355.291.643.65.643.36 0 .65-.288.65-.643a.647.647 0 0 0-.65-.644zm95.79-34.908a.291.291 0 0 0 0 .583h3.825a.291.291 0 0 0 0-.583h-3.824zm5.654-.25a.541.541 0 1 0 .002 1.082.541.541 0 0 0-.002-1.082zm1.538 66.424a.166.166 0 0 1 0 .333h-10.558a.166.166 0 0 1 0-.333h10.558z"}))}},ANDROID:{value:"android",label:"Android",description:"Dimensions in dp/sp, XML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M103.642 80H16.686c-3.587 0-6.522-2.918-6.522-6.484V19.484c0-3.566 2.935-6.484 6.522-6.484H90.32V4.498C90.32 2.014 92.324 0 94.796 0h28.184c2.472 0 4.475 2.014 4.475 4.498v12.706h.333c.084 0 .151.068.151.152v5.47a.152.152 0 0 1-.151.153h-.333v5.805h.333c.084 0 .151.068.151.152v10.942a.152.152 0 0 1-.151.152h-.333v35.472c0 2.484-2.003 4.498-4.475 4.498h-19.338zm-11.78-67v60.063a1.43 1.43 0 0 0 1.422 1.437H124.462a1.43 1.43 0 0 0 1.42-1.438V6.939a1.43 1.43 0 0 0-1.42-1.438H93.284a1.43 1.43 0 0 0-1.422 1.438V13zm-1.542 3.075H15.576v60.261h74.821c-.05-.27-.077-.55-.077-.834V16.075zm-30.738-1.497a.5.5 0 1 0 1-.001.5.5 0 0 0-1 .001zM54.664 78.34c0 .267.222.499.496.499h9.008a.501.501 0 0 0 .496-.5.503.503 0 0 0-.496-.498H55.16a.501.501 0 0 0-.496.499zM97.971 2.28a.94.94 0 0 0-.937.942c0 .52.42.942.937.942a.94.94 0 0 0 .937-.942.94.94 0 0 0-.937-.942zm3.342.364a.591.591 0 0 0-.59.593c0 .327.264.593.59.593.325 0 .59-.266.59-.593a.591.591 0 0 0-.59-.593zm3.19.061v.213c0 .185.149.334.333.334h8.074c.183 0 .332-.15.332-.334v-.213a.334.334 0 0 0-.332-.334h-8.074a.334.334 0 0 0-.333.334z"}))}},OSX:{value:"osx",label:"macOS",description:"Dimensions in pt, Objctive-C/Swift export, PNG and PDF assets.",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1162);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(753),a=n(230);t.default=function(e){const{parentStyleguideType:t,childStyleguideType:n,onCreateAnyway:r,onCreateWithParentType:s,onClose:l}=e,c=a.PlatformString[n],d=a.PlatformString[t];return i.h(o.BasicOverlayDialog,{class:"differentTypeDialog",onPositiveButtonClick:s,onFallbackButtonClick:r,onClose:l,positiveButtonText:"CREATE AS "+d.toUpperCase(),negativeButtonText:"CANCEL",fallbackButtonText:"CREATE ANYWAY",hideNegativeButton:!1,width:484,title:`Create ${c} child styleguide from ${d} parent styleguide?`,message:"Creating child styleguide with a different platform-specific type from its parent styleguide is not recommended."})}},function(e,t,n){"use strict";n.r(t);var i=n(1164);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(228);n(1165);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd",transform:"translate(74)"},i.h("rect",{width:"80",height:"40",x:"114",fill:"#EDECED",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"56",y:"64",fill:"#EDECED",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#EDECED","stroke-width":"2",d:"M96 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#EDECED","fill-rule":"nonzero",d:"M153 40h2v12h-2z"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"136.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"126.314",y:"31"},"Styleguide")),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"82.494",y:"81"},"Child")," ",i.h("tspan",{x:"68.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"172",y:"64",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"198.494",y:"81"},"Child")," ",i.h("tspan",{x:"184.314",y:"95"},"Styleguide")),i.h("path",{fill:"#C1BEC1",d:"M209.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M266.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M351.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M104.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M23.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045a39.26 39.26 0 0 0 1.494-1.457c.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"12.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"172",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"184.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")))),d={title:"This is where you manage your design system. 🎨",description:"Styleguides allow you organize your colors, text styles and components. If you have a common styleguide feeding multiple projects, you can create a shared styleguide and link it to your projects to reference them.",primaryButtonLabel:i.h("strong",null,"Looks like you’re a part of an organization:"),primaryButtonText:"Check out {{organizationName}}'s space",primaryButtonSubLabel:"You can always switch between workspaces from the top."},u={title:"Curate your design system 🍡",description:i.h("span",null,"Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides.")},p={COMMON_PLAN:s(s({},u),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first styleguide:"),primaryButtonText:"Create a styleguide"}),COMMON_PLAN_ORGANIZATION_MEMBER:s(s({},d),{},{secondaryButtonLabel:i.h("strong",null,"Let's start by creating your first styleguide:"),secondaryButtonText:"Create a styleguide"}),COMPANY_PLAN:s(s({},u),{},{primaryButtonLabel:"You’re on the deprecated Company plan where styleguides are not supported. We're sunsetting this plan soon, please update your plan or contact us at support@zeplin.io.",primaryButtonText:"See plans"}),COMPANY_PLAN_ORGANIZATION_MEMBER:s(s({},d),{},{secondaryButtonLabel:"You’re on the deprecated Company plan where styleguides are not supported. We're sunsetting this plan soon, please update your plan or contact us at support@zeplin.io.",secondaryButtonText:"See plans"}),ORGANIZATION_NO_CREATE_PERMISSION:s(s({},u),{},{primaryButtonLabel:i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank",rel:"noopener"},"Learn more…"))})};class h extends i.Component{getLabelsAndHandlers(){const{selectedOrganizationId:e,canCreateStyleguide:t}=this.context,{hasCompanyPlan:n,hasFreePlan:o,availableOrganization:r,onOpenPlanChooserOverlay:l,onCreate:c,onCheckoutOrganization:d}=this.props;if("user"===e){let e;return n?e={labels:p["COMPANY_PLAN"+(r?"_ORGANIZATION_MEMBER":"")],[r?"onSecondaryButtonClick":"onPrimaryButtonClick"]:l}:(e={labels:p["COMMON_PLAN"+(r?"_ORGANIZATION_MEMBER":"")],[r?"onSecondaryButtonClick":"onPrimaryButtonClick"]:c},o&&!a.isWindowsApp&&(e={labels:s(s({},e.labels),{},{[r?"secondaryButtonLabel":"primaryButtonLabel"]:i.h("span",null,"Download ",i.h("a",{href:"https://zpl.io/download-mac",target:"_blank"},"macOS")," or ",i.h("a",{href:"https://zpl.io/download-windows-64",target:"_blank"},"Windows")," app to create a styleguide and export resources.")})})),r&&(e=s(s({},e),{},{labels:s(s({},e.labels),{},{primaryButtonText:e.labels.primaryButtonText.replace("{{organizationName}}",r.name)}),onPrimaryButtonClick:()=>d(r._id)})),e}return t?{labels:p.COMMON_PLAN,onPrimaryButtonClick:c}:{labels:p.ORGANIZATION_NO_CREATE_PERMISSION}}render(){const{labels:e,onPrimaryButtonClick:t,onSecondaryButtonClick:n}=this.getLabelsAndHandlers();return i.h("div",{class:"noStyleguidesScrollContainer"},i.h("div",{class:"noStyleguides"},i.h("h1",null,e.title),i.h("p",{class:"description"},e.description),c,i.h("div",{class:"buttonContainer"},i.h("p",{class:"primaryButtonLabel"},e.primaryButtonLabel),t&&i.h(o.default,{onClick:t,primary:!0},e.primaryButtonText),i.h("p",{class:"primaryButtonSubLabel"},e.primaryButtonSubLabel)),n&&i.h("div",{class:"buttonContainer"},i.h("p",{class:"secondaryButtonLabel"},e.secondaryButtonLabel),i.h(o.default,{onClick:n,secondary:!0},e.secondaryButtonText))))}}t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(310),o=n(269),a=n.n(o),r=n(377);const s={getStyleguidesSuccess({styleguides:e,oid:t}){a.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDES_SUCCESS,styleguides:e,oid:t})},getStyleguidesFailed(e){a.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDES_FAILED,error:e})},getStyleguideRequest(){a.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDE_REQUESTED})},getStyleguideSuccess({styleguide:e}){a.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDE_SUCCESS,styleguide:e})},getStyleguideFailed(e){a.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDE_FAILED,error:e})},createStyleguide({oid:e,platform:t,parent:n}){a.a.dispatcher.dispatch({type:i.default.CREATE_STYLEGUIDE,oid:e,platform:t,parent:n,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:o,oid:s,users:l}){const{styleguides:c}=a.a.StyleguidesDataStore.getState(),d=Object(r.getStyleguideAndItsDescendants)(c,e);a.a.dispatcher.dispatch({type:i.default.TRANSFER_OWNERSHIP,bid:e,affectedIds:d,fromUserId:t,targetId:n,toOrganization:o,oid:s,users:l})},initTransferOwnership({stid:e,fromUserId:t,targetId:n,toOrganization:o,oid:r}){a.a.dispatcher.dispatch({type:i.default.INIT_TRANSFER_OWNERSHIP,stid:e,fromUserId:t,targetId:n,toOrganization:o,oid:r,syncWithApi:!0})},updateStyleguide({stid:e,data:t}){a.a.dispatcher.dispatch({type:i.default.UPDATE_STYLEGUIDE,stid:e,data:t})},inviteUser({container:e,stid:t,users:n,oid:o}){a.a.dispatcher.dispatch({type:i.default.INVITE_USER,container:e,stid:t,users:n,oid:o})},selectParent({stid:e,parent:t,oldParent:n,syncWithApi:o=!1}){a.a.dispatcher.dispatch({type:i.default.SELECT_PARENT,stid:e,parent:t,oldParent:n,syncWithApi:o})},removeParent({stid:e,oldParent:t,syncWithApi:n=!1}){a.a.dispatcher.dispatch({type:i.default.REMOVE_PARENT,stid:e,oldParent:t,syncWithApi:n})},selectParentRequest({stid:e,parent:t,syncWithApi:n}){a.a.dispatcher.dispatch({type:i.default.SELECT_PARENT_REQUEST,stid:e,parent:t,syncWithApi:n})},selectParentSuccess({stid:e,parent:t,styleguides:n}){a.a.dispatcher.dispatch({type:i.default.SELECT_PARENT_SUCCESS,stid:e,parent:t,styleguides:n})},selectParentFailed(){a.a.dispatcher.dispatch({type:i.default.SELECT_PARENT_FAILED})}};t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1168);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1169)),r=i(n(395));function s({class:e,imageSrc:t,title:n,subInfo:i,dashboardLink:a,rightContent:s}){const l=o.h("div",{class:r.default("logo",{placeholder:!t})},t&&o.h("img",{src:t,width:"64",height:"64"}));return o.h("div",{class:r.default("organizationSummary",e)},o.h("div",{class:"summary"},a?o.h("a",{href:a,target:"_blank"},l):l,o.h("div",null,a?o.h("a",{href:a,target:"_blank",class:"organizationTitle"},n):o.h("div",{class:"organizationTitle"},n),o.h("div",{class:"organizationSubInfo"},i))),s)}n(1172),s.Loading=a.default,t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1170);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1171);t.default=function(){return i.h("div",{class:"organizationSummaryLoading"},i.h("div",{class:"logo breathe"}),i.h("div",null,i.h("div",{class:"title breathe"}),i.h("div",{class:"counts breathe"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1176);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(261),a=n.n(o),r=n(1177),s=n(1186),l=n(1350),c=n(1647),d=n(1814),u=n(1835),p=n(1849),h=n.n(p),f=n(376),g=n(269),m=n.n(g),b=n(361),S=n(1274),y=n(362),C=n(505),v=n.n(C),O=n(244),E=n(242),T=n(416),_=n(364),P=n(230);n(1857);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends i.Component{constructor(...e){super(...e),k(this,"getScreenContainerRef",()=>this.nodeRefs&&this.nodeRefs.screenContainer),k(this,"getStyleguideContainerRef",()=>this.nodeRefs&&this.nodeRefs.styleguideContainer),k(this,"openScreen",e=>{const{barrel:t}=this.state,{id:n}=t;_.default.history.push(Object(E.urlResolve)("project-screen",{url:{pid:n,sid:e}}))}),k(this,"handleKeyDown",e=>{if(Object(O.isEditableElement)(e.target))return;const{barrelType:t}=this.state;if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyA:t===a.a.PROJECT&&(e.preventDefault(),e.stopPropagation(),f.default.goToDashboard());break;case Zeplin.KEY_CODE.KeyS:t===a.a.PROJECT&&(e.preventDefault(),e.stopPropagation(),f.default.goToStyleguide());break;case Zeplin.KEY_CODE.KeyE:e.preventDefault(),e.stopPropagation(),S.default.openSettings();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),f.default.openJumpToPopup();break;case Zeplin.KEY_CODE.KeyR:e.shiftKey&&(e.preventDefault(),e.stopPropagation(),S.default.reload())}})}static calculateState(){const e=m.a.BarrelStore.getState(),{loading:t,selectedView:n}=e,i=D(e,["loading","selectedView"]);if(t)return{loading:!0,selectedView:n};const{organizationId:o}=i,{name:a}=y.default.getOrganization()||{},r=b.default.getBarrel(),{tagManagerScreenId:s}=m.a.ScreenStore.getState(),{dialogOpen:l}=m.a.ExtensionsStore.getState();return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({loading:!1,organizationName:a,organizationId:o,barrel:r,selectedView:n,tagManagerScreenId:s,extensionDialogOpen:l},i)}static getStores(){return[m.a.BarrelStore,m.a.OrganizationStore,m.a.ScreenStore,m.a.ProjectsDataStore,m.a.StyleguidesDataStore,m.a.ExtensionsStore]}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown),f.default.reset()}getChildContext(){return{screenContainerRef:this.getScreenContainerRef,styleguideContainerRef:this.getStyleguideContainerRef}}renderContent(){const{barrelType:e,selectedView:t}=this.state;return e===a.a.STYLEGUIDE||t===P.ProjectViewTypes.STYLEGUIDE?i.h(c.default,{baseRef:Object(T.default)(this,"styleguideContainer")}):t===P.ProjectViewTypes.SCREEN?i.h(l.default,{baseRef:Object(T.default)(this,"screenContainer")}):t===P.ProjectViewTypes.DASHBOARD?i.h(s.default,null):null}renderJumpToScreen(){const{barrel:e,loading:t,jumpToPopupOpen:n}=this.state;if(t||!n)return null;const{integration:{jira:o={}}={}}=e;return i.h(r.default,{screenList:e.screens,sectionList:e.sections,jiraAttachmentList:o.attachments,onJumpToScreen:this.openScreen,onClose:f.default.closeJumpToPopup})}renderExtensionDialog(){const{extensionDialogOpen:e}=this.state;return e?i.h(d.default,null):null}renderTagManager(){const{tagManagerScreenId:e}=this.state;return e?i.h(u.default,null):null}render(){return i.h("main",{key:"barrel",class:"barrelContainer"},this.renderContent(),this.renderJumpToScreen(),this.renderExtensionDialog(),this.renderTagManager(),i.h(h.a,null))}}t.default=v()(I,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1178);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(245),s=n(246),l=n(416),c=n(1179),d=n(368);n(1185);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f({screenList:e,sectionList:t,jiraAttachmentList:n}){if(!n)return e;const i=Object(d.createItemSectionMap)(t,"screens");return e.map(e=>{const t=n.filter(t=>"screen"===t.type&&t.itemId===e._id),o=n.filter(t=>"section"===t.type&&t.itemId===i[e._id]);return p(p({},e),{},{jiraAttachments:[...t,...o]})})}class g extends i.Component{constructor(...e){super(...e),h(this,"state",{filter:""}),h(this,"screenListWithJira",f(this.props)),h(this,"getSuggestionList",()=>{const e=this.state.filter.toLowerCase();if(""===e)return this.screenListWithJira.slice(0).sort(r.sortBy.name);let t=[],n=[],i=[],o=[],a=[];return this.screenListWithJira.forEach(r=>{let l=r.name.toLowerCase();const c=r.tags&&r.tags.find(t=>t.toLowerCase().includes(e)),d=r.jiraAttachments&&r.jiraAttachments.find(t=>t.issueKey&&t.issueKey.toLowerCase().includes(e));l.startsWith(e)?t.push(r):Object(s.anyWordStartsWith)(l,e)?n.push(r):c?i.push(Object.assign({tag:c},r)):d?o.push(Object.assign({attachedJira:d.issueKey},r)):l.includes(e)&&a.push(r)}),t.sort(r.sortBy.name).concat(n.sort(r.sortBy.name)).concat(i.sort(r.sortBy.name)).concat(o.sort(r.sortBy.name)).concat(a.sort(r.sortBy.name))}),h(this,"handleInputChange",e=>{this.setState({filter:e.target.value})}),h(this,"handleKeyDown",e=>{e.stopPropagation();const{onClose:t}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC&&t()})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),this.nodeRefs.input.focus()}componentWillReceiveProps(e){this.screenListWithJira=f(e)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{filter:e}=this.state,{onJumpToScreen:t,onClose:n}=this.props,o=this.getSuggestionList();return i.h("div",{class:"jumpToScreenContainer",onClick:n},i.h("div",{class:"jumpToScreen",onClick:r.stopPropagation},i.h("div",{class:"searchTextContainer"},i.h("input",{value:e,class:"screenSearchText",placeholder:"Jump to Screen",onInput:this.handleInputChange,ref:Object(l.default)(this,"input")}),o.length?null:i.h("span",{class:"shrug"},"¯\\_(ツ)_/¯")),i.h(c.default,{screenList:o,onJumpToScreen:t})))}}g.propTypes={screenList:a.a.array.isRequired,sectionList:a.a.array.isRequired,jiraAttachmentList:a.a.array.isRequired,onJumpToScreen:a.a.func.isRequired,onClose:a.a.func.isRequired},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1180);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1181),a=n(245),r=n(244),s=n(416);n(1184);class l extends i.Component{constructor(e){super(e),this.state={selectedScreenIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this)}handleSuggestionMouseEnter(e){this.mouseActive&&this.setState({selectedScreenIndex:e})}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){this.lastX===e.clientX&&this.lastY===e.clientY||(this.lastX=e.clientX,this.lastY=e.clientY,this.mouseActive=!0)}handleKeyDown(e){const{selectedScreenIndex:t}=this.state;if(e.keyCode===Zeplin.KEY_CODE.ArrowUp)e.preventDefault(),0!==t&&this.setState({selectedScreenIndex:t-1});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown)e.preventDefault(),t!==this.props.screenList.length-1&&this.setState({selectedScreenIndex:t+1});else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onJumpToScreen:n,screenList:i}=this.props;i[t]&&n(i[t]._id)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(a.arrayEqual)(e.screenList,this.props.screenList,(e,t)=>e.name===t.name&&e.tag===t.tag)||this.setState({selectedScreenIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedScreen&&(this.mouseActive=!1,Object(r.scrollIfNecessary)(this.nodeRefs.selectedScreen.base))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{screenList:e,onJumpToScreen:t}=this.props,{selectedScreenIndex:n}=this.state;return i.h("div",{class:"suggestedScreenListContainer",onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter},e.map((e,a)=>{let r;return n===a&&(r=Object(s.default)(this,"selectedScreen")),i.h(o.default,{key:e._id,screenId:e._id,screenName:e.name,filterTag:e.tag,filterJiraAttachment:e.attachedJira,screenIndex:a,selected:n===a,ref:r,onClick:t,onMouseEnter:this.handleSuggestionMouseEnter})}))}}l.defaultProps={screenList:[]},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1182);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(550),a=n(395);n(1183);class r extends o.default{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{screenId:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{screenIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{screenName:e,filterTag:t,filterJiraAttachment:n,selected:o}=this.props;return i.h("button",{class:Object(a.default)("screenSuggestion",{selected:o}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"screenName ellipsis"},e),t?i.h("div",{class:"tagName ellipsis"},t):null,n?i.h("div",{class:"tagName ellipsis"},n):null)}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1187);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(368),a=n(242),r=n(244),s=n(416),l=n(227),c=n(364),d=n(231),u=n(960),p=n(1188),h=n(1265),f=n(1042),g=n(361),m=n(376),b=n(386),S=n(370),y=n.n(S),C=n(367),v=n(382),O=n(269),E=n.n(O),T=n(505),_=n.n(T),P=n(1079),j=n(886);n(1349);function D(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends i.Component{constructor(...e){super(...e),R(this,"handleFilter",e=>{const{barrel:{id:t}}=this.state;c.default.history.replace(Object(a.urlResolve)("project-dashboard",{url:{pid:t},query:{q:e}}))}),R(this,"handleJiraIssueSelectionChange",e=>{const{barrel:{id:t},jiraIssueFilter:n}=this.state,i=n.includes(e)?n.filter(t=>t!==e):[...n,e];mixpanel.master.track("Filtered by Jira issue"),c.default.history.replace(Object(a.urlResolve)("project-dashboard",{url:{pid:t},query:{ja:i}}))}),R(this,"handleResetJiraIssuesClick",()=>{const{barrel:{id:e}}=this.state;c.default.history.replace(Object(a.urlResolve)("project-dashboard",{url:{pid:e}}))}),R(this,"handleTagClick",(e,t)=>{const{barrel:{id:n},tagFilter:i,jiraIssueFilter:o}=this.state,r=i.tags.includes(e);let s,l;if(!e?(s=[],l=!i.untagged):(s=[e],l=!1,r&&(s=i.tags.filter(t=>t!==e),l=!1),t&&!r&&(s=i.tags.concat(e),l=!1)),s){if(s.length>1)return void mixpanel.master.track("Filtered by tags",{Type:"Multiple"});mixpanel.master.track("Filtered by tags")}l&&mixpanel.master.track("Filtered by tags",{Type:"Untagged"});const d=I(I({},{ja:o}),l?{untagged:!0}:{tag:s});c.default.history.replace(Object(a.urlResolve)("project-dashboard",{url:{pid:n},query:d}))}),R(this,"handleResetTagsClick",()=>{const{barrel:{id:e}}=this.state;c.default.history.replace(Object(a.urlResolve)("project-dashboard",{url:{pid:e}}))}),R(this,"handleExpandSection",e=>{b.default.expandSections([e])}),R(this,"handleCollapseSection",e=>{b.default.collapseSections([e])}),R(this,"handleConvertTagToSection",e=>{b.default.convertTagToSection({tag:e})}),R(this,"handleGenerateTagShortlink",e=>{const{barrel:{id:t}}=this.state,n=Object(a.urlResolve)("project-dashboard",{url:{pid:t},query:{tag:e}});Object(u.fetchShortlink)(n)}),R(this,"handleCopyTagWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(a.urlResolve)("project-dashboard",{url:{pid:n},query:{tag:e}});Object(r.copyContent)({content:Object(u.getShortlink)(i),toastContainer:t})}),R(this,"handleCopyTagAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${d.ZPL_PROTOCOL}//project?pid=${n}&tag=${e}`;Object(r.copyContent)({content:i,toastContainer:t})}),R(this,"handleDeleteTag",e=>{v.default.removeTag({tag:e,syncWithApi:!0})}),R(this,"handleCopySectionWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(a.urlResolve)("project",{url:{bid:n},query:{seid:e}});Object(r.copyContent)({content:Object(u.getShortlink)(i),toastContainer:t})}),R(this,"handleCopySectionAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${d.ZPL_PROTOCOL}//project?pid=${n}&seid=${e}`;Object(r.copyContent)({content:i,toastContainer:t})}),R(this,"handleCopyScreenWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(a.urlResolve)("project-screen",{url:{pid:n,sid:e}});Object(r.copyContent)({content:Object(u.getShortlink)(i),toastContainer:t}),mixpanel.master.track("Copied web link",{Target:"Screen",Source:"Project dashboard"})}),R(this,"handleCopyScreenAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${d.ZPL_PROTOCOL}//screen?pid=${n}&sid=${e}`;Object(r.copyContent)({content:i,toastContainer:t}),mixpanel.master.track("Copied app URI",{Target:"Screen",Source:"Project dashboard"})}),R(this,"handleCollapseAllSections",()=>{const e=y.a.getExpandedSectionIds();e.length>0&&b.default.collapseSections(e)}),R(this,"handleExpandAllSections",()=>{const e=y.a.getCollapsedSectionIds();e.length>0&&b.default.expandSections(e)}),R(this,"handleKeyDown",e=>{Object(r.isEditableElement)(e.target)||(e.keyCode===Zeplin.KEY_CODE.KeyT&&e.altKey&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),b.default.toggleFixedThumbnailSize()),Object(l.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),this.handleCollapseAllSections()):Object(l.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections()))}),R(this,"handleChangeSortType",e=>{const{sortType:t}=this.state;t!==e&&b.default.changeSortType(e)})}static calculateState(){const{loading:e,loadingJoin:t}=E.a.BarrelStore.getState();if(e)return{loading:e};const n=g.default.getBarrel(),i=g.default.findUser(),{userId:o}=E.a.UserStore.getState(),a=n.users.some(({user:e})=>e._id===o);if(n.partial||!a)return{loading:e,loadingJoin:t,barrel:n,isUserJoined:a};const r=E.a.DashboardStore.getState(),{highlightedScreens:s}=r,l=D(r,["highlightedScreens"]),{open:c}=E.a.MoveResourcesStore.getState();let d=1/0,u=null;const p=C.default.getVisibleScreens();return s.forEach(e=>{const t=p.findIndex(t=>t._id===e);-1!==t&&t<d&&(d=t,u=e)}),I({loading:e,loadingJoin:t,firstHighlightedScreen:u,highlightedScreens:s,moveResourcesPopupOpen:c,barrel:n,barrelUser:i,isUserJoined:a},l)}static getStores(){return[E.a.BarrelStore,E.a.DashboardStore,E.a.MoveResourcesStore,E.a.ProjectsDataStore,E.a.UserStore]}get toastContainer(){return this.nodeRefs.dashboardContainer}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e}=this.state;if(e)return{};const{barrel:{id:t,type:n}}=this.state;return I(I({},this.context),{},{barrelId:t,projectId:t,projectType:n})}render(){const{loading:e,loadingJoin:t,isUserJoined:n,barrel:a,barrelUser:r,sortType:l,filterValue:c,fixedThumbnailSize:d,sidebarWidth:u,tagFilter:g,jiraIssueFilter:S,collapsedSections:y,firstHighlightedScreen:C,highlightedScreens:v,highlightedSection:O,moveResourcesPopupOpen:E}=this.state;if(e)return i.h("div",{class:"dashboardContainer"},i.h(p.default.Loading,null),i.h(h.default,null));if(a.partial||!n)return i.h(f.default,{projectData:a,loadingJoin:t,requiredMinimumPadding:96,defaultPadding:108,hideJoinButton:!1,headerSticky:!0,onJoin:m.default.join});const{sortedSections:T,visibleTags:_}=Object(o.filterSortScreens)(a,l,{filterValue:c,tagFilter:g,jiraIssueFilter:S}),P=a&&a.integration?a.integration.jira:null,j=P&&P.attachments?Array.from(P.attachments.reduce((e,t)=>("project"!==t.type&&e.add(t.issueKey),e),new Set)):[];return i.h("div",{class:"dashboardContainer",ref:Object(s.default)(this,"dashboardContainer")},i.h(p.default,{componentRef:Object(s.default)(this,"projectOverview","componentRefs"),project:a,containerSelector:".projectOverview",userRole:r.role,fixedThumbnailSize:d,collapsedSections:y,sortedSections:T,visibleTags:_,filterValue:c,sortType:l,jiraIssueList:j,selectedJiraIssues:S,firstHighlightedScreen:C,highlightedScreens:v,highlightedSection:O,tagFilter:g,moveResourcesPopupOpen:E,onSort:this.handleChangeSortType,onFilter:this.handleFilter,onJiraIssueSelectionChange:this.handleJiraIssueSelectionChange,onResetJiraIssuesClick:this.handleResetJiraIssuesClick,onTagClick:this.handleTagClick,onOpenTagContextMenu:this.handleGenerateTagShortlink,onConvertTagToSection:this.handleConvertTagToSection,onCopyTagWebURL:this.handleCopyTagWebURL,onCopyTagAppURI:this.handleCopyTagAppURI,onCopySectionWebURL:this.handleCopySectionWebURL,onCopySectionAppURI:this.handleCopySectionAppURI,onCopyScreenWebURL:this.handleCopyScreenWebURL,onCopyScreenAppURI:this.handleCopyScreenAppURI,onDownloadScreensOfTag:b.default.downloadScreensOfTag,onDeleteTag:this.handleDeleteTag,onResetTagsClick:this.handleResetTagsClick,onExpandSection:this.handleExpandSection,onCollapseSection:this.handleCollapseSection,onSectionClickFromElevator:b.default.highlightSection}),i.h(h.default,{width:u,onRelease:b.default.changeSidebarWidth}))}}const w=_()(Object(P.default)(A),{pure:!1});t.default=function(e){return i.h(j.SectionObserverProvider,null,i.h(w,e))}},function(e,t,n){"use strict";n.r(t);var i=n(1189);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1190),a=n(1191),r=n(230),s=n(245),l=n(416),c=n(1192),d=n(875),u=n(1215),p=n(1221),h=n(1224),f=n(1227),g=n(1230),m=n(1238),b=n(1261),S=n(386);n(1264);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){const{canManageScreens:t}=e;return i.h("div",{class:"projectOverviewTagsEmpty"},i.h("span",null,"Tags:"),t?i.h("span",null,"Organize your screens using tags. Right click a screen to add one!"):i.h("span",null,"Organization ",Object(s.getUserRoleString)("rook"),"s or higher can organize screens using tags."))}function v(e,t){const n=e.screens.filter(e=>e.tags&&e.tags.includes(t));return 0!==n.length&&n.every(t=>{const n=e.findScreenSection(t._id);return e.isDefaultSection(n._id)})}class O extends i.Component{constructor(...e){super(...e),y(this,"state",{dragging:!1}),y(this,"handleStartDrag",()=>{this.setState({dragging:!0})}),y(this,"handleEndDrag",()=>{this.setState({dragging:!1})}),y(this,"handleSectionReorder",({sourceId:e,moveIndex:t})=>{S.default.updateSectionOrder({seid:e,index:t-1,syncWithApi:!0})})}highlightSectionDescription(e){this.componentRefs.dashboardSections.highlightSectionDescription(e)}highlightSectionName(e){this.componentRefs.dashboardSections.highlightSectionName(e)}isFilterActive(){return!!this.props.filterValue}isSortActive(){return this.props.sortType!==r.SortTypes.SECTIONS}isTagFilterActive(){const{tagFilter:e}=this.props;return e.tags.length>0||e.untagged}isJiraIssueFilterActive(){const{selectedJiraIssues:e}=this.props;return e.length>0}getChildContext(){return{projectOverviewDragging:this.state.dragging,filterActive:this.isFilterActive(),sortActive:this.isSortActive(),tagFilterActive:this.isTagFilterActive(),jiraIssueFilterActive:this.isJiraIssueFilterActive()}}componentDidUpdate(e){this.props.project.id!==e.project.id&&a.default.clear()}renderTags(){const{project:e,tagFilter:t,filterValue:n,visibleTags:o,onTagClick:a,onOpenTagContextMenu:r,onConvertTagToSection:s,onCopyTagWebURL:l,onCopyTagAppURI:c,onDownloadScreensOfTag:d,onDeleteTag:u}=this.props,{canManageScreens:p}=this.context,h=!!n;return e.tags.length?i.h("div",{class:"projectOverviewTags"},o.map(n=>i.h(b.default,{key:n,tag:n,disabled:h,contextMenuDisabled:!p,selected:t.tags.includes(n),canCreateSectionFromTag:v(e,n),onClick:a,onOpenContextMenu:r,onCopyWebURL:l,onCopyAppURI:c,onDownloadScreenImages:d,onConvertToSection:s,onDelete:u})),i.h(b.default,{untagged:!0,disabled:h,selected:t.untagged,onClick:a})):i.h(C,{canManageScreens:p})}render(){const{canManageScreens:e}=this.context,{project:t,sortedSections:n,userRole:o,containerSelector:a,fixedThumbnailSize:r,filterValue:s,sortType:f,jiraIssueList:b,selectedJiraIssues:S,tagFilter:y,collapsedSections:C,firstHighlightedScreen:v,highlightedScreens:O,highlightedSection:E,moveResourcesPopupOpen:T,onFilter:_,onSort:P,onJiraIssueSelectionChange:j,onExpandSection:D,onCollapseSection:k,onCopySectionWebURL:I,onCopySectionAppURI:R,onCopyScreenWebURL:A,onCopyScreenAppURI:w,onResetJiraIssuesClick:N,onResetTagsClick:L,onSectionClickFromElevator:x}=this.props,{dragging:M}=this.state;if(!t.screens||!t.screens.length)return i.h(m.default,null);const U=this.isFilterActive()||this.isSortActive()||this.isTagFilterActive()||this.isJiraIssueFilterActive(),B=!e||U;return i.h("div",{class:"projectOverview"},i.h(p.default,{filterValue:s,selectedSortType:f,onSort:P,onJiraIssueSelectionChange:j,jiraIssueList:b,selectedJiraIssues:S,onFilter:_,searchDisabled:M,sections:n,onSectionClick:x,sectionReorderEnabled:!B,onSectionReorder:this.handleSectionReorder}),i.h(d.default,{class:"projectOverviewDragDropContainer",noScroll:T,itemsClass:"projectOverviewDragDropItems",onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,disabled:B},this.renderTags(),n.length?i.h(i.Fragment,null,i.h(c.default,{ref:Object(l.default)(this,"dashboardSections","componentRefs"),collapsedSections:C,firstHighlightedScreen:v,highlightedScreens:O,highlightedSection:E,filterValue:s,fixedThumbnailSize:r,onExpandSection:D,onCollapseSection:k,onCopySectionWebURL:I,onCopySectionAppURI:R,onCopyScreenWebURL:A,onCopyScreenAppURI:w,sections:n,userRole:o,projectThumbnail:t.thumbnail,projectId:t.id,containerSelector:a}),T&&i.h(g.default,{key:"moveResourcesContainer"})):i.h(u.default,{tags:y.tags,selectedJiraIssues:S,untagged:y.untagged,onResetJiraIssuesClick:N,onResetTagsClick:L})),i.h(h.default,null))}}const E=Object(o.default)(O);E.Loading=f.default,t.default=E},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245);t.default=function(Component){return class extends i.Component{getChildContext(){const{userRole:e}=this.props;if(!e)return null;const t={role:e};return{canUpdateProject:o.permissions.canUpdateProject(t),canManageScreens:o.permissions.canManageScreens(t),canMoveScreens:o.permissions.canMoveScreens(t)}}render(){const e=Object.assign({},this.props);return delete e.componentRef,i.h(Component,Object.assign({},e,{ref:this.props.componentRef}))}}}},function(e,t,n){"use strict";n.r(t),t.default=new Map},function(e,t,n){"use strict";n.r(t);var i=n(1193);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1194),a=n(550),r=n(416);class s extends a.default{highlightSectionDescription(e){const t=this.componentRefs[e];t&&t.highlightDescription()}highlightSectionName(e){const t=this.componentRefs[e];t&&t.highlightName()}render(){const{sections:e,projectThumbnail:t,fixedThumbnailSize:n,projectId:a,containerSelector:s,filterValue:l,collapsedSections:c,firstHighlightedScreen:d,highlightedScreens:u,highlightedSection:p,onExpandSection:h,onCollapseSection:f,onCopySectionWebURL:g,onCopySectionAppURI:m,onCopyScreenWebURL:b,onCopyScreenAppURI:S}=this.props;return i.h("div",{class:"projectOverviewSections"},e.map((e,y)=>i.h(o.default,{index:y,ref:Object(r.default)(this,e._id,"componentRefs"),id:e._id,key:e.key||e._id,name:e.name,collapsed:!!e.screens.length&&c[e._id],fixedThumbnailSize:n,firstHighlightedScreen:d,highlightedScreens:u,highlightedSection:p,onExpand:h,onCollapse:f,onCopySectionWebURL:g,onCopySectionAppURI:m,onCopyScreenWebURL:b,onCopyScreenAppURI:S,filterValue:l,actionsDisabled:e.actionsDisabled,screens:e.screens,description:e.description,containerSelector:s,projectThumbnail:t,projectId:a,defaultSection:"default"===e.type})))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1195);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),a=n(242),r=n(416),s=n(246),l=n(960),c=n(1005),d=n(386),u=n(1196),p=n(974),h=n(1197),f=n(971),g=n(886);n(1214);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"state",{addingDescription:!1}),b(this,"subscribedToObserver",!1),b(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),b(this,"highlightName",()=>{this.componentRefs.section.highlightName()}),b(this,"generateShortlink",()=>{const{projectId:e,id:t}=this.props,n=Object(a.urlResolve)("project",{url:{bid:e},query:{seid:t}});Object(l.fetchShortlink)(n)}),b(this,"getScreenThumbnailRef",e=>this.nodeRefs&&this.nodeRefs["screenThumbnail-"+e]),b(this,"registerToObserverIfReady",()=>{const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&!this.subscribedToObserver&&(e.observe(t),this.subscribedToObserver=!0)}),b(this,"handleEditDescriptionClick",e=>{e.stopPropagation(),this.highlightDescription()}),b(this,"handleAddDescriptionClick",e=>{e.stopPropagation(),this.setState({addingDescription:!0})}),b(this,"handleRenameSectionClick",e=>{e.stopPropagation(),this.highlightName()}),b(this,"handleCopyWebURL",e=>{e.stopPropagation();const{id:t,onCopySectionWebURL:n}=this.props;n(t),mixpanel.master.track("Copied web link",{Target:"Screen section"})}),b(this,"handleCopyAppURI",e=>{e.stopPropagation();const{id:t,onCopySectionAppURI:n}=this.props;n(t),mixpanel.master.track("Copied app URI",{Target:"Screen section"})}),b(this,"handleDownloadScreenImagesClick",e=>{e.stopPropagation(),d.default.downloadScreensOfSection(this.props.id)}),b(this,"handleDeleteClick",e=>{e.stopPropagation();const{id:t}=this.props;d.default.removeSection({seid:t,syncWithApi:!0})}),b(this,"handleMoveScreenClick",(e,t)=>{u.default.open({targetNode:t,resourceId:e,resourceType:"screen"})}),b(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{id:t}=this.props;u.default.open({targetNode:this.nodeRefs.optionsButton,resourceId:t,resourceType:"section"})}),b(this,"handleNameBlur",({discard:e,value:t})=>{const{id:n,name:i}=this.props;if(e)return void(n.startsWith("newSection")?d.default.removeSection({seid:n}):d.default.renameSection({seid:n,name:i}));const o=t.trim();if(n.startsWith("newSectionFromSplit"))d.default.createSection({seid:n,name:o});else if(i!==o){if(o===i)return;d.default.renameSection({seid:n,name:o,syncWithApi:!0,onError:this.highlightName})}}),b(this,"handleDescriptionBlur",({discard:e,value:t})=>{this.state.addingDescription&&this.setState({addingDescription:!1});const{id:n,description:i}=this.props;if(e)return void d.default.updateSectionDescription({seid:n,description:i});const o=t.trim();o!==i&&d.default.updateSectionDescription({seid:n,description:o,syncWithApi:!0,onError:this.highlightDescription})}),b(this,"handleSectionHeaderDrop",(e,t,n)=>{t!==n&&d.default.updateSectionOrder({seid:e,index:n,syncWithApi:!0})}),b(this,"handleScreenThumbnailDrop",(e,t)=>{d.default.updateScreenOrder({screens:[e],targetSectionId:t,syncWithApi:!0})}),b(this,"handleScreenThumbnailRef",(e,t)=>{Object(r.default)(this,"screenThumbnail-"+e)(t)}),b(this,"renderOptionsMenu",()=>{const{description:e,screens:t}=this.props,{canManageScreens:n,canMoveScreens:a}=this.context,r=e?i.h(f.default.Item,{onClick:this.handleEditDescriptionClick},"Edit description"):i.h(f.default.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(f.default,{onOpen:this.generateShortlink,onMouseDown:o.stopPropagation},n&&[r,i.h(f.default.Item,{key:"renameSection",onClick:this.handleRenameSectionClick},"Rename section"),i.h(f.default.ItemDivider,{key:"renameDivider"})],i.h(f.default.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(f.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),!!t.length&&[i.h(f.default.ItemDivider,{key:"downloadDivider"}),i.h(f.default.Item,{key:"downloadScreens",onClick:this.handleDownloadScreenImagesClick},"Download all screen images")],(n||a)&&i.h(f.default.ItemDivider,null),a&&!!t.length&&i.h(f.default.Item,{onClick:this.handleMoveSectionClick},"Move section to project…"),n&&i.h(f.default.Item,{onClick:this.handleDeleteClick,warning:!0},"Delete section"))})}componentDidMount(){const{id:e}=this.props;e.startsWith("newSectionFromSplit")&&this.highlightName(),this.registerToObserverIfReady()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription(),this.registerToObserverIfReady()}componentWillUnmount(){const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&e.unobserve(t)}render(){const{id:e,name:t,index:n,description:o,defaultSection:a,projectLastUpdated:l,projectThumbnail:u,fixedThumbnailSize:f,projectId:g,screens:m,containerSelector:b,actionsDisabled:S,filterValue:y,collapsed:C,firstHighlightedScreen:v,highlightedScreens:O,highlightedSection:E,onExpand:T,onCollapse:_,onCopyScreenWebURL:P,onCopyScreenAppURI:j}=this.props;if(a&&!m.length)return null;const{addingDescription:D}=this.state,{canManageScreens:k}=this.context,I=Object(s.pluralize)(m.length,"screen")+" collapsed",R=this.renderOptionsMenu(),A=D?c.DEFAULT_DESCRIPTION:o;return i.h(p.DragDropScreenThumbnailSection,{type:c.SCREEN_THUMBNAIL_SECTION,optionsButtonRef:Object(r.default)(this,"optionsButton"),componentRef:Object(r.default)(this,"section","componentRefs"),index:n,onExpand:T,onCollapse:_,collapsed:C,baseRef:Object(r.default)(this,"base"),emptyText:"No screens",empty:!m.length,class:"dashboardSection",headerClass:"dashboardSectionHeader",id:e,name:t,description:A,defaultSection:a,countInfoText:I,highlight:e===E,onDescriptionBlur:this.handleDescriptionBlur,onNameBlur:this.handleNameBlur,onHighlightEnd:d.default.unhighlightSection,actionsDisabled:S,readOnly:!k,optionsMenu:R,onScreenThumbnailDrop:this.handleScreenThumbnailDrop,onSectionHeaderDrop:this.handleSectionHeaderDrop},i.h("div",{class:"dashboardScreenGrid"},m.map((t,n)=>{const{snapshot:o}=t.versions[0],r=t.updated||l,s=u===o.url,c=t.tags&&0!==t.tags.length,d=v===t._id,p=O.includes(t._id),S=m[n-1],C=m[n+1];return i.h(h.default,{id:t._id,projectId:g,leftScreenId:S&&S._id,rightScreenId:C&&C._id,key:f?"fixed-"+t._id:t._id,screenThumbnailRef:this.handleScreenThumbnailRef,index:n,sectionId:e,scroll:d,highlight:p,hideLeftSectionDivider:0===n&&!a,hideRightSectionDivider:n===m.length-1,filterValue:y,class:"dashboardScreen",hasTag:c,updated:r,isProjectThumbnail:s,fixedSize:f,containerSelector:b,name:t.name,snapshotWidth:o.width,snapshotHeight:o.height,screenImageUrl:o.url,onCopyWebURL:P,onCopyAppURI:j,onMoveClick:this.handleMoveScreenClick,getScreenThumbnailRef:this.getScreenThumbnailRef})})))}}S.defaultProps={highlightedScreens:[]};t.default=e=>i.h(g.SectionObserverContext.Consumer,null,({sectionObserver:t})=>i.h(S,m({sectionObserver:t},e)))},function(e,t,n){"use strict";n.r(t);var i=n(305),o=n(269),a=n.n(o);const r={open({targetNode:e,resourceId:t,resourceType:n}){a.a.dispatcher.dispatch({type:i.default.OPEN,targetNode:e,resourceId:t,resourceType:n})},close(){a.a.dispatcher.dispatch({type:i.default.CLOSE})},move({barrelId:e,resource:t,resourceType:n,target:o,densityScale:r,platform:s}){a.a.dispatcher.dispatch({type:i.default.MOVE,barrelId:e,resource:t,resourceType:n,target:o,densityScale:r,platform:s,syncWithApi:!0})},moveScreen(e){const{spid:t,tpid:n,screen:o}=e;a.a.dispatcher.dispatch({type:i.default.MOVE_SCREEN,spid:t,tpid:n,screen:o})}};t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1198);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(550),a=n(1199),r=n(863),s=n(1191),l=n(954),c=n(416),d=n(245),u=n(242),p=n(960),h=n(376),f=n(386),g=n(382);class m extends o.default{constructor(e){super(e),this.state={loading:!0,source:"",sectionDividerPosition:"",sectionDividerTop:null,sectionDividerHeight:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.screenThumbnailObserver=Object(l.getThumbnailObserver)(e.containerSelector),this.generateShortlink=this.generateShortlink.bind(this),this.handleIntersection=this.handleIntersection.bind(this),this.handleScreenImageLoad=this.handleScreenImageLoad.bind(this),this.getContextMenuItems=this.getContextMenuItems.bind(this),this.openDeleteScreenDialog=this.openDeleteScreenDialog.bind(this),this.closeDeleteScreenDialog=this.closeDeleteScreenDialog.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleSetAsThumbnailClick=this.handleSetAsThumbnailClick.bind(this),this.handleDownloadScreenImageClick=this.handleDownloadScreenImageClick.bind(this),this.handleCopyWebLinkClick=this.handleCopyWebLinkClick.bind(this),this.handleCopyAppURIClick=this.handleCopyAppURIClick.bind(this),this.handleMoveClick=this.handleMoveClick.bind(this),this.handleShowLeftSectionDivider=this.handleShowLeftSectionDivider.bind(this),this.handleShowRightSectionDivider=this.handleShowRightSectionDivider.bind(this),this.handleScreenLinkMouseOver=this.handleScreenLinkMouseOver.bind(this),this.handleHideSectionDivider=this.handleHideSectionDivider.bind(this),this.handleSectionDividerClick=this.handleSectionDividerClick.bind(this),this.handleDragHover=Object(d.debounce)(this.handleDragHover,!0).bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleDrop=this.handleDrop.bind(this),this.handleDeleteDialogPositiveClick=this.handleDeleteDialogPositiveClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.showCannotDragToast=this.showCannotDragToast.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}get link(){const{projectId:e,id:t}=this.props;return Object(u.urlResolve)("project-screen",{url:{pid:e,sid:t}})}scroll(){this.nodeRefs.base.scrollIntoView()}calculateCubukPosition(e,t){const{getScreenThumbnailRef:n}=this.props;let i=e.height;if(t){const o=n(t).getBoundingClientRect();e.top===o.top&&(i=Math.min(e.height,o.height))}const o=Math.max(80,Math.min(240,Math.round(i-60)));return{height:o,top:Math.max(0,Math.round((i-26-o)/2))}}generateShortlink(){Object(p.fetchShortlink)(this.link)}getContextMenuItems(){const{hasTag:e,isProjectThumbnail:t}=this.props,{canUpdateProject:n,canManageScreens:o,canMoveScreens:a}=this.context,s=e?i.h(r.default.Item,{key:"manageTags",onClick:this.handleManageTagsClick},"Manage tags…"):i.h(r.default.Item,{key:"addTag",onClick:this.handleManageTagsClick},"Add tag…");return[o&&s,n&&!t&&i.h(r.default.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnailClick},"Set as thumbnail"),i.h(r.default.Item,{key:"downloadImage",onClick:this.handleDownloadScreenImageClick},"Download screen image"),i.h(r.default.ItemDivider,{key:"copyDivider"}),i.h(r.default.Item,{key:"copyWeb",onClick:this.handleCopyWebLinkClick},"Copy web link"),i.h(r.default.Item,{key:"copyApp",onClick:this.handleCopyAppURIClick},"Copy App URI"),(a||o)&&i.h(r.default.ItemDivider,{key:"warningDivider"}),a&&i.h(r.default.Item,{key:"move",onClick:this.handleMoveClick},"Move screen to project…"),o&&i.h(r.default.Item,{key:"delete",onClick:this.openDeleteScreenDialog,warning:!0},"Delete screen")].filter(Boolean)}openDeleteScreenDialog(){this.setState({deleteDialogVisible:!0})}closeDeleteScreenDialog(){this.setState({deleteDialogVisible:!1})}showCannotDragToast(){const{filterActive:e,jiraIssueFilterActive:t,tagFilterActive:n,sortActive:i,showToast:o}=this.context;i?o({text:"Unselect sort option to reorder",source:"showCannotDragToast"}):t?o({text:"Unselect jira issues to reorder",source:"showCannotDragToast"}):n?o({text:"Unselect tags to reorder",source:"showCannotDragToast"}):e&&o({text:"Reset search to reorder",source:"showCannotDragToast"})}handleBaseRef(e){const{id:t,screenThumbnailRef:n}=this.props;Object(c.default)(this,"base")(e),n(t,e)}handleScreenImageLoad(){s.default.set(this.props.screenImageUrl),this.setState({loading:!1})}handleMouseDown(e){const{dragDisabled:t,canManageScreens:n}=this.context;t&&n&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.showCannotDragToast,300),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(){clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}handleIntersection(e){0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.state.source!==this.props.screenImageUrl&&this.setState({source:this.props.screenImageUrl})},{timeout:300}):cancelIdleCallback(this.cropTimeout)}handleNameBlur(e){const{value:t}=e.target,{id:n,name:i}=this.props;t!==i&&g.default.updateName({sid:n,name:t,syncWithApi:!0,onError:this.componentRefs.screenThumbnail.highlightName})}handleManageTagsClick(e){e.stopPropagation(),g.default.openTagManager(this.props.id)}handleSetAsThumbnailClick(){h.default.updateThumbnail({thumbnail:this.props.screenImageUrl,syncWithApi:!0})}handleDownloadScreenImageClick(){f.default.downloadScreen(this.props.id)}handleCopyWebLinkClick(){const{id:e,onCopyWebURL:t}=this.props;t(e)}handleCopyAppURIClick(){const{id:e,onCopyAppURI:t}=this.props;t(e)}handleMoveClick(e){e.stopPropagation();const{id:t,onMoveClick:n}=this.props;n(t,this.nodeRefs.base)}handleDeleteDialogPositiveClick(){const{id:e}=this.props;g.default.removeScreen({sid:e,syncWithApi:!0})}handleShowSectionDivider(e,t){const{projectOverviewDragging:n,sortActive:i,filterActive:o,tagFilterActive:a}=this.context;if(n||i||o||a)return;const r=this.nodeRefs.base.getBoundingClientRect(),s=this.calculateCubukPosition(r,e);this.setState(Object(d.getStateUpdateFunction)({sectionDividerPosition:t,sectionDividerHeight:s.height,sectionDividerTop:s.top}))}handleShowLeftSectionDivider(){this.handleShowSectionDivider(this.props.leftScreenId,"left")}handleShowRightSectionDivider(){this.handleShowSectionDivider(this.props.rightScreenId,"right")}handleHideSectionDivider(){this.setState({sectionDividerPosition:"",sectionDividerHeight:null,sectionDividerTop:null})}handleSectionDividerClick(){const{id:e,rightScreenId:t}=this.props,{sectionDividerPosition:n}=this.state;let i;"left"===n?i=e:t&&(i=t),i&&(f.default.splitSection(i),this.handleHideSectionDivider())}handleScreenLinkMouseOver(){const{highlight:e,id:t}=this.props;e&&f.default.unhighlightScreen(t)}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftScreenId;n&&(i=this.props.rightScreenId);const o=this.calculateCubukPosition(t,i);this.setState(Object(d.getStateUpdateFunction)({moveCubukPosition:n?"right":"left",moveCubukHeight:o.height,moveCubukTop:o.top}))}handleDragHoverOut(){this.setState(Object(d.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}handleDrop({mirrorPosition:e,sourceId:t,sourceIndex:n,sourceSectionId:i,targetIndex:o,targetSectionId:a}){const r=this.nodeRefs.base.getBoundingClientRect(),s=e.left>r.left+r.width/2?"right":"left";let l=o;i===a?(n>o&&"right"===s&&(l=o+1),n<o&&"left"===s&&(l=o-1)):"right"===s&&(l=o+1),i===a&&n===l||f.default.updateScreenOrder({screens:[t],targetSectionId:a,targetIndex:l,syncWithApi:!0})}componentDidMount(){this.screenThumbnailObserver.observe(this.nodeRefs.base,this.handleIntersection);const{scroll:e}=this.props;e&&this.scroll()}componentDidUpdate(e){const{scroll:t}=this.props,{scroll:n}=e;!n&&t&&this.scroll()}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.screenThumbnailObserver.unobserve(this.nodeRefs.base)}render(){const{id:e,updated:t,name:n,class:o,fixedSize:r,snapshotWidth:l,snapshotHeight:d,screenImageUrl:u,containerSelector:p,filterValue:h,index:f,sectionId:g,highlight:m,hideLeftSectionDivider:b,hideRightSectionDivider:S}=this.props,{loading:y,source:C,sectionDividerPosition:v,sectionDividerTop:O,sectionDividerHeight:E,moveCubukPosition:T,moveCubukTop:_,moveCubukHeight:P,deleteDialogVisible:j}=this.state,{canManageScreens:D}=this.context,k=s.default.has(u),I=this.getContextMenuItems(),R=C||(k?u:"");return i.h(a.default,{id:e,filterValue:h,index:f,sectionId:g,link:this.link,class:o,updated:t,name:n,highlight:m,baseRef:this.handleBaseRef,componentRef:Object(c.default)(this,"screenThumbnail","componentRefs"),readOnly:!D,fixedSize:r,hideLeftSectionDivider:!D||b,hideRightSectionDivider:!D||S,onScreenLinkMouseOver:this.handleScreenLinkMouseOver,onShowLeftSectionDivider:this.handleShowLeftSectionDivider,onShowRightSectionDivider:this.handleShowRightSectionDivider,onHideSectionDivider:this.handleHideSectionDivider,onSectionDividerClick:this.handleSectionDividerClick,sectionDividerPosition:v,sectionDividerTop:O,sectionDividerHeight:E,moveCubukPosition:T,moveCubukHeight:P,moveCubukTop:_,snapshotWidth:l,snapshotHeight:d,source:R,loading:y,contextMenuItems:I,onContextMenu:this.generateShortlink,containerSelector:p,deleteDialogVisible:j,onDeleteDialogPositiveClick:this.handleDeleteDialogPositiveClick,onDeleteDialogNegativeClick:this.closeDeleteScreenDialog,onDeleteDialogClose:this.closeDeleteScreenDialog,onHover:this.handleDragHover,onDrop:this.handleDrop,onMouseDown:this.handleMouseDown,onHoverOut:this.handleDragHoverOut,onNameBlur:this.handleNameBlur,onScreenImageLoad:this.handleScreenImageLoad,onIntersection:this.handleIntersection})}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1200);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(599),a=n(1201),r=n(1204),s=n(863),l=n(918),c=n.n(l),d=n(416),u=n(395),p=n(245),h=n(1210),f=n(956),g=n(753),m=n(875);n(1213);class b extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.highlightName=this.highlightName.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.renderContextMenu=this.renderContextMenu.bind(this)}highlightName(){this.componentRefs.screenName.highlight()}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleBaseRef(e){Object(d.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}renderDialogs(){const{deleteDialogVisible:e,name:t,onDeleteDialogPositiveClick:n,onDeleteDialogNegativeClick:o,onDeleteDialogClose:a}=this.props;if(e)return i.h(g.BasicOverlayDialog,{title:`Delete "${t}"?`,message:"Deleted screens cannot be restored.",onPositiveButtonClick:n,onNegativeButtonClick:o,onClose:a,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}renderContextMenu(){const{contextMenuItems:e=[],onContextMenu:t}=this.props,{contextMenu:n}=this.state;return i.h(s.default.withAutoPosition,{class:"screenThumbnailContextMenu",onMouseDown:p.stopPropagation,autoPosition:{sidebar:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:n},onOpen:t,onClose:this.handleContextMenuClose},e)}render(){const{id:e,link:t,updated:n,name:s,readOnly:l,fixedSize:g,snapshotWidth:m,snapshotHeight:b,source:S,class:y,onNameBlur:C,onScreenImageLoad:v,loading:O,filterValue:E,dragging:T,highlight:_,hideLeftSectionDivider:P,hideRightSectionDivider:j,sectionDividerPosition:D,sectionDividerTop:k,sectionDividerHeight:I,onShowLeftSectionDivider:R,onShowRightSectionDivider:A,onHideSectionDivider:w,onSectionDividerClick:N,onScreenLinkMouseOver:L,onMouseDown:x,moveCubukPosition:M,moveCubukHeight:U,moveCubukTop:B}=this.props,{contextMenu:z}=this.state,V=g?200:Math.min(Math.round(240/m*b),520);return i.h("div",{class:"screenThumbnailSectionDividerWrapper"},i.h("div",{class:"screenThumbnailPaddingArea left",onMouseDown:p.stopPropagation,onMouseEnter:R,onMouseLeave:w,style:{height:V}},!P&&"left"===D&&i.h(h.default,{top:k,height:I,onClick:N}),"left"===M&&i.h(f.default,{top:B,height:U})),i.h("div",{class:Object(u.default)("screenThumbnail",{dragging:T},y),ref:this.handleBaseRef,onMouseDown:x,key:e},z&&this.renderContextMenu(),i.h(a.default,{loading:O,dragging:T,highlight:_,href:t,onContextMenu:this.handleContextMenu,onMouseOver:L},i.h(c.a,{source:S,width:240,height:V,onLoad:v,class:"screenImage"})),i.h("div",{class:"screenInfo"},i.h(r.default,{class:"screenName",ref:Object(d.default)(this,"screenName","componentRefs"),matchValue:E,discardOnESC:!0,blurOnEnter:!0,ellipsized:!0,value:s,onBlur:C,readOnly:l,minLength:"1",maxLength:"100",required:!0}),i.h(o.default,{type:"time-ago",format:"micro",class:"screenLastUpdated ellipsis",datetime:n}))),i.h("div",{class:"screenThumbnailPaddingArea right",onMouseDown:p.stopPropagation,onMouseEnter:A,onMouseLeave:w,style:{height:V}},!j&&"right"===D&&i.h(h.default,{top:k,height:I,onClick:N}),"right"===M&&i.h(f.default,{top:B,height:U})),this.renderDialogs())}}var Component;t.default=Object(p.pipe)(Object(m.DragSource)({itemType:"ScreenThumbnail",mirrorComponent:({source:e,imgHeight:t})=>i.h(c.a,{source:e,width:240,height:t,class:"screenThumbnailMirror"}),provideDragData:e=>{const{id:t,index:n,sectionId:i,source:o,snapshotWidth:a,snapshotHeight:r,fixedSize:s}=e;return{id:t,index:n,sectionId:i,source:o,imgHeight:s?200:Math.min(Math.round(240/a*r),520)}}}),Object(m.DropTarget)({acceptsItemType:"ScreenThumbnail",onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId}),onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut()}))((Component=b,e=>{const t=Object.assign({},e,{ref:e.componentRef});return delete t.componentRef,i.h(Component,t)}))},function(e,t,n){"use strict";n.r(t);var i=n(1202);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(1203);t.default=function({loading:e,dragging:t,highlight:n,href:a,onContextMenu:r,onMouseOver:s,children:l}){return i.h("a",{class:Object(o.default)("screenThumbnailLink",{loading:e,dragging:t,highlight:n}),onContextMenu:r,onMouseOver:s,href:a,"data-link-type":"inApp"},l)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1205);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1206),a=n(244),r=n(395),s=n(416);n(1209);class l extends i.Component{constructor(e){super(e),this.state={value:e.value,focusWithin:!1,hasHover:!1},this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}highlight(){Object(a.highlightInput)(this.nodeRefs.input)}handleMouseEnter(e){this.props.onMouseEnter&&this.props.onMouseEnter(e),this.setState({hasHover:!0})}handleMouseLeave(e){this.props.onMouseLeave&&this.props.onMouseLeave(e),this.setState({hasHover:!1})}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}handleFocus(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focusWithin:!0})}handleBlur(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focusWithin:!1})}componentWillReceiveProps(e){this.state.focusWithin||e.value===this.state.value||this.setState({value:e.value})}render(){const{value:e,focusWithin:t,hasHover:n}=this.state,{matchValue:l}=this.props,c=Object.assign({},this.props,{value:e,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus,inputRef:Object(s.default)(this,"input","nodeRefs")});delete c.matchValue,delete c.style,delete c.class;const d=l&&e&&!t&&!n;return i.h("div",{class:Object(r.default)("highlightTextInput",this.props.class),style:this.props.style,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d?i.h("div",{class:"inputMirror ellipsis",dangerouslySetInnerHTML:{__html:Object(a.highlightMatchedParts)(e,l,{caseInsensitive:!0,excludeZeroScore:!0})}}):i.h(o.default,c))}}l.defaultProps={value:""},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1207);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(550),a=n(395),r=n(5),s=n.n(r);n(1208);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class c extends o.default{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this)}handleKeyDown(e){this.props.discardOnESC&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.target.value=this.props.value,e.target.blur(),e.preventDefault()),this.props.blurOnEnter&&e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault()),this.props.onKeyDown&&this.props.onKeyDown(e)}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.stopPropagation()}render(){const{prefix:e,suffix:t,blurOnEnter:n,discardOnESC:o,class:r,ellipsized:s,inputRef:c,type:d}=this.props,u=Object.assign({},this.props);return delete u.class,delete u.inputRef,delete u.ellipsized,delete u.blurOnEnter,delete u.discardOnESC,delete u.prefix,delete u.suffix,(n||o)&&(u.onKeyDown=this.handleKeyDown),s&&(u.class="ellipsis"),i.h("div",{class:Object(a.default)("textInput",r,{withPrefix:!!e,withSuffix:!!t}),onMouseDown:this.handleMouseDown,"data-suffix":t,"data-prefix":e},i.h("input",l({},u,{type:d,ref:c})))}}c.propTypes={suffix:s.a.string,prefix:s.a.string,inputRef:s.a.func,ellipsized:s.a.bool,blurOnEnter:s.a.bool,discardOnESC:s.a.bool},c.defaultProps={type:"text"},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1211);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(438);n(1212);t.default=function(e){const{onClick:t,height:n,top:a,left:r}=e;return i.h("button",{class:"sectionDivider",onClick:t,style:{height:n,top:a,left:r}},i.h("div",null),i.h(o.IconDivider,{class:"iconDivider noSelect"}),i.h("div",null))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1216);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1217);n(1220);function a(e){const{mainContent:t,subContent:n,actionButtonText:o,onActionButtonClick:a}=e;return i.h("div",{class:"emptySectionsWithActionButton"},i.h("h1",null,t),n&&i.h("h2",null,n),i.h("button",{type:"button",onClick:a},o))}t.default=function(e){const{tags:t,untagged:n,selectedJiraIssues:r,onResetJiraIssuesClick:s,onResetTagsClick:l}=e;return r.length?i.h(a,{mainContent:"There are no screens with the selected Jira issues.",actionButtonText:"Reset Jira issues",onActionButtonClick:s}):t.length?i.h(a,{mainContent:"There are no screens with the selected tags.",actionButtonText:"Reset tags",onActionButtonClick:l}):n?i.h(a,{mainContent:"There are no untagged screens.",subContent:"Good job! Looks like you’re well organized. 😎",onResetTagsClick:l}):i.h(o.default,{text:"No screens with this name 🤷‍♀️"})}},function(e,t,n){"use strict";n.r(t);var i=n(1218);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1219);t.default=function({text:e}){return i.h("div",{class:"filterEmptySections"},e)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1222);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(867),a=n(509),r=n(873),s=n(230);n(1223);const l=[{label:"Sort by Sections",dropdownLabel:"Sections",value:s.SortTypes.SECTIONS},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:s.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:s.SortTypes.NAME}];function c({onSort:e,onJiraIssueSelectionChange:t,selectedSortType:n,selectedJiraIssues:o,jiraIssueList:s,sections:c,sectionReorderEnabled:d,onSectionClick:u,onSectionReorder:p}){const h=c.length>=3;return i.h(i.Fragment,null,h&&i.h(r.default,{sections:c,onSectionClick:function(e){u(e)},onSectionReorder:p,selectedSortType:n,reorderEnabled:d}),i.h(a.default,{class:"screensSortDropdown",onChange:e,optionsClass:"screensSortOptions"},l.map(({label:e,dropdownLabel:t,value:o,class:r})=>i.h(a.default.Item,{class:r,key:o,value:o,label:e,dropdownLabel:t,selected:o===n}))),s&&s.length>0&&i.h(a.default,{class:"screensSortDropdown",optionsClass:"jiraIssueFilterOptions",defaultLabel:"Jira Issue",multiSelect:!0,onChange:t},s.map(e=>i.h(a.default.Item,{key:e,label:e,value:e,selected:o.includes(e)}))))}t.default=function({onFilter:e,onSort:t,onJiraIssueSelectionChange:n,selectedJiraIssues:a,selectedSortType:r,jiraIssueList:s,filterValue:l,searchDisabled:d,sections:u,onSectionClick:p,sectionReorderEnabled:h,onSectionReorder:f}){return i.h(o.default,{class:"screensFilterSortView",onFilter:e,filterValue:l,searchPlaceholder:"Search for a screen",searchPlaceholderWidth:128,searchDisabled:d,leftContent:i.h(c,{onSort:t,onJiraIssueSelectionChange:n,selectedSortType:r,selectedJiraIssues:a,jiraIssueList:s,sections:u,onSectionClick:p,sectionReorderEnabled:h,onSectionReorder:f})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1225);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(438),a=n(400),r=n(227),s=n(376);n(1226);t.default=function(){const e=Object(r.getOS)()===r.OS.MAC?"⌥J":"Alt+J";return i.h(a.default,{secondary:!0,class:"jumpToButton",onClick:s.default.openJumpToPopup},i.h(o.IconMagnifier,null),i.h("span",{class:"label"},"Jump to"),i.h("span",{class:"shortcut"},e))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1228);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1229);function o(){return i.h("div",{class:"projectOverviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"tagsLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"screenGridLoading"},i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1231);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),a=n(241),r=n(505),s=n.n(r),l=n(361),c=n(1196),d=n(269),u=n.n(d),p=n(1232);function h(e,t,n){const{_id:i,type:a,densityScale:r}=t;return e.filter(e=>{const t=e._id!==i&&e.type===a&&(!e.densityScale||e.densityScale===r),s="active"===e.status;let l=!0;if(Object(o.isOrganizationProject)(e)){const t=e.users.find(({user:e})=>e._id===n);l=t&&o.permissions.canManageScreens(t)}return t&&s&&l}).sort(o.sortBy.name)}class f extends i.Component{constructor(e){super(e),this.handleMove=this.handleMove.bind(this),this.handleClose=this.handleClose.bind(this),this.state={spinnerIndex:-1,moveDialogOpen:!1}}static getStores(){return[u.a.OrganizationStore,u.a.ProjectsDataStore,u.a.BarrelStore,u.a.MoveResourcesStore,u.a.UserStore]}static calculateState(){const{open:e,targetNode:t,resourceId:n,resourceType:i}=u.a.MoveResourcesStore.getState();if(!e)return{open:!1};const{barrelId:a,loading:r,organizationId:s}=u.a.BarrelStore.getState();if(r)return{loading:!0};const{userId:c}=u.a.UserStore.getState(),{loading:d,loadingProfiles:p,organizations:f,organizationProfiles:g,organizationProjects:m}=u.a.OrganizationStore.getState();if(d||p)return{loading:!0};const{projects:b}=u.a.ProjectsDataStore.getState(),S=l.default.getBarrel(),y="screen"===i?S.findScreen(n):S.findSection(n),C=[];if("user"===s){C.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"});const e=h(m.user.map(e=>b[e]),S,c);C.push(...e.map(({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n})))}const v=("user"===s?Object.entries(m).filter(([e])=>"user"!==e).map(([e,t])=>({organization:f.find(({_id:t})=>t===e),profile:g[e],projects:t.map(e=>b[e])})):[{organization:f.find(({_id:e})=>e===s),profile:g[s],projects:m[s].map(e=>b[e])}]).filter(({organization:{status:e},profile:t})=>"active"===e&&o.permissions.canMoveScreens(t)).map(({organization:e,projects:t})=>({organization:e,projects:h(t,S,c)})).sort(({organization:e},{organization:t})=>o.sortBy.name(e,t));C.push(...v.flatMap(({organization:{name:e,_id:t},projects:n})=>[{type:"header",content:e+"’s Projects"},{type:"create",oid:t},...n.map(({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n}))]));const{type:O,name:E,densityScale:T}=S;return{loading:!1,barrelId:a,barrelName:E,platform:O,densityScale:T,open:e,targetNode:t,resourceType:i,resource:y,listItems:C}}getInteractiveItemAtIndex(e){const{listItems:t}=this.state;return t.filter(({type:e})=>"header"!==e)[e]}handleClose(){const{moveDialogOpen:e}=this.state;e||c.default.close()}handleMove(e){const{resourceType:t}=this.state,{barrelId:n,barrelName:i,platform:o,densityScale:r,resource:s}=this.state,l=this.getInteractiveItemAtIndex(e),d="create"===l.type?"a new project":`"${l.name}"`;this.setState({moveDialogOpen:!0}),a.create({message:`Move selected ${t} from "${i}" to ${d}?`,done:{name:"MOVE",cb:()=>{this.setState({spinnerIndex:e,moveDialogOpen:!1}),c.default.move({barrelId:n,resource:s,resourceType:t,target:l,densityScale:r,platform:o})}},cancel:{name:"KEEP",cb:()=>{this.setState({moveDialogOpen:!1}),c.default.close()}}})}render(){const{loading:e,platform:t,densityScale:n,spinnerIndex:o,listItems:a,open:r,targetNode:s,resourceType:l}=this.state;return r?i.h(p.default,{resourceType:l,targetNode:s,loading:e,platform:t,densityScale:n,spinnerIndex:o,listItems:a,onMove:this.handleMove,onClose:this.handleClose}):null}}t.default=s()(f)},function(e,t,n){"use strict";n.r(t);var i=n(1233);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(1234),a=n(537),r=n(245);n(1237);class s extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.handleMove=this.handleMove.bind(this),this.renderContent=this.renderContent.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}getInteractiveItemAtIndex(e){const{listItems:t}=this.props;return t.filter(({type:e})=>"header"!==e)[e]}getPosition(){const{resourceType:e}=this.props;return"section"===e?{top:0,left:0}:{top:78,left:172}}handleMove(e){const{spinnerIndex:t,onMove:n}=this.props;-1===t&&n(e)}renderProjectList(){const{loading:e,densityScale:t,platform:n,spinnerIndex:a,listItems:s}=this.props,l=Object(r.getPlatformString)(n);return e?i.h("div",{key:"projectListLoading",class:"projectListLoading"}):i.h(o.default,{key:"projectList",projectType:l,densityScale:t,items:s,spinnerIndex:a,onSelect:this.handleMove})}renderContent(){const{densityScale:e,platform:t}=this.props,n=Object(r.getPlatformString)(t),o=Object(r.getDensityScaleRepresentation)(t,e);return i.h("div",{class:"moveResourcesPopup"},i.h("p",null,"To keep asset sizes and measurements consistent, only ",i.h("strong",null,n)," projects with ",i.h("strong",null,o)," density are listed. Select one or create a new one to move the screen(s):"),this.renderProjectList())}render(){const{resourceType:e,targetNode:t,onClose:n}=this.props,o="section"===e,r="section"===e,s="section"===e,l="screen"===e,c="screen"===e,{top:d,left:u}=this.getPosition();return i.h(a.default,{targetNode:t,content:this.renderContent,showAnchor:r,anchorTop:-4,centerY:o,top:d,left:u,openToLeft:s,faceLeft:l,faceTop:c,stickToEdge:!0,open:!0,onClose:n})}}},function(e,t,n){"use strict";n.r(t);var i=n(1235);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(4),o=n(438),a=n(245),r=n(395),s=n(416),l=n(244);n(1236);class c extends i.Component{constructor(e){super(),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.itemCount=c.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}static getInteractiveItemCount(e){return e.filter(({type:e})=>"header"!==e).length}handleClick(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}handleKeyDown(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){if(e.stopPropagation(),this.lastX===e.clientX&&this.lastY===e.clientY)return;const t=e.target.closest("[data-index]");if(!t)return;const n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){this.itemCount=c.getInteractiveItemCount(e.items)}componentDidUpdate(){Object(l.scrollIfNecessary)(this.nodeRefs.base.querySelector(`[data-index="${this.state.selectedIndex}"]`))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderHeader(e){const{densityScale:t,projectType:n}=this.props,o=a.getDensityScaleRepresentation(n,t);return i.h("h3",{key:e},i.h("span",null,e)," ",i.h("span",null,"(",n,", ",o,")"))}renderProjectButton(e,t){const{spinnerIndex:n}=this.props,{selectedIndex:a}=this.state,s=t===a,l=Object(r.default)("newProjectButton",{selected:s});return i.h("div",{key:e,class:l,"data-index":t,"data-oid":e},i.h(o.IconPlus,{class:"iconPlus",circleColor:s?"#fff":"var(--cornflower-blue)",color:s?"var(--cornflower-blue)":"#fff"}),i.h("div",null,i.h("div",null,"New project"),i.h("div",null,"Create a new project and transfer screens")),t===n&&i.h(o.IconSpinner,{color:s?"#fff":"var(--gandalf)",class:"iconSpinner"}))}renderProjectItem(e,t,n,a){const{spinnerIndex:s}=this.props,{selectedIndex:l}=this.state,c=a===l,d=Object(r.default)("project",{odd:n,selected:c});return i.h("div",{key:e,class:d,title:t,"data-index":a},i.h("span",null,t),a===s&&i.h(o.IconSpinner,{color:c?"#fff":null,class:"iconSpinner"}))}renderItems(){const{items:e}=this.props;let t=0,n=!1;return e.map(e=>{switch(e.type){case"header":return this.renderHeader(e.content);case"create":return n=!1,this.renderProjectButton(e.oid,t++);case"project":return n=!n,this.renderProjectItem(e.pid,e.name,n,t++);default:return null}})}render(){return i.h("div",{ref:Object(s.default)(this,"base"),class:"projectList",onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onClick:this.handleClick},this.renderItems())}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1239);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(228),a=n(1240),r=n(1257);n(1260);function s(){const e=o.isWindowsApp?a.default:r.default;return i.h("div",{class:"noScreens"},i.h(e,null))}},function(e,t,n){"use strict";n.r(t);var i=n(1241);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(229),a=n(234),r=n(1242),s=n(1245),l=n(1248),c=n(1251);function d(e){e.preventDefault(),o.default.shell.openExternal(e.target.href)}class u extends i.Component{constructor(e){super(e),this.state={designTool:"photoshop"},this.handleDesignToolChange=this.handleDesignToolChange.bind(this)}handleDesignToolChange(e){const t=e.target.value;this.setState({designTool:t}),a.userPrefs.set("noScreensDesignToolSelection",t)}componentDidMount(){a.userPrefs.get("noScreensDesignToolSelection").then(e=>{this.setState({designTool:e})})}render(){const{designTool:e}=this.state;return i.h(r.default,{designTool:e,onDesignToolChange:this.handleDesignToolChange},i.h(r.default.Tab,{value:"figma",description:"Figma"},i.h(s.default,null)),i.h(r.default.Divider,null),i.h(r.default.Tab,{value:"xd",description:"Adobe XD"},i.h(l.default,null)),i.h(r.default.Divider,null),i.h(r.default.Tab,{value:"photoshop",description:"Photoshop"},i.h(c.default,{onExternalLinkClicked:d})))}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1243);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(1244);class a extends i.Component{get tabs(){return i.toChildArray(this.props.children)}renderTabs(){const{designTool:e,onDesignToolChange:t}=this.props;return this.tabs.map(n=>n?i.cloneElement(n,{onChange:t,designTool:e}):null)}renderActiveTabContent(){const{designTool:e}=this.props,t=this.tabs.find(t=>!!t&&t.props&&t.props.value===e);return t?t.props.children:null}render(){const{designTool:e}=this.props;return i.h("div",{class:Object(o.default)("noScreensElectron","designToolTabs",e)},i.h("h1",null,"Let’s start by exporting designs."),i.h("div",{class:"designToolSelection"},this.renderTabs()),this.renderActiveTabContent())}}a.Tab=function({onChange:e,designTool:t,value:n,description:o}){return i.h("label",null,i.h("input",{name:"noScreensElectronDesignTool",value:n,type:"radio",checked:t===n,onChange:e}),i.h("span",{class:"designToolName"},o))},a.Divider=()=>i.h("div",{class:"designToolDivider"}),t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1246);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(543);n(1247);const a=i.h("ol",{class:"figmaSteps"},i.h("li",null,i.h("div",null,"To get started, install the Zeplin plugin in Figma."),i.h("a",{class:"installPluginButton noSelect",href:"https://www.figma.com/community/plugin/745330164019088593/Zeplin",target:"_blank"},"Install plugin")),i.h("li",null,i.h("div",null,"In your Figma file, right-click anywhere in the canvas and "),i.h("div",null,"select ",i.h("strong",null,"“Plugins > Zeplin”:")),i.h(o.default,{asset:"img/imgFigmaPluginMenuIntegration.png"})),i.h("li",null,i.h("div",null,"Select frames and hit the ",i.h("strong",null,"“Export”")," button:"),i.h(o.default,{asset:"img/imgFigmaPluginMenuExport.png"})));t.default=function(){return i.h("div",{class:"figmaContainer"},i.h(o.default,{class:"figmaToZeplinImage",asset:"img/imgFigmaToZeplin.png"}),a)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1249);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(543),a=n(249);n(1250);const r=i.h("ol",{class:"xdSteps"},i.h("li",null,i.h("div",null,"Select and artboard/layer in your XD file.")),i.h("li",null,i.h("div",null,"Select ",i.h("strong",null,"“Zeplin”")," under ",i.h("strong",null,"“File > Export”"),":"),i.h(o.default,{class:"ssMenuExport",asset:"img/imgXDMenuExport.png"}),i.h("div",{class:"additionalInfo"},i.h("div",{class:"shortcutInfo"},i.h("img",{class:"emoji",src:a.imageUrl("img/emjPointUp@17w.png"),srcset:`${a.imageUrl("img/emjPointUp@34w.png")} 2x, ${a.imageUrl("img/emjPointUp@51w.png")} 3x`}),i.h("div",null,"You can use the shortcut ",i.h("strong",null,"Ctrl+Alt+E"),", on your next export.")),i.h(o.default,{class:"xdShortcut",asset:"img/icXDShortcut.png"}))));t.default=function(){return i.h("div",{class:"xdContainer"},i.h(o.default,{class:"xdToZeplinImage",asset:"img/imgXdToZeplin.png"}),r)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1252);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1253),a=n(249);n(1256);const r=[i.h("img",{class:"psLogo",src:a.imageUrl("img/icLogoPSNew.png"),srcset:a.srcset(a.imageUrl("img/icLogoPSNew.png"))}),i.h("img",{class:"psToZeplinLogo",src:a.imageUrl("img/icDashboardPSToZeplin.svg")})];function s({onExternalLinkClicked:e,longInstallPanelInfo:t}){return i.h("ol",{class:"photoshopSteps"},i.h("li",null,i.h("div",null,i.h("div",null,"Open your Photoshop file"))),i.h("li",null,i.h("div",null,"Select artboards (or layers in artboards) and click:"),i.h("img",{class:"ssDashboardEmpty",src:a.imageUrl("img/ss/ssDashboardEmpty.png"),srcset:a.srcset(a.imageUrl("img/ss/ssDashboardEmpty.png"))}),t?i.h("div",{class:"installPanelInfo"},"If you can’t see the panel under ",i.h("code",null,"“Window > Extensions > Zeplin”"),", check how it’s installed from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),"."):i.h("div",{class:"installPanelInfo"},"If you can’t see the panel, install it from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),".")))}t.default=function({onExternalLinkClicked:e,longInstallPanelInfo:t,withToolToZeplinMargin:n=!0}){return i.h("div",{class:"photoshopContainer"},i.h(o.default,{images:r,withMargin:n}),i.h(s,{onExternalLinkClicked:e,longInstallPanelInfo:t}))}},function(e,t,n){"use strict";n.r(t);var i=n(1254);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(249),a=n(395);n(1255);t.default=function({images:e,withMargin:t}){return i.h("div",{class:Object(a.default)("toolToZeplin",{withMargin:t})},e,i.h("img",{class:"zeplinLogo",src:Object(o.imageUrl)("img/icZeplin.svg")}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1258);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1259);function o(){return i.h("div",{class:"noScreensWebApp"},i.h("h1",null,"Here, you’ll see a list of screens after the designs are uploaded from Sketch, Adobe XD, Figma or Photoshop CC."),i.h("div",{class:"screenSilhouettes"},i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"})),i.h("p",null,"Screens can be uploaded from macOS or Windows apps",i.h("span",{class:"downloadApp"},", if you are a designer you can ",i.h("a",{href:"https://zpl.io/download"},"download them from here"),"!"),i.h("br",null),i.h("br",null),"To learn more about how to export from ",i.h("a",{href:"https://zpl.io/demo",target:"_blank",rel:"noopener noreferrer external"},"Sketch"),", ",i.h("a",{href:"https://www.youtube.com/watch?v=PI-0v40gc_8",target:"_blank",rel:"noopener noreferrer external"},"Adobe XD"),", ",i.h("a",{href:"https://www.youtube.com/watch?v=ASCFEK_VBVY",target:"_blank",rel:"noopener noreferrer external"},"Figma")," or ",i.h("a",{href:"https://www.youtube.com/watch?v=0cVbzq-Q43M",target:"_blank",rel:"noopener noreferrer external"},"Photoshop CC"),", follow the links for a short demo."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1262);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),a=n(227),r=n(416),s=n(863),l=n(395);n(1263);class c extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleCloseContextMenu=this.handleCloseContextMenu.bind(this),this.handleCopyWebURL=this.handleCopyWebURL.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDownloadScreenImages=this.handleDownloadScreenImages.bind(this),this.handleConvertToSection=this.handleConvertToSection.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleContextMenu(e){this.props.untagged||this.props.contextMenuDisabled||(e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}}),this.props.onOpenContextMenu(this.props.tag))}handleClick(e){const{untagged:t,tag:n,disabled:i}=this.props;i||this.props.onClick(t?null:n,Object(a.cmdKey)(e))}handleCloseContextMenu(){this.setState({contextMenu:null})}handleCopyWebURL(e){e.stopPropagation(),this.props.onCopyWebURL(this.props.tag),mixpanel.master.track("Copied web link",{Target:"Tag"})}handleCopyAppURI(e){e.stopPropagation(),this.props.onCopyAppURI(this.props.tag),mixpanel.master.track("Copied app URI",{Target:"Tag"})}handleDownloadScreenImages(e){e.stopPropagation(),this.props.onDownloadScreenImages(this.props.tag)}handleConvertToSection(e){e.stopPropagation(),this.props.onConvertToSection(this.props.tag)}handleDelete(e){e.stopPropagation(),this.props.onDelete(this.props.tag)}renderTagContextMenu(){const{canCreateSectionFromTag:e}=this.props,{contextMenu:t}=this.state;return i.h(s.default.withAutoPosition,{class:"tagContextMenu",onMouseDown:o.stopPropagation,autoPosition:{sidebar:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t},onClose:this.handleCloseContextMenu},e&&i.h(s.default.Item,{onClick:this.handleConvertToSection},"Convert to section"),e&&i.h(s.default.ItemDivider,{key:"copyDivider"}),i.h(s.default.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(s.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(s.default.ItemDivider,{key:"downloadDivider"}),i.h(s.default.Item,{onClick:this.handleDownloadScreenImages},"Download all screen images"),i.h(s.default.ItemDivider,{key:"warningDivider"}),i.h(s.default.Item,{onClick:this.handleDelete,warning:!0},"Delete tag"))}render(){const{tag:e,untagged:t,selected:n,disabled:o}=this.props,a=Object(l.default)("projectOverviewTag","noSelect",{selected:n,untagged:t,disabled:o});return i.h("button",{ref:Object(r.default)(this,"base"),onContextMenu:this.handleContextMenu,onClick:this.handleClick,class:a},i.h("div",{class:"tagName ellipsis"},t?"Untagged":e),this.state.contextMenu&&this.renderTagContextMenu())}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1266);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(550),a=n(1267),r=n(361),s=n(362),l=n(269),c=n.n(l),d=n(505),u=n.n(d),p=n(242),h=n(261),f=n.n(h),g=n(231),m=n(245);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class v extends o.default{static getExtensionState(){const{loading:e,extensions:t,enabledExtensions:n}=c.a.ExtensionsStore.getState();if(e)return{loadingExtensions:!0};const i=t.filter(({id:e})=>n.includes(e)).map(({name:e})=>e);return{loadingExtensions:!1,extensionTitles:i.length?Object(m.formatList)(i):"No extensions yet."}}static calculateState(){const e=c.a.BarrelStore.getState(),{loading:t,barrelType:n,barrelId:i}=e,o=C(e,["loading","barrelType","barrelId"]);if(t)return{loading:t};const a=r.default.findUser(),l=r.default.getBarrel(),{loadingSelectParent:d}=c.a.StyleguidesDataStore.getState(),{organizationId:u}=o,h=s.default.getOrganizationStyleguides(u)||[],m=Object(p.urlResolve)(n,{url:{bid:i}}),b=n===f.a.PROJECT?"pid":"stid",y=`${g.ZPL_PROTOCOL}//${n}?${b}=${i}`;let O;return l.public&&(O=Object(p.urlResolve)(n,{origin:g.SCENE_URL,url:{bid:i}})),S(S(S({loading:t,barrelType:n,barrelUser:a,webURL:m,sceneURL:O,appURI:y},o),v.getExtensionState()),{},{loadingSelectParent:d,currentOrganizationStyleguides:h,barrel:l})}static getStores(){return[c.a.BarrelStore,c.a.ProjectsDataStore,c.a.StyleguidesDataStore,c.a.ExtensionsStore,c.a.OrganizationStore,c.a.UserStore]}render(){const{width:e,onRelease:t}=this.props,{loading:n,organizationId:o,barrel:r,barrelType:s,barrelUser:l,webURL:c,sceneURL:d,appURI:u,loadingExtensions:p,extensionTitles:h,loadingSelectParent:f,currentOrganizationStyleguides:g}=this.state;return n?i.h(a.default.Loading,null):i.h(a.default,{width:e,onRelease:t,organizationId:o,barrel:r,barrelType:s,barrelUser:l,webURL:c,sceneURL:d,appURI:u,loadingExtensions:p,extensionTitles:h,loadingSelectParent:f,currentOrganizationStyleguides:g})}}const O=u()(v,{withProps:!0,pure:!1});t.default=O},function(e,t,n){"use strict";n.r(t);var i=n(1268);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(550),a=n(931),r=n.n(a),s=n(1269),l=n(245),c=n(395),d=n(906),u=n(416),p=n(1271),h=n(261),f=n.n(h),g=n(766),m=n(376),b=n(1166),S=n(1274),y=n(1275),C=n(1278),v=n(1281),O=n.n(v),E=n(606),T=n(1287),_=n(1303),P=n(1291),j=n(1294),D=n(1306),k=n(400),I=n(1315),R=n(1318),A=n(1326),w=n.n(A),N=n(511),L=n(1335),x=n(1338),M=n(1345),U=n(377),B=n(230),z=n(753),V=n(438);n(1348);function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends o.default{constructor(...e){super(...e),F(this,"state",{shareContentOpen:!1,membersDialogOpen:!1,invitePopupOpen:!1,densityDialogOpen:!1,selectParentDialogOpen:!1,removeParentDialogOpen:!1,selectedParentStyleguide:null}),F(this,"openMembersDialog",()=>{this.setState({membersDialogOpen:!0})}),F(this,"closeMembersDialog",()=>{this.setState({membersDialogOpen:!1})}),F(this,"openDensityDialog",()=>{this.setState({densityDialogOpen:!0})}),F(this,"closeDensityDialog",()=>{this.setState({densityDialogOpen:!1})}),F(this,"setInvitePopupAnchorPosition",()=>{const{inviteButton:e}=this.nodeRefs,t=s.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=n.top+n.height/2-t.top-11;s.anchor.classList.toggle("hidden",t.bottom<n.bottom)||(s.anchor.style.top=i+"px")}),F(this,"setInvitePopupPosition",Object(l.debounce)(()=>{s.element.style.transform="";const{inviteButton:e}=this.nodeRefs,t=s.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=(t.height-n.height)/2,o=n.top-i,a=n.bottom+n.height+i;let r;r=o>108&&a<window.innerHeight-12?i:n.top-108;const l=Math.max(n.top-r,12)-60;s.element.style.transform=`translate3d(0, ${l}px, 0)`,this.setInvitePopupAnchorPosition()})),F(this,"openSelectParentDialog",e=>{const{currentOrganizationStyleguides:t}=this.props,n=t.find(t=>t._id===e);this.setState({selectParentDialogOpen:!0,selectedParentStyleguide:n})}),F(this,"closeSelectParentDialog",()=>{this.setState({selectParentDialogOpen:!1,selectedParentStyleguide:null})}),F(this,"openRemoveParentDialog",()=>{this.setState({removeParentDialogOpen:!0})}),F(this,"closeRemoveParentDialog",()=>{this.setState({removeParentDialogOpen:!1})}),F(this,"toggleInvitePopup",e=>{e.stopPropagation(),s.isHidden()?this.openInvitePopup():this.closeInvitePopup()}),F(this,"handleRename",e=>{if(e===this.props.barrel.name)return;const{barrel:{id:t},barrelType:n}=this.props;m.default.updateName({bid:t,barrelType:n,name:e,syncWithApi:!0})}),F(this,"handleDensityScaleChange",e=>{if(e===this.props.densityScale)return;const{barrel:{id:t},barrelType:n}=this.props;m.default.updateDensityScale({bid:t,barrelType:n,densityScale:e,syncWithApi:!0})}),F(this,"handleRemoveIntegration",(e,t)=>{m.default.removeIntegration({intype:e,inid:t,syncWithApi:!0})}),F(this,"handleShareContentOpen",()=>{this.setState({shareContentOpen:!0})}),F(this,"handleShareContentClose",()=>{this.setState({shareContentOpen:!1})}),F(this,"handleDescriptionSubmit",e=>{if(e===this.props.barrel.description)return;const{barrel:{id:t},barrelType:n}=this.props;m.default.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})}),F(this,"handleMemberClick",e=>{this.highlightedMemberId=e,this.setState({membersDialogOpen:!0})}),F(this,"handleAddMembers",e=>{m.default.addMembers({members:e.detail.users,syncWithApi:!0})}),F(this,"handleRemoveMember",({user:{_id:e}})=>{m.default.removeMember({mid:e,syncWithApi:!0})}),F(this,"handleAssignAdmin",({user:{_id:e}})=>{m.default.updateUserRole({uid:e,role:"admin",syncWithApi:!0})}),F(this,"handleUnassignAdmin",({user:{_id:e}})=>{m.default.updateUserRole({uid:e,role:"user",syncWithApi:!0})}),F(this,"handleTransferOwnership",({user:{_id:e}})=>{m.default.transferOwnership({uid:e,syncWithApi:!0})}),F(this,"handleSelectParent",()=>{const{barrel:{id:e}}=this.props,{selectedParentStyleguide:t}=this.state;this.closeSelectParentDialog(),b.default.selectParentRequest({stid:e,parent:t._id,syncWithApi:!0})}),F(this,"handleRemoveParent",()=>{const{barrel:{id:e,parent:t}}=this.props;this.closeRemoveParentDialog(),b.default.removeParent({stid:e,oldParent:t,syncWithApi:!0})}),F(this,"handleShowPlanChooserOverlay",()=>{Object(g.showPlanChooserOverlay)("Members dialog")})}get isOrganizationProject(){const{barrel:e}=this.props;return Object(l.isOrganizationProject)(e)}get canUpdateBarrel(){const{barrelUser:e}=this.props;return l.permissions.canUpdateProject(e)}get jiraIntegration(){const{barrel:e}=this.props;return e&&e.integration?e.integration.jira:null}get slackChannels(){const{barrel:e}=this.props;let t;return e.integration&&e.integration.slacks&&e.integration.slacks.length&&(t=[...e.integration.slacks].reverse()),t}setInvitePopupState(e){this.setState({invitePopupOpen:e})}openInvitePopup(){const{barrel:e,barrelType:t,organizationId:n}=this.props,{id:i,users:o}=e,{sidebar:a}=this.nodeRefs;s.show({bt:t,popupContainer:a,bid:i,members:o,oid:n,onDismiss:e=>{this.setInvitePopupState(!1)}}),this.setInvitePopupPosition(),a.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),a.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.master.track("Showed invite user pop up",{Source:"Sidebar"}),this.setInvitePopupState(!0)}closeInvitePopup(){const{sidebar:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),s.dismiss(),this.setInvitePopupState(!1)}componentWillUnmount(){this.closeInvitePopup()}renderSelectParentDialog(){const{barrel:e}=this.props,{selectedParentStyleguide:t}=this.state,{name:n,type:o,parent:a}=e,{name:r,type:s}=t,l=o===s||s===B.PLATFORM.BASE,c=a?"Change":"Select",d=a?"to":"as",u=`“${n}”`+(l?"":` (${B.PlatformString[o]})`),p=`“${r}”`+(l?"":` (${B.PlatformString[s]})`);return i.h(z.BasicOverlayDialog,{title:`${c} parent styleguide of ${u} ${d} ${p}?`,message:"Styleguide parent can be changed later.",positiveButtonText:`${a?"CHANGE":"SELECT"}${l?"":" ANYWAY"}`,onPositiveButtonClick:this.handleSelectParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeSelectParentDialog})}renderRemoveParentDialog(){const{barrel:e}=this.props;return i.h(z.BasicOverlayDialog,{message:`Remove parent styleguide of “${e.name}”?`,positiveButtonText:"REMOVE PARENT",onPositiveButtonClick:this.handleRemoveParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeRemoveParentDialog})}renderDensityChangeAction(){if(!this.props.hover)return null;const{barrelUser:e}=this.props,t=this.canUpdateBarrel?"Update project density.":Object(d.default)(e.role,"update project density"),n=!this.canUpdateBarrel;return i.h(E.default,{content:t},i.h("button",{onClick:this.openDensityDialog,class:"changeDensityButton",disabled:n},i.h(V.IconEdit,{color:n?"#C1BEC1":"#554D56"})))}renderName(){const{barrel:e,barrelUser:t,barrelType:n}=this.props,{name:o}=e,a=i.h(C.default,{readonly:!this.canUpdateBarrel,onBlur:this.handleRename,value:o});return this.canUpdateBarrel?a:i.h(E.default,{content:Object(d.default)(t.role,`rename ${n}s`)},a)}renderDensityAndType(){const{barrel:e}=this.props,{type:t,densityScale:n}=e;return i.h("div",{class:"densityAndType"},i.h("div",{class:"info"},Object(l.getPlatformString)(t),", ",Object(l.getDensityScaleRepresentation)(t,n)),this.renderDensityChangeAction())}renderShareButton(){const{shareContentOpen:e}=this.state,{barrelUser:t,barrelType:n,webURL:o,sceneURL:a,appURI:r}=this.props,s=l.permissions.canChangeProjectAccesibility(t);return i.h(w.a,{popoverOpen:e,onPopoverOpen:this.handleShareContentOpen,onPopoverClose:this.handleShareContentClose,barrelType:n,webURL:o,sceneURL:a,appURI:r,onEnableScene:m.default.enableScene,onUnshare:m.default.unshareScene,canUserChangeBarrelAccesibility:s})}renderDescription(){const{barrel:e,barrelType:t}=this.props,{description:n}=e;return t===f.a.STYLEGUIDE?null:[i.h(P.default,{key:"descriptionSubtitle",class:"descriptionSubtitle",title:"Description"}),i.h("div",{key:"descriptionTextArea",class:"descriptionTextAreaContainer"},i.h(D.default,{class:"descriptionTextArea",value:n,placeholder:this.canUpdateBarrel?"Got any notes?":"No description yet",readOnly:!this.canUpdateBarrel,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,autoEdit:!0,formatter:p.formatTextArea,showEmojiAutoComplete:!0,maxLength:1024})),i.h(_.default,{key:"descriptionSeparator"})]}renderMembers(){const{barrel:e,barrelUser:t,barrelType:n,organizationId:o}=this.props,{membersDialogOpen:a}=this.state,{id:r,name:s,users:l}=e;let c=null;if(a){const e=this.highlightedMemberId;this.highlightedMemberId=null,c=i.h(N.default,null,i.h(R.default,{key:"membersDialog",members:l,barrelUser:t,barrelType:n,barrelId:r,barrelName:s,isOrganizationProject:this.isOrganizationProject,organizationId:o,highlight:e,onLeave:this.handleRemoveMember,onAddMembers:this.handleAddMembers,onRemoveMember:this.handleRemoveMember,onAssignAdmin:this.handleAssignAdmin,onUnassignAdmin:this.handleUnassignAdmin,onTransferOwnership:this.handleTransferOwnership,onClose:this.closeMembersDialog,onUpgrade:this.handleShowPlanChooserOverlay}))}return i.h(i.Fragment,null,i.h(P.default,{title:"Members",button:i.h(j.default,{onClick:this.openMembersDialog})}),i.h("div",{class:"inviteButtonContainer"},i.h(k.default,{secondary:!0,class:"inviteButton",baseRef:Object(u.default)(this,"inviteButton"),onClick:this.toggleInvitePopup},"Invite")),i.h(I.default,{members:l,barrelUser:t,onMemberClick:this.handleMemberClick}),c)}renderDensityDialog(){const{barrel:e}=this.props,{densityDialogOpen:t}=this.state,{type:n,densityScale:o}=e;return t?"base"===n?i.h(x.default,{selectedValue:o,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):i.h(L.default,{type:n,selectedValue:o,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):null}renderParentStyleguides(){const{barrel:e,barrelType:t,barrelUser:n,loadingSelectParent:o,currentOrganizationStyleguides:a}=this.props,{id:r,users:s,ancestors:l,parent:c}=e;if(t===f.a.PROJECT)return null;const d=Object(U.getSelectableParentStyleguides)({isOrganizationStyleguide:this.isOrganizationProject,currentStyleguides:a,currentUser:n,id:r,parentId:c,users:s}),u=function(e,t){return e.map(e=>{const n=t.find(t=>t._id===e);return n?n.name:null}).filter(Boolean).reverse()}(l,a);return i.h(M.default,{barrelUser:n,selectableStyleguides:d,parentNames:u,isOrganization:this.isOrganizationProject,loading:o,onParentSelect:this.openSelectParentDialog,onParentRemove:this.openRemoveParentDialog})}render(){const{width:e,hover:t,onRelease:n,barrel:o,loadingExtensions:a,extensionTitles:r}=this.props,{shareContentOpen:s,invitePopupOpen:l,selectParentDialogOpen:d,removeParentDialogOpen:p}=this.state,{id:h}=o;return i.h(y.default,{class:Object(c.default)("barrelSidebar",{shareContentOpen:s,invitePopupOpen:l}),minWidth:260,initialWidth:e,baseRef:Object(u.default)(this,"sidebar"),onContentScroll:this.handleContentScroll,onRelease:n},this.renderName(),i.h(O.a,null),this.renderDensityAndType(),this.renderShareButton(),i.h(_.default,null),this.renderDescription(),this.renderParentStyleguides(),i.h(T.default,{barrelId:h,showConfigurationButtons:t}),i.h(_.default,null),i.h(P.default,{title:"Extensions",button:i.h(j.default,{onClick:S.default.openSettings,disabled:a})}),i.h("div",{class:"extensionsContainer"},i.h("div",{class:"extensions ellipsis",title:r},r)),i.h(_.default,null),this.renderMembers(),this.renderDensityDialog(),d&&this.renderSelectParentDialog(),p&&this.renderRemoveParentDialog())}}H.defaultProps={loadingExtensions:!0,extensionTitles:"…"};const G=r()(H),$=e=>i.h(G,W({},e,{ignoreOverlays:!1}));$.Loading=y.default.Loading,t.default=$},function(e,t,n){"use strict";n.r(t),n.d(t,"element",(function(){return f})),n.d(t,"anchor",(function(){return g})),n.d(t,"show",(function(){return ye})),n.d(t,"dismiss",(function(){return Oe})),n.d(t,"isHidden",(function(){return Ee})),n.d(t,"removeUser",(function(){return me})),n.d(t,"handleInviteUserSocketForInvitePopup",(function(){return ge})),n.d(t,"handleInvitedSocketForInvitePopup",(function(){return fe})),n.d(t,"handleCreateUserSocketForInvitePopup",(function(){return be})),n.d(t,"handleDeleteUserSocketForInvitePopup",(function(){return Se}));n(1270);var i=n(241),o=n(245),a=n(244),r=n(258),s=n(262),l=n(362),c=n(255),d=n(389),u=n(602),p=n(246);const h=new Set,f=document.getElementById("inviteUserPopup"),g=document.getElementById("inviteUserPopupAnchor"),m=document.getElementById("inviteeHandle"),b=f.querySelector(".userList"),S=document.getElementById("inviteeTemplate"),y=document.getElementById("inviteNewUserTemplate"),C=document.getElementById("typedUserAlreadyAddedTemplate"),v=document.getElementById("inviteByTagTemplate"),O=document.querySelector(".organizationInviteeList"),E=document.querySelector(".tagList"),T=document.querySelector(".showRemainingTags"),_=document.querySelector(".memberList"),P=document.querySelector(".membersWithTagHeader"),j=document.querySelector(".membersWithTagList"),D=new d.default(u.default,f);let k,I,R,A,w,N,L,x,M={},U=[],B=[],z=new Set,V={},W=new Set,F=new Set,H=new Set,G=!0;function $(e){if(e.classList.contains("newUser")){if(!m.checkValidity()&&!/^\w{3,30}$/.test(m.value))return Object(a.wiggle)(m.parentElement),void(G=!0);f.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))de(m.value,e);else if(e.classList.contains("user")){var t=B.find((function(t){return t._id===e.dataset.uid}));de(t.username||t.email,e)}else if(e.classList.contains("member")){var n=V.members.find((function(t){return t.user._id===e.dataset.mid}));de(n.user.username||n.user.email,e)}else e.classList.contains("inviteByTag")&&(o=e.dataset.tag,s=e,r[I].inviteUsersByTag(V._id,R,o).then((function(e){ue(e,s)})).catch((function(){s.classList.remove("inviteSpinner"),s.classList.add("inviteRetry"),i.create({done:{cb(){Object(a.highlightInput)(m),G=!0}}})})));var o,s}function q(){f.classList.contains("organizationBarrel")?Q():ee()}function Z(e,t,n){var i=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*i:e.includes(t)?4*i:0:16}function K(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach((function(t){t.classList.remove("hidden","selected"),e.appendChild(t)}))}function Y(e){return E.querySelector(`[data-tag="${CSS.escape(e)}"]`)}function J(e){return _.querySelector("[data-mid='"+e.user._id+"']")}function X(e,t,n,i){t.forEach((function(t){var i=n(t);i.classList.remove("hidden","selected"),e.appendChild(i)}));for(var o=0;o<e.childElementCount-t.length;o++){var a=e.children[o];a.classList.add("hidden"),a.classList.remove("selected")}e.parentElement.classList.toggle(i,0===t.length)}function Q(){ne(".memberList .newUser"),ne(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=m.value.toLowerCase();if(f.classList.remove("noNewInvitees","noInvitees"),O.classList.remove("noTags","noMembers","hasMembersWithTag","writeAnEmailToInvite","showAddsToTheBarrelOnlyInfo"),j.innerHTML="",m.placeholder="Invite with email/username",n){e=!!(t=F.has(n))||W.has(n);var i=Object.keys(M);i.sort();var o={},a=i.filter((function(e){var t=Z(e.toLowerCase(),n);return!!t&&(o[e]=t,!0)})).sort((function(e,t){return o[t]-o[e]}));X(E,a,Y,"noTags");var r=function(e,t,n){var i={};if(!e)return[];var o=e.filter((function(e){if(H.has(e.user._id)){var o=n(e);if(!o)return!1;if(!o.classList.contains("inviteDone"))return!1}var a=0;return e.user.username&&(a+=Z(e.user.username,t)),e.user.fullName&&(a+=Z(e.user.fullName,t)),!!(a+=Z(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(i[e.user._id]=a,!0)}));return o.sort((function(e,t){return i[t.user._id]-i[e.user._id]})),o}(V.members,n,J);X(_,r,J,"noMembers");var s=Y(a[0]);if(O.classList.toggle("hasMembersWithTag",1===a.length&&(M[a[0]]>0||s&&s.classList.contains("inviteDone")))&&(P.textContent=a[0],j.innerHTML="",V.members.forEach((function(e){var t=J(e);if((!H.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(a[0])){var n=oe(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),j.appendChild(n)}}))),e||n.includes("@")){if(!e){O.classList.add("showAddsToTheBarrelOnlyInfo");const e=document.importNode(y.content,!0);e.querySelector(".invitee").classList.add("member"),e.querySelector(".newUserHandle").textContent=m.value,_.appendChild(e)}}else O.classList.add("writeAnEmailToInvite");if(t&&!O.querySelector(".invitee.inviteDone")){var l=document.importNode(C.content,!0);l.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),l.querySelector("span").textContent=m.value,O.appendChild(l)}}else{if(K(E,"noTags"),T.textContent){var c=Array.from(E.querySelectorAll(".inviteByTag")).map((function(e){return e.dataset.tag}));c.sort(),c.forEach((function(e){var t=Y(e);E.appendChild(t)}));for(var d=E.firstElementChild,u=3;u<E.childElementCount;u++){var p=E.children[u];p.classList.add("hidden"),E.insertBefore(p,d)}E.childElementCount-3>0?(T.textContent=E.childElementCount-3,T.classList.toggle("multiple",E.childElementCount-3>1)):T.textContent=""}K(_,"noMembers")}var h=O.querySelectorAll(".invitee:not(.hidden)");if(h.length)h[0].classList.add("selected");else if(!t&&!O.classList.contains("writeAnEmailToInvite")){0===(V.members||[]).filter(e=>!H.has(e.user._id)).length&&A.length>1?f.classList.add("noNewInvitees"):1===A.length&&(f.classList.add("noInvitees"),m.placeholder="Invite with email")}}function ee(){ne(".userList .user.newUser"),ne(".userList .userListTypedUserAlreadyAdded"),b.classList.remove("writeAnEmailToInvite"),m.placeholder="Invite with email/username";var e,t,n=m.value.toLowerCase(),i=document.importNode(C.content,!0);if(n){e=!!(t=F.has(n))||h.has(n);var o={},a=B.filter((function(e){var t=0;return e.username&&(t+=Z(e.username,n)),(t+=Z(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(o[e._id]=t,!0)})).sort((function(e,t){return o[t._id]-o[e._id]}));a.forEach((function(e){var t=te(e._id);t.classList.remove("hidden","selected"),b.appendChild(t)}));for(var r=0;r<B.length-a.length;r++){var s=b.children[r].classList;s.add("hidden"),s.remove("selected")}}else B.forEach((function(e){var t=te(e._id);t.classList.remove("hidden","selected"),b.appendChild(t)}));if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(y.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".newUserHandle").textContent=m.value,b.appendChild(l)}}else b.classList.add("writeAnEmailToInvite");t&&(i.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=m.value,b.appendChild(i))}f.classList.remove("noInvitees"),f.classList.remove("noNewInvitees");var c=b.querySelectorAll(".user:not(.hidden)");c.length?c[0].classList.add("selected"):t||b.classList.contains("writeAnEmailToInvite")||(U.length?f.classList.add("noNewInvitees"):(f.classList.add("noInvitees"),m.placeholder="Invite with email"))}function te(e){return b.querySelector(".invitee[data-uid='"+e+"']")}function ne(e){var t=document.querySelector(e);t&&t.remove()}function ie(e,t,n){var i=document.importNode(v.content,!0),o=i.querySelector(".inviteByTag"),a=i.querySelector(".tagName"),r=i.querySelector(".memberCount");return o.classList.toggle("hidden",!!n),o.dataset.tag=e,a.textContent=e,a.title=e,r.textContent=t+(t>1?" members":" member"),i}function oe(e){var t=document.importNode(S.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),o=t.querySelector(".username"),r=t.querySelector(".email"),s=t.querySelector(".organizationTags");if(n.classList.add("member"),n.dataset.mid=e.user._id,Object(a.setAvatar)(i,e.user),e.user.username){const t=Object(c.getUserDisplayName)(e.user);o.textContent=t,o.title=t,r.textContent=e.user.email,r.title=e.user.email}else o.textContent=e.user.email,o.title=e.user.email,r.textContent="Pending Invitation";var l=e.tags?e.tags.join(", "):"";return s.textContent=l,s.title=l,i.addEventListener("mouseenter",t=>re(t,e.user._id)),i.addEventListener("mouseleave",se),o.addEventListener("mouseenter",t=>re(t,e.user._id,!1)),o.addEventListener("mouseleave",se),t}function ae(e,t){var n=document.importNode(S.content,!0),i=n.querySelector(".invitee"),o=n.querySelector(".userImage"),r=n.querySelector(".username"),s=n.querySelector(".inviteExtraInfo"),l=Object(c.getUserDisplayName)(e)||e.email;(i.classList.add("user"),Object(a.setAvatar)(o,e),i.dataset.uid=e._id,r.textContent=l,r.title=l,e.username)?n.querySelector(".email").textContent=e.email:s.textContent="Pending invitation";return t&&i.classList.add("hidden"),o.addEventListener("mouseenter",t=>re(t,e._id)),o.addEventListener("mouseleave",se),r.addEventListener("mouseenter",t=>re(t,e._id,!1)),r.addEventListener("mouseleave",se),n}function re(e,t,n=!0){se(),x=setTimeout(()=>{D.render({targetNode:e.target,userId:t,openToLeft:n,open:!0,contentClass:"invitePopupUserProfileCardPopoverContainerContent"});const i=document.querySelector(".invitePopupUserProfileCardPopoverContainerContent");i&&(i.addEventListener("mouseenter",()=>clearTimeout(x)),i.addEventListener("mouseleave",se))},300)}function se(){clearTimeout(x),x=setTimeout(()=>{D.remove()},100)}function le(e){z.has(e._id)||(U.push(e),z.add(e._id),e.username&&h.add(e.username),h.add(e.email))}function ce(e){H.add(e._id),e.username&&F.add(e.username),F.add(e.email)}function de(e,t){r[I].inviteUser(R,e).then((function(e){ue(e,t)})).catch((function(e){f.querySelector(".inputArea img").classList.add("hidden"),Ee()||t.classList.contains("newUser")?(G=!1,s.handleError(e,{dialogCallback(){Object(a.highlightInput)(m),G=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)})).catch((function(){i.create({done:{cb(){Object(a.highlightInput)(m),G=!0}}})}))}function ue(e,t){Object(a.highlightInput)(m),f.querySelector(".inputArea img").classList.add("hidden");const n=e.users||[e];(N&&N(n),n.forEach(({user:e})=>{ce(e),t.classList.contains("user")&&le(e)}),k&&k.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),f.classList.contains("organizationBarrel"))&&((e.users?e.users:[e]).forEach((function(e){if(V.members){var t=V.members.find((function(t){return t.user._id===e.user._id}));t&&t.tags.forEach((function(e){M[e]-=1}))}})),Object.keys(M).forEach((function(e){var t=M[e],n=Y(e);n&&(0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=Object(p.pluralize)(t,"member"))})));if(t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach((function(e){Array.from(O.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach((function(e){e.classList.add("inviteDone")}))})),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){B.push(e.user);var i=ae(e.user);i.querySelector(".user").classList.add("inviteDone"),b.querySelector(".user.selected")||i.querySelector(".user").classList.add("selected"),he(i)}else{W.add(e.user.email);var o=oe(e);o.querySelector(".member").classList.add("inviteDone"),o.querySelector(".member.selected")||o.querySelector(".member").classList.add("selected"),_.appendChild(o)}}function pe(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach((function(e){e.remove()}))}function he(e){b.lastElementChild&&b.lastElementChild.classList.contains("user")?b.appendChild(e):b.insertBefore(e,b.lastElementChild)}function fe(e){e.forEach((function(e){(le(e.user),k&&!H.has(e.user._id))&&(B.some((function(t){return t._id===e.user._id}))||(B.push(e.user),he(ae(e.user))))})),Ee()||q()}function ge(e,t){if(le(t),k){if(R===e)ce(t),o.arrayRemove(B,(function(e){return e._id===t._id}));else B.some((function(e){return e._id===t._id}))||B.push(t);var n,i=m.value;if(n=f.classList.contains("organizationBarrel")?J(t):te(t.user._id),R===e&&n){if(n.classList.contains("selected")&&b.querySelector(".user:not(.hidden)")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove(),n.classList.contains("newUser")||!b.querySelector(".user:not(.hidden)")){var a=document.importNode(C.content,!0);a.querySelector(".userListTypedUserAlreadyAdded").classList.add(m.value===Zeplin.user.username||m.value===Zeplin.user.email?"selfUser":"someUser"),a.querySelector("span").textContent=m.value,b.appendChild(a)}}else R!==e&&(n?n.classList.contains("newUser")&&(b.appendChild(ae(t)),n.classList.contains("selected")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove()):he(ae(t,i&&!(t.username&&t.username.includes(i))&&!t.email.includes(i))))}}function me(e,t){var n,i,o,a,r;if(R===e)if(f.classList.contains("organizationBarrel")){var s,l,c=V.members.find((function(e){return e.user._id===t}));c&&(s=c,l=J(c),c.tags.forEach((function(e){M[e]?M[e]+=1:M[e]=1;var t=Y(e);if(t)t.querySelector(".memberCount").textContent=M[e]+(M[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=ie(e,M[e]);n.querySelector(".invitee").classList.toggle("hidden",!!m.value&&!e.includes(m.value))?E.appendChild(n):E.insertBefore(ie(e,M[e]),E.querySelector(".invitee:not(.hidden)"))}}))),H.delete(t),F.delete(s.user.username),F.delete(s.user.email);var d=O.querySelector(".userListTypedUserAlreadyAdded");if(m.value===s.user.username&&d&&d.remove(),!k)return;l?l.classList.remove("inviteDone"):c&&(n=_,o="noMembers",a=oe(i=c),r=!(!m.value||i.user.username&&i.user.username.includes(m.value)||i.user.email.includes(m.value)),a.querySelector(".invitee").classList.toggle("hidden",r),r?n.append(a):(n.insertBefore(a,n.querySelector(".invitee:not(.hidden)")),n.parentElement.classList.remove(o)))}else{var u=U.find(e=>e._id===t);if(function(e){H.delete(e._id),e.username&&(F.delete(e.username),h.add(e.username)),F.delete(e.email),h.add(e.email),B.some((function(t){return t._id===e._id}))||B.push(e)}(u),!k)return;var p=m.value,g=te(u._id);g?g.classList.remove("inviteDone"):he(ae(u,p&&!(u.username&&u.username.includes(p))&&!u.email.includes(p)))}}function be(e){var t=U.find(t=>t._id===e._id);if(t&&(Object.assign(t,e),k)){var n=te(e._id);n&&(n.querySelector(".username").textContent=Object(c.getUserDisplayName)(e),n.querySelector(".inviteExtraInfo").textContent="")}}function Se(e){var t=o.arrayRemove(U,(function(t){return t._id===e}));if(t&&(function(e){H.delete(e._id),z.delete(e._id),e.username&&(F.delete(e.username),h.delete(e.username)),F.delete(e.email),h.delete(e.email),o.arrayRemove(B,(function(t){return t._id===e._id}))}(t),k)){var n=te(t._id);n&&(b.removeChild(n),n.classList.contains("selected")&&b.querySelector(".user:not(.hidden)")&&b.querySelector(".user:not(.hidden)").classList.add("selected"))}}function ye({bt:e,popupContainer:t,bid:n,members:i,oid:a,onInvite:r,onDismiss:s}){const c=a&&"user"!==a;I=e,f.classList.toggle("organizationBarrel",c),L=s,N=r,c?(V=l.default.getOrganization(a),M=function(e){const t={};return e.forEach(e=>{e.tags.forEach(e=>{t[e]?t[e]+=1:t[e]=1})}),t}(V.members),function(e,t,n){if(t!==R){Ce(),F=new Set,H=new Set,W=new Set,R=t,A=n,A.forEach((function(e){ce(e.user)})),V.members&&V.members.forEach((function(e){H.has(e.user._id)?e.tags.forEach((function(e){M[e]>0&&(M[e]-=1,0===M[e]&&delete M[e])})):(W.add(e.user.username).add(e.user.email),_.appendChild(oe(e)))})),O.classList.toggle("noMembers",!_.childElementCount);var i=Object.keys(M);i.sort(),i.forEach((function(e){E.appendChild(ie(e,M[e],!1))}));var o=i.length-3;o>0&&(T.textContent=o,T.classList.toggle("multiple",o>1)),O.classList.toggle("noTags",!i.length)}else Object.keys(M).forEach((function(e){0===M[e]&&delete M[e]})),w&&new Date-w>1e4&&(T.textContent=Object.keys(M).length-3,T.classList.toggle("multiple",Object.keys(M).length-3>1)),pe(E),pe(_);w=0,k=e,e.appendChild(f),e.getBoundingClientRect().right+80>window.innerWidth&&f.classList.add("left");Q(),f.classList.remove("hidden"),O.scrollTop=0,m.focus()}(t,n,i)):function(e,t,n){t!==R?(Ce(),B=[],F=new Set,H=new Set,R=t,A=n,A.forEach((function(e){ce(e.user)})),U.forEach((function(e){H.has(e._id)||(B.push(e),e.username&&h.add(e.username),h.add(e.email))})),B.forEach((function(e){b.appendChild(ae(e))}))):(pe(b),H.forEach((function(e){o.arrayRemove(B,(function(t){return t._id===e}))})));k=e,e.appendChild(f),e.getBoundingClientRect().right+80>window.innerWidth&&f.classList.add("left");ee(),f.classList.remove("hidden"),b.scrollTop=0,m.focus()}(t,n,i),document.addEventListener("click",e=>{if(!D.isRendered()&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&!Ee()){f.contains(e.target)||Oe()}},!0)}function Ce(){b.innerHTML="",E.innerHTML="",T.textContent="",_.innerHTML=""}function ve(){m.value="",m.dispatchEvent(new Event("input"))}function Oe(){document.removeEventListener("click",Oe),k=null,f.classList.add("hidden"),f.classList.remove("left"),f.querySelector(".inputArea img").classList.add("hidden"),ve(),D.remove(),w||(w=new Date),L&&L(),document.body.append(f)}function Ee(){return f.classList.contains("hidden")}r.getUserAcquaintances().then(e=>{U=e.acquaintances,z=new Set(U.map(e=>e._id))}).catch(e=>{}),function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),$(t))}}let t,n;m.addEventListener("input",(function(){m.parentElement.classList.toggle("typed",!!m.value),G=!0,q(),k&&k.dispatchEvent(new CustomEvent("listRefreshed"))})),f.addEventListener("click",(function(e){e.stopPropagation()})),f.addEventListener("contextmenu",(function(e){e.stopPropagation()})),b.addEventListener("click",e),O.addEventListener("click",e),f.addEventListener("mouseenter",(function(e){t=e.clientX,n=e.clientY})),f.addEventListener("mousemove",(function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var i=f.querySelector(".selected");i&&i.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}})),document.addEventListener("keydown",(function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:if(Ee())break;if(e.stopImmediatePropagation(),D.isRendered()){D.remove();break}if(m.value){ve();break}Oe();break;case Zeplin.KEY_CODE.ENTER:{if(Ee()||!G)break;const e=f.querySelector(".selected");if(!e||e.classList.contains("inviteDone")||e.classList.contains("inviteSpinner"))break;G=!1,$(e);break}case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(Ee())break;G=!0,e.preventDefault(),function(e){f.classList.contains("organizationBarrel")?function(e){var t=O.querySelector(".invitee.selected");if(!t){var n=O.querySelector(".invitee:not(.hidden)");return void(n&&(n.classList.add("selected"),Object(a.scrollIfNecessary)(n,O)))}var i,o=Array.from(O.querySelectorAll(".invitee:not(.hidden)")),r=o.findIndex((function(e){return e.classList.contains("selected")}));i=e.keyCode===Zeplin.KEY_CODE.ArrowUp?r-1:r+1;if(i>-1&&i<o.length){var s=o[i];t.classList.remove("selected"),s.classList.add("selected"),Object(a.scrollIfNecessary)(s,O)}}(e):function(e){var t=b.querySelector(".selected");if(!t){var n=b.querySelector(".user:not(.hidden)");return void(n&&(n.classList.add("selected"),Object(a.scrollIfNecessary)(n)))}var i=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;i&&i.classList.contains("user")&&!i.classList.contains("hidden")&&(t.classList.remove("selected"),i.classList.add("selected"),Object(a.scrollIfNecessary)(i))}(e)}(e)}})),T.addEventListener("click",(function(e){e.stopPropagation(),T.textContent="",Array.from(E.querySelectorAll(".inviteByTag.hidden")).forEach((function(e){e.classList.remove("hidden"),E.appendChild(e)}))}))}()},function(e,t,n){"use strict";n.r(t),n.d(t,"registerInput",(function(){return o}));var i=n(244);function o(e){const t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10);let o=t;e.addEventListener("input",(function(){if(e.value){if(Object(i.getTextWidth)(e.value,o+"px Roboto")>e.clientWidth&&o>n)for(;Object(i.getTextWidth)(e.value,o+"px Roboto")>e.clientWidth&&o>n;)o-=.2;else if(Object(i.getTextWidth)(e.value,o+"px Roboto")<=e.clientWidth&&o<t)for(;Object(i.getTextWidth)(e.value,o+"px Roboto")<=e.clientWidth&&o<t;)o+=.2}else o=t;e.style.fontSize=o+"px"}))}window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(o)}))},function(e,t,n){"use strict";n.r(t),n.d(t,"formatTextArea",(function(){return y})),n.d(t,"formatComment",(function(){return C}));var i=n(208),o=n.n(i),a=n(1272),r=n(245),s=n(395),l=n(242),c=n(231),d=n(361),u=n(269),p=n.n(u),h=n(230);function f(e){const t=function(e){const t=new URL(e),n=t.origin===location.origin,i=t.protocol===c.ZPL_PROTOCOL;if(!n&&!i)return;const o={query:{}};if(t.hash||i){const e=(i?t.search||t.href.substring(t.href.indexOf("?")):t.hash).replace(/&amp;/g,"&").substring(1),a=Object(l.parseUrlParams)(e);if(!("pid"in a))return;return o.url={pid:a.pid[0]},"sid"in a?(o.url.sid=a.sid[0],"vid"in a&&(o.url.vid=a.vid[0])):n&&"styleguide"in a||i&&(t.pathname.startsWith("//styleguide")||t.pathname.startsWith("//guideline"))?o.subpage=h.ProjectViewTypes.STYLEGUIDE:o.subpage=h.ProjectViewTypes.DASHBOARD,o}const a=Object(l.parseUrlPath)(t.pathname);if(!a)return;Object.assign(o,{url:a});const r=t.pathname.match(/\/(dashboard|styleguide)$/);if(r&&(o.subpage=r[1]),t.search){const e=Object(l.parseUrlParams)(t.search.replace(/&amp;/g,"&"));Object.assign(o,{query:e})}return o}(e),n=d.default.getBarrel();if(!n||!t||!("pid"in t.url)||t.url.pid!==n.id)return;let i="project-dashboard",o="Dashboard",a=["link"];if("sid"in t.url){i="vid"in t.url?"project-screen-version":"project-screen";const e=n.screens.find((function(e){return e._id===t.url.sid})),r=e?e.name:"unknown";if("did"in t.query)if(t.query.did.length>1)o="Notes on "+r;else{const n=e.dots&&e.dots.find((function(e){return e._id===t.query.did[0]})),i="Note"+(n?" #"+n.name:"");o="cmid"in t.query?`Comment${t.query.cmid.length>1?"s":""} on ${i}, ${r}`:`${i}, ${r}`}else a.push("screenLink"),o=r}return"subpage"in t&&"styleguide"===t.subpage&&(i="project-styleguide",o="Styleguide",delete t.subpage),{anchorText:o,classList:a,url:Object(l.urlResolve)(i,t)}}function g(e){return function(t){switch(t.getType()){case"url":{if(t.protocolRelativeMatch)return!1;const n=f(t.getUrl());if(n){const{anchorText:t,classList:i,url:o}=n;return e.push(`<a href="${o}" class="${i.join(" ")}" data-link-type="inApp">${t}</a>`),`{{link:${e.length-1}}}`}const i=t.buildTag();return i.setAttr("rel","nofollow external noopener noreferrer"),e.push(i.toAnchorString()),`{{link:${e.length-1}}}`}case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}function m(e,t=[]){var n=[],i=new o.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:g(n)});return t.reduce((function(e,t){return t(e)}),i.link(Object(r.escapeHTML)(e))).replace(/{{link:(\d+)}}/g,(function(e,t){return n[parseInt(t,10)]}))}function b(e){const t=d.default.getBarrel();return t?e.replace(/#([\w-]+)/g,(function(e,n){var i=t.findColorByName(n);return i?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+i.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(i=t.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+i.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e})):e}function S(e){const t=d.default.getBarrel();if(!t)return e;const n=Object(r.userRegexFn)(t.users),{username:i}=p.a.UserStore.getState(),o=Object(r.mentionRegexFn)(i);return e.replace(n,e=>{const t=o.test(e);return`<span class="${Object(s.default)("user",{self:t})}">${e}</span>`})}function y(e){return m(e,[a.formatEmojiString,r.spanEmojis])}function C(e){return m(e,[b,S,a.formatEmojiString,r.spanEmojis])}},function(e,t,n){"use strict";n.r(t),n.d(t,"manageSuggestedEmojis",(function(){return y})),n.d(t,"open",(function(){return v})),n.d(t,"close",(function(){return O})),n.d(t,"formatEmojiString",(function(){return C})),n.d(t,"replace",(function(){return S}));var i=n(245),o=n(615),a=n(1273);const r=document.getElementById("suggestedEmojisContainer"),s=document.getElementById("suggestedEmojiTemplate");let l,c,d,u,p=0,h=[];const f=/:(\S+?):/g;function g(e){return e?(u=e,h=o.default.getSuggestedEmojis(e),h.length?(h.forEach(m),l&&(t=l,h.some((function(e){return e.emoji===t.emoji})))?p=r.querySelector(`.suggestedItem[data-emoji="${l.emoji}"]`).dataset.index:(p=0,l=h[0]),r):void(l=null)):(l=null,p=0,void O());var t}function m(e,t){const n=r.querySelector(".suggestedListBox"),i=document.importNode(s.content,!0),o=i.querySelector(".suggestedItem"),a=e.alias.replace(/\s/gi,"_");o.dataset.index=t,o.dataset.emoji=e.emoji,e.customEmoji?(o.querySelector(".emojiImg").src=e.emoji,o.classList.add("customEmoji")):o.querySelector(".emojiChar").textContent=e.emoji,o.querySelector(".emojiAlias").textContent=a,o.querySelector(".emojiAlias").title=a,n.appendChild(i)}function b(e){const t=c.selectionStart,n=c.value.substring(0,t),o=n.length-n.split("").reverse().join("").search(/:/)-1,a=c.value.substring(o,t),r=e.alias.replace(/\s/g,"_");c.value=c.value.substring(0,o)+a.replace(u,r+": ")+c.value.substring(t),d.innerHTML=Object(i.escapeHTML)(c.value)+"&nbsp;";const s=t-u.length+r.length+2;c.focus(),c.setSelectionRange(s,s),O()}function S(e,t,n){return e.replace(f,(function(e,i){const a=o.default.searchEmoji(i);if(a){if(n)return"";if(!a.customEmoji)return a.emoji;if(!t)return'<img class="customEmoji" src="'+a.emoji+'" title="'+i+'">'}return t?e:`<span class="customEmojiPlainText">${e}</span>`}))}function y(e,t){if(c=e,d=t,!r.classList.contains("hidden")){const e=r.querySelector(".suggestedItem.selected");e&&(l=h[e.dataset.index])}const n=e.value.substring(0,e.selectionStart),i=n.lastIndexOf(":"),a=e.value.substring(i,e.selectionStart).match(/^:(.+)/);if(a){const e=a[0].substring(1);if(u===e&&!r.classList.contains("hidden"))return;O();const t=n.substring(0,i).lastIndexOf(":"),s=n.substring(t,i+1).match(f);if(s&&o.default.searchEmoji(s[0].substring(1,s[0].length-1)))return;return g(e)}p=0,l=null,O()}function C(e,t){return S(e,t)}function v(){const e={elements:{textContainer:c,suggestedListContainer:r},cb:{autoComplete:b},index:p,list:h};a.open(e)}function O(){a.close()}},function(e,t,n){"use strict";n.r(t),n.d(t,"open",(function(){return h})),n.d(t,"close",(function(){return f}));var i=n(244);let o,a,r,s,l,c,d=0,u=[],p=!1;function h(e){r&&!r.classList.contains("hidden")&&f(),c=e.cb.autoComplete,r=e.elements.suggestedListContainer,s=r.querySelector(".suggestedListBox"),l=e.elements.textContainer,d=e.index,u=e.list,o=0,a=0,r.classList.remove("hidden");const t=s.querySelector(`.suggestedItem[data-index="${d}"]`);t.classList.add("selected"),Object(i.scrollIfNecessary)(t),p||(p=!0,s.addEventListener("mousemove",m),s.addEventListener("click",b),l.addEventListener("keydown",g))}function f(){if(p&&(l.removeEventListener("keydown",g),s.removeEventListener("mousemove",m),s.removeEventListener("click",g)),!r||r.classList.contains("hidden"))return;const e=s.querySelector(".suggestedItem.selected");e&&e.classList.remove("selected"),r.classList.add("hidden"),s.innerHTML="",l=null,p=!1,u=[],d=0}function g(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),c(u[s.querySelector(".suggestedItem.selected").dataset.index]);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),f();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),d<u.length-1&&S(++d);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),d>0&&S(--d)}}function m(e){if(e.stopPropagation(),o===e.clientX&&a===e.clientY)return;const t=e.target.closest(".suggestedItem");t.classList.contains("selected")||S(t.dataset.index),o=e.clientX,a=e.clientY}function b(e){e.preventDefault(),e.stopPropagation();const t=e.target.closest(".suggestedItem");c(u[t.dataset.index])}function S(e){d=e;const t=s.querySelector(".suggestedItem.selected");t&&t.classList.remove("selected");const n=s.querySelector(`.suggestedItem[data-index="${d}"]`);n&&(n.classList.add("selected"),Object(i.scrollIfNecessary)(n))}},function(e,t,n){"use strict";n.r(t);var i=n(288),o=n(269),a=n.n(o);function r(e={}){if(!e.bid){const{barrelId:t}=a.a.BarrelStore.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=a.a.BarrelStore.getState();e.barrelType=t}return e}const s={init(e){const{barrelType:t,bid:n,enabledExtensions:o}=r(e);a.a.dispatcher.dispatch({type:i.default.INIT,barrelType:t,bid:n,enabledExtensions:o})},loadExtensions(e){const{bid:t,extensions:n,enabledExtensions:o}=r(e);a.a.dispatcher.dispatch({type:i.default.LOAD_EXTENSIONS,bid:t,extensions:n,enabledExtensions:o})},updateOption(e,t,n){a.a.dispatcher.dispatch({type:i.default.UPDATE_OPTION,eid:e,name:t,value:n})},load(e){const{barrelType:t,bid:n,eid:o,uid:s,local:l=!1}=r(e),{barrelId:c}=a.a.BarrelStore.getState();n===c&&a.a.dispatcher.dispatch({type:i.default.LOAD,barrelType:t,bid:n,eid:o,uid:s,local:l,syncWithApi:!0})},reload(){a.a.dispatcher.dispatch({type:i.default.RELOAD})},openSettings(e){a.a.dispatcher.dispatch({type:i.default.OPEN_SETTINGS,extensionId:e})},closeSettings(){a.a.dispatcher.dispatch({type:i.default.CLOSE_SETTINGS})},add(e){const{barrelType:t,bid:n,uid:o,extension:s,local:l=!1}=r(e),{userId:c}=a.a.UserStore.getState(),d=o===c;a.a.dispatcher.dispatch({type:i.default.ADD,barrelType:t,bid:n,extension:s,openSettings:d,local:l})},enable(e){const{bid:t,eid:n}=r(e);a.a.dispatcher.dispatch({type:i.default.ENABLE,bid:t,eid:n})},disable(e){const{bid:t,eid:n}=r(e);a.a.dispatcher.dispatch({type:i.default.DISABLE,bid:t,eid:n})},remove(e){const{bid:t,barrelType:n,eid:o,local:s=!1,syncWithApi:l=!1}=r(e),{barrelId:c}=a.a.BarrelStore.getState();if(t!==c)return;const{extensions:d}=a.a.ExtensionsStore.getState(),u=d.find(e=>e.id===o);a.a.dispatcher.dispatch({type:i.default.REMOVE,bid:t,barrelType:n,eid:o,removedExtension:u,local:s,syncWithApi:l})}};t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1276);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(438),s=n(395),l=n(416),c=n(227);n(1277);const d={pointer:{down:"pointerdown",move:"pointermove",up:"pointerup"},touch:{down:"touchstart",move:"touchmove",up:"touchend"},mouse:{down:"mousedown",move:"mousemove",up:"mouseup"}};function u(e){const t="PointerEvent"in window?"pointer":"ontouchstart"in document?"touch":"mouse";return d[t][e]}class p extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleResizingClick=this.handleResizingClick.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleContentRef=this.handleContentRef.bind(this);const{initialWidth:t,minWidth:n,collapsible:i,collapsed:o}=e;this.state={cursorType:"resize",width:Math.max(t,n),collapsed:i&&o,resizing:!1}}collapse(){const{onCollapse:e}=this.props;e&&e(),this.setState({collapsed:!0})}expand(){const{onExpand:e}=this.props;e&&e(),this.setState({collapsed:!1})}updateCursorType(){const{collapsed:e,width:t,cursorType:n}=this.state,{minWidth:i,resizingSide:o,collapsible:a}=this.props,{clientWidth:r}=this.nodeRefs.base;let s;s=e||!a&&r===i?"left"===o?"west":"east":Math.floor(t)>r?"right"===o?"west":"east":r!==i&&Math.floor(t)===r&&"resize"!==n?n:"resize",s!==n&&(document.body.dataset.resizeCursor=s,this.setState({cursorType:s}))}handleBaseRef(e){Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleContentRef(e){this.props.contentRef&&this.props.contentRef(e)}handleMouseMove(e){e.preventDefault(),requestAnimationFrame(()=>{const{base:t}=this.nodeRefs;if(!t)return;const{minWidth:n,resizingSide:i,collapsible:o,onCollapse:a,onExpand:r}=this.props,{collapsed:s}=this.state,{left:l,right:c}=t.getBoundingClientRect(),d=e.clientX||e.changedTouches&&e.changedTouches[0].clientX;if(!d)return;const u="right"===i?d-l:c-d,p=o&&u<n/2,h=Math.max(u,n);this.setState({collapsed:p,width:h}),!s&&p&&a?a():s&&!p&&r&&r()})}handleMouseUp(e){document.removeEventListener(u("move"),this.handleMouseMove),document.removeEventListener(u("up"),this.handleMouseUp),e.stopPropagation(),requestAnimationFrame(()=>{const{base:e}=this.nodeRefs;if(!e)return;const{onRelease:t}=this.props,{collapsed:n}=this.state,i=e.clientWidth;document.body.classList.remove("resizing"),delete document.body.dataset.resizeCursor,t&&t(i,{collapsed:n}),this.setState({width:i,resizing:!1})})}handleResizerMouseDown(){document.addEventListener(u("move"),this.handleMouseMove),document.addEventListener(u("up"),this.handleMouseUp),document.addEventListener("click",this.handleResizingClick,!0),document.body.classList.add("resizing"),document.body.dataset.resizeCursor=this.state.cursorType,this.setState({resizing:!0})}handleResizingClick(e){e.stopImmediatePropagation(),e.stopPropagation(),document.removeEventListener("click",this.handleResizingClick,!0)}componentDidMount(){this.nodeRefs.resizer.addEventListener(u("down"),this.handleResizerMouseDown)}componentDidUpdate(e,t){this.updateCursorType(),this.props.onResize&&this.state.resizing&&t.width!==this.state.width&&this.props.onResize(this.nodeRefs.base.clientWidth)}componentWillUnmount(){document.removeEventListener(u("move"),this.handleMouseMove),document.removeEventListener(u("up"),this.handleMouseUp),this.nodeRefs.resizer.removeEventListener(u("down"),this.handleResizerMouseDown)}render(){const{collapsed:e,resizing:t,width:n,cursorType:o}=this.state,{children:a,class:c,resizingSide:d="left",compact:u,minWidth:p,paddingBottom:h,noScroll:f,onClick:g}=this.props,m={},b=Object(s.default)("sidebar",c,d,{resizing:t,collapsed:e,compact:u});return e||Object.assign(m,{minWidth:p?p+"px":"",width:n?n+"px":"",paddingBottom:h?h+"px":""}),i.h("div",{class:b,style:m,onClick:g,ref:this.handleBaseRef},i.h("div",{class:Object(s.default)("content",{noScroll:f}),ref:this.handleContentRef},i.toChildArray(a)),i.h("div",{class:Object(s.default)("resizer","cursor"+o),ref:Object(l.default)(this,"resizer")},i.h(r.IconMoveHandle,{color:"var(--gandalf)"})))}}p.Loading=()=>i.h("div",{class:"sidebar loading"}),p.propTypes={children:a.a.node,class:a.a.string,compact:a.a.bool,collapsible:a.a.bool,collapsed:a.a.bool,initialWidth:a.a.number,minWidth:a.a.number,resizingSide:a.a.oneOf(["left","right"]),noScroll:a.a.bool,onRelease:a.a.func,onResize:a.a.func,onCollapse:a.a.func,onExpand:a.a.func},p.defaultProps={collapsible:!0,collapsed:Object(c.isMobileViewport)(),initialWidth:0,minWidth:0,resizingSide:"left"},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1279);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(416),a=n(395);n(1280);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),r(this,"state",{value:this.props.value,editing:!1,originalValue:this.props.value}),r(this,"handleKeyDown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC?(this.setState(e=>({value:e.originalValue})),e.target.blur(),e.preventDefault()):e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault())}),r(this,"handleMouseDown",()=>{this.setState({editing:!0})}),r(this,"handleInput",e=>{this.setState({editing:!0,value:e.target.value})}),r(this,"handleBlur",()=>{const{onBlur:e}=this.props,{value:t,originalValue:n}=this.state,i=t.trim();this.setState({value:i||n,editing:!1}),i&&e(i)})}ellipsizeMirrorIfNecessary(){if(CSS.supports("-webkit-line-clamp",2))return;const e=this.nodeRefs.mirror;if(e.scrollHeight<=e.clientHeight)return;let{value:t}=this.state;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=t+"…"}componentDidMount(){this.ellipsizeMirrorIfNecessary(),this.nodeRefs.textarea.scrollTop=0}componentWillReceiveProps(e){const{editing:t}=this.state;if(t)return;const{value:n}=e;this.setState({value:n,originalValue:n})}componentDidUpdate(){this.ellipsizeMirrorIfNecessary();const{editing:e}=this.state;e?this.nodeRefs.textarea.focus():(this.nodeRefs.textarea.scrollTop=0,this.nodeRefs.textarea.setSelectionRange(0,0))}render(){const{readonly:e}=this.props,{value:t,editing:n}=this.state;return i.h("div",{class:Object(a.default)("barrelNameTextArea",{editing:n,readonly:e})},i.h("div",{class:"mirror",ref:Object(o.default)(this,"mirror"),title:t},t),i.h("textarea",{onBlur:this.handleBlur,value:t,minlength:"1",maxlength:"100",onInput:this.handleInput,onKeyDown:this.handleKeyDown,onMouseDown:e?null:this.handleMouseDown,ref:Object(o.default)(this,"textarea"),readonly:e}),n&&i.h("div",{class:"underline"}),!n&&!e&&i.h("div",{class:"dashedLine"}))}}t.default=s},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1282);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(362)),r=i(n(269)),s=i(n(261)),l=i(n(1283)),c=i(n(505)),d=n(242);var u;n(1286),function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready"}(u||(u={}));class p extends o.Component{static calculateState(){const{barrelType:e,barrelId:t}=r.default.BarrelStore.getState(),n=a.default.getOrganization();if(e!==s.default.PROJECT||!t||!n)return{status:u.None};const i=t,o=n.sections.find(({projects:e})=>e.includes(i));if(!o)return{status:u.Loading};if(n.sections[0]===o)return{status:u.None};const{projects:l}=r.default.ProjectsDataStore.getState(),{_id:c,name:p,projects:h,links:f}=o,g=h.map(e=>l[e]).filter(e=>e&&"archived"!==e.status).map(e=>Object.assign(Object.assign({},e),{url:d.urlResolve("project",{url:{bid:e.id}})})),{_id:m}=n,b=d.urlResolve("organization-projects",{url:{oid:m},query:{seid:c}});return{status:u.Ready,name:p,pid:i,projects:g,organizationUrl:b,links:f}}static getStores(){return[r.default.OrganizationStore,r.default.BarrelStore,r.default.ProjectsDataStore]}render(){if(this.state.status===u.None)return null;if(this.state.status===u.Loading)return o.h("div",{class:"sectionNavigationLoading"},"Loading Section Name…");const{name:e,pid:t,projects:n,organizationUrl:i,links:a}=this.state;return o.h(l.default,{sectionName:e,pid:t,projects:n,organizationUrl:i,links:a})}}t.default=c.default(p)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1284);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=n(438),s=i(n(511)),l=i(n(1012)),c=i(n(395)),d=n(249),u=n(1031),p=n(230);n(1285);t.default=function({sectionName:e,pid:t,projects:n,organizationUrl:i,links:h}){const[f,g]=a.useState(!1),m=a.useRef(),b=a.useRef();function S(){g(!1)}return o.h("div",{class:"sectionNavigation"},o.h("div",{class:"info ellipsis",title:e},e),o.h("div",null,o.h("button",{type:"button",class:c.default("menuButton",{active:f}),ref:m,onClick:function(){g(!0)}},o.h(r.IconArrowDown,{width:10})),f&&o.h(s.default,{didRender:function(e){const t=m.current.getBoundingClientRect(),n=b.current,i=n.getBoundingClientRect(),o=e.getBoundingClientRect(),a=t.bottom+5,r=t.right-o.width;let s;s=a+o.height+8>window.innerHeight?window.innerHeight-o.height-8:a,s<8&&(n.style.maxHeight=i.height+s-8+"px",s=8),e.style.transform=`translate3d(${r}px, ${s}px, 0)`}},o.h(l.default,{class:"sectionNavigationMenu",onClose:S,edgeOffset:8},o.h("div",{class:"projectContainer",ref:b},n.map(({id:e,name:n,type:i,url:a})=>o.h("a",{key:e,href:a,"data-link-type":"inApp",onClick:n=>function(e,n){n!==t&&mixpanel.master.track("Navigated to project",{Source:"Project dashboard"}),e.stopPropagation()}(n,e)},o.h("span",{class:"projectNameAndType ellipsis",title:n},o.h("span",{class:"projectName ellipsis"},n),", ",o.h("span",{class:"projectType"},p.PlatformString[i])),o.h("img",{style:{visibility:e===t?"visible":"hidden"},class:"sectionNavigationActiveProject",src:d.imageUrl("img/icMenuCheck.svg"),alt:"&check;"})))),o.h("div",{class:"optionsSeparator"}),o.h("a",{href:i,"data-link-type":"inApp"},"Go to Section"),h.length&&o.h(l.default.Submenu,{submenuClass:"linksMenu",name:"Links"},h.map(({_id:e,title:t,url:n})=>o.h("a",{class:"sectionLink",key:e,href:n,target:"_blank",rel:"noopener",onClick:e=>function(e,t){mixpanel.master.track("Clicked project section link",{Source:"Project dashboard",Type:u.getLinkType(t)}),S(),e.stopPropagation()}(e,n)},o.cloneElement(u.getLinkIcon(n),{width:16,height:16}),o.h("span",null,t))))))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1288);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(550),s=n(1289),l=n(376),c=n(361),d=n(269),u=n.n(d),p=n(1301),h=n.n(p),f=n(505),g=n.n(f);n(1302);class m extends r.default{static calculateState(e,t){const{barrelId:n}=t,{loading:i,barrelType:o}=u.a.BarrelStore.getState();if(i)return{loading:i};const a=c.default.getBarrel({bid:n}),r=c.default.findUser(),{channels:s,loading:l}=u.a.TeamsIntegrationStore.getState();return{barrelType:o,barrel:a,barrelUser:r,teamsChannels:s,teamsChannelsLoading:l}}static getStores(){return[u.a.BarrelStore,u.a.ProjectsDataStore,u.a.StyleguidesDataStore,u.a.UserStore,u.a.TeamsIntegrationStore]}render(){const{showConfigurationButtons:e}=this.props,{barrel:t,barrelUser:n,loading:o,teamsChannels:a,teamsChannelsLoading:r}=this.state;return o?null:i.h(s.default,{barrel:t,barrelUser:n,teamsChannels:a,teamsChannelsLoading:r,showConfigurationButtons:e,onAddToSlack:l.default.addToSlack,onRemoveIntegration:l.default.removeIntegration,onOpenSlackPreferences:h.a.open})}}m.propTypes={barrelId:a.a.string.isRequired,showConfigurationButtons:a.a.bool},t.default=g()(m,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1290);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(550),s=n(1291),l=n(1294),c=n(511),d=n(1012),u=n(606),p=n(400),h=n(1297),f=n(981),g=n(983),m=n(438),b=n(245),S=n(244),y=n(906),C=n(416),v=n(395),O=n(231);n(1300);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T="SLACK",_="JIRA",P="TEAMS",j="TRELLO";class D extends r.default{constructor(...e){super(...e),E(this,"state",{isMenuOpen:!1}),E(this,"handlePortalDidRender",e=>{const t=this.nodeRefs.settingsButton.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top-12,o=t.left-n.width+12;let a=o,r=i;o+n.width+12>window.innerWidth&&(a=window.innerWidth-n.width-12),i<12?r=12:i+n.height+12>window.innerHeight&&(r=window.innerHeight-n.height-12),e.style.transform=`translate3d(${a}px, ${r}px, 0)`}),E(this,"handleMenuOpen",()=>{this.setState({isMenuOpen:!0})}),E(this,"handleMenuClose",()=>{this.setState({isMenuOpen:!1})}),E(this,"handleIntegrateWithJira",()=>{Object(S.openLink)(O.INTEGRATION_JIRA_URL)}),E(this,"handleIntegrateWithTeams",()=>{Object(S.openLink)(O.INTEGRATION_TEAMS_URL)}),E(this,"handleIntegrateWithTrello",()=>{Object(S.openLink)(O.INTEGRATION_TRELLO_URL)}),E(this,"handleRemoveIntegration",(e,t)=>{this.props.onRemoveIntegration({intype:e,inid:t,syncWithApi:!0})}),E(this,"handleMenuChange",(e,t)=>{const{onAddToSlack:n}=this.props;switch(t){case T:n();break;case _:this.handleIntegrateWithJira();break;case P:this.handleIntegrateWithTeams();break;case j:this.handleIntegrateWithTrello()}})}get slackChannels(){const{barrel:e}=this.props;let t;return e.integration&&e.integration.slacks&&e.integration.slacks.length&&(t=[...e.integration.slacks].reverse()),t}get jiraIntegration(){const{barrel:e}=this.props;return e&&e.integration?e.integration.jira:null}get hasAnyJiraAttachment(){return(this.jiraIntegration&&this.jiraIntegration.attachments||[]).some(({type:e})=>"project"===e)}get hasAnyIntegration(){const{teamsChannels:e}=this.props;return Boolean(this.slackChannels)||this.hasAnyJiraAttachment||Boolean(e.length)}get canUpdateBarrel(){return b.permissions.canUpdateProject(this.props.barrelUser)}renderLoadingOrEmptyState(){return this.props.teamsChannelsLoading?i.h("div",{class:"integrationsLoadingState"},"…"):this.renderEmptyState()}renderEmptyState(){const{barrelUser:e,onAddToSlack:t}=this.props;return i.h("div",{class:"integrationsEmptyState"},i.h("p",{class:"integrationsEmptyStateText"},"Connect to tools you use everyday; like ",i.h("strong",null,"Slack"),", ",i.h("strong",null,"Jira"),", ",i.h("strong",null,"Microsoft Teams")," and ",i.h("strong",null,"Trello"),"."),i.h("div",{class:"integrationsEmptyStateIcons"},i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Slack":Object(y.default)(e.role,"add projects to Slack")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:t,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconSlack,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Jira":Object(y.default)(e.role,"connect projects to Jira")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithJira,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconJira,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Microsoft Teams":Object(y.default)(e.role,"add projects to Microsoft Teams")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithTeams,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconTeams,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Trello":Object(y.default)(e.role,"connect projects to Trello")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithTrello,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconTrello,null)))))}renderIntegrationsList(){const{barrel:e,barrelUser:t,teamsChannels:n,showConfigurationButtons:o,onAddToSlack:a,onOpenSlackPreferences:r}=this.props;return i.h("div",{class:"integrationsList"},this.slackChannels&&this.slackChannels.map(e=>i.h(h.default,{key:e._id,channel:e,barrelUser:t,showConfigurationButton:o,onAddAnother:a,onOpenPreferences:r,onRemove:this.handleRemoveIntegration,canUpdateProject:this.canUpdateBarrel})),i.h(f.default,{items:[{itemType:"project",itemId:e._id,label:"Attached to "}]}),n.map(e=>i.h(g.default,{key:e.id,class:"teamsChannelIntegrationInfo",logo:i.h(m.IconTeams,null),description:"Connected to ",text:e.name,href:e.url})))}renderMenu(){return i.h(c.default,{didRender:this.handlePortalDidRender},i.h(d.default,{class:"integrationsMenu",onClose:this.handleMenuClose,onChange:this.handleMenuChange},i.h(d.default.Button,{name:T},i.h(m.IconSlack,{color:"var(--teflon)"}),i.h("span",null,this.slackChannels?"Add another…":"Add to Slack")),!this.hasAnyJiraAttachment&&i.h(d.default.Button,{name:_},i.h(m.IconJira,{color:"var(--teflon)"}),i.h("span",null,"Connect to Jira")),i.h(d.default.Button,{name:P},i.h(m.IconTeams,{color:"var(--teflon)"}),i.h("span",null,"Add to Microsoft Teams")),i.h(d.default.Button,{name:j},i.h(m.IconTrello,{color:"var(--teflon)"}),i.h("span",null,"Connect to Trello"))))}render(){const{barrelUser:e}=this.props,{isMenuOpen:t}=this.state;let n=i.h(l.default,{baseRef:Object(C.default)(this,"settingsButton"),class:Object(v.default)({active:t}),icon:m.IconPlusWithCircle,disabled:!this.canUpdateBarrel,onClick:this.handleMenuOpen});return this.canUpdateBarrel||(n=i.h(u.default,{content:Object(y.default)(e.role,"add integrations to project.")},n)),i.h("div",{class:"integrationsContainer"},i.h(s.default,{title:"Integrations",button:n}),this.hasAnyIntegration?this.renderIntegrationsList():this.renderLoadingOrEmptyState(),t&&this.renderMenu())}}D.propTypes={barrel:a.a.object.isRequired,barrelUser:a.a.object.isRequired,teamsChannels:a.a.array.isRequired,teamsChannelsLoading:a.a.bool,showConfigurationButtons:a.a.bool,onAddToSlack:a.a.func.isRequired,onRemoveIntegration:a.a.func.isRequired,onOpenSlackPreferences:a.a.func.isRequired},t.default=D},function(e,t,n){"use strict";n.r(t);var i=n(1292);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(1293);t.default=function({class:e,title:t,button:n}){return i.h("div",{class:Object(o.default)("barrelSidebarSubtitle",e)},i.h("div",{class:"title noSelect"},t),n)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1295);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(438),s=n(395);n(1296);function l(e){const{class:t,icon:n,disabled:o,onClick:a,baseRef:r,children:l}=e;return i.h("button",{type:"button",class:Object(s.default)("sidebarSettingsButton",t),disabled:o,onClick:a,ref:r},i.h(n,{color:o?"#C1BEC1":"#554D56"}),l)}l.propTypes={class:a.a.string,icon:a.a.node,disabled:a.a.bool,onClick:a.a.func,baseRef:a.a.object,children:a.a.node},l.defaultProps={icon:r.IconSettings},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1298);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(906),a=n(244),r=n(550),s=n(1294),l=n(863),c=n(395),d=n(606),u=n(438),p=n(983);n(1299);class h extends r.default{constructor(e){super(e),this.state={menuOpen:!1},this.handleMenuOpen=this.handleMenuOpen.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleAddAnotherClick=this.handleAddAnotherClick.bind(this),this.handleViewInSlackClick=this.handleViewInSlackClick.bind(this),this.handlePreferencesClick=this.handlePreferencesClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleMenuOpen(){this.setState({menuOpen:!0})}handleMenuClose(){this.setState({menuOpen:!1})}handleAddAnotherClick(){const{onAddAnother:e}=this.props;e()}handleViewInSlackClick(){const{channel:{incomingWebHook:{configurationURL:e}}}=this.props;Object(a.openLink)(e)}handlePreferencesClick(){const{onOpenPreferences:e,channel:t}=this.props;e(t._id,t.incomingWebHook.channel)}handleRemoveClick(){const{onRemove:e,channel:{_id:t}}=this.props;e("slacks",t)}handleKeyDown(e){const{menuOpen:t}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&t&&this.handleMenuClose()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){const{showConfigurationButton:t}=e;!t&&this.setState({menuOpen:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderMenu(){return i.h(l.default,{class:"slackChannelContextMenu",onClose:this.handleMenuClose},i.h(l.default.Item,{key:"addAnother",onClick:this.handleAddAnotherClick},"Add another…"),i.h(l.default.Item,{key:"view",onClick:this.handleViewInSlackClick},"View In Slack"),i.h(l.default.Item,{key:"preferences",onClick:this.handlePreferencesClick},"Preferences…"),i.h(l.default.Item,{key:"remove",onClick:this.handleRemoveClick,warning:!0},"Remove"))}renderSlackChannelConfigurationButton(){const{barrelUser:e,canUpdateProject:t}=this.props;if(t){const{menuOpen:e}=this.state;return i.h(s.default,{class:Object(c.default)({active:e}),onClick:this.handleMenuOpen},e&&this.renderMenu())}return i.h(d.default,{content:Object(o.default)(e.role,"update Slack integration.")},i.h(s.default,{disabled:!0}))}render(){const{showConfigurationButton:e,channel:{incomingWebHook:{configurationURL:t,channelId:n,channel:o}}}=this.props,a=new URL(t);return a.pathname="/messages/"+(n||o.replace("#","")),i.h("div",{class:"slackChannelContainer"},i.h(p.default,{class:"slackChannel",logo:i.h(u.IconSlack,null),description:"Connected to ",text:o,href:a.toString()}),e&&this.renderSlackChannelConfigurationButton())}}t.default=h},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(340)),a=i(n(269)),r={init(){a.default.dispatcher.dispatch({type:o.default.INIT})},load(e,t){a.default.dispatcher.dispatch({type:o.default.LOAD,inid:e,events:t,barrelType:a.default.BarrelStore.getState().barrelType})},open(e,t){a.default.dispatcher.dispatch({type:o.default.OPEN,inid:e,channelName:t})},close(){a.default.dispatcher.dispatch({type:o.default.CLOSE})},updateEventGroup(e,t){a.default.dispatcher.dispatch({type:o.default.UPDATE_EVENT_GROUP,eventGroup:e,checked:t})},eventGroupUpdated(e,t){a.default.dispatcher.dispatch({type:o.default.EVENT_GROUP_UPDATED,inid:e,eventGroup:t})},eventGroupUpdateFailed(e,t){a.default.dispatcher.dispatch({type:o.default.EVENT_GROUP_UPDATE_FAILED,inid:e,eventGroup:t})},addIntegrationEvent({bid:e,intype:t,inid:n,event:i}){const{barrelId:r}=a.default.BarrelStore.getState();"slacks"===t&&e===r&&a.default.dispatcher.dispatch({type:o.default.EVENT_UPDATED,inid:n,event:i,enabled:!0})},removeIntegrationEvent({bid:e,intype:t,inid:n,event:i}){const{barrelId:r}=a.default.BarrelStore.getState();"slacks"===t&&e===r&&a.default.dispatcher.dispatch({type:o.default.EVENT_UPDATED,inid:n,event:i,enabled:!1})}};t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1304);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(1305);t.default=function(e){const{class:t}=e;return i.h("div",{class:Object(o.default)("barrelSidebarSeparator",t)},i.h("div",null))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1307);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(550),s=n(395),l=n(416),c=n(245),d=n(227),u=n(994),p=n(615),h=n(1308),f=n.n(h),g=n(1311),m=n.n(g),b=n(361),S=n(362),y=(n(1314),n(244));function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=/:(\S+?):/g;class T extends r.default{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClick=this.handleClick.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleKeyDownWhenEmojiListOpen=this.handleKeyDownWhenEmojiListOpen.bind(this),this.handleKeyDownWhenUserListOpen=this.handleKeyDownWhenUserListOpen.bind(this),this.handleKeyDownEmojiListActions=Object(c.debounce)(this.handleKeyDownEmojiListActions).bind(this),this.handleKeyDownUserListActions=Object(c.debounce)(this.handleKeyDownUserListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleSelectUser=this.handleSelectUser.bind(this),this.handleEmojiMouseOver=this.handleEmojiMouseOver.bind(this),this.handleUserMouseOver=this.handleUserMouseOver.bind(this),this.handleEmojiClick=this.handleEmojiClick.bind(this),this.handleUserClick=this.handleUserClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this),this.changeSuggestedUsers=this.changeSuggestedUsers.bind(this);const{value:t=""}=e;this.state={selectedEmojiIndex:0,suggestedEmojis:[],suggestionListTop:0,suggestionListAbsoluteTop:0,suggestionListFallbackBottom:0,autoCompletedEmoji:!1,selectedUserIndex:0,suggestedUsers:[],autoCompletedUser:!1,value:t,editing:e.editing,originalValue:t}}cancelEdit(){const{originalValue:e}=this.state,{onCancelEdit:t}=this.props;t&&t(),this.setState({editing:!1,value:e},()=>{this.nodeRefs.textArea.blur()})}changeSuggestedEmojis(){const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,{textArea:i}=this.nodeRefs,o=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),o=e.substring(i,t).match(/^:(.+)/);if(o){const e=o[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),a=n.substring(t,i+1).match(E);return a&&p.default.searchEmoji(a[0].substring(1,a[0].length-1))?[]:p.default.getSuggestedEmojis(e)}return[]}(e,i.selectionStart);if(o!==t){const e=Math.max(0,Math.min(n,o.length-1));this.setState(v({suggestedEmojis:o,selectedEmojiIndex:e},this.getSuggestionPositions()))}}changeSuggestedUsers(){const{value:e,suggestedUsers:t,selectedUserIndex:n}=this.state,{textArea:i}=this.nodeRefs,{pid:o}=this.props,a=function(e,t,n){const i=e.lastIndexOf("@",n);if(-1===i)return[];const o=e.substring(i+1,n).toLowerCase(),a=b.default.getBarrel({bid:t}),r=S.default.getOrganization(null,{pid:t});if(!a)return[];const{users:s}=a,l=[{_id:"everyone",name:"everyone",self:!1,description:"Notify all project members",groupDataType:a.icon.type,group:!0}];return r&&l.push({_id:"organization",name:"organization",icon:r.logo,self:!1,description:"Notify all organization members",groupDataType:r.logo?null:"organizationPlaceholder",group:!0}),o&&l.push({_id:"project",name:"project",self:!1,description:"Notify all project members",groupDataType:a.icon.type,group:!0}),[...l.filter(({name:e})=>e.toLowerCase().startsWith(o)),...s.filter(({user:{status:e,username:t,fullName:n,_id:i}})=>"invited"!==e&&("me"===o&&Zeplin.user._id===i||t.toLowerCase().startsWith(o)||n&&n.toLowerCase().startsWith(o))).map(({user:e,user:{username:t,email:n,_id:i}})=>({_id:i,name:t||n,icon:Object(y.getUserAvatar)(e).src,self:Zeplin.user._id===i}))]}(e,o,i.selectionStart),r=Math.max(0,Math.min(t.length?n:a.findIndex(({group:e})=>!e),a.length-1));this.setState(v({suggestedUsers:a,selectedUserIndex:r},this.getSuggestionPositions()))}getSuggestionPositions(){const{textAreaMirror:e,textArea:t,base:n}=this.nodeRefs,i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=n.getBoundingClientRect(),r=Math.min(i.bottom,o.bottom);return{suggestionListTop:r-a.top,suggestionListAbsoluteTop:r,suggestionListFallbackBottom:i.top}}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return void 0===e?-1:-1!==e&&Object(d.getBrowser)()===d.BROWSER.SAFARI?e+(t.match(/\n/g)||[]).length:e}submit(){const{onSubmit:e,resetOnSubmit:t}=this.props,{value:n,originalValue:i}=this.state;if(n===i)this.cancelEdit();else{const o={editing:!1,originalValue:n};t&&(o.value=i),this.setState(o),e(n)}}handleSubmit(){const{submitOnBlur:e,onSubmit:t}=this.props;!e&&t&&this.submit(),this.nodeRefs.textArea.blur()}handleBlur(){const{submitOnBlur:e,onSubmit:t}=this.props;e&&t&&this.submit()}handleButtonClick(){const{readOnly:e}=this.props;e||this.handleSubmit()}handleClick(e){const{readOnly:t}=this.props,{editing:n}=this.state;t||n||e.target.closest("a")||this.setState(e=>({editing:!0,originalValue:e.value}))}handleInput(e){const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1,autoCompletedUser:!1})}handleKeyDown(e){const{readOnly:t}=this.props;if(t)return;if(this.props.showEmojiAutoComplete&&this.state.editing&&0!==this.state.suggestedEmojis.length)return void this.handleKeyDownWhenEmojiListOpen(e);this.props.showUserAutoComplete&&this.state.editing&&0!==this.state.suggestedUsers.length?this.handleKeyDownWhenUserListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.cancelEdit(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(d.cmdKey)(e)&&this.handleSubmit())}handleKeyDownEmojiListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}}handleKeyDownUserListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedUsers:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectUser();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedUserIndex>=e.suggestedUsers.length-1?{selectedUserIndex:e.suggestedUsers.length-1}:{selectedUserIndex:e.selectedUserIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedUserIndex<=0?{selectedUserIndex:0}:{selectedUserIndex:e.selectedUserIndex-1})}}handleKeyDownWhenEmojiListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownEmojiListActions(e)}handleKeyDownWhenUserListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownUserListActions(e)}handleKeyUp(e){e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||(this.props.showEmojiAutoComplete&&this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis),this.props.showUserAutoComplete&&this.setState({autoCompletedUser:!1},this.changeSuggestedUsers))}handleEmojiClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleUserClick(e,t){this.setState({selectedUserIndex:e},this.handleSelectUser)}handleEmojiMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleUserMouseOver(e,t){this.setState({selectedUserIndex:e})}handleSelectEmoji(){const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,i=e[t],o=this.nodeRefs.textArea.selectionStart,a=n.substring(0,o).lastIndexOf(":"),r=i.formattedAlias,s=`${n.substring(0,a)}:${r}: ${n.substring(o)}`,l=a+r.length+3;this.setState({value:s,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{this.nodeRefs.textArea.focus(),this.nodeRefs.textArea.setSelectionRange(l,l)})}handleSelectUser(){const{suggestedUsers:e,selectedUserIndex:t,value:n}=this.state,{name:i}=e[t],o=this.nodeRefs.textArea.selectionStart,a=n.lastIndexOf("@",o),r=`${n.substring(0,a+1)}${i} ${n.substring(o)}`,s=a+i.length+2;this.setState({value:r,autoCompletedUser:!0,suggestedUsers:[]},()=>{this.nodeRefs.textArea.focus(),this.nodeRefs.textArea.setSelectionRange(s,s)})}handleTextAreaClick(){this.state.editing&&(this.changeSuggestedEmojis(),this.changeSuggestedUsers())}componentWillReceiveProps(e){const{value:t="",editing:n}=e,i={};void 0!==n&&Object.assign(i,{editing:n}),this.state.originalValue!==t&&Object.assign(i,{value:t,originalValue:t}),0!==Object.keys(i).length&&this.setState(i)}componentDidUpdate(e,t){const{editing:n,value:i,autoCompletedEmoji:o,autoCompletedUser:a}=this.state,{showEmojiAutoComplete:r,showUserAutoComplete:s}=this.props;n&&t.editing!==n&&this.nodeRefs.textArea.focus(),r&&!o&&i!==t.value&&this.changeSuggestedEmojis(),s&&!a&&i!==t.value&&this.changeSuggestedUsers()}render(){const{autoEdit:e,containerClass:t,class:n,color:o,formatter:a,placeholder:r="",showEmojiAutoComplete:c,showUserAutoComplete:p}=this.props,{editing:h,value:g,suggestionListTop:b,suggestionListAbsoluteTop:S,suggestionListFallbackBottom:y,suggestedEmojis:C,selectedEmojiIndex:v,suggestedUsers:O,selectedUserIndex:E}=this.state,T=a?a(g):g,{maxLength:_}=this,P=Object(d.getOS)()===d.OS.MAC?"⌘⏎":"Ctrl+⏎",j=Object(s.default)("shortcut",{[Object(d.getOS)()]:!0});return i.h("div",{ref:Object(l.default)(this,"base"),class:Object(s.default)("textAreaContainer",t)},i.h("div",{class:Object(s.default)("textArea",n,{editing:h},o)},i.h("div",{class:Object(s.default)("formattedContent",{placeholder:r&&!g}),onClick:e?this.handleClick:null,dangerouslySetInnerHTML:{__html:T||r}}),i.h("div",{class:"editor"},i.h("div",{ref:Object(l.default)(this,"textAreaMirror"),class:"mirror"},g," "),i.h("textarea",{ref:Object(l.default)(this,"textArea"),value:g,spellcheck:"false",placeholder:r,maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur})),i.h("div",{class:"controls",tabIndex:"-1"},i.h("div",{class:"counter"},_>-1&&_-g.length),i.h("button",{type:"button",class:"submit",ref:Object(l.default)(this,"submitButton"),onClick:this.handleButtonClick},i.h("span",{class:"label"},"Done"),i.h("span",{class:j},P)))),i.h(m.a,{tabIndex:"-1",offsetTop:b,preferredAbsoluteTop:S,fallbackAbsoluteBottom:y},c&&h&&0!==C.length&&i.h(u.default,{class:"emojiAutoCompleteListContainer",onItemClick:this.handleEmojiClick,onItemMouseOver:this.handleEmojiMouseOver,suggestedEmojis:C,selectedIndex:v}),p&&h&&0!==O.length&&i.h(f.a,{class:"userAutoCompleteListContainer",onItemClick:this.handleUserClick,onItemMouseOver:this.handleUserMouseOver,suggestedUsers:O,selectedIndex:E})))}}T.propTypes={autoEdit:a.a.bool,value:a.a.string,containerClass:a.a.string,class:a.a.string,color:a.a.oneOf(["yellow","orange","peach","green","turquoise","lightOrange"]),editing:a.a.bool,maxLength:a.a.number,placeholder:a.a.string,readOnly:a.a.bool,submitOnBlur:a.a.bool,onSubmit:a.a.func,resetOnSubmit:a.a.func,onCancelEdit:a.a.func,formatter:a.a.func,showEmojiAutoComplete:a.a.bool,showUserAutoComplete:a.a.bool,pid:a.a.string},T.defaultProps={autoEdit:!1,value:"",color:"lightOrange",placeholder:"",readOnly:!1,submitOnBlur:!1,onSubmit:null,resetOnSubmit:!1,onCancelEdit:null,showEmojiAutoComplete:!1,showUserAutoComplete:!1,pid:null},t.default=T},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1309));t.default=o.default},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(395)),r=i(n(996));function s(e){const{name:t,self:n,description:i,icon:r,groupDataType:s,selected:l,onClick:c,onMouseOver:d,listRef:u}=e;return o.h("div",{class:a.default({selected:l},"userItem"),onMouseOver:d,onClick:c,ref:u},r&&o.h("img",{class:"userImg",src:r}),!r&&o.h("img",{class:"userImg","data-type":s}),o.h("div",{class:"userInfo"},o.h("span",{class:a.default({self:n},"userName","ellipsis")},t),i&&o.h("span",{class:"userDescription ellipsis"},i)))}n(1310),t.default=function({suggestedUsers:e,selectedIndex:t,onItemClick:n,onItemMouseOver:i,class:l}){return o.h(r.default,{class:a.default("userAutoCompleteList",l),options:e,keyProp:"_id",selectedIndex:t,onItemMouseOver:i,onItemClick:n,RowComponent:s})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1312);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(514);n(1313),t.default=function({tabIndex:e,offsetTop:t=0,preferredAbsoluteTop:n,fallbackAbsoluteBottom:a,children:r}){const s=o.useRef(),[l,c]=o.useState(t);return o.useLayoutEffect(()=>{const e=s.current.clientHeight,i=window.innerHeight-n>=e;c(t+(i?0:a-n-e))}),i.h("div",{ref:s,class:"absolutePositionedItemHolder",tabIndex:e,style:{top:l}},r)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1316);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(519),a=n.n(o),r=n(244),s=n(416);n(1317);function l(e,t){return"invited"!==e.user.status?e.user.username+("user"!==t?" ("+e.user.email+")":""):"Pending… ("+e.user.email+")"}class c extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{member:e,onClick:t}=this.props;t(e.user._id)}render(){const{member:e,title:t}=this.props,{src:n,srcset:o}=Object(r.getUserAvatar)(e.user,{ignoreRandomEmotar:!1,size:30});return i.h("div",{class:"memberAvatar",onClick:this.handleClick},i.h(a.a,{src:n,srcset:o,title:t,size:30}))}}class d extends i.Component{constructor(e){super(e),this.state={nrOfAvatarsDisplayed:0}}calculateNrOfAvatarsDisplayed(){const{members:e}=this.props,{nrOfAvatarsDisplayed:t}=this.state,n=this.nodeRefs.base.getBoundingClientRect().width,i=2*Math.floor((n-24)/38);if(0===i)return;let o;o=e.length>i?i-1:e.length,o!==t&&this.setState({nrOfAvatarsDisplayed:o})}componentDidMount(){this.calculateNrOfAvatarsDisplayed()}componentDidUpdate(){this.calculateNrOfAvatarsDisplayed()}renderRemainingMembers(e){const{nrOfAvatarsDisplayed:t}=this.state,{members:n,onMemberClick:o}=this.props;if(0===t)return null;const a=n.length-t;if(a){const r=n.slice(t).map(t=>l(t,e)).join("\n");return i.h("button",{type:"button",class:"remaining",onClick:o,title:r},"+",a)}}render(){const{nrOfAvatarsDisplayed:e}=this.state,{members:t,barrelUser:n,onMemberClick:o}=this.props,a=t.find(e=>e.user._id===n.user._id).role;return i.h("div",{class:"membersPreview",ref:Object(s.default)(this,"base")},t.slice(0,e).map(e=>i.h(c,{key:e.user._id,onClick:o,member:e,title:l(e,a)})),this.renderRemainingMembers(a))}}t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1319);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1269),a=n(245),r=n(242),s=n(416),l=n(400),c=n(1291),d=n(1320),u=n(1323),p=n(753);n(1325);function h(e){const t=Object(a.getUserRoleString)(e);return"king"===e||"owner"===e?t:t+"s"}const f={removeMemberConfirmationDialog:null,transferOwnershipConfirmationDialog:null,leaveConfirmationDialog:null};class g extends i.Component{constructor(e){super(e),this.state=Object.assign({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null},f),this.close=this.close.bind(this),this.closeDialogs=this.closeDialogs.bind(this),this.toggleInvitePopup=this.toggleInvitePopup.bind(this),this.setInvitePopupPosition=Object(a.debounce)(this.setInvitePopupPosition).bind(this),this.setInvitePopupAnchorPosition=this.setInvitePopupAnchorPosition.bind(this),this.handleUpgrade=this.handleUpgrade.bind(this),this.handleMembersDialogClick=this.handleMembersDialogClick.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this),this.handleCloseMemberOptions=this.handleCloseMemberOptions.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.openRemoveMemberConfirmationDialog=this.openRemoveMemberConfirmationDialog.bind(this),this.handleAddMembers=this.handleAddMembers.bind(this),this.handleRemoveMember=this.handleRemoveMember.bind(this),this.openTransferOwnershipConfirmationDialog=this.openTransferOwnershipConfirmationDialog.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this),this.openLeaveConfirmationDialog=this.openLeaveConfirmationDialog.bind(this),this.handleLeave=this.handleLeave.bind(this)}close(){const{onClose:e}=this.props;e()}closeDialogs(){this.setState(f)}openRemoveMemberConfirmationDialog(e){this.setState(Object.assign({},f,{removeMemberConfirmationDialog:{member:e}}))}openTransferOwnershipConfirmationDialog(e){this.setState(Object.assign({},f,{transferOwnershipConfirmationDialog:{member:e}}))}openLeaveConfirmationDialog(e){this.setState(Object.assign({},f,{leaveConfirmationDialog:{member:e}}))}setInvitePopupAnchorPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;const t=o.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom<n.top+39,a=t.top>=n.top,r=i||a;if(!o.anchor.classList.toggle("hidden",r)){const e=n.top-t.top;o.anchor.style.top=e+25+-10+"px"}}setInvitePopupPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;o.element.style.transform="";const t=o.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom+12-window.innerHeight;let a;if(i>0?a=Math.max(t.top-i,60):t.top<60&&(a=60),a){const e=a-n.top- -52;o.element.style.transform=`translate3d(0, ${e}px, 0)`}const r=n.right+t.width+24>window.innerWidth;o.element.classList.toggle("left",r),this.setInvitePopupAnchorPosition()}openInvitePopup(){const{barrelType:e,barrelId:t,members:n,barrelUser:i,organizationId:a}=this.props,{membersDialog:r}=this.nodeRefs;o.show({bt:e,popupContainer:r,bid:t,members:n,oid:"pawn"===i.role?"user":a}),this.setInvitePopupPosition(),r.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),r.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.master.track("Showed invite user pop up",{Source:"Members dialog"})}closeInvitePopup(){const{membersDialog:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),o.dismiss()}toggleInvitePopup(e){e.stopPropagation(),o.isHidden()?this.openInvitePopup():this.closeInvitePopup()}handleOpenMemberOptions(e,t){this.setState({memberOptionsMenuOpenFor:e,memberOptionsMenuClickOrigin:t})}handleCloseMemberOptions(){this.setState({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null})}handleUpgrade(){this.props.onUpgrade(),this.close()}handleDocumentKeyDown(e){const{memberOptionsMenuOpenFor:t,removeMemberConfirmationDialog:n,transferOwnershipConfirmationDialog:i,leaveConfirmationDialog:o}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),t?this.handleCloseMemberOptions():n||i||o?this.setState(f):this.close())}handleBackdropClick(e){if(e.stopPropagation(),!o.isHidden())return void this.closeInvitePopup();const{onClose:t}=this.props;t()}handleMembersDialogClick(e){e.stopPropagation(),o.isHidden()||this.closeInvitePopup()}handleAddMembers(e){const{onAddMembers:t}=this.props;t(e)}handleRemoveMember(){const{removeMemberConfirmationDialog:{member:e}}=this.state,{onRemoveMember:t}=this.props;this.closeDialogs(),t(e)}handleTransferOwnership(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{onTransferOwnership:t}=this.props;this.closeDialogs(),t(e)}handleLeave(){const{leaveConfirmationDialog:{member:e}}=this.state,{onLeave:t}=this.props;this.closeDialogs(),t(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),this.closeInvitePopup()}renderHeader(){return i.h("div",{class:"membersDialogHeader"},i.h("div",{class:"title"},"Members"),i.h(l.default,{class:"inviteButton",onClick:this.toggleInvitePopup,primary:!0},"Invite"))}renderExtraInfo(){const{barrelUser:e,members:t,isOrganizationProject:n,organizationId:o}=this.props;if(n&&"pawn"!==e.role)return i.h("div",{class:"information visitOrganizationDashboard"},"To setup roles of members, ",i.h("a",{href:Object(r.urlResolve)("organization-dashboard",{url:{oid:o}})},"visit the organization dashboard"),".");const a=t.find(e=>"owner"===e.role);return a&&"free"===a.user.paymentPlan?a.user._id===e.user._id?i.h("div",{class:"upgradeNow"},i.h("div",{class:"information text"},"On the Free plan, only the project owner can upload designs. Upgrade now to access more projects and allow members to upload designs!"),i.h(l.default,{class:"updgradeNowButton",secondary:!0,onClick:this.handleUpgrade},"Upgrade")):i.h("div",{class:"information ownerIsOnFreePlan"},"On the Free plan, only the project owner can upload designs. Contact ",a.user.username," to upgrade their plan and allow members to upload designs!"):void 0}renderMembers(){const{barrelUser:e,members:t,highlight:n}=this.props,{memberOptionsMenuOpenFor:o}=this.state,r=t.reduce((t,r)=>{const s=i.h(d.default,{key:r.user._id,member:r,showOptionsButton:"owner"!==r.role&&a.permissions.isSuperior(e,r,!0),memberOptionsOpen:!!o&&o.user._id===r.user._id,onOpenMemberOptions:this.handleOpenMemberOptions,highlight:n&&n===r.user._id});return t.has(r.role)?t.get(r.role).push(s):t.set(r.role,[s]),t},new Map),s=[];for(let[a,l]of r)s.push(i.h("div",{key:a+"Rows",class:"roleGroup"},i.h(c.default,{class:"roleTitle",key:a,title:h(a)}),l));return i.h("div",{class:"members"},s)}renderFooter(){return i.h("div",{class:"membersDialogFooter"},i.h("button",{type:"button",onClick:this.close},"DONE"))}renderMemberOptionsMenu(){const{barrelUser:e,barrelType:t,isOrganizationProject:n,onAssignAdmin:o,onUnassignAdmin:r}=this.props,{memberOptionsMenuOpenFor:s,memberOptionsMenuClickOrigin:l}=this.state,{membersDialog:c}=this.nodeRefs;return i.h("div",{class:"memberOptionsContainer",key:"memberOptions"},i.h(u.default,{class:"memberOptions",barrelType:t,clickOrigin:l,menuContainer:c,member:s,canAssignAdmin:!n&&"user"!==e.role&&"user"===s.role,canUnassignAdmin:!n&&"user"!==e.role&&"admin"===s.role,canTransferOwnership:!n&&a.permissions.canTransferOwnership(e),canRemoveFromProject:s.user._id!==e.user._id&&a.permissions.isSuperior(e,s,!0),canLeaveProject:s.user._id===e.user._id,onAssignAdmin:o,onUnassignAdmin:r,onTransferOwnership:this.openTransferOwnershipConfirmationDialog,onRemoveMember:this.openRemoveMemberConfirmationDialog,onLeave:this.openLeaveConfirmationDialog,onClose:this.handleCloseMemberOptions}))}renderRemoveMemberConfirmation(){const{removeMemberConfirmationDialog:{member:e}}=this.state;return i.h(p.BasicOverlayDialog,{key:"removeMemberConfirmationDialog",message:`Remove "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"REMOVE",onPositiveButtonClick:this.handleRemoveMember,onClose:this.closeDialogs})}renderTransferOwnershipConfirmationDialog(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{barrelName:t}=this.props;return i.h(p.BasicOverlayDialog,{key:"transferOwnershipConfirmationDialog",message:`Transfer ownership of "${t}" to "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"TRANSFER",onPositiveButtonClick:this.handleTransferOwnership,onClose:this.closeDialogs})}renderLeaveConfirmationDialog(){const{barrelName:e}=this.props;return i.h(p.BasicOverlayDialog,{key:"leaveConfirmationDialog",message:`Leave "${e}"?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"LEAVE",onPositiveButtonClick:this.handleLeave,onClose:this.closeDialogs})}renderDialog(){const{memberOptionsMenuOpenFor:e,removeMemberConfirmationDialog:t,transferOwnershipConfirmationDialog:n,leaveConfirmationDialog:o}=this.state;return i.h("div",{class:"membersDialog",ref:Object(s.default)(this,"membersDialog"),onClick:this.handleMembersDialogClick},this.renderHeader(),this.renderExtraInfo(),this.renderMembers(),this.renderFooter(),e&&this.renderMemberOptionsMenu(),t&&this.renderRemoveMemberConfirmation(),n&&this.renderTransferOwnershipConfirmationDialog(),o&&this.renderLeaveConfirmationDialog())}render(){return i.h("div",{class:"membersDialogBackdrop",onClick:this.handleBackdropClick},this.renderDialog())}}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1321);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(244),a=n(519),r=n.n(a),s=n(602),l=n(438),c=n(395),d=n(416);n(1322);class u extends i.Component{constructor(e){super(e),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this)}scrollAndHighlightIfNecessary(){this.props.highlight&&(Object(o.scrollIfNecessary)(this.nodeRefs.memberRow),setTimeout(()=>{const{backgroundColor:e}=getComputedStyle(this.nodeRefs.memberRow),t={backgroundColor:e};this.nodeRefs.memberRow.animate([t,{backgroundColor:"var(--cornflower-blue-30pc)"},t],{duration:1200,easing:"ease-in-out"})},10))}handleOpenMemberOptions(e){const{member:t,onOpenMemberOptions:n}=this.props;n(t,{x:e.clientX,y:e.clientY})}componentDidMount(){this.scrollAndHighlightIfNecessary()}render(){const{member:{user:e},memberOptionsOpen:t,showOptionsButton:n}=this.props,{src:a,srcset:u}=Object(o.getUserAvatar)(e,{ignoreRandomEmotar:!1,size:30}),{_id:p,username:h,fullName:f}=e,g=f?`${f} (${h})`:h;return i.h("div",{class:"memberRow",ref:Object(d.default)(this,"memberRow")},i.h(s.default,{userId:p},i.h(r.a,{class:"memberRowAvatar",src:a,srcset:u,size:30})),"invited"===e.status?i.h("div",{class:"info"},i.h("div",{class:"memberRowMainInfo ellipsis",title:e.email},e.email),i.h("div",{class:"memberRowSubInfo"},"pending invitation")):i.h("div",{class:"info"},i.h(s.default,{class:"memberRowNameUserProfileCardPopoverContainer",userId:p,openToLeft:!1},i.h("div",{class:"memberRowMainInfo ellipsis",title:g},g)),i.h("div",{class:"memberRowSubInfo ellipsis",title:e.email},e.email)),n&&i.h("button",{class:Object(c.default)("memberOptionsButton",{memberOptionsOpen:t}),onClick:this.handleOpenMemberOptions},i.h(l.IconMenu,null)))}}t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1324);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(863);class a extends i.Component{constructor(e){super(e),this.handleLeave=this.handleLeave.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleAssignAdmin=this.handleAssignAdmin.bind(this),this.handleUnassignAdmin=this.handleUnassignAdmin.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this)}handleLeave(){const{member:e,onLeave:t}=this.props;t(e)}handleRemove(){const{member:e,onRemoveMember:t}=this.props;t(e)}handleAssignAdmin(){const{member:e,onAssignAdmin:t}=this.props;t(e)}handleUnassignAdmin(){const{member:e,onUnassignAdmin:t}=this.props;t(e)}handleTransferOwnership(){const{member:e,onTransferOwnership:t}=this.props;t(e)}render(){const{barrelType:e,menuContainer:t,clickOrigin:n,canAssignAdmin:a,canUnassignAdmin:r,canTransferOwnership:s,canRemoveFromProject:l,canLeaveProject:c,onClose:d,class:u}=this.props;return i.h(o.default.withAutoPosition,{class:u,onClose:d,autoPosition:{menuContainer:t,clickOrigin:n}},a&&i.h(o.default.Item,{onClick:this.handleAssignAdmin},"Assign Admin"),r&&i.h(o.default.Item,{onClick:this.handleUnassignAdmin},"Unassign Admin"),s&&i.h(o.default.Item,{onClick:this.handleTransferOwnership},"Transfer ownership"),l&&i.h(o.default.Item,{onClick:this.handleRemove,warning:!0},"Remove from ",e),c&&i.h(o.default.Item,{onClick:this.handleLeave,warning:!0},"Leave ",e))}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1327);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(1328)),s=i(n(537)),l=i(n(400));n(1334);const c=n(960);t.default=function({popoverOpen:e,onPopoverOpen:t,onPopoverClose:n,barrelType:i,webURL:d,sceneURL:u,appURI:p,onEnableScene:h,onUnshare:f,canUserChangeBarrelAccesibility:g}){a.useEffect(()=>{c.fetchShortlink(d),u&&c.fetchShortlink(u)},[]);const m=o.h(r.default,{barrelType:i,webURL:d,sceneURL:u,appURI:p,canChangeProjectAccesibility:g,onEnableScene:h,onUnshare:f});return o.h("div",{class:"shareButtonContainer"},o.h(s.default,{open:e,onOpen:t,onClose:n,content:m,left:12,centerY:!0,faceTop:!0,showAnchor:!0},o.h(l.default,{class:"shareButton",primary:!0},"Share")))}},function(e,t,n){"use strict";n.r(t);var i=n(1329);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(416),r=n(244),s=n(261),l=n.n(s),c=n(960),d=n(246),u=n(400),p=n(1303),h=n(1330);n(1333);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=Object.freeze({WEB:"Web",APP:"App"});function m(e){const{type:t,link:n,onCopy:o}=e;let a;if(t===g.WEB){const e=new URL(n);a=e.host+e.pathname}else a=n;return i.h("div",{class:"shareBarrelLink"},i.h("div",{class:"type"},t,":"),i.h("div",{class:"link ellipsis",title:n},a),t===g.APP&&i.h("a",{href:n,class:"button secondary openButton"},"Open"),i.h(u.default,{class:"copyButton",onClick:o,primary:!0,disabled:!n},"Copy"))}function b(e){const{title:t,explanation:n}=e;return i.h("div",{class:"shareBarrelSubtitle"},i.h("div",{class:"title"},t),i.h("div",{class:"explanation"},n))}class S extends i.Component{constructor(...e){super(...e),f(this,"state",{sceneOptionsOpen:!1}),f(this,"openSceneOptions",()=>{this.setState({sceneOptionsOpen:!0})}),f(this,"closeSceneOptions",()=>{this.setState({sceneOptionsOpen:!1})}),f(this,"handleCopyWebURL",()=>{const{webURL:e,barrelType:t}=this.props,{content:n}=this.nodeRefs;Object(r.copyContent)({content:Object(c.getShortlink)(e),toastContainer:n}),mixpanel.master.track("Copied web link",{Target:Object(d.uppercaseFirst)(t),Source:"Inspector"})}),f(this,"handleCopyAppURI",()=>{const{appURI:e,barrelType:t}=this.props,{content:n}=this.nodeRefs;Object(r.copyContent)({content:e,toastContainer:n}),mixpanel.master.track("Copied app URI",{Target:Object(d.uppercaseFirst)(t),Source:"Inspector"})}),f(this,"handleCopySceneURL",e=>{e.stopPropagation();const{sceneURL:t}=this.props,{content:n}=this.nodeRefs;this.closeSceneOptions(),Object(r.copyContent)({content:Object(c.getShortlink)(t),toastContainer:n}),mixpanel.master.track("Copied scene link")}),f(this,"handleUnshare",e=>{e.stopPropagation();const{onUnshare:t}=this.props;this.closeSceneOptions(),t()})}renderSceneSection(){const{barrelType:e,sceneURL:t,canChangeProjectAccesibility:n,onEnableScene:o}=this.props;if(e===l.a.STYLEGUIDE)return null;const{sceneOptionsOpen:a}=this.state;return i.h(i.Fragment,null,i.h(p.default,{class:"shareBarrelSeparator"}),i.h(b,{title:"Scene",explanation:"Everyone with the link"}),i.h(h.default,{optionsOpen:a,canChangeProjectAccesibility:n,sceneURL:t,onEnable:o,onUnshare:this.handleUnshare,onCopySceneURL:this.handleCopySceneURL,onOptionsOpen:this.openSceneOptions,onOptionsClose:this.closeSceneOptions}))}render(){const{webURL:e,appURI:t}=this.props,{sceneOptionsOpen:n}=this.state,r=Object(c.getShortlink)(e);return i.h("div",{class:"shareBarrel"},i.h("div",{class:Object(o.default)("content",{sceneOptionsOpen:n}),ref:Object(a.default)(this,"content")},i.h(b,{title:"Share link",explanation:"Invited members only"}),i.h(m,{type:g.WEB,link:r,onCopy:this.handleCopyWebURL}),i.h(m,{type:g.APP,link:t,onCopy:this.handleCopyAppURI}),this.renderSceneSection()))}}t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(1331);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(863),r=n(438);n(1332);t.default=function(e){const{onEnable:t,sceneURL:n,canChangeProjectAccesibility:s,optionsOpen:l,onOptionsOpen:c,onOptionsClose:d,onCopySceneURL:u,onUnshare:p}=e;return i.h("div",{class:"scene"},i.h("div",{class:"explanation"},"Showcase designs and Styleguide"),n?i.h(i.Fragment,null,i.h("a",{class:"openSceneButton button secondary",key:"openSceneButton",href:n,target:"_blank"},"Open"),i.h("button",{key:"sceneOptionsButton",class:"sceneOptionsButton",onClick:c},i.h(r.IconMenu,null)),l?i.h(a.default,{class:"sceneOptions",onClose:d},i.h(a.default.Item,{onClick:u},"Copy link"),s&&i.h(a.default.Item,{onClick:p},"Unshare")):null):i.h(o.default,{class:"enableScene",onClick:t,disabled:!s,secondary:!0},"Enable"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1336);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(753),s=n(795),l=n.n(s),c=n(249),d=n(416),u=n(245),p=n(230);n(1337);class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||p.DENSITY.BASE,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){const{type:e}=this.props;return i.h("div",{ref:Object(d.default)(this,"tooltip"),onClick:u.stopPropagation,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),"android"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"720×1280px")," screen, you should select ",i.h("strong",null,'"xhdpi"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10dp to help developers out (since they use 1x values while coding)."),("ios"===e||"osx"===e)&&i.h("div",null,"e.g. for a ",i.h("strong",null,"640×1136px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10pt to help developers out (since they use 1x values while coding)."),"web"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderAndroid(){const{selected:e}=this.state;return i.h("div",{class:"androidDensitySelection"},i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Phone"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{tabIndex:"1",class:"densityRadioButton",name:"androidDensity",checked:!e||e===p.DENSITY.MDPI,onClick:this.handleChange,value:p.DENSITY.MDPI}),i.h("span",{class:"densityValue"},"mdpi"),i.h("span",{class:"densityResolution"},"360x640px"))),i.h("td",null,i.h("label",null,i.h(l.a,{tabIndex:"2",class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.XHDPI,onClick:this.handleChange,value:p.DENSITY.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi"),i.h("span",{class:"densityResolution"},"720x1280px")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{tabIndex:"3",class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.HDPI,onClick:this.handleChange,value:p.DENSITY.HDPI}),i.h("span",{class:"densityValue"},"hdpi"),i.h("span",{class:"densityResolution"},"480x800px"))),i.h("td",null,i.h("label",null,i.h(l.a,{tabIndex:"4",class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.XXHDPI,onClick:this.handleChange,value:p.DENSITY.XXHDPI}),i.h("span",{class:"densityValue"},"xxhdpi"),i.h("span",{class:"densityResolution"},"1080x1920px")))),i.h("tr",null,i.h("td",null),i.h("td",null,i.h("label",null,i.h(l.a,{tabIndex:"5",class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.XXXHDPI,onClick:this.handleChange,value:p.DENSITY.XXXHDPI}),i.h("span",{class:"densityValue"},"xxxhdpi"),i.h("span",{class:"densityResolution"},"1440x2560px")))))),i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Tablet"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{tabIndex:"6",class:"densityRadioButton",name:"androidTabletDensity",checked:e===p.DENSITY.MDPI,onClick:this.handleChange,value:p.DENSITY.MDPI}),i.h("span",{class:"densityValue"},"mdpi"))),i.h("td",null,i.h("label",null,i.h(l.a,{tabIndex:"7",class:"densityRadioButton",name:"androidTabletDensity",checked:e===p.DENSITY.XHDPI,onClick:this.handleChange,value:p.DENSITY.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{tabIndex:"8",class:"densityRadioButton",name:"androidTabletDensity",checked:e===p.DENSITY.HDPI,onClick:this.handleChange,value:p.DENSITY.HDPI}),i.h("span",{class:"densityValue"},"hdpi"))),i.h("td",null)))))}renderWeb(){const{selected:e}=this.state;return i.h("div",{class:"webDensitySelection"},i.h("label",null,i.h(l.a,{tabIndex:"1",class:"densityRadioButton",name:"webDensity",checked:!e||e===p.DENSITY._1x,onClick:this.handleChange,value:p.DENSITY._1x}),i.h("span",{class:"densityValue"},"1x"),i.h("span",{class:"densityResolution"},"320px, 768px, 1024px, 1440px width")),i.h("hr",null),i.h("label",null,i.h(l.a,{tabIndex:"2",class:"densityRadioButton",name:"webDensity",checked:e===p.DENSITY._2x,onClick:this.handleChange,value:p.DENSITY._2x}),i.h("span",{class:"densityValue"},"2x"),i.h("span",{class:"densityResolution"},"2560px, 2880px width")))}renderIOSX(){const{selected:e}=this.state;return i.h("div",{class:"iosxDensitySelection"},i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{tabIndex:"1",class:"densityRadioButton",name:"iosxDensity",checked:!e||e===p.DENSITY._1x,onClick:this.handleChange,value:p.DENSITY._1x}),i.h("span",{class:"densityValue"},"1x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _320x480"},"320x480"),i.h("div",{class:"phoneFrame _320x568"},"320x568"),i.h("div",{class:"phoneFrame _375x667"},"375x667"),i.h("div",{class:"phoneFrame _414x736"},"414x736"),i.h("div",{class:"phoneFrame _768x1024"},"768x1024"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{tabIndex:"2",class:"densityRadioButton",name:"iosxDensity",checked:e===p.DENSITY._2x,onClick:this.handleChange,value:p.DENSITY._2x}),i.h("span",{class:"densityValue"},"2x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _640x960"},"640x960"),i.h("div",{class:"phoneFrame _640x1136"},"640x1136"),i.h("div",{class:"phoneFrame _750x1334"},"750x1334"),i.h("div",{class:"phoneFrame _1536x2048"},"1536x2048"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{tabIndex:"3",class:"densityRadioButton",name:"iosxDensity",checked:e===p.DENSITY._3x,onClick:this.handleChange,value:p.DENSITY._3x}),i.h("span",{class:"densityValue"},"3x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _1242x2208"},"1242x2208"),i.h("div",{class:"phoneFrame _1125x2436"},"1125x2436"))))}renderForm(){const{type:e}=this.props;return"android"===e?this.renderAndroid():"web"===e?this.renderWeb():"ios"===e||"osx"===e?this.renderIOSX():void 0}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(r.default,{class:"densityDialog",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:720,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(c.imageUrl)("img/icInfo.svg")}),"What I need to choose?"))},i.h("div",{ref:Object(d.default)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},i.h("h1",null,"Choose your screens’ densities"),i.h("div",{class:"densityChangeWarning"},i.h("img",{src:Object(c.imageUrl)("img/icWarning.svg"),alt:"⚠"}),i.h("p",null,"Changing the density might affect your assets since Zeplin generates them based on this setting.",i.h("br",null),i.h("strong",null,"Please re-export your designs after changing the density."))),this.renderForm()),e&&this.renderTooltip())}}h.propTypes={type:a.a.oneOf(["android","web","ios"]),selectedValue:a.a.number.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func.isRequired},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1339);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(1027),s=n(249),l=n(416),c=n(245),d=n(1340),u=n(230);n(1344);class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||u.DENSITY._1x,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){return i.h("div",{ref:Object(l.default)(this,"tooltip"),onClick:c.stopPropagation,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderBody(){const{selected:e}=this.state;return[i.h("h2",null,"Styleguide density helps Zeplin generate matching assets and convert units.",i.h("br",null),"Pick the density based on your artboard size."),i.h("div",{class:"densityDialogForm"},i.h(d.default,{text:Object(c.getDensityScaleRepresentation)("base",u.DENSITY._1x),value:u.DENSITY._1x,checked:e===u.DENSITY._1x,divisor:u.DENSITY._1x,onChange:this.handleChange}),i.h(d.default,{text:Object(c.getDensityScaleRepresentation)("base",u.DENSITY._2x),value:u.DENSITY._2x,checked:e===u.DENSITY._2x,divisor:u.DENSITY._2x,onChange:this.handleChange}))]}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(r.default,{class:"densityDialogForBase",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:600,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(s.imageUrl)("img/icInfo.svg")}),"Learn more"))},i.h("div",{ref:Object(l.default)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},this.renderBody()),e&&this.renderTooltip())}}p.propTypes={selectedValue:a.a.string.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1341);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(795),a=n.n(o),r=n(1342);n(1343);t.default=function(e){const{text:t,description:n,value:o,divisor:s,unit:l,checked:c,onChange:d}=e;return i.h("div",{class:"densityDialogOption"},i.h("label",{class:"densityRadio"},i.h(a.a,{tabIndex:"1",class:"densityRadioButton",checked:c,onClick:d,value:o}),i.h("span",{class:"densityValue"},t),n&&i.h("span",{class:"densityAdditionalDescription"},n)),c&&i.h("div",{class:"densityOptionBody"},i.h(r.default,{divisor:s,targetUnit:l})))}},function(e,t,n){"use strict";n.r(t);var i=n(4);t.default=function({divisor:e,targetUnit:t="px"}){return i.h("svg",{width:"252",height:"58",viewBox:"0 0 252 58"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{stroke:"#554D56","stroke-linecap":"round","stroke-linejoin":"round"},i.h("path",{d:"M128.813 9.022c4.443 2.402 14.296 5.137-1.088 7.906-.803.145.494-2.05.744-3.08.179-.74.178-1.533.102-2.261M110 15.076c6.862-3.406 14.195-3.911 22-1.516"})),i.h("rect",{width:"60",height:"30",x:"11",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M11 11v43M71 11v43"}),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"24.506",y:"11"},"120")," ",i.h("tspan",{x:"44.721",y:"11",style:"font-weight: bold"},"px")),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"75",y:"37"},"60")," ",i.h("tspan",{x:"88.471",y:"37",style:"font-weight: bold"},"px")),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M3 18h76M3 48h76"}),i.h("text",{fill:"#FFF","font-family":"AppleColorEmoji, Apple Color Emoji","font-size":"24",transform:"translate(0 32)"},i.h("tspan",{x:"0",y:"24"},"🎨")),i.h("rect",{width:"60",height:"30",x:"160",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M160 11v43M220 11v43"}),i.h("svg",{width:"60",x:"160",y:"-18.67"},i.h("text",{x:"50%",y:"50%","alignment-baseline":"middle","text-anchor":"middle",fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",null,120/e)," ",i.h("tspan",{dx:"-3",style:"font-weight: bold"},t))),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"224",y:"37"},60/e)," ",i.h("tspan",{x:"237.471",y:"37",style:"font-weight: bold"},t)),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M152 18h76M152 48h76"}),i.h("path",{fill:"#FDBD39",d:"M153.312 50.43l-1.463.535-.079 4.354 5.065-1.85c-1.737-.584-3.006-1.611-3.523-3.038"}),i.h("path",{fill:"#F69833",d:"M154.078 45.826L149 47.681l2.848 3.284 1.463-.534c-.516-1.423-.198-3.031.766-4.605"}),i.h("path",{fill:"#FFCB03",d:"M162.621 39.545c-6.465 2.362-10.633 7.236-9.309 10.886l23.411-8.554c-1.323-3.65-7.637-4.694-14.102-2.332"}),i.h("path",{fill:"#EE6723",d:"M167.414 52.764c6.465-2.362 10.64-7.215 9.31-10.887l-23.412 8.554c1.331 3.672 7.637 4.695 14.102 2.333"}),i.h("path",{fill:"#F69833",d:"M176.723 41.877l-23.411 8.554c.458 1.264 2.207 1.887 4.66 1.887 2.39 0 5.452-.592 8.643-1.758 6.465-2.361 11.013-6.186 10.108-8.683"}),i.h("path",{fill:"#FDBD39",d:"M172.064 39.99c-2.392 0-5.453.592-8.644 1.758-6.465 2.362-11.013 6.186-10.108 8.683l23.411-8.554c-.458-1.264-2.206-1.887-4.66-1.887"}),i.h("path",{fill:"#EE6723",d:"M170.77 55.55c-.688 0-1.704-.623-3.02-1.85-1.556-1.452-3.338-3.579-5.02-5.988-1.68-2.41-3.06-4.818-3.888-6.783-.9-2.14-1.03-3.457-.382-3.912.142-.1.314-.15.51-.15.526 0 1.552.392 3.45 2.26l.042.042-.006.058c-.013.134-.025.27-.035.402l-.021.264-.187-.187c-2.045-2.06-2.945-2.283-3.237-2.283a.34.34 0 0 0-.197.05c-.281.197-.3 1.164.574 3.24.812 1.93 2.173 4.302 3.832 6.68 1.66 2.378 3.414 4.473 4.943 5.9 1.648 1.537 2.39 1.703 2.633 1.703a.347.347 0 0 0 .203-.054c.296-.208.297-1.244-.678-3.478l-.044-.102.098-.054c.098-.053.192-.106.281-.157l.117-.066.054.124c.691 1.582 1.337 3.594.49 4.19a.87.87 0 0 1-.511.15zm0-.245v.122-.122z"}),i.h("path",{fill:"#EE6723",d:"M167.571 52.697l-.01.122c-.163 2.022-.594 4.454-1.716 4.552a.785.785 0 0 1-.069.003c-.762 0-1.483-1.092-2.143-3.246-.625-2.038-1.11-4.775-1.365-7.705-.255-2.93-.251-5.71.011-7.826.286-2.306.83-3.51 1.618-3.58a.785.785 0 0 1 .071-.003c.553 0 1.387.626 2.24 3.543l-.557.108c-.285-.975-.595-1.768-.904-2.313-.285-.503-.562-.78-.78-.78h-.022c-.341.03-.838.858-1.116 3.094-.257 2.078-.26 4.816-.008 7.708.252 2.893.729 5.589 1.342 7.59.274.897.576 1.635.87 2.137.273.462.537.717.743.717l.021-.001c.327-.029.942-.891 1.201-3.924l.573-.196"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1346);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(863),a=n(1303),r=n(1291),s=n(1294),l=n(537),c=n(416),d=n(1099),u=n(245);n(1347);class p extends i.Component{constructor(e){super(e),this.openParentStyleguidesMenu=this.openParentStyleguidesMenu.bind(this),this.closeParentStyleguidesMenu=this.closeParentStyleguidesMenu.bind(this),this.openSelectParentPopup=this.openSelectParentPopup.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleSelectParent=this.handleSelectParent.bind(this),this.state={menuOpen:!1,selectParentPopupOpen:!1}}openParentStyleguidesMenu(){this.setState({menuOpen:!0})}closeParentStyleguidesMenu(){this.setState({menuOpen:!1})}openSelectParentPopup(e){e.stopPropagation(),this.setState({selectParentPopupOpen:!0})}ellipsizeIfNecessary(){if(CSS.supports("-webkit-line-clamp",3))return;const e=this.nodeRefs.textContainer;if(e.scrollHeight<=e.clientHeight)return;let t=e.textContent;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=t+"…"}handleDocumentClick(){this.setState({selectParentPopupOpen:!1})}handleSelectParent(e){const{onParentSelect:t}=this.props;t(e._id)}componentDidMount(){this.ellipsizeIfNecessary()}componentWillReceiveProps(e){const{loading:t}=e,{loading:n}=this.props;n&&!t&&this.setState({selectParentPopupOpen:!1})}componentDidUpdate(e,t){this.ellipsizeIfNecessary(),!t.selectParentPopupOpen&&this.state.selectParentPopupOpen?document.addEventListener("click",this.handleDocumentClick):t.selectParentPopupOpen&&!this.state.selectParentPopupOpen&&document.removeEventListener("click",this.handleDocumentClick)}renderSelectParentPopup(){const{selectableStyleguides:e,loading:t}=this.props;return i.h(l.default,{targetNode:this.nodeRefs.settingsButton,content:i.h(d.default,{styleguides:e,onSelect:this.handleSelectParent,loading:t}),faceTop:!0,open:!0})}renderContextMenu(e,t){const{onParentRemove:n}=this.props,a=e?[t&&i.h(o.default.Item,{onClick:this.openSelectParentPopup,key:"changeParent"},"Change Parent Styleguide"),i.h(o.default.Item,{onClick:n,key:"removeParent"},"Remove Parent Styleguide")]:i.h(o.default.Item,{onClick:this.openSelectParentPopup},"Select Parent Styleguide");return i.h(o.default,{class:"parentStyleguidesMenu",onClose:this.closeParentStyleguidesMenu},a)}render(){const{barrelUser:e,selectableStyleguides:t,parentNames:n}=this.props,{selectParentPopupOpen:o,menuOpen:l}=this.state,d=u.permissions.canUpdateStyleguide(e),p=!!t.length,h=!!n.length;return i.h("div",null,i.h(r.default,{title:"Parent Styleguide",button:p&&i.h(s.default,{baseRef:Object(c.default)(this,"settingsButton"),disabled:!d,onClick:this.openParentStyleguidesMenu})}),i.h("div",{class:"parentStyleguidesContainer"},l&&this.renderContextMenu(h,p),i.h("p",{ref:Object(c.default)(this,"textContainer")},h?n.join(" ▸ "):"No parent styleguides.")),i.h(a.default,null),o&&this.renderSelectParentPopup(t))}}t.default=p},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1351);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1352),a=n(1394),r=n(1473),s=n(269),l=n.n(s),c=n(376),d=n(361),u=n(505),p=n.n(u),h=n(227),f=n(416),g=n(257);n(1646);class m extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getStores(){return[l.a.BarrelStore,l.a.ScreenStore,l.a.UserStore]}static calculateState(){const{versionsVisible:e}=l.a.ScreenStore.getState(),{connectedComponentsDevModeEnabled:t}=l.a.BarrelStore.getState();return{userRestricted:d.default.isUserRestricted(),versionsVisible:e,connectedComponentsDevModeEnabled:t}}handleBaseRef(e){Object(f.default)(this,"base")(e),this.props.baseRef(e)}handleKeyDown(e){const{connectedComponentsDevModeEnabled:t}=this.state;Object(h.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(g.default)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.base}),t?c.default.disableDevMode():c.default.enableDevMode())}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{versionsVisible:e}=this.state;return i.h("div",{class:"screenContainer",ref:this.handleBaseRef},e&&i.h(o.default,null),i.h(a.default,null),i.h(r.default,null))}}t.default=p()(m,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1353);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),a=n(242),r=n(416),s=n(244),l=n(241),c=n(364),d=n(231),u=n(960),p=n(1275),h=n(1354),f=n.n(h),g=n(1387),m=n.n(g),b=n(1390),S=n.n(b),y=n(361),C=n(382),v=n(367),O=n(269),E=n.n(O),T=n(505),_=n.n(T);n(1393);class P extends i.Component{constructor(e){var t,n,i;super(e),i=e=>{const{barrelId:t,screenId:n}=this.state,i=Object(a.urlResolve)("project-screen-version",{url:{pid:t,sid:n,vid:e}});Object(u.fetchShortlink)(i)},(n="handleOpenMenu")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleCollapse=this.handleCollapse.bind(this),this.handleCollapserClick=this.handleCollapserClick.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleRelease=this.handleRelease.bind(this),this.handleSelectedVersionChange=this.handleSelectedVersionChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCommitColorChange=this.handleCommitColorChange.bind(this)}static getStores(){return[E.a.BarrelStore,E.a.ScreenStore,E.a.ProjectsDataStore,E.a.UserStore]}static calculateState(){const{loading:e,barrelId:t}=E.a.BarrelStore.getState();if(e)return{loading:e};const n=y.default.findUser(),{screenId:i,loadingVersions:o,versionId:a,latestVersionSelected:r,versionsCompactMode:s,versionsSidebarWidth:l}=E.a.ScreenStore.getState(),{versions:c,totalVersionCount:d,allowedVersionCount:u,name:p}=v.default.getScreen()||{};return{barrelId:t,barrelUser:n,screenId:i,screenName:p,versions:c,loading:o,totalVersionCount:d,remainingVersionCount:d-u,selectedVersionId:a,latestVersionSelected:r,compactMode:s,collapsed:s,sidebarWidth:l}}handleCollapse(){const{compactMode:e,latestVersionSelected:t}=this.state;!e&&t||C.default.enableVersionsCompactMode()}handleCollapserClick(){const{compactMode:e,latestVersionSelected:t}=this.state;e?this.componentRefs.sidebar.expand():t?C.default.hideVersions():this.componentRefs.sidebar.collapse()}handleRelease(e,{collapsed:t}){const{latestVersionSelected:n}=this.state;C.default.changeVersionsSidebarWidth(e),t&&n&&C.default.hideVersions()}handleCopyWebUrl(e,t){const{barrelId:n,screenId:i}=this.state,o=Object(a.urlResolve)("project-screen-version",{url:{pid:n,sid:i,vid:e}});Object(s.copyContent)({content:Object(u.getShortlink)(o),toastContainer:t})}handleCopyAppUri(e,t){const{barrelId:n,screenId:i}=this.state,o=`${d.ZPL_PROTOCOL}//screen?pid=${n}&sid=${i}&vid=${e}`;Object(s.copyContent)({content:o,toastContainer:t})}handleDelete(e){const{screenId:t,screenName:n,totalVersionCount:i}=this.state;1!==i?l.create({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb(){C.default.removeVersion({vid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}}):l.create({title:`Delete ${n}?`,message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb(){C.default.removeScreen({sid:t,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}handleSelectedVersionChange(e){const{barrelId:t,screenId:n,versions:i}=this.state,o=i.findIndex(t=>t._id===e)>0?"project-screen-version":"project-screen";c.default.history.replace(Object(a.urlResolve)(o,{url:{pid:t,sid:n,vid:e}}))}handleCommitColorChange({vid:e,color:t,syncWithApi:n}){const{barrelUser:i}=this.state;o.permissions.canManageScreens(i)&&C.default.updateCommitColor({vid:e,color:t,syncWithApi:n})}handleKeyDown(e){const{barrelId:t,screenId:n,versions:i,selectedVersionId:o}=this.state,r=i.findIndex(e=>e._id===o);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:{e.preventDefault();const o=r-1;if(o>=0){const e=0===o?"project-screen":"project-screen-version",r=i[o]._id;c.default.history.replace(Object(a.urlResolve)(e,{url:{pid:t,sid:n,vid:r}}))}break}case Zeplin.KEY_CODE.ArrowDown:{e.preventDefault();const o=r+1;if(o<i.length){const e=i[o]._id;c.default.history.replace(Object(a.urlResolve)("project-screen-version",{url:{pid:t,sid:n,vid:e}}))}break}}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{loading:e,barrelUser:t,versions:n,selectedVersionId:a,latestVersionSelected:s,remainingVersionCount:l,compactMode:c,collapsed:d,sidebarWidth:u}=this.state,h=o.permissions.canManageScreens(t);return i.h(p.default,{ref:Object(r.default)(this,"sidebar","componentRefs"),class:"versionsSidebar",resizingSide:"right",minWidth:245,initialWidth:u,compact:c||!s,collapsed:d,onCollapse:this.handleCollapse,onExpand:C.default.disableVersionsCompactMode,onRelease:this.handleRelease},!c&&i.h("h2",{class:"versionsSidebarHeader"},"Versions"),e?i.h(m.a,null):i.h(f.a,{versions:n,remainingVersionCount:l,selectedVersionId:a,barrelUser:t,compact:c,onCommitColorChange:this.handleCommitColorChange,onCommitMessageChange:C.default.updateCommitMessage,onSelectedVersionChange:this.handleSelectedVersionChange,onOpenMenu:this.handleOpenMenu,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:h?this.handleDelete:null}),i.h(S.a,{latestVersionSelected:s,compact:c,onClick:this.handleCollapserClick}))}}t.default=_()(P)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1355);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(1356)),s=i(n(1369)),l=i(n(1380)),c=i(n(1383)),d=n(245),u=n(428),p=i(n(395));n(1386),t.default=function({versions:e,remainingVersionCount:t,selectedVersionId:n,barrelUser:i,compact:h,onCommitColorChange:f,onCommitMessageChange:g,onSelectedVersionChange:m,onOpenMenu:b,onCopyWebUrl:S,onCopyAppUri:y,onDelete:C}){const[v,O]=a.useState(!1),E=a.useRef();function T(e){O(!0),b(e)}function _(){O(!1)}function P(e){C&&C(e)}function j(e){S(e,E.current)}function D(e){y(e,E.current)}function k(e){m(e)}return o.h("div",{ref:E,class:p.default("versions",{contextMenuOpen:v})},e.reduce((function(t,a){const{_id:l,creator:c,created:p,commit:{color:m,message:b}={}}=a,{version:S,renderedVersions:y}=t,C=!S||c._id!==S.creator._id,v=new Date(p),O=S&&new Date(S.created),E=O&&u.inSameDay(O,v),I=o.h(o.Fragment,null,!E&&o.h(r.default,{date:v,hideNode:!S}),o.h(s.default,{id:l,selected:l===n,commitColor:m,hideTopConnector:!S,creator:c,created:p,messagePlaceholder:(R=a,R.creator&&R.creator._id===i.user._id?1===e.length?"Got any notes?":"What has changed in this version?":"No commit message yet."),message:b,showDelete:d.permissions.canRemoveVersions(i),versionOwner:c&&c._id===i.user._id,shouldDisplayAvatar:C||!E,compact:h,onColorChange:f,onCommitMessageChange:g,onSelect:k,onOpenMenu:T,onCloseMenu:_,onCopyWebUrl:j,onCopyAppUri:D,onDelete:P}));var R;return y.push(I),{version:a,renderedVersions:y}}),{version:null,renderedVersions:[]}).renderedVersions,t>0?o.h(c.default,{remainingVersionCount:t}):o.h(l.default,null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1357);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(428),r=i(n(1358));n(1368),t.default=function({date:e,hideNode:t}){return o.h("h3",{class:"versionHeader"},o.h(r.default.forHeader,{hideConnector:t}),o.h("span",{class:"versionHeaderText"},a.getDateString(e)))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1359);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1360)),r=i(n(395));function s(e){return o.h("div",{class:"versionNode noSelect"},e.children)}n(1367),s.forHeader=function({hideConnector:e}){return o.h("div",{class:"versionNode headerNode noSelect"},o.h("div",{class:r.default("versionConnector",{transparent:e})}))},s.forInitialCommit=function(){return o.h("div",{class:"versionNode noSelect"},o.h("div",{class:"versionConnector top",key:"initialCommitTopConnector"}),o.h("img",{src:"/img/icHeart.svg",alt:"<3",key:"icHeart"}))},s.forCommit=function({selected:e,color:t,hideTopConnector:n,compact:i,onColorChange:s}){return o.h("div",{class:"versionNode noSelect"},o.h("div",{class:r.default("versionConnector top",{transparent:n}),key:"commitTopConnector"}),o.h(a.default,{selected:e,color:t,compact:i,onColorChange:s}),o.h("div",{class:"versionConnector bottom",key:"commitBottomConnector"}))},t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1361);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(1362)),s=i(n(395));n(1366),t.default=function({selected:e,color:t,compact:n,onColorChange:i}){const[l,c]=a.useState(!1);return o.h("div",{class:s.default("versionNodeDot",t,{selected:e}),onMouseEnter:()=>{c(!0)}},!n&&l&&o.h(r.default,{selected:e,color:t,onChange:i,onClose:()=>{c(!1)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1363);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=n(1364),s=i(n(395)),l=n(245);n(1365),t.default=function({selected:e,color:t,onChange:n,onClose:i}){const c=a.useRef();return o.h("div",{ref:c,class:s.default("nodeColorChooser",t),onClick:l.stopPropagation,onMouseLeave:function(){var e;null===(e=c.current)||void 0===e||e.addEventListener("transitionend",i,{once:!0})}},o.h("div",{class:s.default("nodeColor",{selected:e})},o.h("div",null)),r.versionNodeColorOptions.map(e=>{const i=e===t;let a;return i||(a=()=>n(e)),o.h("div",{key:e,class:s.default("nodeColorOption",e,{selectedColor:i}),onClick:a})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.versionNodeColorOptions=void 0;t.versionNodeColorOptions=["yellow","orange","peach","green","turquoise"]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1370);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1358)),r=i(n(1371)),s=i(n(1377)),l=i(n(511)),c=n(244),d=n(326),u=i(n(931));n(1379);class Version extends o.Component{constructor(){super(...arguments),this.baseRef=o.createRef(),this.state={contextMenuOpen:!1,contextMenuOrigin:{x:0,y:0}},this.handleColorChange=e=>{const{id:t,onColorChange:n}=this.props;n({vid:t,color:d.getColorValueByName(e),syncWithApi:!0})},this.handleCommitMessageChange=e=>{const{id:t,onCommitMessageChange:n}=this.props;n({vid:t,message:e,syncWithApi:!0})},this.handleSelect=()=>{const{id:e,onSelect:t}=this.props;t(e)},this.handleOpenMenu=e=>{e.stopPropagation();const{id:t,onOpenMenu:n}=this.props;this.setState({contextMenuOpen:!0,contextMenuOrigin:{x:e.clientX,y:e.clientY-28}}),n(t)},this.handleCloseMenu=()=>{this.setState({contextMenuOpen:!1}),this.props.onCloseMenu()},this.handleCopyWebUrl=()=>{const{id:e,onCopyWebUrl:t}=this.props;t(e),mixpanel.master.track("Copied web link",{Target:"Version",Source:"Versions panel"})},this.handleCopyAppUri=()=>{const{id:e,onCopyAppUri:t}=this.props;t(e),mixpanel.master.track("Copied app URI",{Target:"Version",Source:"Versions panel"})},this.handleDelete=()=>{const{id:e,onDelete:t}=this.props;t(e)}}componentDidMount(){this.props.selected&&c.scrollIfNecessary(this.baseRef.current)}componentWillReceiveProps(e){!this.props.selected&&e.selected&&c.scrollIfNecessary(this.baseRef.current)}renderContextMenu(){const{versionOwner:e,showDelete:t}=this.props,{contextMenuOpen:n,contextMenuOrigin:i}=this.state;return n?o.h(l.default,null,o.h(s.default,{autoPosition:{zIndex:1e3,menuContainer:"body",clickOrigin:i},canDelete:null!=e?e:t,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:this.handleDelete,onClose:this.handleCloseMenu})):null}render(){const{selected:e,commitColor:t,hideTopConnector:n,compact:i,creator:s,created:l,messagePlaceholder:c,message:u,versionOwner:p,shouldDisplayAvatar:h,hover:f}=this.props,{contextMenuOpen:g}=this.state,m=d.getColorName(t);return o.h("div",{ref:this.baseRef,class:"version",onClick:this.handleSelect},o.h(a.default.forCommit,{selected:e,color:m,hideTopConnector:n,onColorChange:this.handleColorChange,compact:i}),o.h(r.default,{creator:s,createdAt:l,messagePlaceholder:c,message:u,color:m,selected:e,versionOwner:p,shouldDisplayAvatar:h,shouldDisplayButtons:g||f,onOpenMenu:this.handleOpenMenu,onCommitMessageChange:this.handleCommitMessageChange}),this.renderContextMenu())}}Version.defaultProps={message:"",commitColor:d.getColorValueByName("yellow")},t.default=u.default(Version)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1372);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(1373)),s=i(n(1306)),l=i(n(395)),c=n(1271);n(1376);class d extends o.Component{constructor(){super(...arguments),this.textAreaRef=a.useRef(),this.handleMessageSubmit=e=>{const{onCommitMessageChange:t}=this.props;this.setState({editing:!1}),e!==this.props.message&&t(e)},this.handleEdit=()=>{this.setState({editing:!0})},this.handleCancelEdit=()=>{this.setState({editing:!1})}}componentDidUpdate(e){var t;e.selected&&!this.props.selected&&this.state.editing&&(null===(t=this.textAreaRef.current)||void 0===t||t.cancelEdit())}render(){const{creator:e,createdAt:t,versionOwner:n,shouldDisplayButtons:i,shouldDisplayAvatar:a,onOpenMenu:d,message:u,messagePlaceholder:p,selected:h,color:f}=this.props,{editing:g}=this.state;return o.h("div",{class:l.default("versionCommit",f,{selected:h,editing:g,empty:!u})},o.h(r.default,{creator:e,createdAt:t,shouldDisplayButtons:i&&!g,shouldDisplayAvatar:a,shouldDisplayTime:!g||!i,shouldDisplayEditButton:i&&n&&!!u,onEdit:this.handleEdit,onOpenMenu:d}),o.h(s.default,{ref:this.textAreaRef,class:"message",value:u||"",maxLength:1024,editing:g,color:f,placeholder:p,onCancelEdit:this.handleCancelEdit,onSubmit:this.handleMessageSubmit,formatter:c.formatComment,showEmojiAutoComplete:!0}),n&&!g&&!u&&o.h("button",{type:"button",class:"enterMessageButton",onClick:this.handleEdit},"ENTER COMMIT MESSAGE"))}}t.default=d},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1374);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(519)),s=i(n(602)),l=n(438),c=n(245),d=n(244),u=n(255);n(1375);t.default=function({creator:e,createdAt:t,shouldDisplayButtons:n,shouldDisplayAvatar:i,shouldDisplayTime:p,shouldDisplayEditButton:h,onEdit:f,onOpenMenu:g}){const[m,b]=a.useState(!1),{src:S,srcset:y}=d.getUserAvatar(e,{ignoreRandomEmotar:!1,size:24}),C=c.formatTime(t,{hour:"numeric",minute:"numeric"}),v=o.h(o.Fragment,null,o.h(r.default,{class:"versionAuthorImageFrame",src:S,srcset:y,size:24}),o.h("div",{class:"versionAuthorName ellipsis"},e?u.getUserDisplayName(e):"Anonymous"));return o.h("div",{class:"versionMetadata"},i?o.h(o.Fragment,null,e?o.h(s.default,{class:"versionAuthor",userId:e._id,openToLeft:!1,onVisibilityChange:b},v):o.h("div",{class:"versionAuthor"},v)):o.h("time",null,C),!m&&n?o.h("div",{class:"commitButtons"},h&&o.h("button",{type:"button",onClick:f},o.h(l.IconEdit,null)),o.h("button",{type:"button",onClick:g},o.h(l.IconMenu,null))):i&&p&&o.h("time",null,C))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1378);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(863));t.default=function({autoPosition:e,canDelete:t,onClose:n,onDelete:i,onCopyWebUrl:r,onCopyAppUri:s}){return o.h(a.default.withAutoPosition,{autoPosition:e,onClose:n},o.h(a.default.Item,{onClick:r},"Copy version web link"),o.h(a.default.Item,{onClick:s},"Copy version App URI"),t&&o.h(o.Fragment,null,o.h(a.default.ItemDivider,null),o.h(a.default.Item,{onClick:i,warning:!0},"Delete version")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1381);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1358));n(1382),t.default=function(){return o.h("div",{class:"initialCommit"},o.h(a.default.forInitialCommit,null),o.h("div",{class:"commit"},o.h("h4",null,"The story begins here!"),o.h("p",null,"“Versions” panel lists the changes on this screen over time.")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1384);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(246);n(1385),t.default=function({remainingVersionCount:e}){return i.h("div",{class:"versionLimitExceeded noSelect"},o.pluralize(e,"more version")," available, ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/version-limits",target:"_blank",onClick:function(){mixpanel.master.track("Clicked version limits learn more button")}},"learn more")," about version limits in different plans")}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1388);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1389),t.default=function(){return i.h("div",{class:"versionsLoading"})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1391);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(438);n(1392),t.default=function({latestVersionSelected:e,compact:t,onClick:n}){return i.h("button",{class:"versionsCollapser",onClick:n},t||!e?i.h(o.IconCollapseLeft,null):i.h(o.IconClose,null))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1395);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1396),a=n(1438),r=n(935),s=n(599),l=n(1453),c=n(361),d=n(382),u=n(367),p=n(1450),h=n.n(p),f=n(269),g=n.n(f),m=n(1451),b=n.n(m),S=n(1470),y=n.n(S),C=n(505),v=n.n(C),O=n(245),E=n(395),T=n(383),_=n(1398),P=n(428),j=n(416),D=n(249),k=n(244),I=n(246),R=n(227),A=n(231),w=n(230),N=n(1471),L=n.n(N);n(1472);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class U extends i.Component{constructor(...e){super(...e),M(this,"state",{holdingSpace:!1,holdingMouse:!1,edgesToMeasure:null,parentIndex:0}),M(this,"setZoomOrigin",e=>{if(this.zoomOrigin)return;const{top:t,left:n,width:i,height:o}=this.nodeRefs.snapshotDetail.getBoundingClientRect(),{clientX:a,clientY:r}=e;this.zoomOrigin={x:a,y:r,xRatio:(a-n)/i,yRatio:(r-t)/o}}),M(this,"setZoomOriginAsCenter",()=>{const{screenView:e,snapshotDetail:t}=this.nodeRefs,{top:n,width:i,height:o}=e.getBoundingClientRect(),{top:a,left:r,width:s,height:l}=t.getBoundingClientRect(),c=i/2,d=o/2+n;this.zoomOrigin={x:c,y:d,xRatio:(c-r)/s,yRatio:(d-a)/l}}),M(this,"scrollToZoomOrigin",()=>{const{x:e,y:t,xRatio:n,yRatio:i}=this.zoomOrigin,{screenView:o,dotgrid:a,snapshotDetail:r}=this.nodeRefs,s=o.getBoundingClientRect(),l=a.getBoundingClientRect(),c=r.getBoundingClientRect(),d=c.left-l.left-e+n*c.width,u=c.top-l.top+s.top-t+i*c.height;o.scrollTo(d,u)}),M(this,"animateScroll",()=>{this.scrollToZoomOrigin(),this.scrollHandle=requestAnimationFrame(this.animateScroll)}),M(this,"deselectLayer",()=>{d.default.deselectLayer()}),M(this,"handleMouseLeave",()=>{const{selectedLayer:e}=this.state;e&&this.setState({edgesToMeasure:null})}),M(this,"handleMouseMove",e=>{const{loading:t,selectedLayer:n,holdingSpace:i,holdingMouse:o}=this.state;t||(i&&o&&this.scrollScreenView(e),this.mousePosition={x:e.clientX,y:e.clientY},n&&this.handleEdgeDistanceMode(e))}),M(this,"handleMouseDown",e=>{document.addEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!0}),this.mousePosition={x:e.clientX,y:e.clientY}}),M(this,"handleMouseUp",()=>{document.removeEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!1}),this.scrolledScreenView&&(d.default.disableNoteMode(),this.scrolledScreenView=!1)}),M(this,"handleGestureStart",e=>{e.preventDefault(),d.default.startGesture()}),M(this,"handleGestureChange",e=>{e.preventDefault(),this.setZoomOrigin(e),d.default.zoomWithGesture(e.scale)}),M(this,"handleWheel",e=>{e.ctrlKey&&(e.preventDefault(),this.setZoomOrigin(e),d.default.zoomWithWheel(e.deltaY))}),M(this,"handleKeyPress",e=>{Object(k.isEditableElement)(e.target)||e.keyCode===Zeplin.KEY_CODE.SPACE&&e.preventDefault()}),M(this,"handleKeyDown",e=>{if(Object(k.isEditableElement)(e.target))return;const{screenId:t,percentageMode:n,selectedLayer:i,destinationLayer:o,parentLayers:{length:a},parentIndex:r,holdingSpace:s,edgesToMeasure:l,componentLayer:c,variantViewState:{componentVariantViewVisible:p,stateVariants:f},variantViewSourceLayerId:g}=this.state;if(e.keyCode!==Zeplin.KEY_CODE.SPACE||s){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp&&n&&a)e.preventDefault(),this.setState({parentIndex:(r+1)%a});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown&&n&&a)e.preventDefault(),this.setState({parentIndex:(r-1+a)%a});else if(e.keyCode===Zeplin.KEY_CODE.ArrowLeft){e.preventDefault();const n=u.default.getPreviousScreen(t);n&&u.default.navigateToScreen(n._id)}else if(e.keyCode===Zeplin.KEY_CODE.ArrowRight){e.preventDefault();const n=u.default.getNextScreen(t);n&&u.default.navigateToScreen(n._id)}else if(e.altKey){switch(e.code){case w.Keyboard.Code.Minus:e.preventDefault(),e.stopPropagation(),d.default.zoomOut();break;case w.Keyboard.Code.Equal:e.preventDefault(),e.stopPropagation(),d.default.zoomIn()}switch(e.keyCode){case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),d.default.resetZoom();break;case Zeplin.KEY_CODE.KeyG:e.preventDefault(),e.stopPropagation(),d.default.toggleLayoutGrid();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),d.default.openTagManager(t);break;case Zeplin.KEY_CODE.KeyV:e.preventDefault(),e.stopPropagation(),d.default.toggleVersions()}}}else e.preventDefault(),this.setState({holdingSpace:!0});if(!Object(R.cmdKey)(e)||!Object(R.isCmdPressed)(e)||Object(R.ctrlOrWinKey)(e)||e.altKey||e.shiftKey?d.default.disableNoteMode():d.default.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!i||!o&&!l?d.default.disablePercentageMode():d.default.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?d.default.hideFlowLinks():d.default.showFlowLinks(),e.key===w.Keyboard.Key.v){if(i&&c&&c.variant&&i._id!==g)return void h.a.open(c._id,y.a.SHORTCUT);if(p&&f){const e=f.findIndex(e=>e.selected);if(-1===e)return;let t,n=(e+1)%f.length;for(;n!==e;){if(({coid:t}=f[n]),t)return h.a.changeVariant({coid:t,variantChangeValueSource:b.a.SHORTCUT,isState:!0});n=(n+1)%f.length}}}}),M(this,"handleKeyUp",e=>{if(Object(k.isEditableElement)(e.target))return;const{holdingSpace:t,selectedLayer:n,destinationLayer:i,edgesToMeasure:o}=this.state;e.keyCode===Zeplin.KEY_CODE.SPACE&&t&&(e.preventDefault(),this.setState({holdingSpace:!1})),!Object(R.cmdKey)(e)||Object(R.ctrlOrWinKey)(e)||e.altKey||e.shiftKey?d.default.disableNoteMode():d.default.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!n||!i&&!o?d.default.disablePercentageMode():d.default.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?d.default.hideFlowLinks():d.default.showFlowLinks()}),M(this,"handleCopy",e=>{const{selectedLayer:t}=this.state;if(!t||"text"!==t.type)return;"Range"!==window.getSelection().type&&(e.preventDefault(),e.clipboardData.setData("text/plain",t.content))}),M(this,"handleCopyDotWebUrl",e=>{const{screenView:t}=this.nodeRefs;Object(k.copyContent)({content:e,toastContainer:t})}),M(this,"handleCopyDotAppUri",e=>{const{screenView:t}=this.nodeRefs,{barrelId:n,screenId:i}=this.state,o=`${A.ZPL_PROTOCOL}//dot?pid=${n}&sid=${i}&did=${e}`;Object(k.copyContent)({content:o,toastContainer:t})}),M(this,"handleLayerSelect",(e,t)=>{const{noteMode:n,holdingSpace:i}=this.state;n||i||(e.stopPropagation(),this.setState({edgesToMeasure:null}),d.default.selectLayer(t))}),M(this,"handleComponentLayerTagClick",()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Header"})}),M(this,"handleZoomIn",()=>{this.setZoomOriginAsCenter(),d.default.zoomIn()}),M(this,"handleZoomOut",()=>{this.setZoomOriginAsCenter(),d.default.zoomOut()}),M(this,"handleZoomChange",e=>{this.setZoomOriginAsCenter(),d.default.changeZoomLevel(e,!0)}),M(this,"handleComponentVariantsButtonClick",e=>{h.a.open(e,y.a.LAYER_DETAIL)})}static getStores(){return[g.a.BarrelStore,g.a.ScreenStore,g.a.ProjectsDataStore,g.a.StyleguidesDataStore,g.a.UserStore,g.a.ComponentVariantStore]}static calculateState(e={}){const t=c.default.getStyleguidesData({barrelStore:g.a.BarrelStore,styleguidesDataStore:g.a.StyleguidesDataStore,projectsDataStore:g.a.ProjectsDataStore}),{loading:n,barrelId:i,barrelType:o,screenVersionsLastSeen:a}=g.a.BarrelStore.getState();if(n)return{loading:!0};const r=c.default.findUser(),{screenId:s,loadingVersions:l,versionId:d,animateZooming:p,zoomLevel:h,percentageMode:f,selectedLayer:m,destinationLayer:b,flowLinksVisible:S,latestVersionSelected:y,layoutGridEnabled:C,notesVisible:v,noteMode:E,hasNewVersions:P,showVersionsAuntie:j,showVersionsTutorial:D,versionsVisible:k}=g.a.ScreenStore.getState(),{componentVariantViewVisible:I,selectedComponentVariantId:R,selectedLayer:A,destinationLayer:w,sourceLayerId:N}=g.a.ComponentVariantStore.getState();if(l&&!y)return{loading:!0};const U=sessionStorage.getItem("newVersionsAuntieStatus"),B=sessionStorage.getItem("versionsCommitAuntieStatus"),z=c.default.getBarrel(),V=u.default.getScreen(),W=u.default.getVersion({sid:s,vid:d}),{snapshot:F}=W,H=Object(T.getComponentLayerForVariant)(F,m,t),G=H?{_id:H.component._id,name:H.component.name,rect:H.layer.absoluteRect,variant:!!H.component.variant}:null;let $={};if(I){const{ancestors:e,component:n}=Object(T.findComponentById)(t,R);$=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({selectedComponentVariantId:R,componentVariantViewVisible:I,selectedLayer:A,destinationLayer:w},L()({ancestors:e,component:n},o,i))}const q=t.flatMap(({spacingSections:e})=>e.flatMap(e=>e.spacingTokens)),Z=f&&m&&b&&F?Object(_.findParents)(m,b,F):[],{parentLayers:K=[]}=e;let{parentIndex:Y=0}=e;const J=O.arrayEqual(K,Z,(e,t)=>e._id===t._id);return f&&m&&b&&J||(Y=0),{loading:!1,barrelId:i,barrel:z,remPreferences:t[0].remPreferences,barrelUser:r,screenId:s,screen:V,version:W,componentLayer:G,spacingTokens:q,animateZooming:p,zoomLevel:h,percentageMode:f,selectedLayer:m,destinationLayer:b,parentLayers:Z,parentIndex:Y,flowLinksVisible:S,layoutGridEnabled:C,notesVisible:v,noteMode:E,latestVersionSelected:y,hasNewVersions:P,showVersionsAuntie:j,showVersionsTutorial:D,screenVersionsLastSeen:a,newVersionsAuntieStatus:U,versionsCommitAuntieStatus:B,versionsVisible:k,variantViewState:$,variantViewSourceLayerId:N}}dismissVersionsCommitAuntie(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}dismissNewVersionsAuntie(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}scrollScreenView(e){this.scrolledScreenView=!0;const{screenView:t}=this.nodeRefs,n=t.scrollTop+this.mousePosition.y-e.clientY,i=t.scrollLeft+this.mousePosition.x-e.clientX;t.scrollTop=n,t.scrollLeft=i}setEdgesToMeasureIfItsChanged(e){const{edgesToMeasure:t}=this.state;(!e&&t||e&&(!t||!O.arrayEqual(t,e,(e,t)=>e===t)))&&this.setState({edgesToMeasure:e})}resetModeFlags(){d.default.hideFlowLinks(),d.default.disablePercentageMode(),d.default.disableNoteMode()}handleEdgeDistanceMode(e){const t=this.nodeRefs.snapshotDetail.getBoundingClientRect();let n=[];e.clientX<t.left?n.push("left"):e.clientX>t.right&&n.push("right"),e.clientY<t.top?n.push("top"):e.clientY>t.bottom&&n.push("bottom"),0===n.length&&(n=null),this.setEdgesToMeasureIfItsChanged(n)}handleNotesVisibilityChange(e){e?d.default.showNotes():d.default.hideNotes()}handleVersionsTutorialClick(e){e.stopPropagation(),d.default.showVersionsAuntie()}getChildContext(){const{barrel:{densityScale:e,dimensionSuffix:t}={}}=this.state;return{densityScale:e,dimensionSuffix:t}}componentDidMount(){const{selectedLayer:e}=this.state;if(e&&document.addEventListener("click",this.deselectLayer),document.addEventListener("keypress",this.handleKeyPress),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("copy",this.handleCopy),window.addEventListener("blur",this.resetModeFlags),"GestureEvent"in window){const{dotgrid:e}=this.nodeRefs;e.addEventListener("gesturestart",this.handleGestureStart),e.addEventListener("gesturechange",this.handleGestureChange)}}componentDidUpdate(e,t){const{zoomLevel:n,animateZooming:i,selectedLayer:o}=this.state;t.zoomLevel!==n&&this.zoomOrigin&&(clearTimeout(this.originResetTimeout),this.originResetTimeout=setTimeout(()=>{cancelAnimationFrame(this.scrollHandle),this.zoomOrigin=null},300),cancelAnimationFrame(this.scrollHandle),this.scrollHandle=i?requestAnimationFrame(this.animateScroll):requestAnimationFrame(this.scrollToZoomOrigin)),o?document.addEventListener("click",this.deselectLayer):document.removeEventListener("click",this.deselectLayer)}componentWillUnmount(){if(document.removeEventListener("click",this.deselectLayer),document.removeEventListener("keypress",this.handleKeyPress),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("blur",this.resetModeFlags),this.resetModeFlags(),"GestureEvent"in window){const{dotgrid:e}=this.nodeRefs;e.removeEventListener("gesturestart",this.handleGestureStart),e.removeEventListener("gesturechange",this.handleGestureChange)}}renderScreen(){const{loading:e,screen:t,version:n,componentLayer:a,spacingTokens:r,barrel:s,barrelUser:l,remPreferences:c,zoomLevel:u,percentageMode:p,selectedLayer:h,destinationLayer:f,parentLayers:g,parentIndex:m,edgesToMeasure:b,flowLinksVisible:S,layoutGridEnabled:y,latestVersionSelected:C,notesVisible:v}=this.state;if(e||!t||!n)return i.h(o.default.Loading,null);const{snapshot:O}=n,E=g[m];return i.h(o.default,{snapshotDetailRef:Object(j.default)(this,"snapshotDetail"),project:s,screen:t,snapshot:O,barrelUser:l,remPreferences:c,notesVisible:v&&C,layoutGridEnabled:y,zoomLevel:u,selectedLayer:h,destinationLayer:f,parentLayer:E,componentLayer:a,spacingTokens:r,percentageMode:p,flowLinksVisible:S,edgesToMeasure:b,onCopyDotWebUrl:this.handleCopyDotWebUrl,onCopyDotAppUri:this.handleCopyDotAppUri,onLayerSelect:this.handleLayerSelect,onLayerEnter:d.default.enterLayer,onLayerLeave:d.default.leaveLayer,onComponentLayerTagClick:this.handleComponentLayerTagClick,onComponentVariantsButtonClick:this.handleComponentVariantsButtonClick})}renderDotGrid(){const{version:e,zoomLevel:t,animateZooming:n,holdingSpace:o,holdingMouse:a,noteMode:r}=this.state;let s,l;e?({snapshot:{width:s,height:l}}=e):(s=320,l=480);const c=20*t,u=`linear-gradient(to bottom, transparent, transparent ${2*t}px, #FFF ${2*t}px, #FFF ${c}px), linear-gradient(to right, #C8C3C7, #C8C3C7 ${2*t}px, #FFF ${2*t}px, #FFF ${c}px`,p=window.innerWidth/2-151-t*s/2+"px "+(-3*c+58)+"px",h=c+"px "+c+"px";return i.h("div",{class:Object(E.default)("dotgrid","noSelect",{noteMode:r,zooming:n,grab:o&&!a,grabbing:o&&a}),style:{width:s*t+240,height:l*t+120,backgroundImage:u,backgroundPosition:p,backgroundSize:h},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onWheel:this.handleWheel,onTransitionEnd:d.default.zoomApplied,ref:Object(j.default)(this,"dotgrid")},this.renderScreen())}renderComponentVariants(){const{loading:e,barrel:t,screen:n,remPreferences:o,spacingTokens:r,variantViewState:s}=this.state;if(e||!s.componentVariantViewVisible)return null;const{componentName:l,componentURL:c,snapshot:d,stateVariants:u,otherVariants:p,selectedLayer:h,destinationLayer:f,largestOfVariants:g}=s;return i.h(a.default,{screenViewRef:this.nodeRefs.screenView,componentName:l,componentURL:c,screenName:n.name,platform:t.type,remPreferences:o,spacingTokens:r,snapshot:d,stateVariants:u,otherVariants:p,selectedLayer:h,destinationLayer:f,largestOfVariants:g})}renderWidgets(){const{zoomLevel:e,hasNewVersions:t,notesVisible:n,latestVersionSelected:o,versionsVisible:a}=this.state;return i.h(l.default,{latestVersionSelected:o,versionsVisible:a,hasNewVersions:t,onVersionsToggleClick:d.default.showVersions,zoomLevel:e,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomChange:this.handleZoomChange,onPopoutWidgetClick:d.default.openPopout,onAddNoteWidgetClick:d.default.enableNoteMode,notesVisible:n,onNotesVisibilityChange:this.handleNotesVisibilityChange})}renderEarlierVersionWarning(){const{version:e,latestVersionSelected:t}=this.state;return!e||t?null:i.h("div",{class:"oldVersionWarning"},"Earlier version from ",i.h("time",{datetime:e.created},Object(P.getDateString)(e.created)))}renderVersionsAuntie(){const{loading:e,barrelUser:t,screenId:n,screen:o,hasNewVersions:a,showVersionsTutorial:l,showVersionsAuntie:c,screenVersionsLastSeen:u,versionsCommitAuntieStatus:p,newVersionsAuntieStatus:h}=this.state;if(e)return null;const{versions:f}=o||{};if(l)return c?i.h(r.default,{content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:d.default.hideVersionsAuntie}):i.h("img",{class:"versionsTutorialCircle",src:Object(D.imageUrl)("img/icTutorial.svg"),onClick:this.handleVersionsTutorialClick});if(!a)return null;const g=u&&u[n]?u[n]:new Date(0),m=f.filter(({created:e})=>new Date(e)>g),b=m.filter(({creator:e})=>e&&e._id===t.user._id),S=b.find(({commit:e})=>!e||!e.message),y=m.length-b.length;if(S&&"dismissed"!==p){const e=new Date-new Date(S.created)>36e5?i.h("span",null,"Looks like you uploaded a version ",i.h(s.default,{type:"time-ago",datetime:S.created}),". Add a commit message and share what has changed!"):"New version! Add a commit message and share what has changed.";return i.h(r.default,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissVersionsCommitAuntie})}if(y&&"dismissed"!==h){const e=`There ${y>1?"are":"is"} ${Object(I.pluralize)(y,"new version",{one:"a"})} since you last visited!`;return i.h(r.default,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissNewVersionsAuntie})}return null}render(){return i.h("div",{class:"screenViewContainer"},i.h("section",{class:"screenView",ref:Object(j.default)(this,"screenView"),onScroll:d.default.zoomApplied},this.renderDotGrid()),this.renderComponentVariants(),this.renderWidgets(),this.renderEarlierVersionWarning(),this.renderVersionsAuntie())}}t.default=v()(U)},function(e,t,n){"use strict";n.r(t);var i=n(1397);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(416),r=n(1398),s=n(1399),l=n(1409),c=n(1415),d=n(1418);n(1437);class Screen extends i.Component{constructor(e){super(e),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleSnapshotDetailRef=this.handleSnapshotDetailRef.bind(this),this.layerClickHandler=Object(r.getLayerClickHandler)()}handleLayerSelect(e,t){const{onLayerSelect:n}=this.props;if(!n)return;const{selectedLayer:i,snapshot:o}=this.props,a=this.nodeRefs.snapshotDetail.getBoundingClientRect();n(e,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:o,selectedLayer:i,snapshotDetailRect:a}))}handleSnapshotDetailRef(e){Object(a.default)(this,"snapshotDetail")(e);const{snapshotDetailRef:t}=this.props;t&&t(e)}componentWillReceiveProps(e){const{selectedLayer:t}=e,{selectedLayer:n}=this.props;!t&&n&&this.layerClickHandler.reset()}renderScreenImage(){const{zoomLevel:e,snapshot:{_id:t,width:n,height:a}}=this.props;return i.h(d.default.Image,{key:"snapshotImage-"+t,class:Object(o.default)("snapshotImage",{pixelated:e>=2}),style:{width:n*e,height:a*e}})}renderComponentLayer(){const{project:e,screen:{name:t},snapshot:{width:n,height:o},componentLayer:a,zoomLevel:r,onComponentLayerTagClick:s,onComponentVariantsButtonClick:l}=this.props;return i.h(d.default.ComponentLayer,{barrelId:e.id,barrelType:"project",containerName:t,componentLayer:a,containerWidth:n,containerHeight:o,zoomLevel:r,onTagClick:s,onVariantsButtonClick:l})}renderLayers(){const{snapshot:e,selectedLayer:t,destinationLayer:n,parentLayer:o,onLayerEnter:a,onLayerLeave:r,edgesToMeasure:s}=this.props;return e.layers?i.h(d.default.Layers,{key:"layers",layers:e.layers,selectedLayerId:t?t._id:null,hoveredId:n?n._id:null,edgeDistanceMode:!!s,parentLayer:o,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:a,onLayerLeave:r}):null}renderFlowLinks(){const{project:e,snapshot:t,flowLinksVisible:n}=this.props;return n&&t.links&&t.links.length?i.h(l.default,{key:"flowLinks",project:e,snapshot:t}):null}renderDotsContainer(){const{notesVisible:e,onCopyDotWebUrl:t,onCopyDotAppUri:n}=this.props;return e?i.h(s.default,{key:"dotsContainer",onCopyWebUrl:t,onCopyAppUri:n}):null}renderRulers(){const{selectedLayer:e}=this.props;return e?i.h(d.default.Rulers,{key:"rulers",x:e.absoluteRect.x,y:e.absoluteRect.y,width:e.absoluteRect.width,height:e.absoluteRect.height}):null}renderDistances(){const{selectedLayer:e,destinationLayer:t,parentLayer:n,percentageMode:o,edgesToMeasure:a}=this.props;return e&&(t||a&&a.length)?t?i.h(d.default.Distances.BetweenLayers,{key:"distances",sourceRect:e.absoluteRect,destRect:t.absoluteRect,percentageMode:o,parentRect:n?n.rect:null}):i.h(d.default.Distances.BetweenEdges,{key:"distances",sourceRect:e.absoluteRect,edgesToMeasure:a,percentageMode:o}):null}renderLayoutGrid(){const{layoutGridEnabled:e,zoomLevel:t,snapshot:n}=this.props;return e&&n.grid?i.h(c.default,{key:"layoutGrid",zoomLevel:t,width:n.width,height:n.height,grid:n.grid}):null}renderLayersAndDots(){const{flowLinksVisible:e}=this.props;return e?null:[this.renderDotsContainer(),this.renderLayers(),this.renderRulers(),this.renderDistances(),this.renderLayoutGrid()]}render(){const{snapshot:e,snapshot:{width:t,height:n},project:{type:o},remPreferences:a,zoomLevel:r,spacingTokens:s}=this.props;return i.h(d.default,{baseRef:this.handleSnapshotDetailRef,snapshot:e,platform:o,spacingTokens:s,remPreferences:a,style:{width:t*r,height:n*r},class:"screenSnapshotDetail"},this.renderScreenImage(),this.renderFlowLinks(),this.renderLayersAndDots())}}Screen.Loading=()=>i.h("div",{class:"screen loading"}),t.default=Screen},function(e,t,n){"use strict";n.r(t),n.d(t,"findParents",(function(){return f})),n.d(t,"addAssetStats",(function(){return g})),n.d(t,"createArtboardLayer",(function(){return m})),n.d(t,"preprocessLayers",(function(){return b})),n.d(t,"getLayerClickHandler",(function(){return S})),n.d(t,"findCoveringLink",(function(){return y}));var i=n(231),o=n(245),a=n(242),r=n(249),s=n(234),l=n(230);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){const{url:t,format:n,density:i,densityScale:a=Object(o.getDensityScale)(i)}=e;return fetch(t,{method:"HEAD"}).then(e=>({length:e.headers.get("Content-Length"),densityScale:a,format:n}))}function h(e,t,n){let i=[];for(let o=e.length-1;o>=0;o--){const a=e[o],{width:r,height:s}=a.rect,l=r<3?6:0,c=s<3?6:0,d=a.absoluteRect.y-c,u=a.absoluteRect.x+r+l,p=a.absoluteRect.y+s+c;a.absoluteRect.x-l<=t&&d<=n&&u>=t&&p>=n&&("group"===a.type?("top"===a.interactionLevel&&i.push(a),i=i.concat(h(a.layers,t,n)),"bottom"===a.interactionLevel&&i.push(a)):i.push(a))}return i}function f(e,t,n){if(!t)return[e];const i={left:Math.min(e.absoluteRect.x,t.absoluteRect.x),top:Math.min(e.absoluteRect.y,t.absoluteRect.y),right:Math.max(e.absoluteRect.x+e.rect.width,t.absoluteRect.x+t.rect.width),bottom:Math.max(e.absoluteRect.y+e.rect.height,t.absoluteRect.y+t.rect.height)};let o=function e(t,n){let i=[];for(let o=0;o<t.length;o++){let a=t[o],r=a.absoluteRect.x+a.rect.width,s=a.absoluteRect.y+a.rect.height;a.absoluteRect.x<=n.left&&a.absoluteRect.y<=n.top&&r>=n.right&&s>=n.bottom&&(("group"!==a.type||["bottom","top"].includes(a.interactionLevel))&&i.push(a),"group"===a.type&&(i=i.concat(e(a.layers,n))))}return i}(n.layers,i);return e===t&&(o=o.filter(t=>!function(e,t){return e.absoluteRect.x===t.absoluteRect.x&&e.absoluteRect.y===t.absoluteRect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}(t,e))),o.length?o.sort((e,t)=>e.rect.width*e.rect.height-t.rect.width*t.rect.height):[n.layers[0]]}function g(e,t,n,a){const c={},u=new Set;for(let i=0;i<a.contents.length;i++){const{format:e,density:t,densityScale:n=Object(o.getDensityScale)(t)}=a.contents[i];e in c?c[e]++:c[e]=1,u.add(n)}let h;var f;h=!("jpg"in c)||"svg"in c||"pdf"in c||c.jpg!==c.png?"svg"in c?"optimized"in(f=a.contents.find(({format:e})=>"svg"===e))?Promise.resolve():(f.optimized=d(d({},f),{},{url:`${i.IMG_URL}/svgo/${encodeURIComponent(f.url)}`}),Promise.all([f,f.optimized].map(p)).then(([{length:e},{length:t}])=>{f.optimized.percent=Math.round((e-t)/e*100)}).catch(e=>{f.optimized=null})):Promise.resolve():function(e,t){if("percent"in e)return Promise.resolve();let n=0,i=0,o=0;return Promise.all(e.contents.map(p)).then(a=>{t.forEach(e=>{const t=a.filter(t=>t.densityScale===e).reduce((e,t)=>(e[t.format]=t.length,e),{});i+=Number(t.jpg)/Number(t.png),o+=Number(t.png)/Number(t.jpg)}),i=Math.round(100-i/t.size*100),o=Math.round(100-o/t.size*100),i>=10?n={type:"jpg",diff:i}:o>=10&&(n={type:"png",diff:o}),n&&(e.percent=n)}).catch(e=>{})}(a,u);const g=a.contents.find(({density:e,densityScale:t=Object(o.getDensityScale)(e),format:n})=>t===l.DENSITY.BASE&&"png"===n);const m=!g||"lightness"in a?Promise.resolve():Object(r.getImageProperties)(g.url).then(e=>Object.assign(a,e)).catch(e=>null),b="localName"in a?Promise.resolve():function(e,t,n,i){const o=n.assets.find(e=>e._id===i);return o?"localName"in o?Promise.resolve(o.localName):s.barrelPrefs.get(e,t,"assetNames").then(e=>e&&e[i]):Promise.resolve()}(e,t,n,a._id).then(e=>{e&&Object.assign(a,{localName:e})});return Promise.all([h,m,b])}function m(e,{_id:t,width:n,height:i,backgroundColor:o}){return{_id:t,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:n,height:i},type:"shape",fills:o?[{fillType:"color",color:o}]:[],borders:[],shadows:[]}}function b(e,t={x:0,y:0}){for(const n of e)n.absoluteRect={x:n.rect.x+t.x,y:n.rect.y+t.y,width:n.rect.width,height:n.rect.height},"group"===n.type&&(Array.isArray(n.layers)?b(n.layers,n.absoluteRect):n.layers=[])}function S(){let e=null,t=null;return{reset(){e=null,t=null},getLayerToSelectFromClick({ev:n,layerData:i,snapshot:{layers:a,width:r,height:s},selectedLayer:l,snapshotDetailRect:c}){let d=i;const u=(n.clientX-c.left)/c.width*r,p=(n.clientY-c.top)/c.height*s,f=h(a,u,p);if(e&&t){const n=h(a,e,t);if(Math.hypot(e-u,t-p)>40||!Object(o.arrayEqual)(f,n,(e,t)=>e._id===t._id))d=f[0];else{const e=l._id,t=f.findIndex(t=>t._id===e);d=f[(t+1)%f.length]}}else d=f[0];return e=u,t=p,d}}}function y(e,t,n){if(!n||!t.snapshot.links)return;const i=t.snapshot.links.find(e=>Object(o.rectContains)(e.rect,n.absoluteRect));if(!i)return;let r,s,l;switch(i.destination.type){case"previous":s="previous screen";break;case"screen":s=i.destination.name,r=e.findScreenByName(i.destination.name),r&&(l=Object(a.urlResolve)("project-screen",{url:{pid:e.id,sid:r._id}}));break;default:return}return{name:s,url:l}}},function(e,t,n){"use strict";n.r(t);var i=n(1400);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(326),a=n(242),r=n(241),s=n(960),l=n(1401),c=n(361),d=n(382),u=n(269),p=n.n(u),h=n(367),f=n(505),g=n.n(f);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.Component{constructor(...e){super(...e),y(this,"handleDelete",e=>{const{barrelUser:t}=this.state,{creator:n}=h.default.getDot({did:e})||{};let i;i=n?n._id===t.user._id?"Delete your note?":`Delete ${n.username}’s note?`:"Delete note?",r.create({title:i,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb(){d.default.removeDot({did:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}),y(this,"handleMenuOpen",e=>{const{barrelId:t,screenId:n}=this.state,i=Object(a.urlResolve)("project-screen",{url:{pid:t,sid:n},query:{did:e}});Object(s.fetchShortlink)(i),d.default.openDotMenu()}),y(this,"handleCopyWebUrl",e=>{const{onCopyWebUrl:t}=this.props,{barrelId:n,screenId:i}=this.state,o=Object(a.urlResolve)("project-screen",{url:{pid:n,sid:i},query:{did:e}});t(Object(s.getShortlink)(o))})}static calculateState(){const{loading:e,barrelId:t}=p.a.BarrelStore.getState();if(e)return{loading:e};const n=c.default.findUser(),{statusFilter:i,colorFilter:a,flash:r,dotId:s,highlightedDots:l}=p.a.DotsStore.getState(),{noteMode:d,screenId:u}=p.a.ScreenStore.getState(),{dots:f=[]}=h.default.getScreen()||{},g=f.filter(e=>Object(o.checkFilter)(e,i,a,n.user)).map(e=>{const{_id:t,status:n="open",color:i,comments:a}=e,r=S(e,["_id","status","color","comments"]),s=Object(o.getColorName)(i);return b(b({},r),{},{id:t,colorName:s,status:n,highlight:l.includes(t)})});return{loading:e,barrelUser:n,dots:g,dotId:s,noteMode:d,flash:r,screenId:u,barrelId:t}}static getStores(){return[p.a.BarrelStore,p.a.ScreenStore,p.a.DotsStore,p.a.ProjectsDataStore,p.a.UserStore]}handleCreate(e,t){d.default.createNote({x:e,y:t})}handlePositionChange(e,t,n){d.default.updateDotPosition({did:e,x:t,y:n,syncWithApi:!0})}handleStatusChange(e,t){d.default.updateDotStatus({did:e,status:t,syncWithApi:!0})}render(){const{onCopyAppUri:e}=this.props,{barrelUser:t,loading:n,dotId:o,dots:a,noteMode:r,flash:s}=this.state;return n?null:i.h(l.default,{dots:a,selectedDotId:o,noteMode:r,flash:s,barrelUser:t,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:e,onPositionChange:this.handlePositionChange,onStatusChange:this.handleStatusChange,onMenuOpen:this.handleMenuOpen,onClick:d.default.selectDot,onCreate:this.handleCreate,onMoveThresholdExceed:d.default.closeDotPopup,onAnimationEnd:d.default.dotsFlashed,onDelete:this.handleDelete})}}t.default=g()(C)},function(e,t,n){"use strict";n.r(t);var i=n(1402);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(4),o=n(1403),a=n(1406),r=n(245),s=n(395),l=n(416);n(1408);class c extends i.Component{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMoveBeforeThreshold=this.handleMouseMoveBeforeThreshold.bind(this),this.handleMouseMoveAfterThreshold=this.handleMouseMoveAfterThreshold.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleDotClick=this.handleDotClick.bind(this),this.handleClick=this.handleClick.bind(this),this.state={movingDot:{},movedDot:!1,dotMenu:{},dotZIndex:11},this.clickedDotOriginX=null,this.clickedDotOriginY=null}isDragging(e){const{movingDot:{id:t}}=this.state;return e.id===t}isDraft(e){return e.includes("newDot")}isMoving(e){const{movingDot:{thresholdExceeded:t}}=this.state;return this.isDragging(e)&&t}isOverlapping(){if(document.elementsFromPoint){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=document.elementsFromPoint(e.left+13,e.top+13);for(let n=0;n<t.length;n++)if(t[n].classList.contains("dot")&&t[n]!==this.nodeRefs.dragging)return!0;return!1}return this.comparePositions()}comparePositions(){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=e.left+13,n=e.top+13,i=this.nodeRefs.base.children;for(let o=0;o<i.length&&i[o].classList.contains("dot");o++){const e=i[o].getBoundingClientRect();if(i[o]!==this.nodeRefs.dragging&&t>e.left&&t<e.right&&n>e.top&&n<e.bottom)return!0}return!1}handleContextMenu(e,t){const{onMenuOpen:n}=this.props;n(),this.setState({dotMenu:{id:t,origin:{x:e.clientX,y:e.clientY}}})}handleMenuClose(){this.setState({dotMenu:{}})}handleMouseDown(e,t){this.isDraft(t)||(this.clickedDotOriginX=e.clientX,this.clickedDotOriginY=e.clientY,this.setState({dotMenu:{},movingDot:{id:t,thresholdExceeded:!1}}),document.addEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMoveBeforeThreshold(e){const{dots:t,onMoveThresholdExceed:n}=this.props,{movingDot:{id:i},movingDot:o}=this.state,a=Math.abs(e.clientX-this.clickedDotOriginX),r=Math.abs(e.clientY-this.clickedDotOriginY);if(Math.hypot(a,r)>4){n();const{x:e,y:a}=t.find(e=>e.id===i);this.setState({movingDot:Object.assign({},o,{x:e,y:a,thresholdExceeded:!0})}),document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mousemove",this.handleMouseMoveAfterThreshold)}}handleMouseMoveAfterThreshold(e){e.preventDefault();const t=this.nodeRefs.base.getBoundingClientRect(),{movingDot:n}=this.state,i=Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),o=Math.max(0,Math.min((e.clientY-t.top)/t.height,1)),a=this.isOverlapping();this.setState({movingDot:Object.assign({},n,{x:i,y:o,overlap:a})})}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp),this.clickedDotOriginX=null,this.clickedDotOriginY=null;const{onPositionChange:e}=this.props,{movingDot:{id:t,thresholdExceeded:n,overlap:i,x:o,y:a},movingDot:r,dotZIndex:s}=this.state;n?i?this.setState({movingDot:Object.assign({},r,{revert:!0}),movedDot:!0}):(this.setState({movingDot:{},movedDot:!0,dotZIndex:s+1}),e(t,o,a)):this.setState({movingDot:{}})}handleTransitionEnd(){this.setState({movingDot:{}})}handleClick(e){const{noteMode:t,onCreate:n}=this.props;if(t){e.stopPropagation();const t=this.nodeRefs.base.getBoundingClientRect();n(Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),Math.max(0,Math.min((e.clientY-t.top)/t.height,1)))}}handleDotClick(e){if(this.isDraft(e))return;const{onClick:t}=this.props,{movedDot:n}=this.state;n?this.setState({movedDot:!1}):t({dotId:e,source:"Layer detail"})}componentWillReceiveProps(e){const{dotMenu:{id:t}}=this.state,{dots:n}=this.props,{dots:i}=e;if(t){const e=n.find(e=>e.id===t),o=i.find(e=>e.id===t);o&&o.x===e.x&&o.y===e.y||this.setState({dotMenu:{}})}}componentDidUpdate(){const{dots:e}=this.props,{movingDot:{id:t,revert:n,x:i,y:o},movingDot:a}=this.state;if(n){const n=e.find(e=>t===e.id&&i!==e.x&&o!==e.y);n&&this.setState({movingDot:Object.assign({},a,{x:n.x,y:n.y})})}}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp)}renderDots(){const{dots:e,selectedDotId:t}=this.props,{movingDot:n,dotZIndex:a,dotMenu:r}=this.state;return e.map(e=>{const s=Object.assign({},e,{key:e.id,selected:t===e.id,zIndex:a,menuOpen:r.id===e.id,onClick:this.handleDotClick});return this.isMoving(e)?i.h(o.default,Object.assign({},s,{x:n.x,y:n.y,moving:!0,overlap:n.overlap,revert:n.revert,onTransitionEnd:n.revert?this.handleTransitionEnd:null,zIndex:a+5,draggingRef:Object(l.default)(this,"dragging")})):this.isDragging(e)?i.h(o.default,Object.assign({},s,{draggingRef:Object(l.default)(this,"dragging")})):i.h(o.default,Object.assign({},s,{onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown}))})}renderMenu(){const{dots:e,barrelUser:t,onStatusChange:n,onCopyWebUrl:o,onCopyAppUri:s,onDelete:l,onMenuOpen:c}=this.props,{dotMenu:{id:d,origin:u},dotZIndex:p}=this.state;if(!d)return null;const h=e.find(e=>e.id===d);if(!h)return null;const f=h.creator&&h.creator._id===t.user._id||r.permissions.canRemoveNotes(t);return i.h(a.default,{key:"dotmenu",id:d,status:h.status,canDelete:f,autoPosition:{sidebar:".sidebar.screenSidebar",menuContainer:".dots",clickOrigin:u,zIndex:p},onClose:this.handleMenuClose,onOpen:c,onStatusChange:n,onCopyWebUrl:o,onCopyAppUri:s,onDelete:l})}render(){const{noteMode:e,flash:t,onAnimationEnd:n}=this.props,o=Object(s.default)("dots",{noteMode:e});return i.h("div",{class:o,ref:Object(l.default)(this,"base"),onClick:this.handleClick},this.renderDots(),this.renderMenu(),t&&i.h("div",{key:"flash",class:"flash",onAnimationEnd:n}))}}},function(e,t,n){"use strict";n.r(t);var i=n(1404);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395),s=n(550);n(1405);class l extends s.default{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this)}handleClick(e){e.stopPropagation();const{id:t,onClick:n}=this.props;n(t)}handleMouseDown(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{id:t,onMouseDown:n}=this.props;n(e,t)}handleContextMenu(e){e.preventDefault();const{id:t,onContextMenu:n}=this.props;n&&n(e,t)}handleTransitionEnd(e){e.stopPropagation();const{onTransitionEnd:t}=this.props;t&&t()}render(){const{id:e,name:t,colorName:n,x:o,y:a,status:s="open",highlight:l,moving:c,overlap:d,revert:u,selected:p,menuOpen:h,zIndex:f,draggingRef:g}=this.props,m=`calc(${100*o}% - 13px)`,b=`calc(${100*a}% - 13px)`,S=Object(r.default)("dot",n,s,{highlight:l,moving:c,menuOpen:h,overlap:d,revert:u,selected:p});return i.h("div",{class:S,ref:g,"data-id":e,"data-color":n,"data-position":o<=.5?"left":"right",style:{left:m,top:b,zIndex:f},onMouseDown:this.handleMouseDown,onTransitionEnd:this.handleTransitionEnd,onContextMenu:this.handleContextMenu,onClick:this.handleClick},t||"?")}}l.propTypes={id:a.a.string,name:a.a.string,colorName:a.a.string,x:a.a.number,y:a.a.number,status:a.a.oneOf(["open","resolved"]),moving:a.a.bool,menuOpen:a.a.bool,zIndex:a.a.number},l.defaultProps={moving:!1,overlap:!1,revert:!1,selected:!1},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1407);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(863);class a extends i.Component{constructor(e){var t,n,i;super(e),i=()=>{const{onOpen:e,id:t}=this.props;e(t)},(n="handleMenuOpen")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleStatusChange=this.handleStatusChange.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleStatusChange(e){e.stopPropagation();const{id:t,status:n,onStatusChange:i}=this.props;i(t,"open"===n?"resolved":"open")}handleCopyWebUrl(e){e.stopPropagation();const{id:t,onCopyWebUrl:n}=this.props;n(t),mixpanel.master.track("Copied web link",{Target:"Dot"})}handleCopyAppUri(e){e.stopPropagation();const{id:t,onCopyAppUri:n}=this.props;n(t),mixpanel.master.track("Copied app URI",{Target:"Dot"})}handleDelete(e){e.stopPropagation();const{id:t,onDelete:n}=this.props;n(t)}render(){const{status:e,canDelete:t,autoPosition:n,onClose:a}=this.props;return i.h(o.default.withAutoPosition,{onClose:a,onOpen:this.handleMenuOpen,autoPosition:n},i.h(o.default.Item,{onClick:this.handleStatusChange},"open"===e?"Resolve":"Reopen"),i.h(o.default.ItemDivider,null),i.h(o.default.Item,{onClick:this.handleCopyWebUrl},"Copy web link"),i.h(o.default.Item,{onClick:this.handleCopyAppUri},"Copy App URI"),t&&i.h(o.default.ItemDivider,null),t&&i.h(o.default.Item,{warning:!0,onClick:this.handleDelete},"Delete note"))}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1410);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(242),a=n(301),r=n(1411);n(1414);t.default=function(e){const{project:t,snapshot:{_id:n,links:s,width:l,height:c}}=e,d=s.map((e,s)=>{const{rect:{x:d,y:u,width:p,height:h},destination:{type:f,name:g}}=e;let m;if("screen"===f){const e=t.screens.find(e=>e.name===g);if(!e)return null;m=Object(o.urlResolve)("project-screen",{url:{pid:t.id,sid:e._id}})}const b=Object(a.toPercentage)(p,l),S=Object(a.toPercentage)(h,c),y=Object(a.toPercentage)(d,l),C=Object(a.toPercentage)(u,c);return i.h(r.default,{key:`${t.id}-${n}-link-${s}`,style:{width:b,height:S,top:C,left:y},type:f,to:m})}).filter(Boolean);return i.h("div",{class:"flowLinks"},d)}},function(e,t,n){"use strict";n.r(t);var i=n(1412);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1413);function o({style:e,type:t,to:n}){const o="previous"===t?"pop":"replace",a="previous"===t?"#":n;return i.h("a",{href:a,class:"flowLink",style:e,"data-link-type":"inApp","data-nav-op":o,"data-flow-nav":!0})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1416);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(550),s=n(416);n(1417);class l extends r.default{toDeviceDimen(e){const{zoomLevel:t}=this.props;return e*t}drawGrid(){const{width:e,height:t,grid:n}=this.props,i=this.nodeRefs.canvas,o=i.getContext("2d");o.clearRect(0,0,i.width,i.height),i.width=this.toDeviceDimen(e),i.height=this.toDeviceDimen(t);let a="rgba(238, 103, 35, 0.3)";if(n.vertical){let e,t=n.vertical,r=this.toDeviceDimen(t.columnWidth+t.gutterWidth),s=t.numberOfCols,l=this.toDeviceDimen(n.horizontalOffset+(t.guttersOnOutside?t.gutterWidth/2:0));n.horizontal&&!n.horizontal.gutterHeight||!n.vertical.gutterWidth?(a="rgba(0, 255, 255, 0.7)",e=1):e=this.toDeviceDimen(t.columnWidth),s=1===e?s+1:s,o.fillStyle=a;let c=l;for(let n=0;n<s;n++)o.fillRect(c,0,e,i.height),c+=r}if(n.horizontal){let e,t=n.horizontal,r=this.toDeviceDimen(t.rowHeight+t.gutterHeight),s=Math.round(i.height/r),l=0|this.toDeviceDimen(n.horizontalOffset);n.vertical&&!n.vertical.gutterWidth||!n.horizontal.gutterHeight?(a="rgba(0, 255, 255, 0.7)",e=1):e=this.toDeviceDimen(t.rowHeight),s=i.height-s*r>r-e?s+1:s,o.fillStyle=a;let c=1===e?r:0;for(let n=0;n<s;n++)o.fillRect(l,c,i.width-2*l,e),c+=r}}componentDidMount(){this.drawGrid()}componentDidUpdate(){this.drawGrid()}render(){return i.h("div",{class:"layoutGridContainer"},i.h("canvas",{ref:Object(s.default)(this,"canvas"),width:"100%",height:"100%"}))}}l.propTypes={height:a.a.number.isRequired,width:a.a.number.isRequired,grid:a.a.shape({horizontalOffset:a.a.number,vertical:a.a.shape({gutterWidth:a.a.number,columnWidth:a.a.number,numberOfCols:a.a.number,guttersOnOutside:a.a.bool}),horizontal:a.a.shape({gutterHeight:a.a.number,rowHeight:a.a.number})})},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1419);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(1420),r=n(1423),s=n(1426),l=n(1432),c=n(1434);class d extends i.Component{getChildContext(){const{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}=this.props;return{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}}render(){const{baseRef:e,class:t,style:n,children:a,onClick:r}=this.props;return i.h("div",{ref:e,class:Object(o.default)("snapshotDetail",t),style:n,onClick:r},a)}}d.Layers=s.default,d.Rulers=r.default,d.Distances=a,d.Image=l.default,d.ComponentLayer=c.default,t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1421);n.d(t,"BetweenEdges",(function(){return i.BetweenEdges})),n.d(t,"BetweenLayers",(function(){return i.BetweenLayers}))},function(e,t,n){"use strict";n.r(t),n.d(t,"BetweenEdges",(function(){return m})),n.d(t,"BetweenLayers",(function(){return g}));var i=n(4),o=n(301),a=n(246),r=n(329),s=n(395),l=n(250);n(1422);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){const{style:t,side:n}=e,o=["left","right"].includes(n)?"top":"left";return i.h("div",{class:"spacingHighlight",style:d(d({},t),{},{[o]:0})})}function h(e){const{style:t,side:n,value:o,matchedSpacingTokens:a,showVerticalLabelOnLeft:r,showHorizontalLabelOnBottom:l}=e,c=["left","right"].includes(n)?"horizontal":"vertical",d=Object(s.default)("distance",c,{onLeft:"vertical"===c&&r,onBottom:"horizontal"===c&&l});return i.h("div",{class:d,style:t},i.h("div",{class:"value"},Boolean(a.length)&&[i.h("div",{key:"spacingTokenNames"},a.map(({_id:e,token:t})=>i.h("span",{key:e,class:"spacingTokenName ellipsis"},t))),i.h("div",{key:"valueDivider",class:"valueDivider"})],i.h("span",null,o)))}function f(e){const{measurements:t}=e,{platform:n,spacingTokens:s,remPreferences:c,densityScale:u,dimensionSuffix:f}=this.context,g="web"===n&&"enabled"===c.status&&c.useForMeasurements,{topDistanceAmount:m,rightDistanceAmount:b,bottomDistanceAmount:S,leftDistanceAmount:y}=t,C=null===b&&null!==m&&null!==S&&null!==y,v=null===m&&null!==b&&null!==S&&null!==y,O=["top","right","bottom","left"].map(e=>{if(null===t[e+"DistanceAmount"])return null;const{[e+"DistanceTop"]:n,[e+"DistanceLeft"]:m,[e+"DistanceAmount"]:b,[e+"DistanceValue"]:S,[e+"DistanceValuePercentage"]:y}=t,O=Object(o.round)(S/u,1),E={top:n,left:m,[["left","right"].includes(e)?"width":"height"]:b};let T=[],_=y;if(!y){const e=1===s.length&&O<=144&&O%s[0].value==0&&O!==s[0].value;T=Object(r.removeDuplicatesFromArrayOfObjects)(s.filter(e=>e.value===O),"token"),e&&T.push(d(d({},s[0]),{},{_id:Object(a.getRandomString)(24),value:O,token:`${O/s[0].value} ${s[0].token}`})),_=g?Object(o.toRemSize)(S/u,c.remRootFontSize):O+f}return[Boolean(T.length)&&i.h(p,{style:d(d({},E),{},{backgroundColor:new l.default(T[0].color).toRGBAString()}),side:e}),i.h(h,{key:e+"-distance",style:E,side:e,value:_,matchedSpacingTokens:T,showVerticalLabelOnLeft:C,showHorizontalLabelOnBottom:v})]},this);return O.filter(Boolean).length?i.h("div",{class:"distances"},O):null}class g extends i.Component{_measureHorizontal(e,t,n,i){const{snapshot:{width:a}}=this.context,r=e.x,s=r+e.width,l=t.x,c=l+t.width;let d=!1,u=null,p=null,h=null,f=null,g=null,m=null,b=null,S=null,y=null,C=null,v=null,O=null;return c<r?(v=r-c,b=Object(o.toPercentage)(c,a)):l<r&&c>s?(v=r-l,b=Object(o.toPercentage)(l,a),O=c-s,p=Object(o.toPercentage)(s,a),u=Object(o.toPercentage)((r+s)/2,a),m=Object(o.toPercentage)((r+s)/2,a),d=!0):l>r&&c<s?(v=l-r,b=Object(o.toPercentage)(r,a),O=s-c,p=Object(o.toPercentage)(c,a)):c>r&&c<s?(v=r-l,b=Object(o.toPercentage)(l,a),c-r>7&&(u=Object(o.toPercentage)((c+r)/2,a),m=Object(o.toPercentage)((c+r)/2,a),d=!0)):l>r&&l<s?(v=l-r,b=Object(o.toPercentage)(r,a),s-l>7&&(u=Object(o.toPercentage)((l+s)/2,a),m=Object(o.toPercentage)((l+s)/2,a),d=!0)):l>s&&(O=l-s,p=Object(o.toPercentage)(s,a)),v&&(S=Object(o.toPercentage)(v,a),y=v,n&&(C=Object(o.percentageLength)(v,i.width))),O&&(h=Object(o.toPercentage)(O,a),f=O,n&&(g=Object(o.percentageLength)(O,i.width))),d||(u=Object(o.toPercentage)((l+c)/2,a),m=Object(o.toPercentage)((l+c)/2,a)),{topDistanceLeft:u,rightDistanceLeft:p,rightDistanceAmount:h,rightDistanceValue:f,rightDistanceValuePercentage:g,bottomDistanceLeft:m,leftDistanceLeft:b,leftDistanceAmount:S,leftDistanceValue:y,leftDistanceValuePercentage:C}}_measureVertical(e,t,n,i){const{snapshot:{height:a}}=this.context,r=e.y,s=r+e.height,l=t.y,c=l+t.height;let d=!1,u=null,p=null,h=null,f=null,g=null,m=null,b=null,S=null,y=null,C=null,v=null,O=null;return c<r?(v=r-c,u=Object(o.toPercentage)(c,a)):l<r&&c>s?(v=r-l,u=Object(o.toPercentage)(l,a),O=c-s,y=Object(o.toPercentage)(s,a),C=Object(o.toPercentage)((r+s)/2,a),g=Object(o.toPercentage)((r+s)/2,a),d=!0):l>r&&c<s?(v=l-r,u=Object(o.toPercentage)(r,a),O=s-c,y=Object(o.toPercentage)(c,a)):c>r&&c<s?(v=r-l,u=Object(o.toPercentage)(l,a),c-r>7&&(C=Object(o.toPercentage)((c+r)/2,a),g=Object(o.toPercentage)((c+r)/2,a),d=!0)):l>r&&l<s?(v=l-r,u=Object(o.toPercentage)(r,a),s-l>7&&(C=Object(o.toPercentage)((l+s)/2,a),g=Object(o.toPercentage)((l+s)/2,a),d=!0)):l>s&&(O=l-s,y=Object(o.toPercentage)(s,a)),v&&(p=Object(o.toPercentage)(v,a),h=v,n&&(f=Object(o.percentageLength)(v,i.height))),O&&(m=Object(o.toPercentage)(O,a),b=O,n&&(S=Object(o.percentageLength)(O,i.height))),d||(C=Object(o.toPercentage)((l+c)/2,a),g=Object(o.toPercentage)((l+c)/2,a)),{topDistanceTop:u,topDistanceAmount:p,topDistanceValue:h,topDistanceValuePercentage:f,rightDistanceTop:g,bottomDistanceAmount:m,bottomDistanceValue:b,bottomDistanceValuePercentage:S,bottomDistanceTop:y,leftDistanceTop:C}}measure(){const{sourceRect:e,destRect:t,percentageMode:n,parentRect:i}=this.props;return Object.assign(this._measureHorizontal(e,t,n,i),this._measureVertical(e,t,n,i))}render(){return i.h(f,{measurements:this.measure()})}}class m extends i.Component{_measureEdges(e,t){const{snapshot:{width:n,height:i}}=this.context,{edgesToMeasure:a}=this.props,r=e.x,s=r+e.width,l=e.y,c=l+e.height;let d=null,u=null,p=null,h=null,f=null,g=null,m=null,b=null,S=null,y=null,C=null,v=null,O=null,E=null,T=null,_=null,P=null,j=null,D=null,k=null;return a.includes("left")&&(d=0,p=Object(o.toPercentage)(r,n),u=Object(o.toPercentage)((l+c)/2,i),h=r,t&&(f=Object(o.percentageLength)(r,n))),a.includes("top")&&(m=0,b=Object(o.toPercentage)(l,i),g=Object(o.toPercentage)((r+s)/2,n),S=l,t&&(y=Object(o.percentageLength)(l,i))),a.includes("right")&&(C=Object(o.toPercentage)(s,n),O=Object(o.toPercentage)(n-s,n),v=Object(o.toPercentage)((l+c)/2,i),E=n-s,t&&(T=Object(o.percentageLength)(E,n))),a.includes("bottom")&&(D=Object(o.toPercentage)(c,i),_=Object(o.toPercentage)(i-c,i),k=Object(o.toPercentage)((r+s)/2,n),P=i-c,t&&(j=Object(o.percentageLength)(P,i))),{leftDistanceLeft:d,leftDistanceTop:u,leftDistanceAmount:p,leftDistanceValue:h,leftDistanceValuePercentage:f,topDistanceLeft:g,topDistanceTop:m,topDistanceAmount:b,topDistanceValue:S,topDistanceValuePercentage:y,rightDistanceLeft:C,rightDistanceTop:v,rightDistanceAmount:O,rightDistanceValue:E,rightDistanceValuePercentage:T,bottomDistanceLeft:k,bottomDistanceTop:D,bottomDistanceAmount:_,bottomDistanceValue:P,bottomDistanceValuePercentage:j}}measure(){const{sourceRect:e,percentageMode:t}=this.props;return this._measureEdges(e,t)}render(){return i.h(f,{measurements:this.measure()})}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1424);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(301);n(1425);t.default=function(e){const{x:t,y:n,width:a,height:r}=e,{snapshot:{width:s,height:l}}=this.context,c=Object(o.toPercentage)(n,l),d=Object(o.toPercentage)(t+a,s),u=Object(o.toPercentage)(n+r,l),p=Object(o.toPercentage)(t,s);return i.h("div",{class:"rulers"},i.h("div",{style:{top:c},class:"ruler horizontal"}),i.h("div",{style:{left:`calc(${d} - 1px)`},class:"ruler vertical"}),i.h("div",{style:{top:`calc(${u} - 1px)`},class:"ruler horizontal"}),i.h("div",{style:{left:p},class:"ruler vertical"}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1427);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1428),a=n(416),r=n(245);n(1431);const s=()=>{};class l extends i.Component{constructor(e){super(e),this.processLayers=this.processLayers.bind(this),this.positionLayerWidth=this.positionLayerWidth.bind(this),this.state={layerWidthOnBottom:!1}}processLayers(e){const{onLayerSelect:t,onLayerEnter:n,onLayerLeave:r,edgeDistanceMode:l,selectedLayerId:c,hoveredId:d,parentLayer:u}=this.props,{snapshot:p,densityScale:h,dimensionSuffix:f}=this.context,{layerWidthOnBottom:g}=this.state,m=!!c&&c===e._id,b=m&&!l&&(!d||d===e._id),S=i.h(o.default,{key:e._id,selectedLayerRef:b?Object(a.default)(this,"selectedLayer"):s,layerWidthRef:b?Object(a.default)(this,"layerWidth"):s,showWidthLabelOnBottom:g,selected:m,shouldRenderDimensions:b,parentLayer:u,container:p,data:e,densityScale:h,dimensionSuffix:f,onSelect:t,onEnter:n,onLeave:r});if("group"===e.type){let t=[];return"bottom"===e.interactionLevel&&t.push(S),t=t.concat(...e.layers.map(this.processLayers)),"top"===e.interactionLevel&&t.push(S),t}return[S]}positionLayerWidth(){const{selectedLayerId:e,componentLayer:t}=this.props,{layerWidthOnBottom:n}=this.state;if(e&&t&&this.nodeRefs){const{componentLayerTag:e,layerWidth:t,selectedLayer:i}=this.nodeRefs;if(!e||!t||!i)return;const o=t.getBoundingClientRect(),a=i.getBoundingClientRect(),s=e.getBoundingClientRect();if(n){const e=new DOMRect(o.x,a.y-24,o.width,o.height);Object(r.rectanglesIntersect)(e,s)||this.setState({layerWidthOnBottom:!1})}else{const e=Object(r.rectanglesIntersect)(o,s);e&&this.setState({layerWidthOnBottom:e})}}}componentDidUpdate(){this.positionLayerWidth()}render(){const{layers:e,componentLayer:t}=this.props;return i.h("div",{class:"layers"},[].concat(...e.map(this.processLayers)),t&&i.cloneElement(t,{componentLayerTagRef:Object(a.default)(this,"componentLayerTag")}))}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1429);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(301),a=n(395),r=n(550);n(1430);class Layer extends r.default{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this),this.mouseEnterHandler=this.mouseEnterHandler.bind(this)}shouldRenderHitRegion(){const{selected:e,data:{rect:{width:t,height:n}}}=this.props;return!e&&(t<3||n<3)}clickHandler(e){const{data:t,onSelect:n}=this.props;n(e,t)}mouseEnterHandler(){const{data:e,onEnter:t}=this.props;t&&t(e)}renderCornerCircles(){return[i.h("div",{key:"tl",class:"cornerCircle topLeftCircle"}),i.h("div",{key:"tr",class:"cornerCircle topRightCircle"}),i.h("div",{key:"br",class:"cornerCircle bottomRightCircle"}),i.h("div",{key:"bl",class:"cornerCircle bottomLeftCircle"})]}renderEdgeCircles(){const{data:{rect:{width:e,height:t}}}=this.props,n=[];return e>120&&n.push(i.h("div",{key:"tc",class:"edgeCircle horizontalEdgeCircle topCircle"}),i.h("div",{key:"bc",class:"edgeCircle horizontalEdgeCircle bottomCircle"})),t>120&&n.push(i.h("div",{key:"rc",class:"edgeCircle verticalEdgeCircle rightCircle"}),i.h("div",{key:"lc",class:"edgeCircle verticalEdgeCircle leftCircle"})),n}renderHitRegion(){const{data:{rect:{width:e,height:t}}}=this.props,n=e<3,o=t<3,r=Object(a.default)("hitRegion",{tooNarrow:n,tooShort:o});return i.h("div",{key:"hitRegion",class:r})}renderLayerDimensions(){const{parentLayer:e,data:{rect:{width:t,height:n}},densityScale:r,dimensionSuffix:s,showWidthLabelOnBottom:l,layerWidthRef:c}=this.props,{platform:d,remPreferences:u}=this.context,p=Object(a.default)("layerWidth",{showOnBottom:l}),h="web"===d&&"enabled"===u.status&&u.useForMeasurements;return e?[i.h("div",{key:"layerWidth",ref:c,class:p},Object(o.percentageLength)(t,e.rect.width)),i.h("div",{key:"layerHeight",class:"layerHeight"},Object(o.percentageLength)(n,e.rect.height))]:[i.h("div",{key:"layerWidth",ref:c,class:p},h?Object(o.toRemSize)(t/r,u.remRootFontSize):Object(o.round)(t/r,1)+s),i.h("div",{key:"layerHeight",class:"layerHeight"},h?Object(o.toRemSize)(n/r,u.remRootFontSize):Object(o.round)(n/r,1)+s)]}render(){const{selected:e,parentLayer:t,data:{_id:n,rect:{width:r,height:s},absoluteRect:{x:l,y:c}},container:d,onLeave:u,shouldRenderDimensions:p,selectedLayerRef:h}=this.props,f={width:Object(o.toPercentage)(r,d.width),height:Object(o.toPercentage)(s,d.height),left:Object(o.toPercentage)(l,d.width),top:Object(o.toPercentage)(c,d.height)};return i.h("div",{class:Object(a.default)("zplLayer",{selected:e}),style:f,ref:h,onClick:this.clickHandler,onMouseEnter:this.mouseEnterHandler,onMouseLeave:u},p&&this.renderLayerDimensions(),e&&this.renderCornerCircles(),e&&this.renderEdgeCircles(),this.shouldRenderHitRegion()&&this.renderHitRegion(),t&&t._id===n&&i.h("div",{class:"parent"}))}}t.default=Layer},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1433);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);class o extends i.Component{constructor(e){super(e),this.state={src:null}}getProps(e,t){return t.snapshot?t.snapshot:e.snapshot?e.snapshot:e}componentDidMount(){this.setState({src:this.getProps(this.props,this.context).url})}componentWillReceiveProps(e,t){const{src:n}=this.state,{url:i}=this.getProps(e,t);n!==i&&this.setState({src:i})}render(){const{class:e,style:t,onError:n}=this.props,{src:o}=this.state,{width:a,height:r}=this.getProps(this.props,this.context);return i.h("img",{class:e,style:t,width:a,height:r,src:o,crossOrigin:"anonymous",onError:n})}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(1435);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(438),a=n(261),r=n.n(a),s=n(242),l=n(301);n(1436);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"handleTagClick",()=>{const{onTagClick:e}=this.props;e&&e()}),c(this,"handleVariantsButtonClick",e=>{const{onVariantsButtonClick:t,componentLayer:{_id:n}}=this.props;e.stopPropagation(),t(n)})}render(){const{barrelId:e,barrelType:t,containerName:n,componentLayer:a,containerWidth:c,containerHeight:d,zoomLevel:u,componentLayerTagRef:p}=this.props;if(!a)return null;const{_id:h,name:f,rect:{width:g,height:m,x:b,y:S},variant:y}=a,C=t===r.a.PROJECT?"project-styleguide-components":"styleguide-components",v=Object(s.urlResolve)(C,{url:{bid:e},query:{coid:h}}),O={width:Object(l.toPercentage)(g,c),height:Object(l.toPercentage)(m,d),left:Object(l.toPercentage)(b,c),top:Object(l.toPercentage)(S,d)},E=Math.min(g*u,240),T=y?36:null;return i.h("div",{class:"componentLayer",style:O},i.h("div",{class:"componentLayerControls",style:{maxWidth:E,minWidth:T}},i.h("a",{ref:p,href:v,title:f,onClick:this.handleTagClick,"data-link-type":"inApp","data-back":n},E>62&&i.h("span",{class:"componentLayerName ellipsis"},f),i.h(o.IconGoTo,{width:"12",height:"12",color:"#fff"})),y&&i.h(i.Fragment,null,i.h("div",{class:"variantsSeperator"}),i.h("button",{type:"button",onClick:this.handleVariantsButtonClick},i.h(o.IconVariants,{width:"14",height:"14",color:"#fff"})))))}}d.defaultProps={zoomLevel:1},t.default=d},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1439),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(1440)),s=i(n(1444)),l=i(n(1447)),c=i(n(509)),d=n(438),u=i(n(395)),p=n(244),h=n(1442),f=i(n(1450)),g=i(n(1451));n(1452),t.default=function(e){const{screenViewRef:t,componentName:n,componentURL:i,screenName:m,snapshot:b,platform:S,spacingTokens:y,remPreferences:C,stateVariants:v,otherVariants:O,selectedLayer:E,destinationLayer:T,largestOfVariants:_}=e,P=a.useRef(),[j,D]=a.useState(null);function k(e){f.default.changeVariant({coid:e,variantChangeValueSource:g.default.BUTTON,isState:!0})}function I(e){f.default.changeVariant({coid:e,variantChangeValueSource:g.default.BUTTON,isState:!1})}a.useEffect(()=>(E?document.addEventListener("click",f.default.deselectLayer):document.removeEventListener("click",f.default.deselectLayer),()=>document.removeEventListener("click",f.default.deselectLayer)),[!!E]),a.useEffect(()=>{const e=document.querySelector(".screenViewContainer");if(!e)return;const t=document.querySelector(".componentLayer"),{width:n,height:i}=b,o=Math.min(720,i+36+46),a=(null==t?void 0:t.getBoundingClientRect())||{height:0,top:0},r=e.getBoundingClientRect(),s=a.top-r.top+(a.height-o)/2,l=r.right-n;D({x:l,y:s})},[]);const R=_.width+h.MIN_HORIZONTAL_PADDING_BOTH_SIDES,A=R>h.MAX_IMAGE_WIDTH?h.MAX_IMAGE_WIDTH:R,w={minWidth:Math.max(h.MIN_IMAGE_WIDTH,A),maxWidth:Math.min(h.MAX_IMAGE_WIDTH,_.width+h.MAX_HORIZONTAL_PADDING_BOTH_SIDES)};if(!j)return null;const{x:N,y:L}=j;return o.h(l.default,{offset:{top:12,right:12,bottom:52,left:12},x:N,y:L},o.h("div",{ref:P,class:"componentVariantView",onClick:function(e){e.stopPropagation(),f.default.deselectLayer()},style:w},o.h("div",{class:"componentInspect",style:{minHeight:_.height+h.MAX_VERTICAL_PADDING_BOTH_SIDES}},o.h(r.default,{platform:S,snapshot:b,spacingTokens:y,remPreferences:C,selectedLayer:E,destinationLayer:T,onLayerSelect:function(e,t){e.stopPropagation(),f.default.selectLayer(t)},onLayerEnter:f.default.enterLayer,onLayerLeave:f.default.leaveLayer})),o.h("div",{class:"variantInfo"},v?v.filter(({coid:e})=>!e).length===v.length?null:o.h(c.default,{onChange:k,class:"stateVariantsDropdown",optionsClass:"stateVariantsDropdownOptions"},v.map(({name:e,coid:t,selected:n})=>o.h(c.default.Item,{class:u.default("stateVariantDropdownItem",{disabled:!t}),key:e,value:t,label:e,selected:n}))):null,0===O.length?null:o.h(s.default,{variants:O,onChangeVariant:I})),o.h("button",{class:"closeButton",onClick:f.default.close},o.h(d.IconHintClose,{width:14,height:14})),o.h("button",{class:"copyButton",onClick:function(){p.copyContent({content:i,toastContainer:t}),mixpanel.master.track("Copied component variant link"),mixpanel.master.track("Copied web link",{Target:"Component",Source:"Variant pop-up"})}},o.h(d.IconCustomLink,{width:16,height:16,class:"copyButtonIcon",color:"var(--teflon)"})),o.h("a",{onClick:function(){mixpanel.master.track("Navigated to component from screen",{Source:"Variant pop-up"})},href:i,title:n,"data-link-type":"inApp","data-back":m},o.h("span",{class:"ellipsis"},n),o.h(d.IconGoTo,{width:12,height:12,color:"#fff"}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1441);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(1418)),s=n(1442),l=i(n(395)),c=n(249);n(1443),t.default=function({platform:e,snapshot:t,selectedLayer:n,destinationLayer:i,remPreferences:d,spacingTokens:u,onLayerSelect:p,onLayerEnter:h,onLayerLeave:f}){const[g,m]=a.useState("dark");a.useEffect(()=>{c.getImageProperties(t.url).then(({lightness:e})=>m(e)).catch(()=>{m("dark")})},[t.url]);let b=t.width,S=t.height;if(t.width>s.MAX_IMAGE_WIDTH){const e=s.MAX_IMAGE_WIDTH/b;b*=e,S*=e}if(t.height>s.MAX_IMAGE_HEIGHT){const e=s.MAX_IMAGE_HEIGHT/S;b*=e,S*=e}const y={width:b,height:S};return o.h(r.default,{class:l.default("componentVariantInspect",{dark:"dark"===g}),platform:e,snapshot:t,remPreferences:d,spacingTokens:u,style:y},o.h(r.default.Image,{style:y,key:"componentVariantSnapshotImage-"+t.url}),function(){if(!n)return null;const{absoluteRect:{x:e,y:t,width:i,height:a}}=n;return o.h(r.default.Rulers,{key:"rulers",x:e,y:t,width:i,height:a})}(),t.layers&&0!==t.layers.length?o.h(r.default.Layers,{key:"layers",layers:t.layers,selectedLayerId:n?n._id:null,hoveredId:i?i._id:null,onLayerSelect:p,onLayerEnter:h,onLayerLeave:f}):null,n&&i?o.h(r.default.Distances.BetweenLayers,{key:"distances",sourceRect:n.absoluteRect,destRect:i.absoluteRect}):null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_VERTICAL_PADDING_BOTH_SIDES=t.MIN_HORIZONTAL_PADDING_BOTH_SIDES=t.MAX_HORIZONTAL_PADDING_BOTH_SIDES=t.MAX_IMAGE_HEIGHT=t.MIN_IMAGE_WIDTH=t.MAX_IMAGE_WIDTH=void 0,t.MAX_IMAGE_WIDTH=1080,t.MIN_IMAGE_WIDTH=180,t.MAX_IMAGE_HEIGHT=720,t.MAX_HORIZONTAL_PADDING_BOTH_SIDES=216,t.MIN_HORIZONTAL_PADDING_BOTH_SIDES=36,t.MAX_VERTICAL_PADDING_BOTH_SIDES=36},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1445);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(395)),s=n(438),l=i(n(1012)),c=i(n(511));n(1446),t.default=function({variants:e,onChangeVariant:t}){const[n,i]=a.useState(!1),d=a.useRef();function u(){i(!1)}function p(e){t(e),u()}const h=e.reduce((e,t)=>t.values.reduce((e,{name:t,selected:n})=>n?[...e,t]:e,e),[]).join(", ");return o.h(o.Fragment,null,o.h("button",{type:"button",ref:d,class:r.default("otherVariants",{open:n}),onClick:function(){i(!n)}},o.h("span",{class:"ellipsis"},h),o.h(s.IconArrowDown,{width:9,color:"var(--gandalf)"})),n&&o.h(c.default,{didRender:function(e){if(!d.current)return;const t=d.current.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom,o=t.left;let a,r;r=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,a=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${a}px, ${r}px, 0)`}},o.h(l.default,{onChange:t,onClose:u,class:"otherVariantsMenu"},e.map((function(e){const{name:t,values:n}=e;return o.h(l.default.Submenu,{content:t},n.map(({name:e,coid:t,selected:n})=>o.h(l.default.Switch,{key:e,content:e,name:t,disabled:!t,value:n,onClick:p})))})))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1448);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(514),a=n(301);n(1449),t.default=function({children:e,x:t=0,y:n=0,offset:r=0}){var s,l,c,d,u;const p=o.useRef(),[h,f]=o.useState(!1),[g,m]=o.useState({x:0,y:0}),[b,S]=o.useState({x:0,y:0}),[y,C]=o.useState({x:t,y:n}),[v,O]=o.useState("hidden");function E(e){e.preventDefault(),e.stopPropagation(),S({x:e.clientX-g.x,y:e.clientY-g.y})}function T(e){e.preventDefault(),e.stopPropagation(),f(!1)}o.useEffect(()=>(h?(document.addEventListener("mousemove",E),document.addEventListener("mouseup",T)):(document.removeEventListener("mouseup",T),document.removeEventListener("mousemove",E)),()=>{document.removeEventListener("mouseup",T),document.removeEventListener("mousemove",E)}),[h]),o.useEffect(()=>{O("visible")},[]);const{width:_=0,height:P=0}=null!==(c=null===(l=null===(s=p.current)||void 0===s?void 0:s.parentElement)||void 0===l?void 0:l.getBoundingClientRect())&&void 0!==c?c:{},{width:j=0,height:D=0}=null!==(u=null===(d=p.current)||void 0===d?void 0:d.getBoundingClientRect())&&void 0!==u?u:{};let k,I,R,A;"number"==typeof r?(k=r,I=r,R=r,A=r):({top:k,right:I,bottom:R,left:A}=r);const w={transform:`translate(${a.clamp(y.x+b.x,A,_-j-I)}px, ${a.clamp(y.y+b.y,k,P-D-R)}px)`,visibility:v};return i.h("div",{ref:p,style:w,class:"draggablePanel",onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),C({x:y.x+b.x,y:y.y+b.y}),m({x:e.clientX,y:e.clientY}),S({x:0,y:0}),f(!0)}},e)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(334)),a=i(n(269)),r={open(e,t){const{selectedLayer:n}=a.default.ScreenStore.getState();a.default.dispatcher.dispatch({type:o.default.OPEN,coid:e,sourceLayerId:n&&n._id,variantPopupSource:t})},close(){a.default.dispatcher.dispatch({type:o.default.CLOSE})},selectLayer(e){a.default.dispatcher.dispatch({type:o.default.SELECT_LAYER,layer:e})},enterLayer(e){a.default.dispatcher.dispatch({type:o.default.ENTER_LAYER,layer:e})},leaveLayer(){a.default.dispatcher.dispatch({type:o.default.LEAVE_LAYER})},deselectLayer(){a.default.dispatcher.dispatch({type:o.default.DESELECT_LAYER})},changeVariant({coid:e,variantChangeValueSource:t,isState:n}){a.default.dispatcher.dispatch({type:o.default.CHANGE_VARIANT,coid:e,variantChangeValueSource:t,isState:n})}};t.default=r},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BUTTON="Button",e.SHORTCUT="Shortcut"}(i||(i={})),t.default=i},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1454);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(1455),s=n(1458),l=n(1461),c=n(1464),d=n(1467),u=n(228);n(1469);const p=Object(u.featureValue)("popout");function h(e){return i.h("div",{class:"widgets"},i.h("div",{class:"widgetGroup"},function(e){const{versionsVisible:t,hasNewVersions:n,onVersionsToggleClick:o}=e;return t?null:i.h(r.default,{onClick:o,hasNewVersions:n})}(e),function(e){const{zoomLevel:t,onZoomIn:n,onZoomOut:o,onZoomChange:a}=e;return i.h(s.default,{value:t,onZoomIn:n,onZoomOut:o,onChange:a})}(e),function(e){const{onPopoutWidgetClick:t}=e;return u.isWindowsApp?i.h(l.default,{disabled:!p,onClick:t}):null}(e)),i.h("div",{class:"widgetGroup"},function(e){const{latestVersionSelected:t,notesVisible:n,onAddNoteWidgetClick:o,onNotesVisibilityChange:a}=e;return t?i.h(i.Fragment,null,i.h(c.default,{onClick:o}),i.h(d.default,{notesVisible:n,onChange:a})):null}(e)))}h.propTypes={latestVersionSelected:a.a.bool.isRequired,versionsVisible:a.a.bool.isRequired,hasNewVersions:a.a.bool.isRequired,onVersionsToggleClick:a.a.func.isRequired,zoomLevel:a.a.number.isRequired,onZoomIn:a.a.func.isRequired,onZoomOut:a.a.func.isRequired,onZoomChange:a.a.func.isRequired,onPopoutWidgetClick:a.a.func.isRequired,onAddNoteWidgetClick:a.a.func.isRequired,notesVisible:a.a.bool.isRequired,onNotesVisibilityChange:a.a.func.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1456);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395),s=n(249);n(1457);function l(e){const{hasNewVersions:t,onClick:n}=e;return i.h("button",{class:Object(r.default)("versionsToggleWidget","widget",{hasNewVersions:t}),onClick:n},i.h("img",{src:Object(s.imageUrl)("img/icHourglass.svg"),alt:"⌛"}))}l.propTypes={hasNewVersions:a.a.bool.isRequired,onClick:a.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1459);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(400),s=n(338);n(1460);class l extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.stopPropagation();const{onChange:t}=this.props;t(parseFloat(e.target.value))}render(){const{value:e,onZoomIn:t,onZoomOut:n}=this.props;return i.h("div",{class:"zoomWidget widget"},i.h(r.default,{disabled:e<=s.ZOOM_LEVEL_MIN,onClick:n},i.h("div",{class:"minus"})),i.h("select",{id:"zoomDropdown",onChange:this.handleChange},s.default.map(t=>i.h("option",{key:t,value:t,selected:e===t},100*t,"%"))),i.h("label",{for:"zoomDropdown"},(100*e).toFixed()),i.h(r.default,{disabled:e>=s.ZOOM_LEVEL_MAX,onClick:t},i.h("div",{class:"plus"})))}}l.propTypes={value:a.a.number.isRequired,onZoomIn:a.a.func.isRequired,onZoomOut:a.a.func.isRequired,onChange:a.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1462);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(438),s=n(606),l=n(395);n(1463);function c(e){const{disabled:t,onClick:n}=e;return i.h(s.default,{targetClass:"widget",content:t?"Pop out only works on Aero themes, please update your theme.":"Pop screen out"},i.h("button",{class:Object(l.default)("popoutWidget",{disabled:t}),onClick:t?null:n},i.h(r.IconPopout,null)))}c.propTypes={disabled:a.a.bool.isRequired,onClick:a.a.func.isRequired},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1465);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(438);n(1466);class s extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick()}render(){return i.h("button",{class:"widget addNoteWidget",onClick:this.handleClick},i.h(r.IconAdd,null))}}s.propTypes={onClick:a.a.func.isRequired},t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(543),s=n(550);n(1468);class l extends s.default{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){const{onChange:t}=this.props;t(e.target.checked)}render(){const{notesVisible:e}=this.props;return i.h("label",{for:"maymusCheckbox",class:"toggleNotesWidget widget"},i.h("span",null,"Notes"),i.h("input",{type:"checkbox",name:"maymusCheckbox",id:"maymusCheckbox",checked:e,onChange:this.handleChange}),i.h(r.default,{asset:e?"img/icMaymusOpen.png":"img/icMaymusClosed.png"}))}}l.propTypes={notesVisible:a.a.bool.isRequired,onChange:a.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HEADER="Header",e.LAYER_DETAIL="Layer detail",e.SHORTCUT="Shortcut",e.NOTE="Note"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(261)),a=n(242);function r(e,t,n){var i;for(const o of n.components)if(o._id!==e._id&&o.variant&&o.variant.values.length===(null===(i=e.variant)||void 0===i?void 0:i.values.length)){if(!o.variant.values.find(n=>{var i;if(n.propertyId===t.propertyId)return n.value!==t.value;const o=null===(i=e.variant)||void 0===i?void 0:i.values.find(e=>e.propertyId===n.propertyId);return!o||o.value!==n.value}))return o}for(const o of n.componentSections){const n=r(e,t,o);if(n)return n}return null}t.default=function(e,t,n){var i;const{ancestors:s,component:l}=e,c=s.find(e=>!!e.variant),d=c?function(e,t){if(!e.variant||!t.variant)return null;const n=t.variant.properties.find(e=>"state"===e.name.toLowerCase()),i=t.variant.properties.filter(e=>"state"!==e.name.toLowerCase()),o=e.variant.values.find(({propertyId:e})=>(null==n?void 0:n._id)===e);let a,s={width:e.latestVersion.snapshot.width,height:e.latestVersion.snapshot.height};if(n){a=[];for(const i of n.values){const l=r(e,{propertyId:n._id,value:i},t),c=l?l._id:null;a.push({name:i,selected:(null==o?void 0:o.value)===i,coid:(null==o?void 0:o.value)===i?e._id:c}),s=l?{width:Math.max(s.width,l.latestVersion.snapshot.width),height:Math.max(s.height,l.latestVersion.snapshot.height)}:s}}const l=[];for(const{_id:c,name:d,values:u}of i)if(u.length>0){const n=e.variant.values.find(({propertyId:e})=>c===e),i=[];for(const o of u){const a=r(e,{propertyId:c,value:o},t),s=a?a._id:null;i.push({name:o,selected:(null==n?void 0:n.value)===o,coid:(null==n?void 0:n.value)===o?e._id:s})}l.push({name:d,values:i})}return{stateVariants:a,otherVariants:l,largestOfVariants:s}}(l,c):{},u=t===o.default.PROJECT?"project-styleguide-components":"styleguide-components",p=a.urlResolve(u,{url:{bid:n},query:{coid:l._id}});return Object.assign({snapshot:l.latestVersion.snapshot,componentURL:p,componentName:null!==(i=null==c?void 0:c.name)&&void 0!==i?i:l.name},d)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1474);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(505),a=n.n(o),r=n(376),s=n(361),l=n(382),c=n(367),d=n(908),u=n(269),p=n.n(u),h=n(1450),f=n.n(h),g=n(1475),m=n(1610),b=n(1275),S=n(241),y=n(245),C=n(395),v=n(416),O=n(244),E=n(257),T=n(1398),_=n(1146),P=n(383);n(1645);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.Component{constructor(...e){super(...e),D(this,"state",{scrollDisabled:!1}),D(this,"enableScroll",()=>{this.setState({scrollDisabled:!1})}),D(this,"disableScroll",()=>{this.setState({scrollDisabled:!0})}),D(this,"handleAddColorClick",e=>{r.default.addColor({color:e,syncWithApi:!0}),Object(E.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddColor"})}),D(this,"handleColorNameChange",(e,t)=>{const{styleguidesData:[{colors:n}]}=this.state;if(n.find(e=>e.name===t))return S.create({title:t+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();r.default.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),D(this,"handleRemoveColorClick",e=>{r.default.removeColor({cid:e,syncWithApi:!0})}),D(this,"handleAddTextStyleClick",e=>{r.default.addTextStyle({textStyle:e,syncWithApi:!0}),Object(E.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddTextStyle"})}),D(this,"handleTextStyleNameChange",(e,t)=>{const{styleguidesData:[{textStyles:n}]}=this.state;if(n.some(e=>e.name===t))return S.create({title:t+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();r.default.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}),D(this,"handleRemoveTextStyleClick",e=>{r.default.removeTextStyle({tsid:e,syncWithApi:!0})}),D(this,"handleRequestOrgInviteClick",()=>{const{organizationId:e}=this.state;d.default.requestInvite(e,this.nodeRefs.sidebar)}),D(this,"handleCopyCode",(e,t)=>{const{platform:n}=this.state;r.default.copyCode({code:e,toastContainer:this.nodeRefs.sidebar,platform:n,extensionId:t,source:"Screen"})}),D(this,"handleCopy",e=>{Object(O.copyContent)({content:e,toastContainer:this.nodeRefs.sidebar})})}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick}}static getStores(){return[p.a.BarrelStore,p.a.ScreenStore,p.a.ProjectsDataStore,p.a.StyleguidesDataStore,p.a.UserStore,p.a.ComponentVariantStore]}static calculateState(){const{loading:e,barrelType:t,barrelId:n,organizationId:i}=p.a.BarrelStore.getState();if(e)return{loading:!0};const o=s.default.getBarrel(),a=s.default.findUser(),{screenId:r,loadingVersions:l,versionId:d,latestVersionSelected:u,selectedLayer:h,screenSidebarWidth:f}=p.a.ScreenStore.getState();if(l&&!u)return{loading:!0};const g=c.default.getScreen(),m=c.default.getVersion({sid:r,vid:d}),b=Object(T.findCoveringLink)(o,m,h),S=new _.default(o),y=s.default.getStyleguidesData({barrelStore:p.a.BarrelStore,styleguidesDataStore:p.a.StyleguidesDataStore,projectsDataStore:p.a.ProjectsDataStore}),{componentVariantViewVisible:C,selectedLayer:v,selectedComponentVariantId:O}=p.a.ComponentVariantStore.getState();let E;C&&({component:E}=Object(P.findComponentById)(y,O));const j=y.some(({connectedComponents:e})=>e&&e.length>0);return{loading:!1,barrelType:t,barrelId:n,barrelUser:a,organizationId:i,platform:o.type,flowLink:b,formatter:S,screenId:r,screen:g,version:m,selectedLayer:h,sidebarWidth:f,styleguidesData:y,componentVariantViewVisible:C,variantViewSelectedLayer:v,variantComponent:E,hasConnectedComponent:j}}getChildContext(){const{barrelType:e,barrelId:t,barrelUser:n={},platform:i,hasConnectedComponent:o}=this.state;return{barrelType:e,barrelId:t,projectId:t,platform:i,projectType:i,barrelUser:n,userRole:n.role,hasConnectedComponent:o,permissions:{canManageColors:y.permissions.canManageColors(n),canManageScreens:y.permissions.canManageColors(n),canManageTextStyles:y.permissions.canManageTextStyles(n)},enableScroll:this.enableScroll,disableScroll:this.disableScroll}}renderLayerDetail(){const{screen:e,version:t,selectedLayer:n,flowLink:o,formatter:a,componentVariantViewVisible:r,variantViewSelectedLayer:s,variantComponent:c}=this.state;return r&&s?i.h(g.default,j({layer:s,layerContainer:c,version:c.latestVersion,formatter:a},this.getHandlers(),{onCloseClick:f.a.deselectLayer})):i.h(g.default,j({layer:n,layerContainer:e,version:t,flowLink:o,formatter:a},this.getHandlers(),{onCloseClick:l.default.deselectLayer}))}renderResourceView(){const{formatter:e}=this.state;return i.h(m.default,j({formatter:e,onRequestOrgInviteClick:this.handleRequestOrgInviteClick},this.getHandlers()))}render(){const{loading:e,selectedLayer:t,variantViewSelectedLayer:n,sidebarWidth:o,scrollDisabled:a}=this.state;if(e)return i.h(b.default.Loading,null);const r=!t&&!n;return i.h(b.default,{baseRef:Object(v.default)(this,"sidebar"),class:"screenSidebar",resizingSide:"left",initialWidth:o,minWidth:260,onRelease:l.default.changeScreenSidebarWidth,noScroll:a},i.h("div",{class:"sidebarViews",onClick:y.stopPropagation},i.h("div",{class:Object(C.default)("sidebarView",{scrollable:r})},t||n?this.renderLayerDetail():this.renderResourceView())))}}t.default=a()(k)},function(e,t,n){"use strict";n.r(t);var i=n(1476);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(550),a=n(245),r=n(1477),s=n(383),l=n(1478),c=n(293),d=n(1479),u=n(1589),p=n(376),h=n(361),f=n(269),g=n.n(f),m=n(1274),b=n(505),S=n.n(b),y=n(230),C=n(1608),v=n.n(C);n(1609);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends o.default{constructor(...e){super(...e),T(this,"handleDownloadAssetClick",(e,t)=>{const{layerContainer:{name:n},version:i}=this.props,{selectedView:o}=this.state,{screenContainerRef:a,styleguideContainerRef:r}=this.context,s=o===y.ProjectViewTypes.SCREEN?a():r();p.default.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:s,source:"Layer detail"})}),T(this,"handleAssetNameChange",(e,t)=>{const{layerContainer:{_id:n},version:{snapshot:i}}=this.props;p.default.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t,source:"Layer detail"})})}static getStores(){return[g.a.BarrelStore,g.a.StyleguidesDataStore,g.a.ProjectsDataStore,g.a.ScreenStore,g.a.ComponentVariantStore]}static calculateState(e,t){const{layer:n,version:{snapshot:i,snapshot:{density:o,densityScale:l=Object(a.getDensityScale)(o)}}}=t,{loading:c,selectedView:d,assetDensityScalePrefs:u,assetExportTarget:p,assetNamingConvention:f,densityMismatchWarningHidden:m,flowLinkInfoDismissed:b,noVectorAssetInfoHidden:S,showOptimizedSVG:y,connectedComponentsDevModeEnabled:C,connectedComponentsLocalWorkspace:v,connectedComponentsEditorInfo:O,connectedComponentsOnboardingDialogSeen:E,numberOfHighlightedConnectToCodeButtonViews:T}=g.a.BarrelStore.getState();if(c)return{loading:!0};const{type:_,densityScale:P}=h.default.getBarrel(),{componentVariantsOnboardingHintboxSeen:j,componentVariantViewSeen:D,numberOfLayerComponentViews:k}=g.a.ScreenStore.getState(),I=l!==P&&!m,R=h.default.getStyleguidesData({barrelStore:g.a.BarrelStore,styleguidesDataStore:g.a.StyleguidesDataStore,projectsDataStore:g.a.ProjectsDataStore}),{componentVariantViewVisible:A,selectedLayer:w,selectedComponentVariantId:N}=g.a.ComponentVariantStore.getState();let L;A&&w&&({component:L}=Object(s.findComponentById)(R,N));let x=Object(r.findAsset)(i,n);const M=L&&L.latestVersion.snapshot.assets||[];!x&&M&&(x=M.find(e=>"snapshot"===e.layerId));return{loading:!1,selectedView:d,platform:_,asset:x,assetDensityScalePrefs:u,assetExportTarget:p,assetNamingConvention:f,showDensityMismatchWarning:I,flowLinkInfoDismissed:b,noVectorAssetInfoHidden:S,showOptimizedSVG:y,connectedComponentsDevModeEnabled:C,connectedComponentsLocalWorkspace:v,connectedComponentsEditorInfo:O,styleguidesData:R,shouldDisplayComponentVariantsOnboardingHintbox:!D&&!j&&k<s.LAYER_COMPONENT_VIEW_LIMIT,shouldHighlightConnnectToCodeButton:!E&&T<s.HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT}}render(){const{layerContainer:{name:e},formatter:t,layer:n,flowLink:o,version:a,onCopy:r,onCopyCode:h,onAddColorClick:f,onColorNameChange:g,onRemoveColorClick:b,onAddTextStyleClick:S,onTextStyleNameChange:y,onRemoveTextStyleClick:C,onCloseClick:O}=this.props,{loading:T,platform:_,asset:P,assetDensityScalePrefs:j,assetExportTarget:D,assetNamingConvention:k,showDensityMismatchWarning:I,flowLinkInfoDismissed:R,noVectorAssetInfoHidden:A,showOptimizedSVG:w,connectedComponentsDevModeEnabled:N,connectedComponentsLocalWorkspace:L,connectedComponentsEditorInfo:x,styleguidesData:M,shouldDisplayComponentVariantsOnboardingHintbox:U,shouldHighlightConnnectToCodeButton:B}=this.state;if(T)return null;const z=Object(s.getComponentLayerForVariant)(a.snapshot,n,M);let V=null,W=null;z&&(W=v()(z),V=Object(s.findConnectedComponentByIdOrName)(z.component._id,z.component.name,M,N));const F=new c.default(E(E({},n),{},{asset:P})),H=Object(l.transformLayer)(F,t,_,M,W);return i.h("div",{class:"layerDetail"},i.h(d.default,{layer:H,connectedComponent:V,shouldDisplayComponentVariantsOnboardingHintbox:U,shouldHighlightConnnectToCodeButton:B,connectedComponentsDevModeEnabled:N,connectedComponentsLocalWorkspace:L,connectedComponentsEditorInfo:x,containerName:e,projectType:_,showDensityMismatchWarning:I,noVectorAssetInfoHidden:A,assetDensityScalePrefs:j,namingConvention:k,showOptimizedSVG:w,flowLink:o,flowLinkInfoDismissed:R,assetExportTarget:D,onOpenExportTargetClick:p.default.openExportTarget,onChangeExportTargetClick:p.default.changeExportTarget,onCloseClick:O,onAddTextStyleClick:S,onTextStyleNameChange:y,onRemoveTextStyleClick:C,onAddColorClick:f,onColorNameChange:g,onRemoveColorClick:b,onContentCopyClick:r,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:p.default.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:p.default.hideNoVectorAssetInfo,onAssetDensityOptionChange:p.default.changeAssetDensityScalePref,onNamingConventionChange:p.default.changeAssetNamingConvention,onShowOptimizedSVGChange:p.default.toggleSVGOptimization,onHideFlowInfoClick:p.default.dismissFlowLinkInfo}),i.h(u.default,{class:"codeSection",version:a,layer:F,onCopyClick:h,onSettingsClick:m.default.openSettings}))}}t.default=S()(_,{withProps:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"getSupportedDensityScales",(function(){return c})),n.d(t,"initAssetDensityScalePrefsIfNecessary",(function(){return d})),n.d(t,"isAssetDensityScaleSelected",(function(){return u})),n.d(t,"sortFormats",(function(){return p})),n.d(t,"formatName",(function(){return h})),n.d(t,"getExportName",(function(){return f})),n.d(t,"isSupportedAssetContent",(function(){return g})),n.d(t,"findAsset",(function(){return m}));var i=n(251),o=n(230),a=n(245);const r={png:0,jpg:1,pdf:2,svg:3},s=Object.freeze({[o.PLATFORM.BASE]:["svg"],[o.PLATFORM.ANDROID]:["png","jpg","svg"],[o.PLATFORM.IOS]:["png","jpg","pdf","svg"],[o.PLATFORM.OSX]:["png","jpg","pdf","svg"],[o.PLATFORM.WEB]:["png","jpg","svg"]}),l=Object.freeze({[o.PLATFORM.BASE]:[o.DENSITY._1x],[o.PLATFORM.ANDROID]:[o.DENSITY.MDPI,o.DENSITY.HDPI,o.DENSITY.XHDPI,o.DENSITY.XXHDPI,o.DENSITY.XXXHDPI],[o.PLATFORM.IOS]:[o.DENSITY._1x,o.DENSITY._2x,o.DENSITY._3x],[o.PLATFORM.OSX]:[o.DENSITY._1x,o.DENSITY._2x],[o.PLATFORM.WEB]:[o.DENSITY._1x,o.DENSITY._2x,o.DENSITY._3x]});function c(e){return l[e]}function d(e,t){return t&&t.png?t:{png:c(e)}}function u(e,t,n){return!e[t]||e[t].includes(n)}function p(e,t){return r[e]-r[t]}function h(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object(i.default)(e.layerName,t)}function f(e,t){return e.localName?e.localName:h(e,t)}function g(e,t){const{format:n,density:i,densityScale:o=Object(a.getDensityScale)(i)}=t;return s[e].includes(n)&&l[e].includes(o)}function m(e,t){return t.exportable&&Array.isArray(e.assets)?e.assets.find(e=>e.layerId?e.layerId===t.sourceId:e.layerName===t.name):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"transformAsset",(function(){return c})),n.d(t,"transformAuthors",(function(){return d})),n.d(t,"transformColor",(function(){return u})),n.d(t,"transformLayer",(function(){return m}));var i=n(245),o=n(301),a=n(1477),r=n(244);function s(e,t){return`linear-gradient(to bottom, ${e.colorStops.map(e=>function(e,t){const n=e.position>0&&e.position<1?"":` ${Math.round(100*e.position)}%`;return`${e.color.toCSS(t)}${n}`}(e,t)).join(", ")})`}function l(e){const t=e.getDefaultTextStyle(),n=[];let i=0;return e.textStyles.forEach(({font:o,range:a})=>{const r=n.find(e=>e.font.equals(o));let s,l;var c;t.equals(o)?l="default":r?l=r.group:(c=i,l=["turquoise","cornflower-blue","green","yellow","peach"][parseInt(c,10)]||"group-"+c,s=e.content.substring(a.start,a.end),i+=1),s=e.content.substring(a.start,a.end),n.push({font:o,range:a,group:l,content:s})}),n}function c(e,t,n){const{localName:o,displayName:r,layerName:s,contents:l,percent:c,size:d,lightness:u,_id:p}=e,h={},f={},g={previewImages:h,displayName:r,layerName:s,localName:o,formats:f,percent:c,size:d,light:"light"===u,id:p},m=l.filter(e=>Object(a.isSupportedAssetContent)(n,e));for(const a of m){const{density:e,densityScale:t=Object(i.getDensityScale)(e),format:n,optimized:o,url:r}=a,s={densityScale:t,optimized:o,url:r};n in f?f[n].variants.push(s):f[n]={variants:[s]},"diff"in f[n]||(c&&c.type===n?f[n].diff={type:"jpg"===c.type?"png":"jpg",percent:c.diff}:o&&o.percent&&(f[n].diff={type:"svg",percent:o.percent}))}return g.size&&(g.size={width:t.withUnit(g.size.width),height:t.withUnit(g.size.height)}),"png"in f||"svg"in f?("svg"in f&&(h.svg=f.svg.variants[0].url),"png"in f&&f.png.variants.forEach(e=>{h[e.densityScale]=e.url}),g):null}function d(e){const t=e.reduce((e,t)=>{const n=t.creator?t.creator._id:"anonymous";return e[n]=(e[n]||[]).concat(t),e},{});return Object.keys(t).map(e=>{const n=t[e];n.sort((e,t)=>e.created<t.created);const i=n[0],o=i.creator||{username:"Anonymous"},{_id:a,fullName:s,username:l}=o;return{id:a,fullName:s,username:l,avatar:Object(r.getUserAvatar)(o),versions:n.length,lastUpdated:i.created}})}function u(e,t,n){const i={r:e.r,g:e.g,b:e.b,a:e.a},o=e.toCSS(),a=t.colorString(e);for(const{id:r,name:s,colors:l,isMember:c,isOrganizationBarrel:d}of n){const{id:t,name:n}=l.find(t=>t.equals(e))||{};if(t)return{styleguideId:r,styleguideName:s,isMember:c,isOrganizationBarrel:d,added:!0,id:t,value:i,colorStyle:o,colorString:a,name:n}}for(const{id:r,name:s,colors:l,isMember:c,isOrganizationBarrel:d}of n){const n=l.find(t=>t.hexBase()===e.hexBase());if(n&&1===n.a){const{id:l,name:u}=n;return{styleguideId:r,styleguideName:s,isMember:c,isOrganizationBarrel:d,added:!1,id:l,value:i,colorStyle:o,colorString:a,name:u,opacity:t.alpha(e.a)}}}return{added:!1,value:i,colorStyle:o,colorString:a}}function p(e,t,n){return{gradientStyle:s(e),colorStops:e.colorStops.map(({color:e,position:i})=>({position:Object(o.round)(i,2),color:u(e,t,n)}))}}function h(e,t,n,a){const r=Object(i.getMostConformingTextStyle)(a,e),{color:s,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:p,textAlign:h,fontVariationSettings:f}=e,{densityScale:g,remPreferences:m}=a[0],b="web"===n&&"enabled"===m.status&&m.useForFontSizes,S=s&&u(s,t,a),{id:y,styleguideId:C,styleguideName:v,isMember:O,isOrganizationBarrel:E}=r||{};return{styleguideId:C,styleguideName:v,isMember:O,isOrganizationBarrel:E,id:y,added:!!r,color:S,name:r&&r.name,fontFace:l,fontSize:b?Object(o.toRemSize)(c/g,m.remRootFontSize):t.textLength(c),letterSpacing:d&&t.letterSpacing(d),lineHeight:p&&(b?Object(o.toRemSize)(p/g,m.remRootFontSize):t.textLength(p)),textAlign:h,fontVariationSettings:f,value:{color:S&&S.value,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:p,textAlign:h,fontVariationSettings:f}}}function f(e,t,n,i){return"text"!==e.type?[]:l(e).map(({font:e,group:o,content:a,range:r})=>({textStyle:h(e,t,n,i),group:o,content:a,range:r}))}function g(e,t,n,i){const{densityScale:a,remPreferences:r}=i,{status:s,useForMeasurements:l,remRootFontSize:c}=r;return"web"===n&&"enabled"===s&&l?{x:Object(o.toRemSize)(e.x/a,c),y:Object(o.toRemSize)(e.y/a,c),width:Object(o.toRemSize)(e.width/a,c),height:Object(o.toRemSize)(e.height/a,c)}:{x:t.length(e.x),y:t.length(e.y),width:t.length(e.width),height:t.length(e.height)}}function m(e,t,n,i,o){const{_id:a,id:r=a,absoluteRect:s,assetData:l,blendMode:d,blur:h,borders:m,borderRadius:b,content:S,fills:y,name:C,opacity:v,rotation:O,shadows:E,type:T,styleName:_}=e,P={id:r,borders:m.map(e=>function(e,t,n){const{fill:{color:i,gradient:o},position:a,thickness:r}=e;return{color:i&&u(i,t,n),gradient:o&&p(o,t,n),position:a,thickness:t.length(r)}}(e,t,i)),component:o,content:S,fills:y.map(e=>function(e,t,n){const i={type:e.type};return"color"===e.type?i.color=u(e.color,t,n):"gradient"===e.type&&(i.gradient=p(e.gradient,t,n)),i}(e,t,i)),name:C,rect:g(s,t,n,i[0]),shadows:E.map(e=>function(e,t,n){const{blurRadius:i,color:o,offsetX:a,offsetY:r,spread:s,type:l}=e;return{blurRadius:t.length(i),color:u(o,t,n),offsetX:t.length(a),offsetY:t.length(r),spread:t.length(s),type:l}}(e,t,i)),type:T,typefaces:f(e,t,n,i),styleName:_};return l&&(P.asset=c(l,t,n)),h&&(P.blur=function(e,t){const{type:n,radius:i}=e;return{type:n,radius:t.length(i)}}(h,t)),v<1&&(P.opacity=t.percentage(v)),b>0&&(P.borderRadius=t.length(b)),0!==O&&(P.rotation=O),"normal"!==d&&(P.blendMode=d),P}},function(e,t,n){"use strict";n.r(t);var i=n(1480);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1481),a=n(1487),r=n(1502),s=n(1526),l=n(1529),c=n(416),d=n(1560),u=n(1563),p=n(1566),h=n(1570),f=n(1573),g=n(1576),m=n(1579),b=n(1582),S=n(1585);n(1588);class y extends i.Component{constructor(e){super(e),this.handleTypefaceHover=this.handleTypefaceHover.bind(this)}handleTypefaceHover(e){this.setState({hoveredTypeface:e})}renderLayerStyle(e){const{layer:{styleName:t}}=this.props;return t?{layerStyle:i.h(b.default,{styleName:t,showSeparator:e}),showSeparator:!0}:{layerStyle:null,showSeparator:e}}renderAssets(e){const{layer:{asset:t},projectType:n,assetDensityScalePrefs:o,assetExportTarget:a,namingConvention:s,showDensityMismatchWarning:l,showOptimizedSVG:c,noVectorAssetInfoHidden:d,onChangeExportTargetClick:u,onOpenExportTargetClick:p,onDownloadAssetClick:h,onAssetNameChange:f,onHideDensityMismatchWarningClick:g,onHideNoVectorAssetInfoClick:m,onAssetDensityOptionChange:b,onNamingConventionChange:S,onShowOptimizedSVGChange:y}=this.props;return t?{assets:i.h(r.default,{showSeparator:!!e,asset:t,projectType:n,showDensityMismatchWarning:l,noVectorAssetInfoHidden:d,assetDensityScalePrefs:o,namingConvention:s,showOptimizedSVG:c,assetExportTarget:a,onChangeExportTargetClick:u,onOpenExportTargetClick:p,onDownloadClick:h,onNameChange:f,onHideDensityMismatchWarningClick:g,onHideNoVectorAssetInfoClick:m,onAssetDensityOptionChange:b,onNamingConventionChange:S,onShowOptimizedSVGChange:y}),showSeparator:!0}:{assets:null,showSeparator:e}}renderBlur(e){const{layer:{blur:t}}=this.props;return t?{blur:i.h(o.default,{title:"Blur",showSeparator:!!e},i.h(m.default,{blur:t})),showSeparator:!0}:{blur:null,showSeparator:e}}renderBorders(e){const{layer:{borders:t},onAddColorClick:n,onRemoveColorClick:a,onColorNameChange:r}=this.props;return t.length?{borders:i.h(o.default,{title:"Borders",showSeparator:!!e},t.map((e,t)=>i.h(f.default,{key:t,border:e,onColorNameChange:r,onColorAddClick:n,onColorRemoveClick:a}))),showSeparator:!0}:{borders:null,showSeparator:e}}renderComponentSection(){const{containerName:e,layer:{component:t},connectedComponent:n,connectedComponentsDevModeEnabled:a,connectedComponentsLocalWorkspace:r,connectedComponentsEditorInfo:s,shouldDisplayComponentVariantsOnboardingHintbox:c,shouldHighlightConnnectToCodeButton:d}=this.props;if(!t)return{componentSection:i.h("div",{class:"withPadding"},i.h(o.default,{title:"Component",showSeparator:!0},i.h(S.default,null))),showSeparator:!0};const{componentId:u,componentName:p,properties:h}=t;return{componentSection:i.h(l.default,{containerName:e,connectedComponentsDevModeEnabled:a,shouldDisplayComponentVariantsOnboardingHintbox:c,shouldHighlightConnnectToCodeButton:d,connectedComponentsLocalWorkspace:r,connectedComponentsEditorInfo:s,componentId:u,componentName:p,properties:h,connectedComponent:n,showLayerComponent:!0,userRestricted:!1}),showSeparator:!1}}renderContent(e){const{layer:{content:t,type:n,typefaces:o},onContentCopyClick:a}=this.props,{hoveredTypeface:r}=this.state;return"text"!==n?{content:null,showSeparator:e}:{content:i.h(d.default,{showSeparator:!!e,textStyles:o.filter(e=>"default"!==e.group),onCopyClick:a,content:t,hovered:r}),showSeparator:!0}}renderFills(e){const{layer:{fills:t},onAddColorClick:n,onRemoveColorClick:r,onColorNameChange:s}=this.props;return t.length?{fills:i.h(o.default,{title:"Colors",showSeparator:!!e},t.map(e=>"color"===e.type?i.h(a.default,{color:e.color,onNameChange:s,onAddClick:n,onRemoveClick:r}):"gradient"===e.type?i.h(h.default,{gradient:e.gradient,onColorNameChange:s,onColorAddClick:n,onColorRemoveClick:r}):null)),showSeparator:!0}:{fills:null,showSeparator:e}}renderShadows(e){const{layer:{shadows:t},onAddColorClick:n,onRemoveColorClick:a,onColorNameChange:r}=this.props;return t.length?{shadows:i.h(o.default,{title:"Shadows",showSeparator:!!e},t.map((e,t)=>i.h(g.default,{key:t,shadow:e,onColorNameChange:r,onColorAddClick:n,onColorRemoveClick:a}))),showSeparator:!0}:{shadows:null,showSeparator:e}}renderTypefaces(e){const{layer:{type:t,typefaces:n},onAddTextStyleClick:a,onRemoveTextStyleClick:r,onTextStyleNameChange:s,onAddColorClick:l,onRemoveColorClick:c,onColorNameChange:d}=this.props;return"text"!==t?{typefaces:null,showSeparator:e}:{typefaces:i.h(o.default,{showSeparator:!!e},i.h(p.default,{typefaces:n,onHoverChange:this.handleTypefaceHover,onAddTextStyleClick:a,onRemoveTextStyleClick:r,onTextStyleNameChange:s,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d})),showSeparator:!0}}render(){const{flowLink:e,layer:t,flowLinkInfoDismissed:n,onCloseClick:o,onHideFlowInfoClick:a}=this.props,{componentSection:r,showSeparator:l}=this.renderComponentSection(),{layerStyle:d,showSeparator:p}=this.renderLayerStyle(l),{typefaces:h,showSeparator:f}=this.renderTypefaces(p),{assets:g,showSeparator:m}=this.renderAssets(f),{fills:b,showSeparator:S}=this.renderFills(m),{borders:y,showSeparator:C}=this.renderBorders(S),{shadows:v,showSeparator:O}=this.renderShadows(C),{blur:E,showSeparator:T}=this.renderBlur(O),{content:_}=this.renderContent(T);return i.h("div",{class:"detailSections",ref:Object(c.default)(this,"base")},i.h("div",{class:"withPadding"},i.h(s.default,{onCloseClick:o},t.name)),i.h("div",{class:"withPadding"},i.h(u.default,{flowLink:e,layer:t,flowLinkInfoDismissed:n,onHideFlowInfoClick:a})),r,i.h("div",{class:"withPadding"},d,h,g,b,y,v,E,_))}}t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1482);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1483),a=n.n(o),r=n(395);n(1486);t.default=function(e){const{class:t,children:n,title:o,showSeparator:s}=e;return i.h("div",{class:Object(r.default)("sidebarSection",t)},s&&i.h(a.a,null),o&&i.h("h2",{class:"title"},o),n)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1484);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1485),t.default=function(){return i.h("div",{class:"separator"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1488);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1489),a=n(931),r=n.n(a);n(1501);class s extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleColorNameChange=this.handleColorNameChange.bind(this)}handleAddClick(){const{color:{value:e},onAddClick:t}=this.props;t(e)}handleColorNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleRemoveClick(){const{color:{id:e},onRemoveClick:t}=this.props;t(e)}render(){const{color:{id:e,name:t,added:n,colorStyle:a,colorString:r,opacity:s,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},hover:p}=this.props,{permissions:{canManageColors:h}}=this.context;return i.h("div",{class:"layerColor"},i.h("div",{class:"colorPreview",style:{backgroundColor:a}}),i.h(o.default,{class:"layerColorInfo",added:n,hover:p,id:e,name:t,colorString:r,opacity:s,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:h,onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,onNameChange:this.handleColorNameChange}))}}const l=r()(s);t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1490);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1491),a=n(261),r=n.n(a),s=n(438),l=n(1493),c=n(395),d=n(245),u=n(242);n(1500);t.default=function(e,t){const{added:n,isMember:a,isOrganizationBarrel:p,styleguideId:h,styleguideName:f,id:g,name:m,canManageColors:b,class:S,colorString:y,hover:C,opacity:v,onAddClick:O,onRemoveClick:E,onNameChange:T}=e,{projectType:_,barrelType:P,barrelId:j}=t;let D;!!m&&(D=n&&b&&h===j?i.h(o.default,{initialValue:m,filterRegex:d.colorNameRegex[_],prefix:"#",maxLength:36,blurOnEnter:!0,onBlur:T}):i.h("div",null,i.h("span",{class:"name"},"#",m,v&&i.h("span",{class:"opacity"},", ",v))));const k=!b||n&&h!==j,I=P===r.a.STYLEGUIDE?"styleguide":"project-styleguide",R=Object(u.urlResolve)(I+"-colors",{url:{bid:j},query:{cid:g}});return i.h("div",{class:Object(c.default)("colorInfo",S,{hover:C})},i.h("div",{class:"infoContent"},D,i.h("div",{class:"value"},y)),i.h(l.default,{onAddClick:O,onRemoveClick:E,resourceAdded:n,isMember:a,isOrganizationBarrel:p,styleguideId:h,styleguideName:f,canManageResource:b,class:"resourceButton",type:l.default.TYPE.COLOR,disabled:k}),g&&i.h("a",{href:R,class:"goToResource","data-link-type":"inApp"},i.h(s.IconGoTo,{width:"18",height:"18"})))}},function(e,t,n){"use strict";n.r(t);var i=n(1492);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1206),a=n(416);class r extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleInput=this.handleInput.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusWithin:!1,oldValue:e.initialValue,value:e.initialValue}}handleBlur(e){const{initialValue:t,validator:n,onBlur:i}=this.props,{oldValue:o,value:a}=this.state,r=e.target.value;o===a||!r||n&&!n(r)?this.setState({value:o,focusWithin:!1,selectionStart:null,selectionEnd:null}):(this.setState({value:r,oldValue:a,focusWithin:!1,selectionStart:null,selectionEnd:null}),t!==r&&i(r))}handleFocus(){this.setState(e=>({oldValue:e.value,focusWithin:!0}))}handleInput(e){const{filterRegex:t,onAttemptToChange:n}=this.props;if(n)return void n();let{value:i,selectionStart:o,selectionEnd:a}=e.target;const r=i;t&&(i=i.replace(t,""));const s=r.length-i.length;s>0&&(o-=s,a-=s),e.target.value=i,this.setState({selectionStart:o,selectionEnd:a,value:i})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){e.stopPropagation();const{oldValue:t}=this.state;this.setState({value:t}),this.nodeRefs.input.blur()}}handleMouseUp(e){const{selectionStart:t,selectionEnd:n}=e.target;this.setState({selectionStart:t,selectionEnd:n})}componentWillReceiveProps(e){const{initialValue:t}=e,{value:n}=this.state;this.state.focusWithin||t===n&&t===this.props.initialValue||this.setState({value:t,oldValue:t})}componentDidUpdate(){const{focusWithin:e,selectionStart:t,selectionEnd:n}=this.state;e&&this.nodeRefs.input.setSelectionRange(t,n)}render(){const{value:e}=this.state,t=Object.assign({},this.props);return delete t.onClick,delete t.onKeyDown,delete t.onBlur,delete t.onFocus,delete t.onInput,delete t.filterRegex,delete t.initialValue,i.h(o.default,Object.assign({},t,{inputRef:Object(a.default)(this,"input"),value:e,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1494);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1495),a=n(1497);n(1499);class r extends i.Component{constructor(e){super(e),this.state={hasClickHover:!1},this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveButtonMouseLeave=this.handleRemoveButtonMouseLeave.bind(this)}handleAddClick(e){this.setState({hasClickHover:!0}),this.props.onAddClick(e)}handleRemoveButtonMouseLeave(){this.state.hasClickHover&&this.setState({hasClickHover:!1})}handleRemoveClick(e){this.setState({hasClickHover:!0}),this.props.onRemoveClick(e)}render({class:e,isMember:t,isOrganizationBarrel:n,styleguideId:s,styleguideName:l,canManageResource:c,type:d=r.TYPE.DEFAULT,resourceAdded:u,disabled:p},{hasClickHover:h}){return u?i.h(a.default,{type:d,class:e,isMember:t,isOrganizationBarrel:n,canManageResource:c,styleguideId:s,styleguideName:l,disabled:p,hideHoverState:h,onMouseLeave:this.handleRemoveButtonMouseLeave,onClick:this.handleRemoveClick}):i.h(o.default,{type:d,class:e,disabled:p,onClick:this.handleAddClick})}}r.TYPE=Object.freeze({DEFAULT:"color",COLOR:"color",TEXT_STYLE:"textStyle"}),t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1496);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(606),r=n(906),s=n(438);const l={color:i.h(s.IconColor,{type:"add"}),textStyle:i.h(s.IconTextStyle,{type:"add"})};t.default=function(e,t){const{class:n,disabled:s,type:c,onClick:d}=e,{userRole:u}=t,p=c.replace(/[A-Z]/g,e=>" "+e.toLowerCase()),h=s?Object(r.default)(u,`add ${p}s`):`Add ${p} to Styleguide`;return i.h(a.default,{targetClass:n,content:h},i.h(o.default,{class:"addResourceButton resourceButtonButton",disabled:s,onClick:d},l[c]))}},function(e,t,n){"use strict";n.r(t);var i=n(1498);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(242),a=n(400),r=n(606),s=n(438),l=n(906),c=n(395);const d={color:i.h(s.IconColor,{color:"#fff",key:"tick",type:"tick",opacity:".5"}),textStyle:i.h(s.IconTextStyle,{color:"#fff",key:"tick",type:"tick",opacity:".5"})},u={color:[i.h(s.IconColor,{color:"#fff",key:"tick",type:"tick"}),i.h(s.IconColor,{color:"#fff",class:"remove",key:"remove",type:"remove"})],textStyle:[i.h(s.IconTextStyle,{color:"#fff",key:"tick",type:"tick"}),i.h(s.IconTextStyle,{color:"#fff",class:"remove",key:"remove",type:"remove"})]};function p({isMember:e,isOrganizationBarrel:t,canManageResource:n,styleguideId:a,styleguideName:r,resourceName:s,userRole:c}){return t?function({resourceName:e,isMember:t,canManageResource:n,userRole:a,styleguideId:r,styleguideName:s}){if(!n)return Object(l.default)(a,`delete ${e}s`);const c=Object(o.urlResolve)("styleguide",{url:{bid:r}});return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Go to ",s)," to update the ",e,"s.")]:[i.h("p",{key:"tooltipExplanation"},"You’re not a member of the ",i.h("strong",null,s)," Styleguide, only members can remove ",e,"s."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Join to edit ",s),".")]}({resourceName:s,isMember:e,canManageResource:n,userRole:c,styleguideId:a,styleguideName:r}):function({resourceName:e,isMember:t,styleguideId:n,styleguideName:a}){return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:Object(o.urlResolve)("styleguide",{url:{bid:n}}),"data-link-type":"inApp"},"Go to ",a)," update the ",e,"s.")]:i.h("p",null,"You are not a member of ",a,". Contact the owner to request access.")}({resourceName:s,isMember:e,styleguideId:a,styleguideName:r})}t.default=function(e,t){const{class:n,disabled:o,type:s,onClick:l,hideHoverState:h,onMouseLeave:f,isMember:g,isOrganizationBarrel:m,canManageResource:b,styleguideId:S,styleguideName:y}=e,{userRole:C}=t,v=s.replace(/[A-Z]/g,e=>" "+e.toLowerCase()),O=o?p({isMember:g,isOrganizationBarrel:m,canManageResource:b,styleguideId:S,styleguideName:y,resourceName:v,userRole:C}):`Delete ${v} from Styleguide`,E=i.h(a.default,{class:Object(c.default)("removeResourceButton","resourceButtonButton",{hideHoverState:h}),disabled:o,onClick:l,onMouseLeave:f},o?d[s]:u[s]);return h?E:function(e,{targetClass:t,content:n}){return i.h(r.default,{targetClass:t,content:n},e)}(E,{targetClass:n,content:O})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1503);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(1477),r=n(244),s=n(245),l=n(230),c=n(1504),d=n(1507),u=n(1509),p=n(1511),h=n(1514),f=n(1519),g=n(400),m=n(1206),b=n(1481),S=n(565),y=n(1522),C=n(438);n(1525);const v=Object(r.canDownload)();class O extends i.Component{constructor(e){super(e),this.oldNameInputValue=e.asset.localName||this.getAssetName(),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleNameInput=this.handleNameInput.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this)}getAssetName(){const{asset:e,namingConvention:t}=this.props;return Object(a.formatName)(e,t)}hideSettingsMenu(){this.context.enableScroll(),this.setState({settingsOpen:!1})}showSettingsMenu(){this.context.disableScroll(),this.setState({settingsOpen:!0})}handleNameInput(e){e.target.validity.valid?this.oldNameInputValue=e.target.value:e.target.value=this.oldNameInputValue}handleNameChange(e){const{asset:{id:t,localName:n},onNameChange:i}=this.props,{value:o}=e.target,a=n||this.getAssetName();o?a!==o&&i(t,o):e.target.value=a}createDownloadClickHandler(e){const{asset:{id:t},onDownloadClick:n}=this.props;return()=>{n(t,e)}}renderExports(){const{asset:{formats:e},assetDensityScalePrefs:t,showOptimizedSVG:n,projectType:o}=this.props;return o===l.PLATFORM.BASE?i.h(S.default,null,"To download assets, navigate to a linked project or a platform‑specific child styleguide."):i.h("div",{class:"assetExports"},Object.keys(e).sort(a.sortFormats).map(o=>{const{variants:a,diff:r}=e[o];return i.h(p.default,{key:o,format:o,variants:a,diff:r,assetDensityScalePrefs:t,hideOptimization:!("svg"!==o||n&&r),onDownloadClick:this.createDownloadClickHandler(o)})}))}renderBitmapInfo(){const{onHideNoVectorAssetInfoClick:e}=this.props;return i.h(S.default,{class:"bitmapInfo",onHideClick:e},"This asset contains a ‘bitmap’ image inside. So no vector assets is generated.")}render(){const{class:e,showSeparator:t,asset:{localName:n,size:a,formats:r,light:p,previewImages:S},noVectorAssetInfoHidden:O,showDensityMismatchWarning:E,assetDensityScalePrefs:T,namingConvention:_,showOptimizedSVG:P,projectType:j,assetExportTarget:D,onChangeExportTargetClick:k,onOpenExportTargetClick:I,onHideDensityMismatchWarningClick:R,onAssetDensityOptionChange:A,onNamingConventionChange:w,onShowOptimizedSVGChange:N}=this.props,{settingsOpen:L}=this.state,x=i.h("div",{class:"assetsTitle"},"Assets",i.h(f.default,{open:L,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:A,onNamingConventionChange:w,onShowOptimizedSVGChange:N,projectType:j,settings:{assetDensityScalePrefs:T,namingConvention:_,showOptimizedSVG:P},target:i.h(g.default,{class:Object(o.default)("assetSettingsButton",{active:L}),onClick:this.showSettingsMenu},i.h(C.IconSettings,null))})),M=Object.keys(r).some(e=>"jpg"===e)&&Object.keys(r).every(e=>"svg"!==e&&"pdf"!==e),U=this.getAssetName(),{pattern:B,text:z}=function(e){switch(e){case l.PLATFORM.BASE:case l.PLATFORM.WEB:default:return{pattern:"[\\w-]+",text:"letters, numbers, underscores, and hyphens"};case l.PLATFORM.IOS:case l.PLATFORM.MACOS:return{pattern:"[a-zA-Z\\d]+",text:"letters, and numbers"};case l.PLATFORM.ANDROID:return{pattern:"[a-z\\d_]+",text:"lower cased letters, numbers, and underscores"}}}(j),V=`${Object(s.getPlatformString)(j)} platform assets can only contain ${z}`;return i.h(b.default,{class:Object(o.default)("assetSection",e),title:x,showSeparator:t},E&&i.h(d.default,{class:"warningBox",onHideClick:R}),!v&&i.h(u.default,{class:"warningBox"}),i.h(h.default,{class:"preview",light:p,images:S}),i.h(y.default,{name:"Name",capitalize:!1},i.h(m.default,{class:"assetName",blurOnEnter:!0,title:V,value:n||this.getAssetName(),pattern:B,onBlur:this.handleNameChange,onInput:this.handleNameInput})),n&&i.h("div",{class:"renameInfo"},"Renamed locally from “",U,"”"),i.h(y.default,{name:"Size"},a&&`${a.width} × ${a.height}`),this.renderExports(),D&&i.h(c.default,{name:D.name,type:D.type,path:D.path,pathParts:D.pathParts,onChangeClick:k,onOpenClick:I}),M&&!O&&this.renderBitmapInfo())}}t.default=O},function(e,t,n){"use strict";n.r(t);var i=n(1505);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(438),r=n(395),s=n(249);n(1506);t.default=function(e){const{name:t,type:n,path:l,pathParts:c,onChangeClick:d,onOpenClick:u}=e;return i.h("div",{class:"exportPathSelection"},i.h("div",{class:"pathLocation"},i.h("div",{class:"name ellipsis",title:t,onClick:d},"Exporting to “",t,"”"),i.h("div",{class:"path",title:l,onClick:u},c.join(" ▸ "))),i.h(o.default,{class:Object(r.default)(n,"openExportPath"),onClick:u},"android"===n?[i.h("img",{key:"regular",src:Object(s.imageUrl)("img/icAndroidStudio.png"),srcset:Object(s.srcset)(Object(s.imageUrl)("img/icAndroidStudio.png"))}),i.h("img",{key:"pressed",src:Object(s.imageUrl)("img/icAndroidStudioPressed.png"),srcset:Object(s.srcset)(Object(s.imageUrl)("img/icAndroidStudioPressed.png"))})]:i.h(a.IconFolder,null)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1508);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(565);function a(){window.open("https://support.zeplin.io/faq/all-the-measurements-are-wrong-halftwice-the-size","_blank,noopener")}t.default=function(e){const{class:t,onHideClick:n}=e;return i.h(o.default,{class:t,type:"warning",onHideClick:n,actionContent:"Learn more",onActionClick:a},"Project density changed after this screen was exported. Asset sizes might be incorrect, please re-export to make sure.")}},function(e,t,n){"use strict";n.r(t);var i=n(1510);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(565);t.default=function(e){const{class:t}=e;return i.h(o.default,{class:t,type:"warning"},"Exporting assets is not working on your browser yet 😔, try it on Firefox or Chrome.")}},function(e,t,n){"use strict";n.r(t);var i=n(1512);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),a=n(400),r=n(438),s=(n(1513),n(1477));function l(e){return"svg"===e||"pdf"===e}t.default=function(e,t){const{format:n,variants:c,assetDensityScalePrefs:d,diff:u,hideOptimization:p,onDownloadClick:h}=e,{projectType:f}=t,g=c.filter(e=>Object(s.isAssetDensityScaleSelected)(d,n,e.densityScale)).length;let m,b;if(l(n)||u)!l(n)&&u?(m=`~${u.percent}% smaller than ${u.type.toUpperCase()}`,b=m):"svg"!==n||p||(m=u?`~${u.percent}% smaller, optimized with SVGO`:"Optimized with SVGO",b=m);else{const e=[...new Set(c.map(e=>e.densityScale))].sort((e,t)=>e-t);m=e.reduce((e,t,a,r)=>{const l=Object(o.getDensityScaleRepresentation)(f,t);return e.push(Object(s.isAssetDensityScaleSelected)(d,n,t)?l:i.h("s",null,l)),a!==r.length-1&&e.push(", "),e},[]),b=e.filter(e=>Object(s.isAssetDensityScaleSelected)(d,n,e)).map(e=>Object(o.getDensityScaleRepresentation)(f,e)).join(", ")}return i.h("div",{class:"assetExport"},i.h("div",{class:"exportType"},n),i.h("div",{class:"exportInfo"},i.h("div",null,g," ",function(e){switch(e){case"pdf":case"svg":return"vector";case"jpg":case"png":default:return"bitmap"}}(n)," image",g>1?"s":""),i.h("div",{class:"extraInfo ellipsis",title:b},m)),i.h(a.default,{class:"downloadButton",onClick:h},i.h(r.IconDownload,null)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1515);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(416),r=n(249),s=n(1516);n(1518);class l extends i.Component{constructor(e){super(e),this.setImageSource=this.setImageSource.bind(this),this.state={source:null,svg:!1}}async setImageSource(){const{images:e}=this.props;try{if(e.svg){const n=await fetch(e.svg,{mode:"cors"}),i=await n.text(),o=new DOMParser;let a,r=!1,l=!1;try{a=o.parseFromString(i,s.MIME_TYPE.svg)}catch(t){r=!0}if(r||(l=Boolean(a.querySelector("text")),r=Boolean(a.querySelector("parsererror"))),!l&&!r)return void this.setState({source:e.svg,svg:!0})}const[n]=getComputedStyle(this.nodeRefs.image).maxHeight.match(/\d+/),i=n*window.devicePixelRatio,o=Object.keys(e).filter(e=>"svg"!==e).map(Number).sort((e,t)=>e-t),a=e[o[0]],l=(await Object(r.getImageProperties)(a)).size.height,c=o.find(e=>l*e>=i)||o[o.length-1];this.setState({source:e[c],svg:!1})}catch(t){}}componentDidMount(){this.setImageSource()}componentDidUpdate(e){e.images[1]===this.props.images[1]&&e.images.svg===this.props.images.svg||this.setImageSource()}render(){const{source:e,svg:t}=this.state,{class:n,light:r}=this.props;return i.h("div",{class:Object(o.default)("assetPreview","noSelect",n,{light:r,svg:t})},i.h("img",{ref:Object(a.default)(this,"image"),src:e,crossorigin:"anonymous"}))}}t.default=l},function(e,t,n){"use strict";n.r(t),n.d(t,"MIME_TYPE",(function(){return m})),n.d(t,"downloadAsset",(function(){return D})),n.d(t,"downloadMultipleAsset",(function(){return I})),n.d(t,"exportCode",(function(){return R})),n.d(t,"triggerDownload",(function(){return _})),n.d(t,"downloadScreens",(function(){return w}));var i=n(105),o=n.n(i),a=n(245),r=n(1477),s=n(244),l=n(234),c=n(230),d=n(231),u=n(228),p=n(1517);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=Object.freeze({jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"});function b(e,t){const n=Object(r.getExportName)(e,t);if(["svg","pdf"].includes(e.format))return n;const{density:i,densityScale:o=Object(a.getDensityScale)(i)}=e;return n+(o===c.DENSITY.BASE?"":`@${o}x`)}function S(e,t,n){const{localName:i,layerName:o,displayName:a,contents:s}=e;return s.filter(e=>e.format===t&&Object(r.isSupportedAssetContent)(n,e)).map(e=>f({localName:i,layerName:o,displayName:a},e))}function y(e,t){return"svg"===e.format&&t&&Object.assign(e,e.optimized),fetch(e.url).then(e=>e.arrayBuffer()).then(t=>f({data:t},e))}function C({projectId:e,platform:t,formatGroups:n,namingConvention:i,toastContainer:o}){Object.keys(n).forEach((a,r)=>{setTimeout(r=>{p.downloadAssets({projectId:e,projectType:t,format:a,assets:n[a],namingConvention:i,toastContainer:o})},r>0?300:0)})}function v(e){const{projectId:t,platform:n}=e;"android"===n?l.barrelPrefs.get(t,"androidResFolderReminderSeen").then(n=>{if(n)return void C(e);l.barrelPrefs.set(t,"androidResFolderReminderSeen",!0);const i=document.getElementById("androidResFolderReminderDoneButton");i&&i.addEventListener("click",(function(t){t.stopPropagation(),C(e)}));const o=document.getElementById("androidResFolderReminderDialog");o&&o.showModal()}):C(e)}function O(e,t=(e=>e.displayName)){const n={},i=new o.a;return e.forEach(e=>{let o=e;const a=t(o)+o.format;a in n||(n[a]=0);const r=++n[a];r>1&&(o=Object.assign({},e),o.displayName+="_"+r,o.layerName+="_"+r),i.file(t(o)+"."+o.format,o.data)}),i}function E(e,t,n=!1){const i=n?"assets_"+e:Object(r.getExportName)(t[0],"snakeCase");return O(t,e=>{const t=Object(r.getExportName)(e,"snakeCase"),{density:n,densityScale:i=Object(a.getDensityScale)(n)}=e,o=Object(a.getDensityScaleRepresentation)("android",i);return"svg"===e.format?t:`drawable-${o}/${t}`}).generateAsync({type:"blob"}).then((function(e){return{data:URL.createObjectURL(e),name:`${i}_${(new Date).toISOString().substr(0,10)}.zip`}}))}function T(e,t,n,i=!1){let o;if(1===t.length){const e=t[0],i=new Blob([e.data],{type:m[e.format]});return o=`${b(e,n)}.${e.format}`,Promise.resolve({data:URL.createObjectURL(i),name:o})}const a=(new Date).toISOString().substr(0,10),s=O(t,e=>b(e,n));return o=`${i?"assets_"+e:Object(r.getExportName)(t[0],n)}_${a}.zip`,s.generateAsync({type:"blob"}).then(e=>({data:URL.createObjectURL(e),name:o}))}function _(e){const t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.style.display="none",document.body.appendChild(t),t.addEventListener("click",n=>{n.stopPropagation(),setTimeout(URL.revokeObjectURL,1500,e.data),t.remove()}),t.click()}function P(e,t,n,i){return f(f({},e),{},{contents:e.contents.filter(e=>Object(r.isSupportedAssetContent)(t,e)).map(e=>{const o="svg"===e.format&&"svg"===n&&i&&e.optimized?e.optimized.url:e.url,{densityScale:r,density:s=Object(a.getDensityScaleRepresentation)(t,r)}=e;return f(f({},e),{},{url:o,density:s})})})}function j(e,t,n,i){return e.map(e=>P(e,t,n,i))}function D({barrelId:e,platform:t,containerName:n,version:i,assetId:o,format:a,assetDensityScalePrefs:r,assetNamingConvention:l,showOptimizedSVG:c,toastContainer:d}){if(!Object(s.canDownload)())return;const p=k(i.snapshot.assets,r);if(u.isWindowsApp){let n;if(n="all"===o?p:[p.find(e=>e._id===o)],0===n.length)return;v({projectId:e,platform:t,formatGroups:{[a]:j(n,t,a,c)},namingConvention:l,toastContainer:d})}else(function(e,t,n,i,o){let a;if("all"===n)a=[].concat.apply([],e.map(e=>S(e,i,t)));else{const o=e.find(e=>e._id===n);if(!o)return Promise.reject(`Asset with id ${n} not found.`);a=S(o,i,t)}return Promise.all(a.map(e=>y(e,o)))})(p,t,o,a,c).then(e=>("android"===t&&"svg"!==a?E:T)(n,e,l,"all"===o)).then(_)}function k(e,t){return e.map(e=>f(f({},e),{},{contents:e.contents.filter(e=>{const{format:n,density:i,densityScale:o=Object(a.getDensityScale)(i)}=e;return Object(r.isAssetDensityScaleSelected)(t,n,o)})}))}function I({barrelId:e,platform:t,containerName:n,version:i,assetList:o,assetDensityScalePrefs:a,assetNamingConvention:r,showOptimizedSVG:l,toastContainer:c}){if(!Object(s.canDownload)())return;const d=k(i.snapshot.assets,a);if(u.isWindowsApp){const n={};return o.forEach(({assetId:e,format:i})=>{const o=d.find(t=>t._id===e);if(!o)return;let a;i in n?a=n[i]:(a=[],n[i]=a),a.push(P(o,t,i,l))}),void v({projectId:e,platform:t,formatGroups:n,namingConvention:r,toastContainer:c})}(function(e,t,n,i){const o=t.map(({assetId:t,format:o})=>{const a=e.find(e=>e._id===t);return a?S(a,o,i).map(e=>y(e,n)):null}).filter(Boolean);return o.length?Promise.all(o.reduce((e,t)=>e.concat(t))):Promise.reject("Selected assets not found.")})(d,o,l,t).then(e=>("android"===t?E:T)(n,e,!0)).then(_)}function R({resourceType:e,barrelName:t,exportObjects:n}){if(Array.isArray(n)){const i=new o.a;n.forEach(e=>{i.file(e.filename,e.code)}),i.generateAsync({type:"blob"}).then(n=>{_({data:URL.createObjectURL(n),name:`${e}s_${t}.zip`})})}else _({data:URL.createObjectURL(new Blob([n.code],{type:m[n.language]})),name:n.filename})}async function A(e){const{name:t,versions:[{snapshot:{url:n}}]}=e,i=await fetch(n),o=await i.arrayBuffer();return{name:t+".png",blob:new Blob([o],{type:m.png})}}async function w(e,t){if(!Object(s.canDownload)()){if(1!==e.length)return;let{versions:[{snapshot:{url:t}}]}=screen;if(!t.includes("raven-warehouse")){const{pathname:e}=new URL(t);t=d.CDN_URL+e}return void Object(s.openLink)(t)}if(1===e.length){const{name:t,blob:n}=await A(e[0]);return void _({data:URL.createObjectURL(n),name:t})}const n=new o.a,i=await Promise.all(e.map(A)),a={};i.forEach(({name:e,blob:t})=>{let i;a[e]>0?i=e.replace(/(.*)\.(.*$)/,`$1 (${a[e]++}).$2`):(a[e]=1,i=e),n.file(i,t)});const r=await n.generateAsync({type:"blob"});_({data:URL.createObjectURL(r),name:t})}},function(e,t,n){"use strict";n.r(t),n.d(t,"queryAssetDownloadTarget",(function(){return p})),n.d(t,"downloadAssets",(function(){return h})),n.d(t,"changeExportTarget",(function(){return f})),n.d(t,"openExportTarget",(function(){return g}));var i=n(229),o=n(257);function a(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}let r,s,l,c,d;function u(e){l=e;const t=l+":asset-download-target";i.default.ipcRenderer.removeAllListeners(t),i.default.ipcRenderer.once(t,(e,t)=>{s=t.projectFolder,r(t)})}function p(e,t,n){r=n,c=t,u(e),i.default.ipcRenderer.send("query-asset-download-target",e)}function h(e){const{toastContainer:t}=e,n=a(e,["toastContainer"]);u(e.projectId),i.default.ipcRenderer.removeAllListeners("assets-downloaded"),i.default.ipcRenderer.once("assets-downloaded",(e,n)=>function(e,t){clearTimeout(d),d=setTimeout(n=>{Object(o.default)({text:"Exported to "+e.projectName,container:t,source:"assetExportTargetProject"})},200),"android"===c&&mixpanel.master.track("Exported assets",{"Folder Type":e.projectFolderType,"Project Type":c})}(n,t)),i.default.ipcRenderer.send("download-assets",n)}function f(){l&&c&&(u(l),i.default.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c}))}function g(){s&&i.default.ipcRenderer.send("open-item",s)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1520);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(511),a=n(1012),r=n(416),s=(n(1521),n(245)),l=n(1477);const c=[{name:"Default",value:"default"},{name:"camelCase",value:"camelCase"},{name:"snake_case",value:"snakeCase"},{name:"kebab-case",value:"kebabCase"},{name:"Original",value:"original"}];class d extends i.Component{constructor(e){super(e),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.handleSettingsChange=this.handleSettingsChange.bind(this)}static densityScaleOptionVisible(e){return"base"!==e}static namingOptionVisible(e){return"android"!==e}static svgOptionVisible(e){return"base"!==e}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,o=t.left-n.width;let a,r;r=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,a=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${a}px, ${r}px, 0)`}handleSettingsChange(e,t){"naming"===e?this.props.onNamingConventionChange(t):"optimizedSVG"===e?this.props.onShowOptimizedSVGChange(t):"pngScales"===e&&this.props.onAssetDensityOptionChange("png",t)}render(){const{settings:{assetDensityScalePrefs:e,namingConvention:t,showOptimizedSVG:n},projectType:u,open:p,target:h,onClose:f}=this.props,g=[];return d.densityScaleOptionVisible(u)&&g.push(i.h(a.default.SwitchMenu,{name:"pngScales",content:"PNG Scales",selectedOptionNames:e.png,minNumberOfSelectedOptions:1,options:Object(l.getSupportedDensityScales)(u).map(e=>({name:e,content:Object(s.getDensityScaleRepresentation)(u,e)}))})),d.namingOptionVisible(u)&&g.push(i.h(a.default.Picker,{name:"naming",content:"Naming",submenu:!0,value:t,options:c})),d.svgOptionVisible(u)&&g.push(i.h(a.default.Switch,{name:"optimizedSVG",content:"Display optimized SVG",value:n})),i.h("div",{class:"assetSettings"},i.h("div",{class:"target",ref:Object(r.default)(this,"target")},h),p&&i.h(o.default,{didRender:this.handlePortalDidRender},i.h(a.default,{class:"assetSettingsMenu",onChange:this.handleSettingsChange,onClose:f},g)))}}t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1523);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395);n(1524);function s(e){const{capitalize:t,name:n,abbr:o,children:a,theme:s}=e,l=n?""+n:null,c=o?i.h("abbr",null,o):null,d=l&&c?", ":"";return i.h("div",{class:Object(r.default)("layerProperty",s,{capitalize:t})},i.h("span",{class:"propertyName noSelect"},l,d,c,": "),i.h("span",{class:"propertyValue ellipsis"},a))}s.Group=function({children:e}){return i.h("div",{class:"layerPropertyGroup"},e)},s.propTypes={capitalize:a.a.bool,name:a.a.string,abbr:a.a.string,children:a.a.element.isRequired,theme:a.a.oneOf(["light","dark"])},s.defaultProps={capitalize:!0,theme:"light"},t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1527);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(400),s=n(438);n(1528);function l(e){const{children:t,onCloseClick:n}=e;return i.h("div",{class:"sidebarHeader"},i.h("h2",{class:"ellipsis"},t),i.h(r.default,{class:"closeButton",onClick:n},i.h(s.IconClose,{color:"#979197"})))}l.propTypes={onCloseClick:a.a.func,children:a.a.oneOfType([a.a.node,a.a.element])},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1530);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(400),s=n(609),l=n(1531),c=n(438),d=n(228),u=n(376),p=n(382),h=n(1450),f=n.n(h),g=n(1470),m=n.n(g),b=n(242),S=n(244),y=n(246),C=n(395),v=n(1534),O=n(1541),E=n(1543),T=n(1522),_=n(1483),P=n.n(_),j=n(1546),D=n.n(j),k=n(1550),I=n.n(k),R=n(1556),A=n.n(R);n(1559);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.Component{constructor(e){super(e),w(this,"handleLayerComponentClick",()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Layer detail"})}),w(this,"handleOpenComponentVariantViewClick",()=>{f.a.open(this.props.componentId,m.a.HEADER)}),w(this,"handleVariantsHintboxActionClick",()=>{Object(S.openLink)("#")}),this.state={showCoCoOnboardingDialog:!1},this.handleConnectToCodeClick=this.handleConnectToCodeClick.bind(this),this.handleCloseOnboarding=this.handleCloseOnboarding.bind(this),this.handleOpenDocumentationClick=this.handleOpenDocumentationClick.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this)}handleConnectToCodeClick(){const{shouldHighlightConnnectToCodeButton:e}=this.props;e&&u.default.markConnectedComponentsOnboardingDialogAsSeen(),this.setState({showCoCoOnboardingDialog:!0});const t=this.props.showLayerComponent;mixpanel.master.track("Opened connected component onboarding",{Source:t?"Screen":"Component"})}handleCloseOnboarding(){this.setState({showCoCoOnboardingDialog:!1})}handleOpenDocumentationClick(){const e=this.props.showLayerComponent;mixpanel.master.track("Clicked local configuration documentation button",{Source:e?"Screen":"Component"}),Object(S.openLink)("https://zpl.io/connected-components-local-configuration")}handleAddWorkspacePath(e){const{barrelId:t}=this.context;u.default.setConnectedComponentsLocalWorkspace({bid:t,workspace:e})}renderLayerComponent(){if(!this.props.showLayerComponent)return null;const{containerName:e,componentId:t,componentName:n}=this.props,{projectId:o}=this.context,a=Object(b.urlResolve)("project-styleguide-components",{url:{bid:o},query:{coid:t}});return[i.h("h2",{key:"componentTitle",class:"componentTitle"},"Component"),i.h("div",{key:"styleguideComponent",class:"styleguideComponent"},i.h("span",{class:"name ellipsis",title:n},n),i.h("a",{href:a,onClick:this.handleLayerComponentClick,"data-link-type":"inApp","data-back":e},i.h(c.IconGoTo,{width:"18",height:"18",color:"#C1BEC1"})))]}renderComponentProperties(){const{showLayerComponent:e,properties:t,shouldDisplayComponentVariantsOnboardingHintbox:n}=this.props;return e&&t?i.h(i.Fragment,null,i.h(P.a,null),i.h("h2",{class:"componentTitle"},"Properties",i.h("button",{onClick:this.handleOpenComponentVariantViewClick},i.h(c.IconVariants,null))),t.map(({name:e,value:t})=>i.h(T.default,{key:t,name:e,theme:"dark"},t)),n&&i.h(D.a,{onActionClick:this.handleVariantsHintboxActionClick,onHideClick:p.default.hideComponentVariantsOnboardingHintbox})):null}renderDevModeHintBox(){const{connectedComponentsDevModeEnabled:e}=this.props;return e?i.h(E.default,{onReload:u.default.reloadLocalConnectedComponents}):null}renderCodeComponent(){const{connectedComponent:e,connectedComponentsDevModeEnabled:t,componentName:n,shouldHighlightConnnectToCodeButton:o,showLayerComponent:a,properties:c,shouldDisplayComponentVariantsOnboardingHintbox:d,componentId:u}=this.props,p=!(a&&c&&d)&&o;if(!e)return t?i.h(i.Fragment,null,i.h("span",{class:"notFoundDescription"},n+" not found in local configuration file. Reload to try again."),i.h(r.default,{class:"openDocumentation",onClick:this.handleOpenDocumentationClick},"Open Documentation")):i.h(i.Fragment,null,i.h("span",{class:"notConnectedDescription"},"Connect this component to your component in code to see a quick overview with links to documentation, e.g. Storybook."),i.h(r.default,{class:Object(C.default)("connectToCode",{highlight:o}),onClick:this.handleConnectToCodeClick},"Connect to Code"),p&&i.h(A.a,{key:u}));let{name:h,path:f,data:g}=e;h||(h=Object(y.getFilenameWithoutExtensionFromPath)(f));const{description:m,snippet:b,lang:S}=(v=g).find(e=>!!e.snippet)||v.find(e=>!!e.description)||{};var v;return[i.h("div",{key:"componentInfo",class:"componentInfo"},i.h("span",{class:"componentName ellipsis"},h),i.h("span",{class:"componentPath ellipsis"},f)),m||b?[m&&i.h("div",{key:"componentDescription",class:"componentDescription"},i.h(s.default,null,m)),b&&i.h("div",{key:"componentCodeSnippet",class:"snippet"},i.h(l.default,{lineIndicator:!0,lang:S,content:b,asyncHighlight:!1}))]:i.h("div",{key:"noData",class:"componentDescription"},i.h(s.default,null,"No description or code snippet."))]}renderOpenInEditor(e){const{connectedComponentsLocalWorkspace:t,connectedComponentsEditorInfo:n,userRestricted:o}=this.props;if(d.isWindowsApp){const{editorList:t,defaultEditorPreferences:a,workspacePath:r}=n,s=Object(y.getFileExtensionFromPath)(e),l=a&&a[s];return i.h(O.default,{filePath:e,fileExtension:s,editorList:t,selectedEditor:l,workspacePath:r,disabled:o,onOpenFileInEditor:u.default.openComponentFileInEditor,onEditorChange:u.default.setConnectedComponentsEditorPreference,onSelectWorkspace:u.default.selectConnectedComponentsWorkspaceFolder})}return i.h(v.OpenInVSCode,{filePath:e,showOptionsButton:!0,onAddWorkspacePath:this.handleAddWorkspacePath,workspace:t,disabled:o})}renderOpenInButtons(){const{connectedComponent:e,userRestricted:t}=this.props;if(!e)return;const{urlPaths:n,path:o}=e,a=[],r=[];return n&&n.forEach(e=>{const{name:n,type:o,url:s}=e;"github"===o?r.push(i.h(v.OpenInGitHub,{key:"github",name:n,uri:s,disabled:t})):"gitlab"===o?r.push(i.h(v.OpenInGitLab,{key:"gitlab",name:n,uri:s,disabled:t})):"bitbucket"===o?r.push(i.h(v.OpenInBitbucket,{key:"bitbucket",name:n,uri:s,disabled:t})):"styleguidist"===o?r.push(i.h(v.OpenInStyleguidist,{key:"styleguidist",name:n,uri:s,disabled:t})):"storybook"===o?a.push(s):"custom"===o&&r.push(i.h(v.OpenInCustomLink,{key:"custom-"+n,name:n,uri:s,disabled:t}))}),i.h("div",{class:"openInButtons"},r.length>0&&r,a.length>0&&i.h(v.OpenInStorybook,{uriList:a,disabled:t}),this.renderOpenInEditor(o))}render(){const{componentId:e}=this.props,{showCoCoOnboardingDialog:t}=this.state;return i.h(i.Fragment,null,i.h("div",{class:"componentDetailSection"},i.h("div",{class:"componentDetailsWrapper"},i.h("div",{class:"componentDetails"},this.renderLayerComponent(),this.renderComponentProperties(),this.renderDevModeHintBox(),this.renderCodeComponent())),this.renderOpenInButtons()),t&&i.h(I.a,{componentId:e,onClose:this.handleCloseOnboarding}))}}N.propTypes={containerName:a.a.string,componentId:a.a.string,componentName:a.a.string,showLayerComponent:a.a.bool,shouldDisplayComponentVariantsOnboardingHintbox:a.a.bool,connectedComponent:a.a.object},t.default=N},function(e,t,n){"use strict";n.r(t);var i=n(1532);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(613),a=n.n(o),r=n(395);n(1533);function s(e){let t=[];const n=[t];for(const i of e)if("string"==typeof i&&i.includes("\n")){const e=i.split("\n");t.push(e[0]);for(let t=1;t<e.length-1;t++)n.push([e[t]]);t=[e[e.length-1]],n.push(t)}else t.push(i);return n}class l extends i.Component{highlight(e){const{content:t,lang:n,asyncHighlight:i=!0}=e;var o;(o=n)&&a.a.languages[o]?function(e,t,n){return n?new Promise((n,i)=>{try{a.a.tokenizeFlat(e,a.a.languages[t],!0,e=>{n(e)})}catch(o){i(o)}}):Promise.resolve(a.a.tokenizeFlat(e,a.a.languages[t]))}(t,n,i).then(e=>{this.setState({lines:s(e)})}).catch(()=>{this.setState({lines:e.content.split("\n")})}):this.setState({lines:e.content.split("\n")})}componentDidMount(){this.highlight(this.props)}componentWillReceiveProps(e){this.highlight(e)}render(e,t){const{class:n,lang:o,lineIndicator:a,style:s}=e,{lines:l=[]}=t,c=Object(r.default)("code",n,{lineIndicator:a});return i.h("pre",{class:c},i.h("code",{class:"language-"+o,style:s},l.map((e,t)=>i.h("span",{key:t,class:"lineWrapper"},i.h("span",{class:"lineno"}),i.h("pre",{class:"line"},Array.isArray(e)?e.map(e=>"string"==typeof e?e:i.h("span",{class:"token "+e.type},e.content)):e)))))}}t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1535);n.d(t,"default",(function(){return i.default})),n.d(t,"OpenInVSCode",(function(){return i.OpenInVSCode})),n.d(t,"OpenInStyleguidist",(function(){return i.OpenInStyleguidist})),n.d(t,"OpenInGitHub",(function(){return i.OpenInGitHub})),n.d(t,"OpenInGitLab",(function(){return i.OpenInGitLab})),n.d(t,"OpenInBitbucket",(function(){return i.OpenInBitbucket})),n.d(t,"OpenInStorybook",(function(){return i.OpenInStorybook})),n.d(t,"OpenInCustomLink",(function(){return i.OpenInCustomLink}))},function(e,t,n){"use strict";n.r(t),n.d(t,"OpenInVSCode",(function(){return y})),n.d(t,"OpenInGitHub",(function(){return v})),n.d(t,"OpenInGitLab",(function(){return O})),n.d(t,"OpenInBitbucket",(function(){return E})),n.d(t,"OpenInStorybook",(function(){return T})),n.d(t,"OpenInStyleguidist",(function(){return C})),n.d(t,"OpenInCustomLink",(function(){return _}));var i=n(4),o=n(1536),a=n(416),r=n(395),s=n(227),l=n(245),c=n(511),d=n(1012),u=n(1537);n(1540);function p(e){const{name:t,icon:n,uri:a,target:s,showOptionsButton:c,onOptionsClick:d,onClickOpenInButton:u,disabled:p}=e;return i.h("div",{class:Object(r.default)("openInButtonWrapper",{disabled:p})},i.h("a",{class:"openInButton noSelect",href:p?"":a,target:s,onClick:p?l.preventDefault:u},n,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",t)),c&&i.h("button",{onClick:d},o.optionsIcon))}function h(){S("Styleguidist")}function f(){S("GitHub")}function g(){S("GitLab")}function m(){S("Bitbucket")}function b(){S("Storybook")}function S(e){mixpanel.master.track("Clicked open in button",{Type:e})}class y extends i.Component{constructor(e){super(e),this.handleOpen=this.handleOpen.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleHideDialog=this.handleHideDialog.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.state={showDialog:!1,optionsDialog:!1}}handleOpen(){const{filePath:e,workspace:t}=this.props;if(t){mixpanel.master.track("Clicked open in button for connected component",{Type:"Editor",Source:"Visual Studio Code"});const n=`vscode://file/${Object(s.toURI)(t)}/${Object(s.toURI)(e)}`;window.open(n,"_self")}else this.setState({showDialog:!0,optionsDialog:!1})}handleOptionsClick(){this.setState({showDialog:!0,optionsDialog:!0})}handleHideDialog(){this.setState({showDialog:!1})}handleAddWorkspacePath(e){const{optionsDialog:t}=this.state,{filePath:n,onAddWorkspacePath:i}=this.props;if(i(e),this.handleHideDialog(),!t){const t=`vscode://file/${Object(s.toURI)(e)}/${Object(s.toURI)(n)}`;window.open(t,"_self")}}render(){const{name:e,showOptionsButton:t,workspace:n,disabled:s}=this.props,{showDialog:c}=this.state;return i.h("div",{class:Object(r.default)("openInButtonWrapper",{disabled:s}),ref:Object(a.default)(this,"base")},c&&i.h(u.default,{workspace:n,onAdd:this.handleAddWorkspacePath,onHide:this.handleHideDialog}),i.h("button",{class:"openInButton noSelect",onClick:s?l.preventDefault:this.handleOpen},o.vsCodeIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",e||"VS Code")),t&&i.h("button",{onClick:s?l.preventDefault:this.handleOptionsClick},o.optionsIcon))}}function C(e){const{name:t,uri:n,showOptionsButton:a,onOptionsClick:r,disabled:s}=e;return i.h(p,{name:t||"Styleguidist",icon:o.styleguidistIcon,uri:n,target:"_blank",disabled:s,showOptionsButton:a,onOptionsClick:r,onClickOpenInButton:h})}function v(e){const{name:t,uri:n,showOptionsButton:a,onOptionsClick:r,disabled:s}=e;return i.h(p,{name:t||"GitHub",icon:o.gitHubIcon,uri:n,target:"_blank",disabled:s,showOptionsButton:a,onOptionsClick:r,onClickOpenInButton:f})}function O(e){const{name:t,uri:n,showOptionsButton:a,onOptionsClick:r,disabled:s}=e;return i.h(p,{name:t||"GitLab",icon:o.gitLabIcon,uri:n,target:"_blank",disabled:s,showOptionsButton:a,onOptionsClick:r,onClickOpenInButton:g})}function E(e){const{name:t,uri:n,showOptionsButton:a,onOptionsClick:r,disabled:s}=e;return i.h(p,{name:t||"Bitbucket",icon:o.bitbucketIcon,uri:n,target:"_blank",disabled:s,showOptionsButton:a,onOptionsClick:r,onClickOpenInButton:m})}class T extends i.Component{constructor(e){super(e),this.hideOptions=this.hideOptions.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.setState({showOptions:!1})}getStoryName(e){const t=new URL(e),n=t.searchParams.get("selectedStory"),i=t.searchParams.get("path");if(n)return n;if(i){const e=/^\/(docs|story)\/(.*)--(.*)$/g.exec(i);if(e)return e[3]}return null}hideOptions(){this.context.enableScroll(),this.setState({showOptions:!1})}handleOptionsClick(){this.context.disableScroll(),this.setState({showOptions:!0})}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,o=t.left-n.width;let a,r;r=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,a=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${a}px, ${r}px, 0)`}render(){const{uriList:e,disabled:t}=this.props,{showOptions:n}=this.state,s=[];return e.forEach(e=>{const t=this.getStoryName(e);t&&s.push({name:t,uri:e})}),i.h("div",null,i.h("div",{class:Object(r.default)("openInButtonWrapper",{disabled:t})},i.h("a",{class:"openInButton noSelect",href:t?"":e[0],target:"_blank",onClick:t?l.preventDefault:b},o.storybookIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in Storybook")),s.length>1&&i.h("button",{class:Object(r.default)("storybookSettings",{active:n}),onClick:t?l.preventDefault:this.handleOptionsClick,ref:Object(a.default)(this,"target")},o.optionsIcon)),n&&i.h(c.default,{didRender:this.handlePortalDidRender},i.h(d.default,{class:"storybooksMenu",onClose:this.hideOptions},i.h(d.default.Submenu,{name:"Stories"},s.map(e=>i.h(d.default.Button,{key:e.name,onClick:()=>window.open(e.uri)},e.name))))))}}function _(e){const{name:t,uri:n,showOptionsButton:a,onOptionsClick:r,disabled:s}=e;return i.h(p,{name:t||"Custom Link",icon:o.customLinkIcon,uri:n,target:"_blank",disabled:s,showOptionsButton:a,onOptionsClick:r})}t.default=p},function(e,t,n){"use strict";n.r(t),n.d(t,"optionsIcon",(function(){return o})),n.d(t,"vsCodeIcon",(function(){return a})),n.d(t,"vsCodeInsidersIcon",(function(){return r})),n.d(t,"androidStudioIcon",(function(){return s})),n.d(t,"sublimeIcon",(function(){return l})),n.d(t,"atomIcon",(function(){return c})),n.d(t,"ideaIcon",(function(){return d})),n.d(t,"webStormIcon",(function(){return u})),n.d(t,"defaultEditorIcon",(function(){return p})),n.d(t,"styleguidistIcon",(function(){return h})),n.d(t,"gitHubIcon",(function(){return f})),n.d(t,"storybookIcon",(function(){return g})),n.d(t,"gitLabIcon",(function(){return m})),n.d(t,"bitbucketIcon",(function(){return b})),n.d(t,"customLinkIcon",(function(){return S}));var i=n(4);const o=i.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.h("path",{fill:"#C1BEC1","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})),a=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.175.123l4.117 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.125l-4.117 1.98c-.12.058-.245.095-.371.112l-.127.01a1.245 1.245 0 0 1-.923-.363L5.87 12.332l-3.433 2.605a.833.833 0 0 1-.97.027l-.093-.074L.273 13.89a.833.833 0 0 1-.001-1.232l2.977-2.715L.272 7.227a.833.833 0 0 1 0-1.231l1.102-1.001a.833.833 0 0 1 1.063-.048L5.87 7.552 13.754.365c.124-.125.27-.219.428-.28l.12-.04c.285-.078.594-.056.873.078zm-.172 5.281L9.021 9.942l5.982 4.538V5.404z"})),r=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.174.123l4.118 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.126l-4.118 1.98c-.437.21-.952.146-1.323-.154l-.088-.08.07.062a.732.732 0 0 0 1.17-.588V.882a.732.732 0 0 0-1.17-.587l-.07.06.088-.078c.371-.3.886-.364 1.323-.154zm-2.05.742a.625.625 0 0 1 1.046.461v4.51l-5.238 4.15 5.238 4.063v4.504a.625.625 0 0 1-1.047.46L.272 7.228a.833.833 0 0 1 0-1.232l1.102-1.001a.833.833 0 0 1 1.063-.048l3.395 2.634zM2.868 10.42l2.559 2.333-2.989 2.184a.833.833 0 0 1-1.063-.047L.273 13.889a.833.833 0 0 1-.001-1.232l2.595-2.237z"})),s=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.988 0a8.988 8.988 0 0 1 5.785 15.867l1.253 2.173a.598.598 0 0 1 .059.149l.013.078.13 1.498a.16.16 0 0 1-.073.138.154.154 0 0 1-.103.014l-.05-.022-1.248-.85a.47.47 0 0 1-.116-.103l-.046-.068-1.19-2.056a8.947 8.947 0 0 1-4.414 1.158A8.947 8.947 0 0 1 5.54 16.8l-1.203 2.083a.585.585 0 0 1-.1.118l-.062.052-1.247.842c-.048.032-.105.04-.153.008a.158.158 0 0 1-.072-.097l-.001-.04.113-1.507a.554.554 0 0 1 .038-.153l.035-.074L4.16 15.83A8.988 8.988 0 0 1 9.988 0zm3.102 14.55a6.375 6.375 0 0 1-5.995.136l-.256-.135-.69 1.197a7.738 7.738 0 0 0 3.839 1.013 7.738 7.738 0 0 0 3.807-.994l-.705-1.216zM9.988 1.216A7.773 7.773 0 0 0 4.78 14.759l3.169-5.48-.324-.324c-.084-.084-.132-.158-.144-.225l-.002-.05h-.008V6.567c0-.474.363-.87.823-.925l.108-.006h.526V3.968h2.065v1.668h.518c.474 0 .87.363.925.823l.007.108V8.68a.425.425 0 0 1-.099.213l-.055.062-.324.324 1.603 2.77a4.776 4.776 0 0 0 1.151-2.858l.007-.252h1.66a6.415 6.415 0 0 1-1.756 4.409l-.196.199.72 1.249A7.773 7.773 0 0 0 9.987 1.215zm.746 9.287l-.316.316a.62.62 0 0 1-.36.186l-.101.008-.008-.008a.603.603 0 0 1-.38-.116l-.082-.07-.316-.316-1.506 2.607a4.727 4.727 0 0 0 2.292.591c.741 0 1.444-.166 2.057-.464l.226-.119-1.506-2.615zm-.77-4.049c-.696 0-1.246.551-1.246 1.247 0 .646.49 1.177 1.113 1.24l.126.007A1.253 1.253 0 0 0 11.204 7.7c0-.688-.559-1.238-1.24-1.247z"})),l=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M19.228.003c.426 0 .775.349.775.774v18.451a.777.777 0 0 1-.775.77H.778a.778.778 0 0 1-.775-.774V.777c0-.425.349-.774.774-.774h18.451zM15.643 3.05c.179-.72-.564-.331-.564-.331L4.613 6.041c-.052.016-.403.146-.29.802L4.3 9.927c-.001.05.014.4.703.546l4.175 1.344-4.408 1.346c-.06.006-.529.077-.47 1.016.063.998-.004 3.008-.004 3.008s.044.372.555.157l10.465-3.34c.06-.016.309-.093.1-.18.092.022.299.034.267-.303l.005-3.438c.01-.046.055-.369-.546-.586l-4.24-1.33 4.253-1.329c.645-.116.515-.586.515-.586z"})),c=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M6.118 1.158c.79-.058 1.758.367 2.801 1.232a.382.382 0 1 1-.487.587c-.875-.726-1.677-1.102-2.257-1.058a.98.98 0 0 0-.38.103c-.672.342-.938 1.528-.729 3.252.051.417.13.855.23 1.306.829-.128 1.734-.21 2.698-.238 2.201-2.847 4.61-4.695 6.316-4.76.427-.017.807.08 1.124.285.887.576 1.16 1.882.787 3.777a.382.382 0 0 1-.75-.147c.3-1.52.134-2.609-.453-2.99-.182-.118-.41-.172-.68-.162-1.356.051-3.424 1.632-5.353 3.985.385.003.79.015 1.209.037 2.609.137 5.047.638 6.865 1.412 1.937.824 2.972 1.888 2.914 2.997-.052.977-.918 1.82-2.505 2.435a.382.382 0 0 1-.276-.712c1.25-.484 1.985-1.127 2.018-1.763.04-.754-.853-1.575-2.45-2.255-1.738-.74-4.084-1.22-6.606-1.351a27.133 27.133 0 0 0-1.444-.038c-.11 0-.219.002-.327.004a25.337 25.337 0 0 0-1.935 2.975c.227.532.477 1.069.75 1.604 1.146 2.25 2.54 4.2 3.924 5.487 1.27 1.182 2.385 1.664 3.058 1.322.641-.327.915-1.439.75-3.05-.179-1.753-.85-3.908-1.89-6.068a.382.382 0 0 1 .688-.33c1.077 2.237 1.774 4.482 1.962 6.32.201 1.97-.212 3.323-1.164 3.808a1.776 1.776 0 0 1-.816.189c-.881 0-1.953-.557-3.108-1.632-1.448-1.347-2.898-3.371-4.084-5.7-.186-.363-.36-.728-.525-1.092-.666 1.321-1.154 2.608-1.42 3.761-.389 1.691-.249 2.897.384 3.308.595.387 1.675.082 2.963-.835a.382.382 0 1 1 .443.621c-1.067.76-2.01 1.146-2.786 1.146-.389 0-.736-.097-1.036-.292-1.736-1.128-.876-4.951 1.065-8.605a21.89 21.89 0 0 1-.879-2.577C2.244 7.949.812 8.872.765 9.769c-.034.643.611 1.339 1.816 1.96a.382.382 0 0 1-.35.678C.723 11.63-.048 10.704.003 9.73c.072-1.375 1.812-2.468 4.543-3.016a13.94 13.94 0 0 1-.236-1.347c-.254-2.091.15-3.52 1.14-4.024.203-.104.429-.166.67-.184zm3.932 8.086a1.145 1.145 0 1 1 0 2.29 1.145 1.145 0 0 1 0-2.29zM7.408 7.13c-.69.038-1.332.105-1.926.195.164.598.365 1.217.604 1.847A25.166 25.166 0 0 1 7.408 7.13z"})),d=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M2.906 0l6.25.75 2.183 2.492 2.442-2.93L20 5.345l-.375 11.562L11.937 20 7.74 17.278 1.625 19.5 2.906 15l.266-.894-2.953-2.325 1.733-3.22L0 7.906 2.906 0zM16.25 3.75H3.75v12.5h12.5V3.75z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zM8.28 6.312v-.937H5.72v.938h.718v3.28H5.72v.97H8.28v-.97h-.719v-3.28h.72zm2.5 4.313a2.097 2.097 0 0 1-1.031-.219 2.46 2.46 0 0 1-.688-.562l.72-.813c.129.143.276.269.437.375a.916.916 0 0 0 .5.125.581.581 0 0 0 .5-.219.916.916 0 0 0 .187-.656V5.312h1.156v3.375c.012.277-.03.553-.124.813a1.562 1.562 0 0 1-.438.688 2.234 2.234 0 0 1-1.219.437z"}))),u=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M12.75 0l4.656.406.986 2.423.014-.017L20 6.783l-2.188 2.28L20 13.157l-3.75 2.223V3.75H3.75v12.5h11.031l-.332.197L13.75 20 2.687 18.062 0 2.095 5 .03l3.156 1.875L11.094.344l.924.357L12.75 0z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zm6.125-4.094L11.719 9c.469.375.937.625 1.531.625.469 0 .75-.188.75-.5 0-.281-.188-.438-1.031-.656-1.031-.281-1.688-.563-1.688-1.594v-.031c0-.938.75-1.563 1.781-1.563a3.06 3.06 0 0 1 1.907.657l-.594.875a2.381 2.381 0 0 0-1.313-.5c-.406 0-.656.187-.656.468 0 .344.219.469 1.094.688 1.031.281 1.625.656 1.625 1.562 0 1.031-.781 1.625-1.875 1.625a3.603 3.603 0 0 1-2.188-.844m-1-4.437l-.78 3-.876-3h-.875l-.875 3-.781-3H4.656l1.5 5.188h.969l.844-3 .843 3h.97l1.5-5.188h-1.22z"}))),p=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"}))),h=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.985 3.125a3.243 3.243 0 0 1 3.236 3.052l.005.184v2.416a1.658 1.658 0 0 1-.715 1.388 1.141 1.141 0 0 1-.325 1.67l-.116.06v.892a.595.595 0 0 1-.123.364c.066.527.206.913.428 1.171.067.013.142.02.228.02.318 0 .551-.306.648-.846l.023-.153.355-2.61c.139-.9.476-1.6.984-2.107.38-.38.844-.643 1.365-.796l.227-.059 1.722-.454a.41.41 0 0 1 .419.408c0 .36-.043.535-.252.792a.88.88 0 0 1-.292.206c-.14.07-.32.142-.534.216a11.174 11.174 0 0 1-.768.233c-.592.16-1.06.69-1.199 1.276.396-.427.887-.704 1.527-.866l.248-.055 1.603-.412c.256 0 .452.317.452.543 0 .258-.113.531-.286.745-.134.165-.396.313-.663.392l-.134.034-.672.143a2.516 2.516 0 0 0-.975.6c.306-.166.672-.259 1.116-.282l.229-.006h1.818c.23 0 .411.19.411.419a1.075 1.075 0 0 1-.958 1.071l-.122.007-1.154-.005c-.24 0-.47.176-.709.534-.198.299-.365.653-.63 1.296-.239.577-.565 1.066-1.001 1.434-.534.45-1.206.696-2.025.696a3.905 3.905 0 0 1-2.455-.884 3.2 3.2 0 0 1-.933-1.253 3.2 3.2 0 0 1-.933 1.253 3.905 3.905 0 0 1-2.456.884c-.819 0-1.49-.245-2.025-.696-.436-.368-.762-.857-1-1.434-.266-.643-.433-.997-.631-1.296-.208-.314-.412-.487-.62-.526l-.09-.008-1.152.005A1.078 1.078 0 0 1 0 11.703c0-.2.139-.37.328-.41l.083-.009H2.23c.55 0 .988.094 1.346.289a2.478 2.478 0 0 0-.793-.531l-.182-.07-.673-.143c-.31-.065-.64-.233-.797-.426a1.23 1.23 0 0 1-.285-.745c0-.201.154-.474.369-.532l.082-.011 1.604.412c.763.15 1.329.441 1.774.92-.14-.586-.607-1.115-1.2-1.275a12.39 12.39 0 0 1-.767-.233 4.554 4.554 0 0 1-.534-.216.88.88 0 0 1-.292-.206c-.209-.257-.252-.433-.252-.792 0-.19.135-.36.331-.4l.088-.008 1.722.454c.613.14 1.158.42 1.593.855.456.456.775 1.068.936 1.842l.047.264.356 2.611c.077.635.323.998.67.998.086 0 .161-.006.228-.019.222-.258.362-.644.428-1.171a.594.594 0 0 1-.115-.263l-.008-.1v-.857a1.144 1.144 0 0 1-.763-1.077c0-.277.1-.532.266-.73a1.642 1.642 0 0 1-.651-1.183l-.008-.164V6.361a3.24 3.24 0 0 1 3.236-3.236zm-2.183 7.224a.696.696 0 0 0-.218.505.701.701 0 1 0 1.343-.282 14.892 14.892 0 0 1-.306-.056 2.223 2.223 0 0 1-.82-.167zm4.307.025a2.244 2.244 0 0 1-.756.142c-.133.026-.267.05-.4.072a.701.701 0 1 0 1.35.267.696.696 0 0 0-.194-.48zm-.509.193a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577zm-3.336-.001a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577z"})),f=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M18.659 4.98a9.957 9.957 0 0 0-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341a9.956 9.956 0 0 0-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091a.51.51 0 0 0 .17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051a3.82 3.82 0 0 1-.723.046 5.506 5.506 0 0 1-.904-.091 2.022 2.022 0 0 1-.873-.39 1.652 1.652 0 0 1-.573-.801l-.13-.3a3.254 3.254 0 0 0-.41-.664c-.187-.243-.375-.408-.566-.495l-.091-.065a.956.956 0 0 1-.17-.156.714.714 0 0 1-.117-.183c-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065a2.59 2.59 0 0 0 .586-.195c.078-.582.29-1.029.638-1.341a8.915 8.915 0 0 1-1.335-.235 5.314 5.314 0 0 1-1.224-.508A3.505 3.505 0 0 1 4.57 12.8c-.278-.347-.506-.803-.684-1.367-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351a9.245 9.245 0 0 1 2.5-.338c.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367a3.64 3.64 0 0 1-1.054.866c-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"})),g=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M17.717.943l.002.031v18.02A1.006 1.006 0 0 1 16.67 20l-13.422-.603a1.006 1.006 0 0 1-.96-.967l-.62-16.508A1.006 1.006 0 0 1 2.61.88L13.614.19l-.094 2.267a.15.15 0 0 0 .013.067l.018.03a.15.15 0 0 0 .167.052l.043-.023.88-.668.744.586a.15.15 0 0 0 .237-.075l.006-.048L15.546.07 16.65.002a1.006 1.006 0 0 1 1.066.94zm-7.721 2.46c-2.618 0-4.084 1.422-4.084 3.554 0 3.715 5.012 3.786 5.012 5.812 0 .568-.278.906-.89.906-.8 0-1.115-.408-1.078-1.794 0-.3-3.044-.394-3.137 0-.236 3.36 1.856 4.328 4.251 4.328 2.32 0 4.14-1.237 4.14-3.476 0-3.98-5.087-3.874-5.087-5.847 0-.8.595-.906.947-.906.372 0 1.04.065.984 1.558 0 .391 2.635.204 2.99-.07 0-2.665-1.43-4.065-4.048-4.065z"})),m=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M19.91 11.374L18.866 8.16a.454.454 0 00-.026-.086l-2.098-6.46a.834.834 0 00-.796-.568.82.82 0 00-.787.573l-2 6.155H6.845L4.842 1.62a.82.82 0 00-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684a.47.47 0 00.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95a.254.254 0 01-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429a.254.254 0 01-.09.284z"})),b=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M.649 1a.64.64 0 00-.64.745l2.72 16.51a.872.872 0 00.853.73H16.63a.642.642 0 00.641-.537l2.72-16.699a.64.64 0 00-.528-.733c-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"})),S=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})))},function(e,t,n){"use strict";n.r(t);var i=n(1538);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(416),a=n(775),r=n(400),s=n(1206),l=n(511);n(1539);class c extends i.Component{constructor(e){super(e),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}focusTextInput(){const{textInput:e}=this.nodeRefs;e.focus()}handleDocumentKeyDown(e){e.stopPropagation(),e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onHide()}handleAddWorkspacePath(e){const t=this.nodeRefs.textInput.value;t?this.props.onAdd(t):e.preventDefault()}handleInputChange(e){const t=e.target.value.split(/\u25B8/g).map(e=>e.replace(/[^\x20-\x7E]/g,"").trim()).join("/");this.nodeRefs.textInput.value=t}componentDidMount(){const{workspace:e}=this.props;this.nodeRefs.textInput.value=e||"",document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.focusTextInput()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{onHide:e,workspace:t}=this.props,n=t?"CHANGE":"SAVE";return i.h(l.default,null,i.h(a.default,{onClose:e},i.h("div",{class:"localWorkspaceDialog"},i.h("div",{class:"dialogContent"},i.h("p",null,(t?"Change":"Enter")+" local path for repository"),i.h(s.default,{inputRef:Object(o.default)(this,"textInput"),class:"localWorkspacePath",placeholder:"e.g. /Users/zo/Developer/project/",onInput:this.handleInputChange})),i.h("div",{class:"footer"},i.h(r.default,{class:"negative",onClick:e},"CANCEL"),i.h(r.default,{class:"positive",onClick:this.handleAddWorkspacePath},n)))))}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1542);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1536),a=n(245),r=n(416),s=n(395),l=n(511),c=n(1012);n(1540);const d={"Visual Studio Code":o.vsCodeIcon,"Visual Studio Code - Insiders":o.vsCodeInsidersIcon,Atom:o.atomIcon,"Sublime Text":o.sublimeIcon,"Android Studio":o.androidStudioIcon,"IntelliJ IDEA":o.ideaIcon,WebStorm:o.webStormIcon},u={name:"Default Editor",value:"defaultEditor"};class p extends i.Component{constructor(e){super(e),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleMenuItemClick=this.handleMenuItemClick.bind(this),this.state={showMenu:!1}}selectedEditorAvailable(){const{selectedEditor:e,editorList:t}=this.props;return t.findIndex(t=>t.exePath===e.exePath)>-1}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,o=t.left-n.width;let a,r;r=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,a=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${a}px, ${r}px, 0)`}handleOptionsClick(){this.context.disableScroll(),this.setState({showMenu:!0})}handleCloseMenu(){this.context.enableScroll(),this.setState({showMenu:!1})}handleMenuItemClick(e,t){if("editors"===e){const{editorList:e,selectedEditor:n,onEditorChange:i,fileExtension:o}=this.props,a=e.find(e=>e.exePath===t);return void(n&&!a?i(o,null):(!n&&a||n&&a.name!==n.name)&&i(o,a))}const{onSelectWorkspace:n}=this.props;n()}handleOpen(){const{selectedEditor:e,filePath:t,onOpenFileInEditor:n}=this.props;n(t,e)}render(){const{editorList:e,selectedEditor:t,workspacePath:n,disabled:p}=this.props,{showMenu:h}=this.state,f=[u];e&&e.forEach(e=>{f.push({name:e.name,value:e.exePath})});const g=[i.h(c.default.Button,{key:"openInEditorSelectButton"},n?"Change":"Select"," Folder in File Explorer")];return e&&e.length>0&&g.push(i.h(c.default.Picker,{key:"openInEditorPicker",name:"editors",content:"Editors",submenu:!0,value:t&&this.selectedEditorAvailable()&&t.exePath||u.value,options:f})),i.h("div",null,i.h("div",{class:Object(s.default)("openInButtonWrapper",{disabled:p})},i.h("button",{class:"openInButton noSelect",onClick:p?a.preventDefault:this.handleOpen},t?d[t.name]:o.defaultEditorIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in "+(t?t.name:"default editor"))),i.h("button",{onClick:p?a.preventDefault:this.handleOptionsClick,ref:Object(r.default)(this,"target")},o.optionsIcon)),h&&i.h(l.default,{didRender:this.handlePortalDidRender},i.h(c.default,{class:"openInEditorMenu",onChange:this.handleMenuItemClick,onClose:this.handleCloseMenu},g)))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1544);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(227);n(1545);t.default=function(e){const{onReload:t}=e;return i.h("div",{class:"devModeHintBox"},i.h("span",{class:"hintAunt"},"👷‍♀️"),i.h("div",{class:"devModeHintContent"},i.h("p",{class:"devModeHint"},`Local configuration enabled -- this is only visible to you, use shortcut ${Object(a.getDevModeShortcut)()} to disable it.`),i.h(o.default,{class:"devModeReload",onClick:t},"Reload")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1547);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(1548)),s=i(n(543));var l;n(1549),function(e){e.DEFAULT="default",e.HOVER="hover",e.PRESSED="pressed",e.DISABLED="disabled"}(l||(l={}));const c=[l.DEFAULT,l.HOVER,l.PRESSED,l.DISABLED];t.default=function({onHideClick:e,onActionClick:t}){const[n,i]=a.useState(0);a.useEffect(()=>{const e=setTimeout(()=>{i((n+1)%c.length)},1e3);return()=>clearTimeout(e)},[n]);const d=c[n];return o.h(r.default,{class:"variantsHintBox",onActionClick:t,actionContent:"Learn more",onHideClick:e,hideButtonText:"OK, hide it!"},"You can now see different variants of the components by clicking on V.",o.h("div",{class:"variantsHintBoxBody"},o.h("div",{class:"variantsImageWrapper"},o.h(s.default,{style:{visibility:d===l.DEFAULT?"visible":"hidden"},asset:"/img/variants-onboarding/default.png"}),o.h(s.default,{style:{visibility:d===l.HOVER?"visible":"hidden"},asset:"/img/variants-onboarding/hover.png"}),o.h(s.default,{style:{visibility:d===l.PRESSED?"visible":"hidden"},asset:"/img/variants-onboarding/pressed.png"}),o.h(s.default,{style:{visibility:d===l.DISABLED?"visible":"hidden"},asset:"/img/variants-onboarding/disabled.png"}))))}},function(e,t,n){"use strict";n.r(t);var i=n(565);n.d(t,"default",(function(){return i.default}))},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1551);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(753)),r=i(n(543)),s=i(n(1552)),l=i(n(261));n(1555),t.default=function({componentId:e,onClose:t},{barrelType:n,barrelId:i,hasConnectedComponent:c}){return o.h(a.default,{positiveButtonText:"DONE",onClose:t,width:720},o.h("div",{class:"connectedComponentsOnboardingDialog"},o.h("h4",{class:"dialogHeader"},"Connected components"),o.h("p",{class:"introText"},"By connecting your components, you can access components in your codebase right on the designs, with links to Storybook, GitHub and any other source of documentation."),o.h("div",{class:"dialogBody"},o.h("div",{class:"description"},o.h("p",null,"Make your components visible within designs, promoting reusability. Access a summary of your component with:"),o.h("br",null),o.h("ul",null,o.h("li",null,"• Documentation"),o.h("li",null,"• Bite-sized code snippet describing how to initiate it"),o.h("li",null,"• Links to Storybook, GitHub and so on")),o.h("br",null),o.h("p",null,"Explore the"," ",o.h("a",{href:"https://zpl.io/connected-components",target:"_blank"},"documentation")," ","to learn more.")),o.h(r.default,{asset:"img/coco-onboarding.png",alt:"CoCo onboarding",title:"CoCo onboarding"})),!c&&o.h("p",null,"Get started within minutes by connecting this component!"),c?o.h("p",{class:"connectCommandText"},"Run the npm command below in your repository to connect this component:"):o.h("p",{class:"connectCommandText"},"Run the npm command below in your repository:"),o.h(s.default,{copyActionText:"Click to copy the command.",copyDoneText:"Command copied to clipboard.",lines:[`npx @zeplin/cli connect ${c?"add-components":"initialize"} \\`,`    --${n===l.default.PROJECT?"project-id":"styleguide-id"} ${i} \\`,"    --component-id "+e]})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1553);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(395)),s=n(244);n(1554),t.default=function({copyActionText:e,copyDoneText:t,lines:n}){const[i,l]=a.useState(!1);return a.useEffect(()=>{l(!1)},[JSON.stringify(n)]),o.h("button",{onClick:function(){s.copyContent({content:n.join("\n")}),l(!0)},class:r.default("copyContents",{copied:i})},o.h("p",null,i?t:e),o.h("strong",null,n.map((e,t)=>o.h("span",{key:t},e))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1557);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(376)),s=i(n(543));n(1558),t.default=function(){return a.useEffect(()=>{r.default.highlightedConnectToCodeButtonViewed()},[]),o.h("div",{class:"highlightedConnectToCodeButtonDescription"},o.h(s.default,{class:"connectToCodeArrow",asset:"img/icConnectToCodeHighlightArrow.png"}),o.h("div",{class:"connectToCodeDescriptionText"},"👀 We simplified the Connected Components experience, you can now get it running within minutes."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1561);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(1481),r=n(438),s=n(395),l=n(244),c=n(245);n(1562);const d=/\u2028/g,u=Object(l.canCopy)();function p(e){return e.replace(d,"\n")}class h extends i.Component{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleContentCopy=this.handleContentCopy.bind(this),this.handleContentFocus=this.handleContentFocus.bind(this)}handleContentCopy(e){e.preventDefault();const{content:t}=this.props;e.clipboardData.setData("text/plain",p(t))}handleContentFocus(e){const{onCopyClick:t,content:n}=this.props;t(p(n)),setTimeout(l.selectContent,40,e.target)}handleCopyClick(){const{onCopyClick:e,content:t}=this.props;e(p(t))}renderContent(){const{content:e,textStyles:t,hovered:n}=this.props,o=p(e);if(!t.length)return o;const a=[];let r=0;return t.forEach(({range:e,group:t})=>{const l=Object(c.escapeHTML)(o.substring(e.start,e.end));if(e.start>r)a.push(Object(c.escapeHTML)(o.substring(r,e.start)));else if(e.start<r)return;a.push(i.h("span",{class:Object(s.default)({hovered:n===t}),"data-color-group":t},l)),r=e.end}),a.push(Object(c.escapeHTML)(o.substring(r,o.length))),a}renderTitle(){return i.h("div",{class:"contentTitle"},"Content",u&&i.h(o.default,{class:"contentCopyButton",onClick:this.handleCopyClick},i.h(r.IconCopy,null)))}render(){const{class:e,showSeparator:t}=this.props;return i.h(a.default,{class:Object(s.default)("contentSection",e),title:this.renderTitle(),showSeparator:t},i.h("p",{class:"layerContent",onCopy:this.handleContentCopy,onFocus:this.handleContentFocus,tabIndex:"1"},this.renderContent()))}}t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1564);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1481),a=n(565),r=n(1522),s=n(438),l=n(395);n(1565);function c({name:e,url:t}){return i.h("div",{class:"linkProperty"},i.h("a",{class:"ellipsis screenLink",href:t,"data-link-type":"inApp"},e),t&&i.h("a",{class:"screenLinkIcon",href:t,"data-link-type":"inApp"},i.h(s.IconScreenLink,null)))}t.default=function(e){const{class:t,showSeparator:n,flowLink:s,layer:{rect:d,opacity:u,borderRadius:p,rotation:h,blendMode:f},flowLinkInfoDismissed:g,onHideFlowInfoClick:m}=e;return i.h(o.default,{class:Object(l.default)("infoSection",t),showSeparator:n},i.h(r.default.Group,null,i.h(r.default,{name:"X"},d.x),i.h(r.default,{name:"Y"},d.y)),i.h(r.default.Group,null,i.h(r.default,{name:"Width"},d.width),i.h(r.default,{name:"Height"},d.height)),p&&i.h(r.default,{name:"Radius"},p),u&&i.h(r.default,{name:"Opacity"},u),h&&i.h(r.default,{name:"Rotation"},h+"°"),f&&i.h(r.default,{name:"Blend Mode"},f),s&&s.url&&i.h(i.Fragment,null,i.h(r.default,{name:"Linked to"},i.h(c,{name:s.name,url:s.url})),!g&&i.h(a.default,{class:"flowInfo",onHideClick:m},"This area is linked to another screen. To quickly view links and navigate to linked screens, hold down ",i.h("strong",null,"Shift"),".")))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1567);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1568),a=n(1481);n(1569);class r extends i.Component{constructor(e){super(e),this.handleHoverChange=this.handleHoverChange.bind(this),this.handleHoverChangeByGroup={}}handleHoverChange(e,t){t?this.props.onHoverChange(e):this.props.onHoverChange(null)}render(){const{showSeparator:e,typefaces:t,onAddTextStyleClick:n,onRemoveTextStyleClick:r,onTextStyleNameChange:s,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}=this.props;return i.h("div",null,function(e){const t={};return e.sort(({range:{start:e}},{range:{start:t}})=>e-t).filter(({group:e})=>!t[e]&&(t[e]=!0,!0))}(t).map(({textStyle:t,group:u,content:p})=>{const h="default"===u;return this.handleHoverChangeByGroup[u]||(this.handleHoverChangeByGroup[u]=this.handleHoverChange.bind(this,u)),i.h(a.default,{class:"typefaceSection",showSeparator:e,key:u},i.h(o.default,{textStyle:t,colorGroup:!h&&u,snippet:p,onHoverChange:h?null:this.handleHoverChangeByGroup[u],onAddClick:n,onRemoveClick:r,onNameChange:s,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}))}))}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(242),a=n(301),r=n(395),s=n(1132),l=n(1522),c=n(1493),d=n(1206),u=n(1487),p=n(931),h=n.n(p),f=n(438),g=n(261),m=n.n(g);n(1569);class b extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.state={hover:!1}}handleAddClick(){const{textStyle:{value:e},onAddClick:t}=this.props;t(e)}handleNameChange(e){const{textStyle:{id:t,name:n},onNameChange:i}=this.props,{value:o}=e.target;o?n!==o&&i(t,o):e.target.value=n}handleRemoveClick(){this.props.onRemoveClick(this.props.textStyle.id)}renderFontVariationSettings(){const{textStyle:{fontVariationSettings:e}}=this.props;return e?Object(s.enumerateFontVariationSettings)(e).map(([e,t])=>i.h(l.default,{key:e,name:s.REGISTERED_AXES[e],abbr:e},Object(a.round)(t,2))):null}render(){const{class:e,colorGroup:t,snippet:n,textStyle:{styleguideId:a,styleguideName:s,isMember:p,isOrganizationBarrel:h,id:g,added:b,name:S,color:y,fontFace:C,fontSize:v,letterSpacing:O,lineHeight:E,textAlign:T},hover:_,onColorAddClick:P,onColorRemoveClick:j,onColorNameChange:D}=this.props,{barrelType:k,barrelId:I,permissions:{canManageTextStyles:R}}=this.context,A=t?i.h("div",{class:"typefaceHeader","data-color-group":t},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface "),i.h("span",null,n),i.h("span",null,"”")),t&&i.h("div",{class:"colorGroup"})):i.h("div",{class:"typefaceHeader"},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface"))),w=!R||b&&a!==I,N=i.h(c.default,{onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,resourceAdded:b,isMember:p,isOrganizationBarrel:h,styleguideId:a,styleguideName:s,canManageResource:R,type:c.default.TYPE.TEXT_STYLE,disabled:w}),L=k===m.a.STYLEGUIDE?"styleguide":"project-styleguide",x=Object(o.urlResolve)(L+"-textstyles",{url:{bid:I},query:{tsid:g}});return i.h("div",{class:Object(r.default)("typeface",e,{hover:_})},A,b?[i.h("div",{key:"textStyleName-"+g,class:"textStyleName"},i.h(d.default,{class:"textStyleNameInput",value:S,blurOnEnter:!0,disabled:w,onBlur:this.handleNameChange,ellipsized:!0}),i.h("div",{class:"buttonSpacer"},N),i.h("a",{href:x,class:"goToResource","data-link-type":"inApp"},i.h(f.IconGoTo,{width:"18",height:"18"}))),i.h("div",{key:"layerFontFace-"+g,class:"layerFontFace"},i.h("span",{class:"ellipsis"},C))]:i.h("div",{class:"layerFontFace"},i.h("span",{class:"ellipsis"},C),i.h("div",{class:"buttonSpacer"},N)),i.h(l.default.Group,null,i.h(l.default,{name:"Size"},v),void 0!==T&&i.h(l.default,{name:"Align"},T)),this.renderFontVariationSettings(),void 0!==E&&i.h(l.default,{name:"Line Height"},E),void 0!==O&&i.h(l.default,{name:"Letter Spacing"},O),y&&i.h(u.default,{color:y,initialHover:_,onNameChange:D,onAddClick:P,onRemoveClick:j}))}}const S=h()(b);t.default=S},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1571);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(511),a=n(1489),r=n(931),s=n.n(r);n(1572);const l=s()((function(e){const{color:{id:t,name:n,added:o,colorString:r,opacity:s,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},canManageColors:p,onNameChange:h,onAddClick:f,onRemoveClick:g,hover:m}=e;return i.h("div",{class:"gradientColor"},i.h(a.default,{class:"gradientColorInfo",added:o,hover:m,id:t,name:n,colorString:r,opacity:s,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:p,editable:o&&p,onAddClick:f,onRemoveClick:g,onNameChange:h}))}));class c extends i.Component{constructor(e){super(e),this.handleColorStopMouseEnter=this.handleColorStopMouseEnter.bind(this),this.handleColorStopMouseLeave=this.handleColorStopMouseLeave.bind(this),this.state={colorStop:null}}handleColorStopMouseEnter(e){const t=e.target.closest(".colorStop"),{top:n,left:i}=t.getBoundingClientRect();this.setState({activeColorStop:{value:t.dataset.pos,x:`calc(${Math.trunc(i-4)}px - 100%)`,y:Math.trunc(n-5)+"px"}})}handleColorStopMouseLeave(){this.setState({activeColorStop:null})}render(){const{gradient:{colorStops:e,gradientStyle:t},onColorAddClick:n,onColorRemoveClick:a,onColorNameChange:r}=this.props,{activeColorStop:s}=this.state,{permissions:{canManageColors:c}}=this.context;return i.h("div",{class:"layerGradient"},i.h("div",{class:"gradientPreview",style:{backgroundImage:t}},e.map(({color:{colorStyle:e},position:t},n)=>{const o=t>0&&t<1,a={top:Math.trunc(100*t)+"%",color:e};return i.h("div",{class:"colorStop",key:n,style:a,"data-pos":t,onMouseEnter:o?this.handleColorStopMouseEnter:null,onMouseLeave:o?this.handleColorStopMouseLeave:null})})),i.h("div",{class:"gradientColors"},e.map(({color:e},t)=>{const{id:o,value:s}=e;return i.h(l,{key:t,color:e,canManageColors:c,onNameChange:function(e){r(o,e)},onAddClick:function(){n(s)},onRemoveClick:function(){a(o)}})})),s&&i.h(o.default,null,i.h("div",{class:"colorStopPosition",style:{transform:`translate3d(${s.x}, ${s.y}, 0`}},s.value)))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1574);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1487),a=n(1570);n(1575);t.default=function(e){const{border:{color:t,gradient:n,position:r,thickness:s},disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}=e;return i.h("div",{class:"layerBorder"},i.h("div",{class:"borderInfo"},r,", ",s),t?i.h(o.default,{color:t,disabled:l,onAddClick:c,onRemoveClick:d,onNameChange:u}):i.h(a.default,{gradient:n,disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1577);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1487),a=n(1522);n(1578);t.default=function(e){const{shadow:{blurRadius:t,color:n,offsetX:r,offsetY:s,spread:l,type:c},disabled:d,onColorRemoveClick:u,onColorAddClick:p,onColorNameChange:h}=e;return i.h("div",{class:"layerShadow"},i.h("div",{class:"shadowType"},c),i.h(a.default.Group,null,i.h(a.default,{name:"X"},r),i.h(a.default,{name:"Y"},s)),i.h(a.default.Group,null,i.h(a.default,{name:"Blur"},t),i.h(a.default,{name:"Spread"},l)),i.h(o.default,{color:n,disabled:d,onAddClick:p,onRemoveClick:u,onNameChange:h}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1580);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1581);t.default=function(e){const{blur:{radius:t,type:n}}=e;return i.h("div",{class:"layerBlur"},i.h("div",{class:"blurInfo"},n,", ",t))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1583);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1481),a=n(438);n(1584);t.default=function({styleName:e,showSeparator:t}){return i.h(o.default,{title:"Style",showSeparator:t},i.h("div",{class:"layerStyle"},i.h("div",{className:"layerStyleIconWrapper"},i.h(a.IconLayerStyle,{width:23,height:25})),i.h("span",null,e)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1586);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(438);n(1587);t.default=function(){return i.h("div",{class:"noComponent"},i.h("span",{class:"description ellipsis"},"Not a part of a component yet."),i.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},i.h(o.IconInfo,{width:"21",height:"21"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1590),a=n(1607);class r extends i.Component{constructor(e){super(e),this.generateLayerCode=this.generateLayerCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateLayerCode(e,t){const{layer:n,version:i}=this.props;return e.layer(t,n,i).then(e=>a.CodeSnippet.fromUnknown(e,"layer"))}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(o.ExtensionCode,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{layer:e}=this.props;return i.h(o.default,{id:e.id,generateCode:this.generateLayerCode,render:this.renderExtensionCode})}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1591);n.d(t,"default",(function(){return i.default}));var o=n(1593);n.d(t,"ExtensionCode",(function(){return o.default}));var a=n(1601);n.d(t,"ResizableExtensionCode",(function(){return a.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(245),s=n(506),l=n(292),c=n(361),d=n(269),u=n.n(d),p=n(505),h=n.n(p);n(1592);class f extends i.Component{constructor(...e){var t,n,i;super(...e),i={snippets:{}},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}static calculateState(){const{extensions:e,enabledExtensions:t}=u.a.ExtensionsStore.getState(),{loading:n,barrelType:i,barrelId:o}=u.a.BarrelStore.getState();if(n)return{loading:n};const a=c.default.getBarrel({bid:o}),r=c.default.getStyleguidesData({barrelStore:u.a.BarrelStore,styleguidesDataStore:u.a.StyleguidesDataStore,projectsDataStore:u.a.ProjectsDataStore}),{styleguides:s}=u.a.StyleguidesDataStore.getState();return{loading:n,barrel:a,styleguidesData:r,styleguides:s,barrelType:i,extensions:e,enabledExtensions:t}}static getStores(){return[u.a.ExtensionsStore,u.a.BarrelStore,u.a.ProjectsDataStore,u.a.StyleguidesDataStore]}async generateCode(e,t){const{generateCode:n}=this.props;try{const i=await n(e,t);return{[e.id]:{snippets:i?[i]:[],title:e.name}}}catch(i){return null}}async generateCodeSnippets(){const{onGenerateCode:e}=this.props,{barrel:t,styleguidesData:n,styleguides:i,barrelType:o,extensions:a,enabledExtensions:r}=this.state,s=Object(l.transformBarrelToObject)(t,o,n,i),c=a.filter(e=>e.loaded&&r.includes(e.id));try{const t=(await Promise.all(c.map(e=>this.generateCode(e,s)))).filter(Boolean);if(e){e(t.some(e=>Object.keys(e).some(t=>e[t].snippets.length)))}this.setState({snippets:Object.assign({},...t)})}catch(d){}}componentDidMount(){this.generateCodeSnippets()}componentDidUpdate(e,t){const{extensions:n,enabledExtensions:i}=this.state;!Object(s.default)(e,this.props)&&Object(r.arrayEqual)(t.extensions,n,(e,t)=>e===t)&&Object(r.arrayEqual)(t.enabledExtensions,i,(e,t)=>e===t)||this.generateCodeSnippets()}render(){const{render:e}=this.props,{loading:t,snippets:n}=this.state;return t?null:e(n)}}f.propTypes={generateCode:a.a.func.isRequired,onGenerateCode:a.a.func,id:a.a.string,render:a.a.func.isRequired},t.default=h()(f,{pure:!1})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1594);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(244),r=n(1595);const s=Object(a.canCopy)();class l extends i.Component{shouldComponentUpdate(e,t){const n=Object.keys(this.props.snippets),i=Object.keys(e.snippets);return!(n.length===i.length&&!i.some(e=>!n.includes(e)))||i.some(t=>{const{snippets:n}=this.props.snippets[t],{snippets:i}=e.snippets[t];return n.length!==i.length||i.some((e,t)=>n[t].language!==e.language||n[t].code!==e.code)})}render(){const{snippets:e,onCopyClick:t,onSettingsClick:n,class:a}=this.props,l=Object.keys(e).map(o=>{const{snippets:a,title:l}=e[o];return a.length?i.h(r.default,{class:"extensionCode",key:o,extensionId:o,copyEnabled:s,onCopyClick:t,onSettingsClick:n,snippets:a,title:l,asyncHighlight:!1}):null}).filter(Boolean);if(l.length)return i.h("div",{class:Object(o.default)("extensionCodePanel",a)},l)}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1596);n.d(t,"Gutter",(function(){return i.Gutter})),t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(550),a=n(395),r=n(1597);n.d(t,"Gutter",(function(){return r.default}));var s=n(400),l=n(1531),c=n(438);n(1600);class d extends o.default{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleSettingsClick=this.handleSettingsClick.bind(this),this.exportHandlers=new WeakMap}handleCopyClick(){const{extensionId:e,snippets:t,onCopyClick:n}=this.props;n(t.map(e=>e.code).join("\n\n"),e)}handleSettingsClick(e){e.stopPropagation();const{onSettingsClick:t,extensionId:n}=this.props;t(n)}bindExportHandler(e){let t=this.exportHandlers.get(e);return t||(t=()=>this.props.onExportClick(e.name),this.exportHandlers.set(e,t),t)}render(){const{asyncHighlight:e,class:t,copyEnabled:n,exportEnabled:o,snippets:d,title:u}=this.props,p=d.map(t=>i.h("div",{key:t.name,class:"snippet"},o&&t.exportable&&i.h(s.default,{class:"exportButton",onClick:this.bindExportHandler(t)},i.h(c.IconDownload,{color:"#C1BEC1"})),i.h(l.default,{lineIndicator:!0,lang:t.language,content:t.code,asyncHighlight:e})));return i.h("div",{class:Object(a.default)("codePanel",t)},i.h(r.default,null),i.h("div",{class:"title"},i.h("h3",null,u),n&&i.h(s.default,{class:"copyButton",onClick:this.handleCopyClick},i.h(c.IconCopy,{color:"#C1BEC1"})),i.h(s.default,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(c.IconSettings,{color:"#C1BEC1"}))),p)}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1598);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1599);t.default=function(){return i.h("div",{class:"codePanelGutter"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1602);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1593),a=n(1603),r=n(1595),s=n(395),l=n(416);n(1606);class c extends i.Component{constructor(e){super(e),this.handleResize=this.handleResize.bind(this)}handleResize(e){const{bottom:t}=this.nodeRefs.base.getBoundingClientRect(),n=Math.min(this.props.maxResizeHeight,Math.max(this.props.minResizeHeight,t-e));this.props.onResize(n)}render(){const{class:e,height:t,minHeight:n,maxHeight:c,onCopyClick:d,onSettingsClick:u,codeGap:p,snippets:h}=this.props;return Object.keys(h).some(e=>h[e].snippets.length)?i.h("div",{class:Object(s.default)("resizableExtensionCodePanel",e),ref:Object(l.default)(this,"base"),style:{height:t,minHeight:n,maxHeight:c}},i.h(a.default,{onResize:this.handleResize}),i.h(o.default,{onCopyClick:d,onSettingsClick:u,snippets:h}),i.h("div",{class:"availableSpace",style:{height:p}},i.h(r.Gutter,null))):null}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1604);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1595);n(1605);class a extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this)}handleResizerMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.preventDefault(),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMove(e){e.preventDefault(),this.props.onResize(e.clientY)}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}render(){return i.h("div",{class:"extensionCodeResizer",onMouseDown:this.handleResizerMouseDown},i.h(o.Gutter,null),i.h("div",{class:"resizerIcon"}))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeSnippet=void 0;class i{constructor(e,t,n){this.name=e,this.code=t,this.language=n}static fromUnknown(e,t){const n=function(e){if("string"==typeof e)return e;if(!e)return;const{code:t}=e;return"string"==typeof t?t:void 0}(e);if("string"==typeof n)return new i(t,n,function(e){if(!e)return;const{language:t}=e;return"string"==typeof t?t:void 0}(e))}}t.CodeSnippet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({component:e,ancestors:t}){const n=t.find(e=>!!e.variant);return{componentId:e._id,componentName:e.name,properties:n?(i=e.variant,o=n.variant,i&&o?i.values.map(({propertyId:e,value:t})=>{const n=o.properties.find(({_id:t})=>t===e);return n?{name:n.name,value:t}:null}).filter(Boolean):null):null};var i,o}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1611);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(505),a=n.n(o),r=n(376),s=n(361),l=n(337),c=n(382),d=n(367),u=n(269),p=n.n(u),h=n(1612),f=n(1625),g=n(1631),m=n(1637),b=n(245),S=n(242),y=n(249),C=n(246),v=n(231),O=n(1643);n(1644);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),T(this,"handleClick",e=>{const{id:t,selected:n,onChange:i}=this.props;e.target.checked&&e.target.checked!==n&&i(t)})}render(){const{id:e,selected:t,title:n}=this.props,o=`ic${Object(C.uppercaseFirst)(e)}Tab${t?"Selected":""}`;return i.h("label",{class:"noSelect",title:n},i.h("input",{type:"radio",name:"resourceTab",value:e,checked:t,onClick:this.handleClick}),i.h("img",{alt:n,src:Object(y.imageUrl)(`img/${o}.png`),srcset:Object(y.srcset)(Object(y.imageUrl)(`img/${o}.png`))}))}}class P extends i.Component{constructor(...e){super(...e),T(this,"handleDescriptionChange",e=>{const{screenId:t,screen:{description:n}}=this.state;e!==n&&c.default.updateDescription({sid:t,description:e,syncWithApi:!0})}),T(this,"handleManageTagsClick",()=>{const{screenId:e}=this.state;c.default.openTagManager(e)}),T(this,"handleDownloadAssetClick",(e,t)=>{const{screen:{name:n},version:i}=this.state,{screenContainerRef:o}=this.context;r.default.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:o(),source:"Assets tab"})}),T(this,"handleDownloadSelectedAssetClick",e=>{const{screen:{name:t},version:n}=this.state,{screenContainerRef:i}=this.context;r.default.downloadMultipleAsset({containerName:t,version:n,assetList:e,toastContainer:i(),source:"Assets tab"})}),T(this,"handleCopyScreenWebUrl",e=>{this.props.onCopy(e),mixpanel.master.track("Copied web link",{Target:this.state.latestVersionSelected?"Screen":"Version",Source:"Inspector"})}),T(this,"handleCopyScreenAppUri",e=>{this.props.onCopy(e),mixpanel.master.track("Copied app URI",{Target:this.state.latestVersionSelected?"Screen":"Version",Source:"Inspector"})})}static getStores(){return[p.a.BarrelStore,p.a.ScreenStore,p.a.DotsStore,p.a.ProjectsDataStore,p.a.StyleguidesDataStore,p.a.UserStore]}static calculateState(){const{loading:e,barrelId:t,assetDensityScalePrefs:n,assetNamingConvention:i,densityMismatchWarningHidden:o,sourceFileInfoHidden:a,showOptimizedSVG:r}=p.a.BarrelStore.getState();if(e)return{loading:!0};const{loadingSnapshot:l,screenId:c,loadingVersions:u,versionId:h,latestVersionSelected:f,selectedSidebarTab:g,layoutGridEnabled:m,sourceFiles:y}=p.a.ScreenStore.getState();if(u&&!f)return{loading:!0};const{statusFilter:C,colorFilter:O}=p.a.DotsStore.getState(),{type:E,densityScale:T}=s.default.getBarrel(),_=s.default.findUser(),P=s.default.isUserRestricted(),j=d.default.getScreen(),D=d.default.getSectionOfScreen(),k=d.default.getVersion({sid:c,vid:h}),{density:I,densityScale:R=Object(b.getDensityScale)(I)}=k.snapshot,A=R!==T&&!o,w=y[h],N=f?"":"&vid="+h;return{loading:!1,barrelUser:_,userRestricted:P,platform:E,assetDensityScalePrefs:n,assetNamingConvention:i,showDensityMismatchWarning:A,sourceFileInfoHidden:a,showOptimizedSVG:r,styleguidesData:s.default.getStyleguidesData({barrelStore:p.a.BarrelStore,styleguidesDataStore:p.a.StyleguidesDataStore,projectsDataStore:p.a.ProjectsDataStore}),loadingSnapshot:l,screenId:c,screen:j,section:D,latestVersionSelected:f,version:k,selectedTab:g,layoutGridEnabled:m,appUri:`${v.ZPL_PROTOCOL}//screen?pid=${t}&sid=${c}${N}`,webUrl:f?Object(S.urlResolve)("project-screen",{url:{pid:t,sid:c}}):Object(S.urlResolve)("project-screen-version",{url:{pid:t,sid:c,vid:h}}),sourceFile:w,noteStatusFilter:C,noteColorFilter:O}}renderTabs(){const{selectedTab:e}=this.state;return i.h("div",{class:"resourceTabs"},l.default.map(({id:t,title:n})=>i.h(_,{id:t,key:t,title:n,selected:e===t,onChange:c.default.changeSidebarTab})))}renderInfoTab(){const{formatter:e,onCopyCode:t,onRequestOrgInviteClick:n}=this.props,{loading:o,screenId:a,screen:s,section:l,latestVersionSelected:d,version:u,layoutGridEnabled:p,sourceFileInfoHidden:f,appUri:g,webUrl:m,sourceFile:b}=this.state;if(o||!s||!u)return null;const S=Object(O.transformInfo)(s,u);return i.h(h.default,E({latestVersionSelected:d,appUri:g,webUrl:m,formatter:e,layoutGridEnabled:p,sourceFileInfoHidden:f,screenId:a,sectionId:l&&l._id,onCopyCode:t,onCopyScreenWebUrl:this.handleCopyScreenWebUrl,onCopyScreenAppUri:this.handleCopyScreenAppUri,sourceFile:b,onGridToggleChange:c.default.toggleLayoutGrid,onDescriptionChange:this.handleDescriptionChange,onManageTagsClick:this.handleManageTagsClick,onSourceFileClick:c.default.openSourceFile,onSourceFolderClick:c.default.openSourceFolder,onRequestOrgInviteClick:n,onHideSourceFileInfoClick:r.default.hideSourceFileInfo},S))}renderColorsTab(){const{formatter:e,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:o,onRequestOrgInviteClick:a}=this.props,{loadingSnapshot:r,userRestricted:s,version:l,styleguidesData:c}=this.state,d=Object(O.transformColors)(l,e,c);return i.h(f.default,E({loading:r,restricted:s,onRequestOrgInviteClick:a,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:o},d))}renderAssetsTab(){const{formatter:e,onRequestOrgInviteClick:t}=this.props,{loadingSnapshot:n,userRestricted:o,platform:a,version:s,assetDensityScalePrefs:l,assetNamingConvention:c,showDensityMismatchWarning:d,showOptimizedSVG:u}=this.state,p=Object(O.transformAssets)(s,e,a);return i.h(g.default,E({restricted:o,formatter:e,showDensityMismatchWarning:d,assetDensityScalePrefs:l,namingConvention:c,showOptimizedSVG:u,loading:n,platform:a,onRequestOrgInviteClick:t,onHideDensityMismatchWarningClick:r.default.hideDensityMismatchWarning,onAssetDensityOptionChange:r.default.changeAssetDensityScalePref,onNamingConventionChange:r.default.changeAssetNamingConvention,onShowOptimizedSVGChange:r.default.toggleSVGOptimization,onDownloadClick:this.handleDownloadAssetClick,onDownloadSelectedClick:this.handleDownloadSelectedAssetClick},p))}renderNotesTab(){const{barrelUser:e,screen:t,noteStatusFilter:n,noteColorFilter:o}=this.state;return i.h(m.default,{dots:t.dots,statusFilter:n,colorFilter:o,barrelUser:e,onFilterChange:c.default.changeDotFilter,onNoteClick:c.default.selectDot,onAddNoteClick:c.default.enableNoteMode})}renderContent(){const{selectedTab:e}=this.state,t=l.default.reduce((e,t)=>(e[t.id]=t.id,e),{});switch(e){case t.colors:return this.renderColorsTab();case t.assets:return this.renderAssetsTab();case t.notes:return this.renderNotesTab();case t.info:default:return this.renderInfoTab()}}render(){return i.h("div",{class:"resourceView"},this.renderTabs(),i.h("div",{class:"resourceContent"},this.renderContent()))}}t.default=a()(P)},function(e,t,n){"use strict";n.r(t);var i=n(1613);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1614),a=n(400),r=n(1615),s=n(1306),l=n(739),c=n(606),d=n(565),u=n(1481),p=n(1618),h=n(1621),f=n(981),g=n(438),m=n(242),b=n(395),S=n(906),y=n(249),C=n(1271),v=n(227),O=n(1274);n(1624);class E extends i.Component{getGridData(){const{grid:{horizontal:e,vertical:t}}=this.props,n={};if(t){const{columnWidth:e,gutterWidth:i,guttersOnOutside:o,numberOfCols:a}=t,r=Math.min(230*e/(e+i),206);Object.assign(n,{vertical:!0,columnWidth:e,gutterWidth:i,vizColumnWidth:Math.floor(r),vizGutterWidth:Math.ceil(230-r),totalWidth:a*e+(a-!o)*i,numberOfCols:a})}if(e){const{rowHeight:t,gutterHeight:i}=e,o=Math.min(48*t/(t+i),32);Object.assign(n,{horizontal:!0,rowHeight:t,gutterHeight:i,vizRowHeight:Math.floor(o),vizGutterHeight:Math.ceil(48-o)})}return n}render(){const{formatter:e}=this.props,{vertical:t,columnWidth:n,gutterWidth:o,vizColumnWidth:a,vizGutterWidth:r,totalWidth:s,numberOfCols:l,horizontal:c,rowHeight:d,gutterHeight:u,vizRowHeight:p,vizGutterHeight:h}=this.getGridData();return i.h("div",{class:Object(b.default)("layoutGrid",{vertical:t,horizontal:c})},i.h("table",null,i.h("tr",null,i.h("td",{class:"gridColumnWidth"},e.length(n)),i.h("td",{class:"gridGutterWidth"},e.length(o)),i.h("td",null)),i.h("tr",null,i.h("td",{class:"gridColumn",style:{width:a+"px"}}),i.h("td",{class:"verticalGutter",style:{width:r+"px"}}),i.h("td",{class:"gridRowHeight",style:{height:p+"px"}},e.length(d))),i.h("tr",null,i.h("td",{class:"horizontalGutter"}),i.h("td",null),i.h("td",{class:"gridGutterHeight",style:{height:h+"px"}},e.length(u)))),i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},"Total width:"),i.h("span",{class:"value"},e.length(s))),i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},"# of columns:"),i.h("span",{class:"value"},l)))}}class T extends i.Component{constructor(e){super(e),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleSourceFileClick=this.handleSourceFileClick.bind(this),this.handleSourceFolderClick=this.handleSourceFolderClick.bind(this)}handleDescriptionSubmit(e){const{screenId:t,onDescriptionChange:n,description:i}=this.props;e!==i&&n(t,e)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}handleSourceFileClick(){const{sourceFile:e,onSourceFileClick:t}=this.props;e&&t(e.file)}handleSourceFolderClick(){const{sourceFile:e,onSourceFolderClick:t}=this.props;e&&t(e.file)}renderTags(){const{tags:e,onManageTagsClick:t}=this.props,{barrelId:n,barrelUser:{role:o},permissions:{canManageScreens:r}}=this.context,s=e.map(e=>{const t=Object(m.urlResolve)("project-dashboard",{url:{pid:n},query:{tag:[e]}});return i.h("a",{key:e,href:t,class:"tagLink","data-link-type":"inApp"},e)}),l=Object(v.getOS)()===v.OS.MAC?"⌥T":"Alt+T";return i.h("div",{class:"tags"},s,i.h(c.default,{content:r?"Manage tags":Object(S.default)(o,"organize screens using tags")},i.h(a.default,{class:"manageTagsButton",onClick:t,disabled:!r},i.h(g.IconGear,null),i.h("span",{class:"label"},"Manage"),i.h("span",{class:"shortcut"},l))))}renderLayoutGrid(){const{grid:e,formatter:t,layoutGridEnabled:n,onGridToggleChange:o}=this.props;if(!e)return null;const a=i.h("div",{class:"gridsTitle"},"Grids",i.h(l.default,{checked:n,onChange:o}));return i.h(u.default,{title:a,showSeparator:!0},i.h(E,{grid:e,formatter:t}))}renderSourceFile(){const{sourceFile:e,sourceFileInfoHidden:t,onHideSourceFileInfoClick:n}=this.props;if(!e)return null;const o=t?null:i.h(d.default,{class:"sourceFileHint",onHideClick:n},"This is only visible to you, to quickly jump to your design file.");return i.h(u.default,{title:"File",showSeparator:!0},i.h("div",{class:"sourceFileInfo"},i.h("div",{class:"sourceFileLocation"},i.h("div",{class:"sourceFileName ellipsis",title:e.name,onClick:this.handleSourceFileClick},e.name),i.h("div",{class:"sourceFilePath",title:e.dir,onClick:this.handleSourceFolderClick},e.pathParts.join(" ▸ "))),i.h(a.default,{class:"openFile",onClick:this.handleSourceFileClick},this.renderSourceFileIcons())),o)}renderSourceFileIcons(){const{source:e}=this.props;return"psd"===e?[i.h("img",{key:"ps",src:Object(y.imageUrl)("img/icFilePhotoshopNew.png"),srcset:Object(y.srcset)(Object(y.imageUrl)("img/icFilePhotoshopNew.png"))}),i.h("img",{key:"psPressed",src:Object(y.imageUrl)("img/icFilePhotoshopNewPressed.png"),srcset:Object(y.srcset)(Object(y.imageUrl)("img/icFilePhotoshopNewPressed.png"))})]:"xd"===e?[i.h("img",{key:"xd",src:Object(y.imageUrl)("img/icFileXD.png"),srcset:Object(y.srcset)(Object(y.imageUrl)("img/icFileXD.png"))}),i.h("img",{key:"xdPressed",src:Object(y.imageUrl)("img/icFileXDPressed.png"),srcset:Object(y.srcset)(Object(y.imageUrl)("img/icFileXDPressed.png"))})]:void 0}renderJiraAttachmentsWithSections(e){return e?i.h(u.default,{class:"jiraIntegrationContainer",showSeparator:!0},e):null}render(){const{authors:e,description:t,latestVersionSelected:n,showNoResourceInfo:a,appUri:l,webUrl:c,screen:d,screenId:g,sectionId:m,version:b,onCopyCode:S,onCopyScreenWebUrl:y,onCopyScreenAppUri:v,onDescriptionChange:E}=this.props,{permissions:{canManageScreens:T}}=this.context;return i.h(p.default,{class:"infoTab"},i.h(u.default,{showSeparator:a},e.map(({id:t,fullName:n,username:o,avatar:a={},versions:r,lastUpdated:s})=>i.h(h.default,{key:o,id:t,avatar:a,fullName:n,username:o,versionCount:r,authorCount:e.length,lastUpdated:s}))),i.h(f.default,{class:"jiraIntegration",wrappingFn:this.renderJiraAttachmentsWithSections,items:[{itemType:"screen",itemId:g,label:"Attached to "},{itemType:"section",itemId:m,label:"Section attached to "}]}),i.h(u.default,{title:"Share "+(n?"screen":"version"),showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(r.default,{webUrl:c,appUri:l,onCopyWebUrl:y,onCopyAppUri:v}))),i.h(u.default,{title:"Description",showSeparator:!0},i.h(s.default,{class:"descriptionInput",value:t,placeholder:T?"Got any notes?":"No description yet",readOnly:!T,submitOnBlur:!0,onSubmit:E,autoEdit:!0,formatter:C.formatTextArea,showEmojiAutoComplete:!0,maxLength:1024})),i.h(u.default,{title:"Tags",showSeparator:!0},this.renderTags()),this.renderLayoutGrid(),this.renderSourceFile(),i.h(o.default,{class:"codeSection",screen:d,version:b,onCopyClick:S,onSettingsClick:O.default.openSettings}))}}T.defaultProps={authors:[]},t.default=T},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1590),a=n(1607);class r extends i.Component{constructor(e){super(e),this.generateScreenCode=this.generateScreenCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateScreenCode(e,t){const{screen:n,version:i}=this.props;return e.screen(t,i,n).then(e=>a.CodeSnippet.fromUnknown(e,"screen"))}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(o.ExtensionCode,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{screen:e,version:t}=this.props;return t.snapshot.layers?i.h(o.default,{id:e._id,generateCode:this.generateScreenCode,render:this.renderExtensionCode}):null}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1616);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(244),a=n(960),r=n(400),s=n(606),l=n(438);n(1617);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){const{host:t,pathname:n}=new URL(e);return`${t}${n}`}function u(e){const t=window.getSelection().toString().trim();return t&&t!==e}class p extends i.Component{constructor(...e){super(...e),c(this,"state",{shortWebUrl:null}),c(this,"handleCopyAppUriClick",()=>{const{appUri:e,onCopyAppUri:t}=this.props;t(e)}),c(this,"handleCopyWebUrlClick",()=>{const{webUrl:e,onCopyWebUrl:t}=this.props;t(Object(a.getShortlink)(e))}),c(this,"handleCopyAppUri",e=>{u(this.props.appUri)||(e.preventDefault(),this.handleCopyAppUriClick(),Object(o.selectContent)(e.target))}),c(this,"handleCopyWebUrl",e=>{u(d(this.props.webUrl))||(e.preventDefault(),this.handleCopyWebUrlClick(),Object(o.selectContent)(e.target))})}async componentDidMount(){const e=await Object(a.fetchShortlink)(this.props.webUrl);this.setState({shortWebUrl:e})}async componentDidUpdate({webUrl:e}){const{webUrl:t}=this.props;if(e!==t){Object(a.hasShortlink)(t)||this.setState({shortWebUrl:null});const e=await Object(a.fetchShortlink)(t);this.setState({shortWebUrl:e})}}render(){const{shortWebUrl:e}=this.state,{appUri:t}=this.props;return i.h("div",{class:"shareView"},i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"Web:"),e?[i.h("span",{key:"webUrl",class:"link"},i.h(s.default,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyWebUrl,onFocus:this.handleCopyWebUrl,tabIndex:"1"},d(e)))),i.h("div",{key:"webUrlShareButtons",class:"shareButtons"},i.h(s.default,{targetClass:"shareButton",content:"Copy web link"},i.h(r.default,{onClick:this.handleCopyWebUrlClick},i.h(l.IconCopy,null))))]:i.h("span",{class:"fetching"},"Fetching…")),i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"App:"),i.h("span",{class:"link"},i.h(s.default,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyAppUri,onFocus:this.handleCopyAppUri,tabIndex:"1"},t))),i.h("div",{class:"shareButtons"},i.h(s.default,{targetClass:"shareButton",content:"Open in App"},i.h("a",{href:t},i.h(l.IconShare,null))),i.h(s.default,{targetClass:"shareButton",content:"Copy app URI"},i.h(r.default,{onClick:this.handleCopyAppUriClick},i.h(l.IconCopy,null))))))}}t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1619);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395);n(1620);t.default=function(e){const{class:t,children:n,afterContent:a,title:r,onClick:s}=e;return i.h("div",{class:Object(o.default)("resourceTab",t),onClick:s},r&&i.h("div",{class:"title"},i.h("h1",null,r)),i.h("div",{class:"tabContent"},n),a)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1622);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(519),a=n.n(o),r=n(599),s=n(602);n(1623);t.default=function(e){const{id:t,avatar:n,fullName:o,username:l,versionCount:c,authorCount:d,lastUpdated:u}=e,p=i.h(a.a,{class:"userImageFrame",src:n.src,srcset:n.srcset,size:28}),h=i.h("span",{class:"author ellipsis",title:o||l},o||l);return i.h("div",{class:"versionAuthor"},t?i.h(s.default,{userId:t},p):p,i.h("div",{class:"authorAndCount"},t?i.h(s.default,{class:"versionAuthorNameUserProfileCardPopoverContainer",userId:t,openToLeft:!1},h):h,(d>1||c>1)&&i.h("span",null,", ",c," version",c>1?"s":"")),i.h(r.default,{type:"time-ago",format:"micro",class:"date",datetime:u}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1626);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1481),a=n(1618),r=n(1487),s=n(1627),l=n(249);n(1630);class c extends i.Component{constructor(e){super(e),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}render(){const{backgroundColor:e,screenColors:t,loading:n,restricted:c,onAddColorClick:d,onRemoveColorClick:u,onColorNameChange:p}=this.props;let h;return n?h=i.h(o.default,null,i.h(s.default,null)):c?h=i.h(o.default,null,i.h("div",{class:"restricted"},i.h("h2",null,"Need Developer access?"),i.h("p",null,"Your organization role is Reviewer ",i.h("img",{src:Object(l.imageUrl)("img/icPawn.png"),srcSet:Object(l.srcset)(Object(l.imageUrl)("img/icPawn.png")),alt:"🧐",title:"🧐"}),", only Developers or higher can access technical specs."),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!"))):e||t.length?(h=[],e&&h.push(i.h(o.default,{title:"Background color"},i.h(r.default,{onAddClick:d,onRemoveClick:u,onNameChange:p,color:e}))),t.length>0&&h.push(i.h(o.default,{title:"Colors",showSeparator:h.length>0},t.map(e=>i.h(r.default,{key:e.colorStyle,onAddClick:d,onRemoveClick:u,onNameChange:p,color:e}))))):h=i.h(o.default,null,i.h("div",{class:"noColors"},i.h("h2",null,"No colors. ",i.h("img",{width:"24",height:"24",src:Object(l.imageUrl)("img/emjPalette.png"),srcset:Object(l.srcset)(Object(l.imageUrl)("img/emjPalette.png")),alt:"🎨",title:"🎨"})),i.h("p",null,"All the colors used in the screen will be listed here."),i.h("p",null,"Could this be a bitmap? ",i.h("a",{href:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},"Learn more")," about exporting designs."))),i.h(a.default,{class:"colorsTab",title:"Colors"},h)}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1628);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(416);n(1629);class r extends i.Component{constructor(e){super(e),this.handleOnePeriod=this.handleOnePeriod.bind(this)}handleOnePeriod(){this.iteration=(this.iteration+1)%this.flipPeriod,this.nodeRefs.base.classList.toggle("flip",0===this.iteration)}componentDidMount(){this.props.randomFlipLastShape&&(this.iteration=1,this.flipPeriod=Math.floor(5*Math.random())+1,this.intervalId=setInterval(this.handleOnePeriod,1260))}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId)}render(){const{shapes:e=[]}=this.props;return i.h("div",{ref:Object(a.default)(this,"base"),class:"tabLoading loadingShapes"},i.h("div",{class:Object(o.default)("loadingShape","yellow",e[0]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","lightOrange",e[1]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","orange",e[2]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","peach",e[3]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","green",e[4]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","turquoise",e[5]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","cornflowerBlue",e[6]||"circle")}))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1632);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1633),a=n(1618),r=n(1627),s=n(400),l=n(1507),c=n(1509),d=n(1511),u=n(1514),p=n(1519),h=n(1481),f=n(438),g=n(416),m=n(395),b=n(1477),S=n(244),y=n(227),C=n(234),v=n(249);n(1636);const O=Object(S.canDownload)();class E extends i.Component{constructor(e){super(e),this.createFormatSelectHandler=this.createFormatSelectHandler.bind(this),this.handleEntryClick=this.handleEntryClick.bind(this),this.handleDoubleClick=this.handleDoubleClick.bind(this)}handleDoubleClick(){this.props.onDblClick()}handleEntryClick(e){const{onClick:t}=this.props;e.stopPropagation(),t(e)}createFormatSelectHandler(e){const{onFormatChange:t}=this.props;return n=>{n.stopPropagation(),t(e)}}render(){const{name:e,size:t,formats:n,selectedFormat:o,light:a,previewImages:r}=this.props;return i.h("div",{class:Object(m.default)("assetEntry","noSelect",{selected:!!o}),onClick:this.handleEntryClick,onDblClick:this.handleDoubleClick},i.h(u.default,{class:"preview",light:a,images:r}),i.h("div",{class:"entryInfo"},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"size ellipsis"},t&&`${t.width} × ${t.height}`)),o&&i.h("div",null,Object.keys(n).sort(b.sortFormats).map(e=>i.h(s.default,{key:e,class:Object(m.default)("exportType",{selected:o===e}),onClick:this.createFormatSelectHandler(e)},e))))}}function T(e,t){return n=>t(e,n)}function _(e,t){return n=>t(e,n)}function P(e){return Object.keys(e).sort().join("&")}class j extends i.Component{constructor(e){super(e),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.clearAssetSelection=this.clearAssetSelection.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this),this.handleDownloadSelectedClick=this.handleDownloadSelectedClick.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleAssetClick=this.handleAssetClick.bind(this),this.handleAssetFormatChange=this.handleAssetFormatChange.bind(this),this.getPreferredFormatObjectForAsset=this.getPreferredFormatObjectForAsset.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.state={shiftPressed:!1,cmdPressed:!1,lastSelectedAssetIndex:0,assetFormatPreference:{},assetSelections:{}}}clearAssetSelection(){this.setState({assetSelections:{},lastSelectedAssetIndex:0})}getPreferredFormatObjectForAsset(e){const{assetFormatPreference:t}=this.state,n=t[P(e.formats)]||"png";return{[e.id]:n}}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleAssetClick(e,t){const{lastSelectedAssetIndex:n,assetSelections:i}=this.state,{assets:o}=this.props;if(t.shiftKey){const t=Math.min(n,e),a=Math.max(n,e),r=o.slice(t,a+1),s=function(e,t,n){const i=Object.assign({},e);for(let o=n-1;o>=0;o--){const e=t[o].id;if(!i[e])break;delete i[e]}for(let o=n;o<t.length;o++){const e=t[o].id;if(!i[e])break;delete i[e]}return i}(i,o,n),l=r.reduce((e,t)=>Object.assign(e,this.getPreferredFormatObjectForAsset(t)),s);return void this.setState(e=>({assetSelections:l}))}const a=this.getPreferredFormatObjectForAsset(o[e]);if(Object(y.cmdKey)(t)){const t=o[e].id;if(t in i){const e=Object.assign({},i);delete e[t],this.setState({assetSelections:Object.assign({},e)})}else this.setState({assetSelections:Object.assign({},i,a),lastSelectedAssetIndex:e})}else this.setState(t=>({assetSelections:a,lastSelectedAssetIndex:e}))}handleAssetFormatChange(e,t){const{assetSelections:n,assetFormatPreference:i}=this.state,{assets:o}=this.props,a=o[e],r=Object.assign({},n,{[a.id]:t});this.setState({assetSelections:r,assetFormatPreference:Object.assign({},i,{[P(a.formats)]:t})})}handleDocumentClick(e){this.nodeRefs&&this.nodeRefs.individualAssets&&!this.nodeRefs.individualAssets.contains(e.target)&&this.clearAssetSelection()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.clearAssetSelection()}handleDownloadSelectedClick(e){e.stopPropagation();const{onDownloadSelectedClick:t}=this.props,{assetSelections:n}=this.state,i=Object.keys(n).map(e=>({assetId:e,format:n[e]}));i.length&&t(i)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}createDownloadClickHandler(e,t){const{onDownloadClick:n}=this.props;return()=>{n(e,t)}}componentDidMount(){C.userPrefs.get("assetFormatPreference").then(e=>{e&&this.setState({assetFormatPreference:e})}),document.addEventListener("keydown",this.handleDocumentKeydown),document.addEventListener("click",this.handleDocumentClick)}componentDidUpdate(e,{assetSelections:t,assetFormatPreference:n}){const{assetSelections:i,assetFormatPreference:o}=this.state,a=Object.keys(t).length,r=Object.keys(i).length;n!==o&&function(e){C.userPrefs.set("assetFormatPreference",e)}(o),0===a&&r>0?document.body.classList.add("supportButtonHidden"):a>0&&0===r&&document.body.classList.remove("supportButtonHidden")}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown),document.removeEventListener("click",this.handleDocumentClick)}renderExportGroups(){const{assets:e,assetDensityScalePrefs:t,showOptimizedSVG:n}=this.props,o={};let a=!1;for(let i of e)Object.keys(i.formats).forEach(e=>{o[e]=(o[e]||[]).concat(i.formats[e].variants)}),i.formats.svg&&!i.formats.svg.diff&&(a=!0);return Object.keys(o).sort(b.sortFormats).map(e=>i.h(d.default,{key:e,format:e,variants:o[e],assetDensityScalePrefs:t,hideOptimization:"svg"===e&&(!n||a),onDownloadClick:this.createDownloadClickHandler("all",e)}))}renderIndividuals(){const{assets:e,namingConvention:t}=this.props,{assetSelections:n}=this.state;return e.map((e,o)=>{const a=this.getPreferredFormatObjectForAsset(e);return i.h(E,{key:e.id,name:Object(b.getExportName)(e,t),formats:e.formats,light:e.light,size:e.size,selectedFormat:n[e.id],previewImages:e.previewImages,onDblClick:this.createDownloadClickHandler(e.id,a[e.id]),onClick:T(o,this.handleAssetClick),onFormatChange:_(o,this.handleAssetFormatChange)})})}render(){const{assets:e,source:t="sketch",loading:n,restricted:d,showDensityMismatchWarning:u,assetDensityScalePrefs:b,namingConvention:S,showOptimizedSVG:y,platform:C,onHideDensityMismatchWarningClick:E,onAssetDensityOptionChange:T,onNamingConventionChange:_,onShowOptimizedSVGChange:P}=this.props,{assetSelections:j,settingsOpen:D}=this.state,k=i.h("div",{class:"assetsTitle"},"Assets",i.h(p.default,{open:D,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:T,onNamingConventionChange:_,onShowOptimizedSVGChange:P,projectType:C,settings:{assetDensityScalePrefs:b,namingConvention:S,showOptimizedSVG:y},target:i.h(s.default,{class:Object(m.default)("assetSettingsButton",{active:D}),onClick:this.showSettingsMenu},i.h(f.IconSettings,null))}));let I;return I=n?i.h(r.default,{shapes:["square","circle","triangleUp","circle","square","pentagon","triangleDown"],randomFlipLastShape:!0}):d?i.h(h.default,{class:"restricted"},i.h("h1",null,"Need Developer access?"),i.h("p",null,"Your organization role is Reviewer ",i.h("img",{src:Object(v.imageUrl)("img/icPawn.png"),srcSet:Object(v.srcset)(Object(v.imageUrl)("img/icPawn.png")),alt:"🧐",title:"🧐"}),", only Developers or higher can access technical specs."),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!")):e.length?[i.h(h.default,{class:"allAssets",key:"allAssets"},!O&&i.h(c.default,{class:"warningBox"}),u&&i.h(l.default,{class:"warningBox",onHideClick:E}),i.h("h2",{class:"title"},"Download all assets"),this.renderExportGroups()),i.h(h.default,{title:"Download individual assets",key:"individualAssets",showSeparator:!0},i.h("div",{class:"individualAssets",ref:Object(g.default)(this,"individualAssets")},this.renderIndividuals()),i.h("div",{class:"spacer"}))]:i.h(h.default,null,i.h(o.default,{source:t})),i.h(a.default,{onClick:this.handleDocumentClick,title:k,class:Object(m.default)("assetsTab",C),afterContent:Object.keys(j).length>0&&i.h(s.default,{class:"downloadSelected noSelect",onClick:this.handleDownloadSelectedClick},"Download selected assets")},I)}}t.default=j},function(e,t,n){"use strict";n.r(t);var i=n(1634);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(249);n(1635);t.default=function(e){return i.h("div",{class:"noScreenAssets"},i.h("h1",null,"Rock paper scissors",i.h("img",{src:o.imageUrl("img/emjAssetVictory.png"),srcset:o.srcset(o.imageUrl("img/emjAssetVictory.png")),alt:"✌",class:"victory"}),i.h("img",{src:o.imageUrl("img/emjScissors.png"),srcset:o.srcset(o.imageUrl("img/emjScissors.png")),alt:"✂",class:"scissors"})),function(e){switch(e){default:case"sketch":return i.h("div",{class:"info sketchFile"},i.h("p",null,i.h("strong",null,"Set layers as exportable or draw slices")," in Sketch and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icSketchSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icSketchMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icSketchMakeExportable.png")),class:"exportableAsset"}),i.h("p",null,"or"),i.h("img",{src:o.imageUrl("img/icSketchDrawSlices.svg"),class:"sliceAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/exporting-assets-in-zeplin-50b8b4a56b05",target:"_blank"},"here.")));case"psd":return i.h("div",{class:"info psdFile"},i.h("p",null,i.h("strong",null,"Mark layers as assets")," in Photoshop, from Zeplin’s panel and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icPhotoshopSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icPhotoshopMakeExportableNew.png"),srcset:o.srcset(o.imageUrl("img/icPhotoshopMakeExportableNew.png")),class:"exportableAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/photoshop-open-beta-now-3f8f502fc4de",target:"_blank"},"here.")));case"figma":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Set layers as exportable")," in Figma and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icFigmaSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icFigmaMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icFigmaMakeExportable.png")),class:"exportableAsset"}));case"xd":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Mark layers for export")," in Adobe XD from the layer list, Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icXDSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icXDMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icXDMakeExportable.png")),class:"exportableAsset"}))}}(e.source))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1638);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(509),r=n(1481),s=n(1618),l=n(543),c=n(1639),d=n(395),u=n(246),p=n(326),h=n(249),f=n(227);n(1642);const g=["open","mentioned","resolved"];function m({color:e,count:t,status:n}){return i.h("div",{class:"statusFilterLabel"},e&&i.h("div",{class:Object(d.default)("color",e)}),i.h("span",null,t>0?t:"No"," ",Object(u.uppercaseFirst)(n)))}class b extends i.Component{constructor(e){super(e),this.handleStatusChange=this.handleStatusChange.bind(this),this.colorClickHandlers=p.colorNames.map(e=>()=>{this.handleColorClick(e)})}handleColorClick(e){const{statusFilter:t,colorFilter:n,onFilterChange:i}=this.props;i(t,n===e?null:e)}handleStatusChange(e){const{statusFilter:t,colorFilter:n,onFilterChange:i}=this.props;t!==e&&i(e,n)}render(){const{statusFilter:e,colorFilter:t,dotCount:n}=this.props;return i.h(a.default,{top:22,onChange:this.handleStatusChange},g.map(o=>i.h(a.default.Item,{label:i.h(m,{color:t,count:n,status:o}),value:o,selected:e===o,key:o},i.h("span",{class:"noteStatusFilterItem"},Object(u.uppercaseFirst)(o)," notes"))),i.h("div",{class:"noteFilterSeperator"}),i.h("div",{class:"noteColorFilter"},p.colorNames.map((e,n)=>i.h("div",{key:e,class:Object(d.default)("noteColorFilterItem",e,{selected:e===t}),onClick:this.colorClickHandlers[n]}))))}}class S extends i.Component{renderShortcutImage(){return i.h("div",{class:"shortcuts"},Object(f.getOS)()===f.OS.MAC?i.h("img",{class:"dotMacShortcut",src:Object(h.imageUrl)("img/icDotMacShortcut.svg")}):i.h("img",{class:"dotWinShortcut",src:Object(h.imageUrl)("img/icDotWinShortcut.png"),srcset:Object(h.srcset)(Object(h.imageUrl)("img/icDotWinShortcut.png"))}))}renderEmptyState(){const{dots:e,statusFilter:t,onAddNoteClick:n}=this.props;return e.length?"open"===t?i.h("div",{class:"empty open"},i.h("h1",null,"No open notes"),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(f.getOS)()===f.OS.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(o.default,{class:"addFirstNoteButton",onClick:n},"Add Note")):"resolved"===t?i.h("div",{class:"empty resolved"},i.h("h1",null,"No resolved notes"),i.h("p",null,"Looks like things are going pretty hectic these days ",i.h("img",{src:Object(h.imageUrl)("img/emjSweatTears.png"),srcset:Object(h.srcset)(Object(h.imageUrl)("img/emjSweatTears.png"))})),i.h("p",null,"You can resolve notes from the first comment or by right clicking on a note.")):"mentioned"===t?i.h("div",{class:"empty mentioned"},i.h("h1",null,"No mentioned notes"),i.h("p",null,"Looks like you’re not mentioned in any notes. Relax and grab a coffee—or tea, if that’s what you’re into.")):void 0:i.h("div",{class:"empty noDots"},i.h("h1",null,"What a quiet team!",i.h("img",{src:Object(h.imageUrl)("img/icQuietMaymus.png"),srcset:Object(h.srcset)(Object(h.imageUrl)("img/icQuietMaymus.png"))})),i.h("p",null,"Looks like you didn’t add any notes yet. When you do, they’ll be listed here."),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(f.getOS)()===f.OS.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(o.default,{class:"addFirstNoteButton",onClick:n},"Add Note"))}renderTab(e,t){return i.h(s.default,{class:"notesTab",title:e},i.h(r.default,null,t))}render(){const{dots:e,statusFilter:t,colorFilter:n,barrelUser:o,onNoteClick:a,onFilterChange:r}=this.props;if(!e)return this.renderTab("Notes",i.h("div",{class:"loadingDots"},i.h(l.default,{asset:"img/icDotsLoading.png"}),i.h("div",null,"Loading notes…")));const s=e.filter(e=>Object(p.checkFilter)(e,t,n,o.user)),d=e.length?i.h("div",{class:"notesTitle"},"Notes",i.h(b,{dotCount:s.length,colorFilter:n,statusFilter:t,onFilterChange:r})):"Notes";let u;return s.length?(u=s.map(({_id:e,color:t,comments:n,name:o})=>i.h(c.default,{key:e,color:Object(p.getColorName)(t),id:e,comments:n,name:o,onNoteClick:a})),u.push(i.h("div",{class:"endingMark"},"~"))):u=this.renderEmptyState(),this.renderTab(d,u)}}t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(1640);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(519),a=n.n(o),r=n(599),s=n(395),l=n(416),c=n(244),d=n(255),u=n(609),p=n(611);n(1641);function h(e){const t=new Date(e.updated),n=new Date(e.created);return t-n>3e5?t:n}function f(e,t){if(e.length===t)return`${t} more ${t>1?"replies":"reply"}`;const n=e.slice(0,e.length-t);return t>0?`${n.join(", ")} and ${t} more also replied`:1===n.length?n[0]+" also replied":`${n.slice(0,-1).join(", ")} and ${n[n.length-1]} also replied`}const g=document.createElement("canvas").getContext("2d");function m(e){return g.measureText(e)}function b({content:e=""}){const t=[p.CustomRules.SPOTIFY,p.CustomRules.YOUTUBE,p.MarkdownRules.IMAGE,p.MarkdownRules.CHECKBOX,p.MarkdownRules.TABLE,p.MarkdownRules.HEADING];return i.h("div",{class:"content"},i.h(u.default,{disabledFeatures:t},e))}g.font="italic 12px Roboto";class S extends i.Component{constructor(e){super(e),this.hiddenAuthorCount=0,this.otherAuthorNames=[],this.handleClick=this.handleClick.bind(this)}adjustOtherAuthors(){const{comments:e}=this.props,{repliesSummary:t}=this.nodeRefs||{},n=this.otherAuthorNames.length;if(e.length<3||!t||!n)return;const i=t.offsetWidth;let o=f(this.otherAuthorNames,this.hiddenAuthorCount);for(;m(o).width>i&&this.hiddenAuthorCount<=n;)this.hiddenAuthorCount++,o=f(this.otherAuthorNames,this.hiddenAuthorCount);t.textContent=o}handleClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT||"a"===e.target.tagName.toLowerCase())return;const{id:t,comments:n,onNoteClick:i}=this.props;i({dotId:t,commentId:n.length>1?n[n.length-1]._id:null,source:"Notes tab"})}componentDidMount(){this.adjustOtherAuthors()}componentDidUpdate(){this.adjustOtherAuthors()}renderOtherReplies(){const{comments:e}=this.props,t=e.map(e=>e.author||{username:"Anonymous"}),[n]=t,o=t[e.length-1],r=new Set([n.username,o.username]),s=[];t.forEach(e=>{r.has(e.username)||(r.add(e.username),s.push(e))});const d=e.length-2,u=s.filter(e=>!!e._id).length;let p;return s.sort(({_id:e},{_id:t})=>e?t?0:-1:1),this.otherAuthorNames=s.map(e=>e.username),this.hiddenAuthorCount=s.length-u,p=u&&this.otherAuthorNames.length?f(this.otherAuthorNames,this.hiddenAuthorCount):d>1?d+" more replies":"1 more reply",i.h("div",{class:"otherReplies"},i.h("div",{class:"avatars"},s.map(e=>i.h(a.a,{class:"authorAvatar",src:Object(c.getUserAvatar)(e).src,size:16}))),i.h("div",{class:"summary",ref:Object(l.default)(this,"repliesSummary")},p))}render(){const{color:e,comments:t,name:n}=this.props,[o]=t;if(!o)return null;const l=t.length>1?t[t.length-1]:null,{author:u={username:"Anonymous"},note:p}=o,{author:f={username:"Anonymous"},note:g}=l||{};return i.h("div",{class:Object(s.default)("dotEntry",e),onClick:this.handleClick},i.h("div",{class:"comment"},i.h("h4",null,i.h("div",{class:"commentHeader"},i.h(a.a,{src:Object(c.getUserAvatar)(u).src,size:24}),i.h("div",{class:"author ellipsis"},Object(d.getUserDisplayName)(u)),i.h(r.default,{type:"time-ago",format:"micro",class:"time",datetime:h(o)})),i.h("div",{class:"number"},n)),i.h(b,{content:p})),t.length>2&&this.renderOtherReplies(),l&&i.h("div",{class:"comment"},i.h("h4",null,i.h("img",{class:"replyArrow",src:"/img/icDotReply.svg"}),i.h(a.a,{src:Object(c.getUserAvatar)(f).src,size:24}),i.h("div",{class:"author ellipsis"},f.username),i.h(r.default,{type:"time-ago",format:"micro",class:"time",datetime:h(l)})),i.h(b,{content:g})))}}t.default=S},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"transformInfo",(function(){return a})),n.d(t,"transformColors",(function(){return r})),n.d(t,"transformAssets",(function(){return s}));var i=n(250),o=n(1478);function a(e,t={}){const{description:n,tags:i=[],versions:a}=e,{snapshot:{grid:r,source:s}={}}=t;return{authors:Object(o.transformAuthors)(a),description:n,grid:r,source:s,tags:i,version:t,screen:e}}function r(e,t,n){const a=new Set,r={screenColors:[]};function s(e){const i=Object(o.transformColor)(e,t,n);a.has(i.colorStyle)||(r.screenColors.push(i),a.add(i.colorStyle))}const{snapshot:l}=e;return l.backgroundColor&&(r.backgroundColor=Object(o.transformColor)(new i.default(l.backgroundColor),t,n)),l.layers?(l.layers.forEach((function e(t){"group"===t.type&&(t.layers.forEach(e),"bottom"!==t.interactionLevel&&"top"!==t.interactionLevel)||("text"===t.type&&t.textStyles&&t.textStyles.forEach(e=>{e.style.color&&s(new i.default(e.style.color))}),t.fills.forEach(e=>{switch(e.fillType){default:case"color":s(new i.default(e.color));break;case"gradient":e.gradient.colorStops.forEach(e=>{s(new i.default(e.color))})}}))})),r):r}function s(e,t,n){const{snapshot:{assets:i,source:a}}=e;return{assets:i?i.map(e=>Object(o.transformAsset)(e,t,n)).filter(Boolean):[],source:a}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1648);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(261),a=n.n(o),r=n(245),s=n(242),l=n(383),c=n(1146),d=n(416),u=n(257),p=n(227),h=n(364),f=n(1649),g=n(1811),m=n(385),b=n(269),S=n.n(b),y=n(1660),C=n(376),v=n(361),O=n(362),E=n(505),T=n.n(E);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.Component{constructor(...e){super(...e),D(this,"handleBaseRef",e=>{Object(d.default)(this,"styleguide")(e),this.props.baseRef(e)}),D(this,"handleSectionNavigatorClick",(e,t)=>{const{barrel:{id:n}}=this.state,i=`${this.slugPrefix()}-${e.toLowerCase()}`;h.default.history.replace(Object(s.urlResolve)(i,{url:{bid:n},query:{seid:t}}))}),D(this,"handleStyleguideLink",e=>{const{barrel:t}=this.state;y.default.linkProjectToStyleguideRequest({project:t,styleguide:e,syncWithApi:!0})}),D(this,"handleStyleguideUnlink",e=>{const{barrel:{_id:t}}=this.state;y.default.unlinkProjectFromStyleguide({pid:t,styleguide:e,syncWithApi:!0})}),D(this,"handleExportClick",(e,t,n,i)=>{C.default.exportCode({resourceType:e,source:t,exportObjects:n,extensionId:i})}),D(this,"handleKeyDown",e=>{const{connectedComponentsDevModeEnabled:t}=this.state;Object(p.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(u.default)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.styleguide}),t?C.default.disableDevMode():C.default.enableDevMode())})}static calculateState(){const e=S.a.BarrelStore.getState(),{loading:t}=e,n=j(e,["loading"]);if(t)return{loading:!0};const{loadingJoin:i,organizationId:o,barrelType:a,showSlackReconnectionAuntie:r,linkingProjectToStyleguide:s,connectedComponentsDevModeEnabled:l}=n,c=v.default.getBarrel(),d=v.default.findUser(),{userId:u,paymentPlan:p}=S.a.UserStore.getState(),h=c.users.some(({user:e})=>e._id===u);if(c.partial||!h)return{loading:t,loadingJoin:i,barrel:c,isUserJoined:h};const f=S.a.StyleguideStore.getState(),{suggestedResourcesByBarrel:g}=S.a.VersionImportsStore.getState(),m=O.default.getOrganizationStyleguides(o),b=v.default.isUserRestricted(),y=v.default.getStyleguidesData({barrelStore:S.a.BarrelStore,styleguidesDataStore:S.a.StyleguidesDataStore,projectsDataStore:S.a.ProjectsDataStore}),C=y.some(({connectedComponents:e})=>e&&e.length>0);return P(P({loading:!1},f),{},{barrel:c,barrelUser:d,isUserJoined:h,suggestedResourcesByBarrel:g,userId:u,paymentPlan:p,currentOrganizationStyleguides:m,userRestricted:b,organizationId:o,barrelType:a,showSlackReconnectionAuntie:r,linkingProjectToStyleguide:s,connectedComponentsDevModeEnabled:l,styleguidesData:y,hasConnectedComponent:C})}static getStores(){return[S.a.StyleguideStore,S.a.VersionImportsStore,S.a.UserStore,S.a.BarrelStore,S.a.ProjectsDataStore,S.a.StyleguidesDataStore,S.a.OrganizationStore,S.a.UserStore]}slugPrefix(){const{barrelType:e}=this.state;return e===a.a.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e,userId:t,paymentPlan:n,organizationId:i,barrelType:o,barrel:a,barrelUser:s,isUserJoined:l,hasConnectedComponent:c,sortType:d}=this.state;if(e||a.partial||!l)return{};const{id:u,type:p,densityScale:h,dimensionSuffix:f,styleguideLink:g}=a;return{densityScale:h,dimensionSuffix:f,barrelType:o,barrelId:u,projectId:u,projectType:p,barrelUser:s,organizationId:i,userRole:s.role,hasLinkedStyleguide:!!g,currentUserId:t,currentUserPaymentPlan:n,hasConnectedComponent:c,sortType:d,permissions:{canManageProject:r.permissions.canUpdateProject(s),canManageStyleguide:r.permissions.canUpdateStyleguide(s),canManageColors:r.permissions.canManageColors(s),canManageScreens:r.permissions.canManageColors(s),canManageTextStyles:r.permissions.canManageTextStyles(s),canManageSpacings:r.permissions.canManageSpacings(s),canManageRemSettings:r.permissions.canManageRemSettings(s)}}}render(){const{loading:e,loadingJoin:t,barrel:n,barrelUser:o,isUserJoined:a,showSlackReconnectionAuntie:r}=this.state;if(e)return null;if(n.partial||!a)return i.h(g.default,{styleguide:n,loadingJoin:t,onJoin:C.default.join});const{barrelType:s,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:p,selectedNavigatorId:h,highlightedColors:b,highlightedTextStyles:S,highlightedSpacingTokens:y,scrolledSection:v,highlightScrolledSection:O,sortType:E,filterValue:T,moveResourcesPopup:_,selectionComponentId:P,selection:j,suggestedResourcesByBarrel:D,showSuggestedResourcesBadge:k,currentOrganizationStyleguides:I,linkingProjectToStyleguide:R,styleguidesData:A}=this.state,w=new c.default(n),{barrelId:N,component:L}=Object(l.findComponentById)(A,P)||{};let x=j;return!x&&L&&(x=L),i.h(f.default,{baseRef:this.handleBaseRef,linkingProjectToStyleguide:R,styleguidesData:A,barrelType:s,barrel:n,barrelUser:o,currentOrganizationStyleguides:I,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:p,selectedNavigatorId:h,scrolledSection:v,highlightScrolledSection:O,highlightedColors:b,highlightedTextStyles:S,highlightedSpacingTokens:y,selectionStyleguideId:N,selectionComponent:L,selection:x,sortType:E,filterValue:T,formatter:w,showSlackReconnectionAuntie:r,suggestedResources:D[n.id],showSuggestedResourcesBadge:k,onLeftSidebarRelease:m.default.changeLeftSidebarWidth,onSectionNavigatorClick:this.handleSectionNavigatorClick,onStyleguideLink:this.handleStyleguideLink,onStyleguideUnlink:this.handleStyleguideUnlink,moveResourcesPopup:_,onExportClick:this.handleExportClick})}}t.default=T()(k,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1650);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var i=n(4),o=n(245),a=n(416),r=n(395),s=n(376),l=n(1275),c=n(1651),d=n(1658),u=n(1682),p=n(1703),h=n(1714),f=n(1739),g=n(400),m=n(537),b=n(1099),S=n(1799),y=n(1805),C=n(875);n(1810);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){return e.map(({_id:e,idPath:n,name:i,componentSections:o=[]})=>({id:e,idPath:n,styleguideId:t,title:i,content:i,children:T(o,t)}))}function _(e){return 0===e.length?[]:e[0].idPath}function P({children:e,baseRef:t,compact:n,overlapped:o}){const a=Object(r.default)("sidebarBottom",{compact:n,overlapped:o});return i.h("div",{class:a,ref:t},i.toChildArray(e).map(e=>"string"==typeof e?e:i.cloneElement(e,{compact:n})))}class j extends i.Component{constructor(...e){super(...e),E(this,"state",{hasDraggingElement:!1,linkToStyleguidePopupVisible:!1,targetLinkButton:null}),E(this,"openLinkPopup",e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}),E(this,"openLinkPopupAtTargetNode",e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}),E(this,"closeLinkToStyleguidePopup",()=>{this.setState({linkToStyleguidePopupVisible:!1,targetLinkButton:null})}),E(this,"getScrollableDropContainers",()=>{const e=[];if(this.nodeRefs){const{leftSidebarContent:t,componentsContainer:n}=this.nodeRefs;t&&e.push(t),n&&e.push(n)}return e.length>0?e:null}),E(this,"handleStartDrag",()=>{this.setState({hasDraggingElement:!0})}),E(this,"handleEndDrag",()=>{this.setState({hasDraggingElement:!1})}),E(this,"handleComponentToSectionNodeDrop",(e,t,n)=>{const i=e[e.length-1],o=e.slice(0,-1);if(o.join()===t.join())return;const a=[{coid:i,csid:o,tcsid:t,sourceIndex:n}];s.default.updateComponentsOrder({components:a,syncWithApi:!0})}),E(this,"handleReorderComponentSectionOrGroup",e=>{s.default.updateComponentSectionsOrder({componentSections:[e],syncWithApi:!0})}),E(this,"handleLinkStyleguideSelect",e=>{const{onStyleguideLink:t}=this.props;t(e)}),E(this,"handleRepeatedClick",()=>{const{selectedStyleguideSection:e,onSectionNavigatorClick:t}=this.props;this.componentRefs[e].goToTop(),"components"===e&&t(e,null)}),E(this,"handleResize",()=>{requestAnimationFrame(()=>{const e=this.nodeRefs.sidebarBottom,t=this.nodeRefs.sidebar,n=this.nodeRefs.styleguideSections.scrollHeight>t.clientHeight-e.clientHeight;this.setState({sidebarContentOverlapped:n,sidebarBottomHeight:n?e.clientHeight:0})})}),E(this,"renderAbout",()=>i.h(d.default,{ref:Object(a.default)(this,"about","componentRefs"),onSectionNavigatorClick:this.props.onSectionNavigatorClick}))}componentDidMount(){this.nodeRefs.sidebarBottom&&(window.addEventListener("resize",this.handleResize),this.handleResize())}componentWillReceiveProps(e){const{linkingProjectToStyleguide:t}=e,{linkingProjectToStyleguide:n}=this.props;n&&!t&&this.closeLinkToStyleguidePopup()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),document.body.classList.remove("dragging")}renderStyleguideSections(){const{barrelType:e,styleguidesData:t,selectedStyleguideSection:n,selectedNavigatorId:r,onSectionNavigatorClick:s,suggestedResources:l={colors:[],textStyles:[]},showSuggestedResourcesBadge:d}=this.props,u=t.map(({id:e,name:t,colors:n=[],textStyles:i=[],spacingSections:a=[],componentSections:r=[]})=>({id:e,styleguideId:e,idPath:_(r),name:t,has:{colors:!!n.length,textStyles:!!i.length,spacing:!!a.flatMap(({spacingTokens:e})=>e).length,components:!!Object(o.collectComponents)(r).length},componentTree:T(r.slice(1),e)})),p={colors:!!l.colors.length&&"colors"!==n&&d.colors,textStyles:!!l.textStyles.length&&"textStyles"!==n&&d.colors};return i.h(c.default,{baseRef:Object(a.default)(this,"styleguideSections"),barrelType:e,styleguideData:u,selectedStyleguideSection:n,selectedNavigatorId:r,onRepeatedClick:this.handleRepeatedClick,onSectionNavigatorClick:s,onComponentToSectionNodeDrop:this.handleComponentToSectionNodeDrop,onReorderComponentSectionOrGroup:this.handleReorderComponentSectionOrGroup,showBadge:p})}renderColorPalette(){const{onExportClick:e}=this.props;return i.h(u.default,{ref:Object(a.default)(this,"colors","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderTextStyleCatalog(){const{onExportClick:e}=this.props;return i.h(p.default,{ref:Object(a.default)(this,"textStyles","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSpacings(){const{barrel:e,styleguidesData:t,onExportClick:n}=this.props,o=t.reduce((t,n)=>{let i=n;if(n.id!==e.id&&(i=O(O({},n),{},{spacingSections:n.spacingSections.filter(({spacingTokens:e})=>e.length)})),i.spacingSections.length){const{id:e,name:n,type:o,spacingSections:a,remPreferences:r,dimensionSuffix:s}=i;t.push({id:e,name:n,platform:o,spacingSections:a,remPreferences:r,dimensionSuffix:s})}return t},[]),{remPreferences:r,parentStyleguideToInheritRemPreferences:s}=t[0];return i.h(h.default,{ref:Object(a.default)(this,"spacing","componentRefs"),remPreferences:r,parentStyleguideToInheritRemPreferences:s,spacingSectionsData:o,onExportClick:n})}renderComponents(){const{onExportClick:e}=this.props,{hasDraggingElement:t}=this.state;return i.h(f.default,{ref:Object(a.default)(this,"components","componentRefs"),baseRef:Object(a.default)(this,"componentsContainer"),hasDraggingElement:t,onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSection(){let{selectedStyleguideSection:e}=this.props;switch(e=e.toLowerCase(),e){case"about":default:return this.renderAbout();case"colors":return this.renderColorPalette();case"textstyles":return this.renderTextStyleCatalog();case"spacing":return this.renderSpacings();case"components":return this.renderComponents()}}renderSidebarBottom(){const{permissions:{canManageProject:e},organizationId:t}=this.context,{barrel:n,barrelType:o,currentOrganizationStyleguides:r,onStyleguideUnlink:s}=this.props;if("styleguide"===o)return null;let l;const c=n.styleguideLink;if(c){const{styleguide:e,status:t}=c,o=function(e,t=[]){return t.find(({_id:t})=>t===e._id)||e}(e,r);l=i.h(S.default,{key:"info",barrelName:n.name,linkedStyleguide:o,linkStatus:t,onUnlink:s})}else{if("user"!==t&&!e)return null;l=i.h(g.default,{class:"linkToStyleguideButton ellipsis",onClick:this.openLinkPopup,primary:!0},"Link to Styleguide")}const{sidebarContentOverlapped:d}=this.state;return i.h(P,{baseRef:Object(a.default)(this,"sidebarBottom"),overlapped:d},l)}renderLinkToStyleguidePopup(){const{currentUserId:e,organizationId:t}=this.context,{linkToStyleguidePopupVisible:n,targetLinkButton:o}=this.state,{barrel:a,currentOrganizationStyleguides:r,linkingProjectToStyleguide:s}=this.props;if(!n)return null;const l=a.users.find(e=>"owner"===e.role),c=r.filter(e=>["base",a.type].includes(e.type)&&"active"===e.status);let d=i.h(b.default,{onSelect:this.handleLinkStyleguideSelect,styleguides:c,selected:s,loading:!!s});return"user"===t?l.user._id!==e?d=i.h(b.NoStyleguidesForNonOwnerUser,{projectOwnerName:l.user.username}):c.length||(d=i.h(b.NoStyleguides,null)):c.length||(d=i.h(b.NoStyleguides,{hasOrganization:!0})),i.h(m.default,{targetNode:o,onClose:this.closeLinkToStyleguidePopup,left:12,centerY:!0,stickToEdge:!0,content:d,showAnchor:!0,open:!0})}render(){const{leftSidebarWidth:e,onLeftSidebarRelease:t,baseRef:n}=this.props,{sidebarBottomHeight:r}=this.state,s=this.context.permissions.canManageStyleguide;return i.h(C.default,{getScrollableDropContainers:this.getScrollableDropContainers,disabled:!s,itemsClass:"styleguide",baseRef:n,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,enableDropOntoMultipleTargets:!0},i.h(l.default,{class:"styleguideLeftSidebar",baseRef:Object(a.default)(this,"sidebar"),contentRef:Object(a.default)(this,"leftSidebarContent"),minWidth:100,paddingBottom:r,initialWidth:e,resizingSide:"right",collapsed:!1,onClick:o.stopPropagation,onRelease:t},this.renderStyleguideSections(),this.renderSidebarBottom()),this.renderSection(),this.renderLinkToStyleguidePopup(),i.h(y.default,null))}}},function(e,t,n){"use strict";n.r(t);var i=n(1652);n.d(t,"default",(function(){return i.default})),n.d(t,"sections",(function(){return i.sections}))},function(e,t,n){"use strict";n.r(t),n.d(t,"sections",(function(){return s})),n.d(t,"default",(function(){return l}));var i=n(4),o=n(1653),a=n(261),r=n.n(a);n(1657);const s=[{name:"About",value:"about"},{name:"Color palette",value:"colors"},{name:"Text style catalog",value:"textStyles"},{name:"Spacing and layout",value:"spacing"},{name:"Components",value:"components"}];function l(e){const{barrelType:t,styleguideData:n,selectedStyleguideSection:a,selectedNavigatorId:l,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,onReorderComponentSectionOrGroup:p,baseRef:h,showBadge:f}=e,g=t===r.a.PROJECT?s.slice(1):s;return i.h("div",{ref:h,class:"styleguideSections"},g.map(({name:e,value:r})=>{const s=a===r;return i.h(o.default,{key:r,barrelType:t,name:e,value:r,selected:s,selectedNavigatorId:l,styleguideData:n,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,onReorderComponentSectionOrGroup:p,showBadge:f[r]})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1654);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(4),o=n(395),a=n(242),r=n(261),s=n.n(r),l=n(1655),c=n(1103);n(1656);class d extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleSectionNavigatorClick=this.handleSectionNavigatorClick.bind(this)}get sectionURL(){const{styleguideData:e,barrelType:t,value:n}=this.props,i=t===s.a.PROJECT?"project-styleguide-"+n.toLowerCase():"styleguide-"+n.toLowerCase();return Object(a.urlResolve)(i,{url:{bid:e[0].id}})}handleClick(){const{selected:e,id:t,value:n,onRepeatedClick:i}=this.props;e&&i(t,n)}handleSectionNavigatorClick(e){const{value:t,onSectionNavigatorClick:n}=this.props;n(t,e)}renderInstances(){const{value:e,selected:t,styleguideData:n,selectedNavigatorId:o,onComponentToSectionNodeDrop:a,onReorderComponentSectionOrGroup:r}=this.props;if(1===n.length&&"components"!==e)return null;let s,l="",d=!1;switch(e){case"colors":case"textStyles":case"spacing":s=n.filter(({has:{[e]:t}})=>t).map(({id:e,name:t})=>({id:e,title:t,content:t,class:"styleguideRootNode",children:[]}));break;case"components":1===n.length?s=n[0].componentTree:(d=!0,l="linkedStyleguideTree",s=n.filter(({has:{[e]:t}})=>t).map(({id:e,idPath:t,styleguideId:n,name:i,componentTree:o})=>({id:e,idPath:t,styleguideId:n,title:i,content:i,class:"styleguideRootNode",children:o})));break;default:return null}return i.h(c.default,{class:["styleguideTree",l],nodeClass:"styleguideNode",nodePadding:10,dragDropEnabled:"components"===e,startingLevel:d?0:1,tree:s,selectedNodeId:t?o:null,onNodeSelect:this.handleSectionNavigatorClick,onComponentToSectionNodeDrop:a,onReorderComponentSectionOrGroup:r})}render(){const{name:e,value:t,selected:n,showBadge:a}=this.props;return i.h("div",{class:Object(o.default)("styleguideSection",{selected:n,showBadge:a}),onClick:this.handleClick},i.h("a",{href:this.sectionURL,"data-link-type":"inApp"},i.h(l.default,{type:t,selected:n}),i.h("span",{class:"name noSelect ellipsis",title:e},e),a&&i.h("div",{class:"badge"})),this.renderInstances())}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(438);t.default=function({type:e,selected:t}){const n=t?"#fff":"var(--gandalf)";switch(e){case"about":return i.h(o.IconInfo,{color:n});case"colors":return i.h(o.IconColor,{width:"22",height:"24",color:n});case"textStyles":return i.h(o.IconTextStyle,{width:"22",height:"24",color:n});case"spacing":return i.h(o.IconSpacing,{color:n});case"components":return i.h(o.IconComponent,{color:n});default:return null}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1659);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(505),a=n.n(o),r=n(416),s=n(376),l=n(361),c=n(385),d=n(1660),u=n(362),p=n(245),h=n(269),f=n.n(h),g=n(765),m=n(1661);function b(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),S(this,"state",{editing:!1}),S(this,"goToTop",()=>{if(!this.nodeRefs)return;const{about:e}=this.nodeRefs;e.scrollTop=0}),S(this,"handleStyleguideTutorialHideClick",()=>{g.default.hideStyleguideTutorial()}),S(this,"handleSectionNavigatorClick",e=>{const{onSectionNavigatorClick:t}=this.props;"about"===e&&this.handleEditDescription(),t(e)}),S(this,"handleEditDescription",()=>{this.setState({editing:!0})}),S(this,"handleUpdateDescription",e=>{this.setState({editing:!1});const{barrelId:t,barrelType:n}=this.state;s.default.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})}),S(this,"handleCancelDescription",()=>{this.setState({editing:!1})}),S(this,"handleLinkProject",e=>{const{barrel:t,currentOrganizationProjects:n}=this.state,i=n.find(t=>t._id===e);d.default.linkProjectToStyleguideRequest({project:i,styleguide:t})}),S(this,"handleUnlinkProject",e=>{const{barrel:t}=this.state;d.default.unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:!0})})}static getStores(){return[f.a.BarrelStore,f.a.StyleguideStore,f.a.StyleguidesDataStore,f.a.ProjectsDataStore,f.a.OrganizationStore,f.a.UserStore]}static calculateState(){const e=f.a.BarrelStore.getState(),{loading:t}=e,n=b(e,["loading"]),{shouldDisplayStyleguideTutorial:i}=f.a.UserStore.getState();if(t)return{loading:!0};const{barrelId:o,barrelType:a,organizationId:r,showSlackReconnectionAuntie:s}=n,c=l.default.getBarrel(),d=l.default.findUser(),{rightSidebarWidth:h}=f.a.StyleguideStore.getState(),g=u.default.getOrganizationProjects(r)||[],[{colors:m}]=l.default.getStyleguidesData({barrelStore:f.a.BarrelStore,styleguidesDataStore:f.a.StyleguidesDataStore,projectsDataStore:f.a.ProjectsDataStore});return{loading:!1,barrel:c,barrelId:o,barrelType:a,organizationId:r,showSlackReconnectionAuntie:s,sidebarWidth:h,currentOrganizationProjects:g,colors:m,shouldDisplayStyleguideTutorial:i,permissions:{canManageProject:p.permissions.canUpdateProject(d),canManageStyleguide:p.permissions.canUpdateStyleguide(d)}}}getChildContext(){const{colors:e,permissions:t}=this.state;return{permissions:t,projectColors:e}}render(){const{loading:e,barrel:t,organizationId:n,showSlackReconnectionAuntie:o,sidebarWidth:a,currentOrganizationProjects:s,editing:l,shouldDisplayStyleguideTutorial:d,permissions:u}=this.state;return e?null:i.h(m.default,{nodeRef:Object(r.default)(this,"about"),barrel:t,organizationId:n,editing:l,showSlackReconnectionAuntie:o,sidebarWidth:a,shouldDisplayStyleguideTutorial:d,onStyleguideTutorialHideClick:this.handleStyleguideTutorialHideClick,onSectionNavigatorClick:this.handleSectionNavigatorClick,onEditDescription:this.handleEditDescription,onUpdateDescription:this.handleUpdateDescription,onCancelDescription:this.handleCancelDescription,onSidebarRelease:c.default.changeRightSidebarWidth,onLinkProject:this.handleLinkProject,onUnlinkProject:this.handleUnlinkProject,currentOrganizationProjects:s,permissions:u})}}t.default=a()(y)},function(e,t,n){"use strict";n.r(t);var i=n(284),o=n(269),a=n.n(o);const r={linkProjectToStyleguideRequest({project:e,styleguide:t,syncWithApi:n=!1}){a.a.dispatcher.dispatch({type:i.default.LINK_PROJECT_REQUEST,project:e,styleguide:t,syncWithApi:n})},linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n}){a.a.dispatcher.dispatch({type:i.default.LINK_PROJECT_SUCCESS,project:e,styleguide:t,styleguides:n})},linkProjectToStyleguide({project:e,styleguide:t,syncWithApi:n}){a.a.dispatcher.dispatch({type:i.default.LINK_PROJECT,project:e,styleguide:t,syncWithApi:n})},unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:n}){a.a.dispatcher.dispatch({type:i.default.UNLINK_PROJECT,pid:e,styleguide:t,syncWithApi:n})}};t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1662);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(1265),r=n(400),s=n(1663),l=n(1666),c=n(991),d=n(1669),u=n(1675),p=n(537),h=n(1678),f=n(416);n(1681);class g extends i.Component{constructor(e){super(e),this.openLinkPopup=this.openLinkPopup.bind(this),this.openLinkPopupAtTargetNode=this.openLinkPopupAtTargetNode.bind(this),this.closeLinkToProjectPopup=this.closeLinkToProjectPopup.bind(this),this.state={linkToProjectPopupVisible:!1,targetLinkButton:null}}openLinkPopup(){this.setState({linkToProjectPopupVisible:!0})}openLinkPopupAtTargetNode(e){this.setState({linkToProjectPopupVisible:!0,targetLinkButton:e.target})}closeLinkToProjectPopup(){this.setState({linkToProjectPopupVisible:!1})}componentDidUpdate({barrel:{linkedProjects:{length:e}}}){const{barrel:{linkedProjects:{length:t}},editing:n}=this.props;(0===e&&1===t||1===e&&0===t)&&this.forceUpdate(),n&&setTimeout(()=>this.nodeRefs.markdownDescription.scrollIntoView(),4)}renderDescription(){const{barrel:{description:e},editing:t,onEditDescription:n,onUpdateDescription:o,onCancelDescription:a,permissions:{canManageProject:r}}=this.props;return e||t?i.h(c.default,{ref:Object(f.default)(this,"markdownDescription"),value:e,editing:t,readOnly:!r,onEdit:n,onUpdate:o,onCancel:a}):i.h(s.default,{class:"markdownDescriptionEmptyState",type:s.default.TYPE.DESCRIPTION,onButtonClick:n})}renderLinkToProjectPopup(){const{linkToProjectPopupVisible:e,targetLinkButton:t}=this.state;if(!e)return null;const{organizationId:n,currentOrganizationProjects:o,onLinkProject:a,barrel:{_id:r,type:s,users:l,linkedProjects:c},permissions:{canManageStyleguide:d}}=this.props,h=o.filter(e=>{const t="base"===s||e.type===s;if("user"===n){const n=e.users.find(e=>"owner"===e.role);if(!n)return!1;const i=l.find(e=>"owner"===e.role).user._id===n.user._id;return"active"===e.status&&t&&i}return"active"===e.status&&t&&d}),f=c.length>0?this.nodeRefs.inlineLinkButton:t;return i.h(p.default,{targetNode:f,onClose:this.closeLinkToProjectPopup,content:i.h(u.default,{organizationId:n,currentStyleguide:r,onSelect:a,projects:h}),left:12,faceTop:!0,centerY:!0,stickToEdge:!0,showAnchor:!0,open:!0})}renderLinkedProjects(){const{barrel:{linkedProjects:e},onUnlinkProject:t,permissions:{canManageProject:n}}=this.props;let o;return o=e.length?i.h("div",{key:"linkedProjects",class:"linkedProjects"},e.map(({_id:e,name:n,type:o,updated:a})=>i.h(l.default,{key:e,id:e,name:n,type:o,updated:a,onUnlinkProject:t}))):i.h(s.default,{key:"linkedProjectsEmptyState",type:"linkedProjects",class:"linkedProjectsEmptyState",onButtonClick:this.openLinkPopupAtTargetNode}),[i.h(d.default,{key:"styleguideHeader"},"Linked projects",e.length>0&&n&&i.h(r.default,{baseRef:Object(f.default)(this,"inlineLinkButton"),class:"headerButton",onClick:this.openLinkPopup},"Link to projects")),o]}renderSidebar(){const{sidebarWidth:e,onSidebarRelease:t}=this.props;return i.h(a.default,{width:e,onRelease:t})}render(){const{nodeRef:e,shouldDisplayStyleguideTutorial:t,onStyleguideTutorialHideClick:n,onSectionNavigatorClick:a}=this.props;return i.h(i.Fragment,null,i.h("div",{class:Object(o.default)("styleguideContainerContent","aboutContent",{styleguideTutorialVisible:t}),ref:e},t&&i.h("div",{class:"styleguideTutorialContainer"},i.h(h.default,{hideButtonText:"Got it!",onHideClick:n,onSectionNavigatorClick:a})),this.renderDescription(),this.renderLinkedProjects()),this.renderSidebar(),this.renderLinkToProjectPopup())}}g.defaultProps={editing:!1},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1664);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(543),r=n(438),s=n(395),l=n(228);n(1665);const c=Object.freeze({description:{emoji:"📝"},linkedProjects:{emoji:"🔗"},colors:{emoji:"🎨",addIcon:i.h(r.IconColor,{type:"add"}),exampleAddImg:"imgColorFromLayer"},textStyles:{emoji:"✏️",addIcon:i.h(r.IconTextStyle,{type:"add"}),exampleAddImg:"imgTextStyleFromLayer"},components:{emoji:"🍡"}});function d(e,{singular:t=!1}={}){const n=e.replace(/[A-Z]/g,e=>" "+e.toLowerCase());return t?n.slice(0,-1):n}class u extends i.Component{constructor(e){super(e),this.handleLinkButtonClick=this.handleLinkButtonClick.bind(this)}handleLinkButtonClick(e){const{onButtonClick:t}=this.props;t(e)}renderDescription(){const{barrelType:e}=this.context,{type:t}=this.props;switch(t){case"description":return"You can enter Zeplin flavored markdown description and tell the story of the styleguide.";case"linkedProjects":return"You can link this styleguide to multiple projects to reference the same colors, text styles, and components.";case"components":return`Components are re-usable elements used throughout designs, crucial piece of your design system. Store, organize and showcase ${e} components here.`;default:return`You can organize and showcase your ${e} ${d(t)} here.`}}renderFromStyleguide(){const{type:e}=this.props,{permissions:{canManageProject:t},hasLinkedStyleguide:n,barrelType:a}=this.context;return t&&!n&&"project"===a?i.h("li",null,i.h("h3",null,"From a Styleguide (Recommended)"),i.h("p",null,"Use ",d(e)," from a Styleguide by linking your project."),i.h(o.default,{onClick:this.handleLinkButtonClick,primary:!0},"Link to Styleguide")):null}renderFromLayers(){const{type:e}=this.props;if("components"===e)return null;const{addIcon:t,exampleAddImg:n}=c[e];return i.h("li",null,i.h("h3",null,"From Layers"),i.h("p",null,"Select a layer and click ",t," next to the ",d(e,{singular:!0}),"."),i.h(a.default,{asset:`img/${n}.png`}))}renderFromDesignTools(){const{type:e}=this.props;return l.isWindowsApp?i.h(i.Fragment,null,i.h("li",null,i.h("h3",null,"From Figma"),i.h("p",null,"Select a master component frame and press ⌥E or select “File > Export” from the menu."),i.h(a.default,{asset:"img/icComponentsHintFigma.png"})),i.h("li",null,i.h("h3",null,"From Adobe XD"),i.h("p",null,"Select a component in “Pasteboard”, or a layer inside it. Press ⌥⌘E or select “File > Export > Zeplin” from the menu."),i.h(a.default,{asset:"img/icComponentsHintAdobeXD.png"}))):i.h("li",null,i.h("h3",null,"From Design Tools"),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps",target:"_blank"},"Download desktop app")," to export ",d(e)," from design tools."))}renderBody(){const{type:e,onButtonClick:t}=this.props,{permissions:{canManageProject:n}}=this.context;return"description"===e?n?i.h(o.default,{primary:!0,class:"addDescriptionButton",onClick:t},"Add description"):null:"linkedProjects"===e?n?i.h(o.default,{class:"linkProjectButton",onClick:this.handleLinkButtonClick,primary:!0},"Link to projects"):null:i.h("ul",null,this.renderFromStyleguide(),this.renderFromLayers(),this.renderFromDesignTools())}render(){const{class:e,type:t,before:n}=this.props,{emoji:o}=c[t];return i.h("div",{class:"emptyStateContainer"},i.h("div",{class:"emptyStateBefore"},n),i.h("div",{class:Object(s.default)("emptyState",e)},i.h("h2",null,"No ",d(t)," yet. ",o),i.h("p",null,this.renderDescription()),this.renderBody()))}}u.TYPE=Object.freeze({DESCRIPTION:"description",COLORS:"colors",TEXT_STYLES:"textStyles",COMPONENTS:"components"}),t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1667);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(599),a=n(926),r=n(863),s=n(753),l=n(245),c=n(242),d=n(416);n(1668);class u extends i.Component{constructor(e){super(e),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{origin:{x:e.clientX,y:e.clientY}}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleOptionsClick(e){e.preventDefault(),e.stopPropagation();const t=this.nodeRefs.optionsButton.getBoundingClientRect();this.setState({contextMenu:{origin:{x:t.left+24,y:t.top-24}}})}handleUnlinkProject(){const{id:e,onUnlinkProject:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:{origin:e}}=this.state;return i.h(r.default.withAutoPosition,{autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:this.handleContextMenuClose},i.h(r.default.Item,{onClick:this.openUnlinkDialog},"Unlink project"))}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{name:t}=this.props;return i.h(s.BasicOverlayDialog,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}render(){const{permissions:{canManageProject:e}}=this.context,{contextMenu:t}=this.state,{id:n,name:r,type:s,updated:u}=this.props;return i.h("div",{class:"linkedProject noSelect",ref:Object(d.default)(this,"base")},t&&this.renderContextMenu(),e&&i.h(a.default,{class:"optionsButton",baseRef:Object(d.default)(this,"optionsButton"),onClick:this.handleOptionsClick}),i.h("a",{href:Object(c.urlResolve)("project",{url:{bid:n}}),onContextMenu:e?this.handleContextMenu:null,"data-link-type":"inApp"},i.h("div",{class:"linkedProjectName ellipsis",title:r},r),i.h("div",{class:"projectInfo"},i.h("span",null,Object(l.getPlatformString)(s)),i.h(o.default,{type:"time-ago",format:"micro",datetime:u}))),this.renderUnlinkDialog())}}t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1670);n.d(t,"default",(function(){return i.default}));var o=n(1672);n.d(t,"ContextMenuButton",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(416);n(1671);class a extends i.Component{highlight(){const{scroll:e,highlight:t,onScroll:n}=this.props;e&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs.base.animate([{backgroundColor:"var(--cornflower-blue-20pc)"},{backgroundColor:"transparent"}],{duration:2500,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}render(){const{children:e}=this.props;return i.h("h2",{class:"styleguideHeader",ref:Object(o.default)(this,"base")},e)}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1673);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(863),a=n(438),r=n(395);n(1674);class s extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleClick=this.handleClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this)}handleClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}render(){const{menuItems:e,baseRef:t,keepActive:n}=this.props,{contextMenu:s}=this.state;return i.h("div",{class:"styleguideContextMenuButtonWrapper",ref:t},i.h("button",{class:Object(r.default)("styleguideContextMenuButton",{active:!!s||n}),onClick:this.handleClick},i.h(a.IconMenu,null)),s&&i.h(o.default,{class:"styleguideContextMenu",onClose:this.handleContextMenuClose},e))}}t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1676);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(941),a=n(245),r=n(242),s=n(249),l=n(395),c=n(258);n(1677);const d="Add",u="Done",p="Spinner",h="Retry",f="linking",g="linked";function m({selected:e,iconType:t}){const n=Object(s.imageUrl)(`img/icInvite${t}${e?"Selected":""}.svg`);return i.h("img",{class:"invite"+t,src:n})}class b extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{onActionButtonClick:e,value:t,linked:n,linking:i}=this.props;i||n||e(t)},(n="handleClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{selected:e,projectName:t,projectType:n,status:o}=this.props,r=o===g,s=o===f,c=!r&&!s&&o,b=Object(l.default)("projectListItem",{selected:e,linking:s}),S=Object(a.getPlatformString)(n),y=`${t} - ${S}`;let C;return C=r?u:s?p:c?h:d,i.h("div",{title:y,class:b},i.h("div",{class:"projectInfo"},i.h("div",{class:"title ellipsis"},t,", ",i.h("span",{class:"projectType"},S)),c&&i.h("p",{class:"error"},c.title)),i.h("button",{onClick:this.handleClick,disabled:r||s},i.h(m,{iconType:C,selected:e})))}}class S extends i.Component{constructor(e){super(e),this.renderProjectListItem=this.renderProjectListItem.bind(this),this.renderProjectListItemContent=this.renderProjectListItemContent.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,currentStyleguide:n}=this.props;this.setState({[e]:f}),Object(c.updateProjectStyleguideLink)(e,n).then(()=>{mixpanel.master.track("Linked styleguide to project"),this.setState({[e]:g}),t(e)}).catch(t=>{this.setState({[e]:t})})}renderProjectListItemContent({_id:e,name:t,type:n},o){return i.h(b,{onActionButtonClick:this.handleSelect,value:e,selected:o,projectName:t,projectType:n,status:this.state[e]})}renderProjectListItem(e){return i.h(o.default.ListItem,{class:"selectableListItem noSelect",value:e._id,item:e,renderItem:this.renderProjectListItemContent,disabled:!0})}renderProjects(e){return[i.h("p",{key:"description"},"Select one or more projects to link to this Styleguide, to reference the same colors, text styles and components."),i.h("div",{key:"projects",class:"projects"},i.h(o.default,{class:"selectableProjectList",onSelect:this.handleSelect},e.map(this.renderProjectListItem)))]}renderNoProjects(){const{projects:e,organizationId:t}=this.props;let n="No projects to link yet",o="";return e.length>0?(n="No unlinked projects",o=i.h("p",null,"Looks like all projects are linked to a styleguide, you're well organized. 😎")):o="user"!==t?i.h("p",null,"Looks like there’s no organization project yet, ",i.h("a",{href:Object(r.urlResolve)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."):i.h("p",null,"Looks like you don’t have any projects yet, ",i.h("a",{href:Object(r.urlResolve)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."),i.h("div",{class:"noProjects"},i.h("h3",null,n),o)}render(){const{projects:e,class:t}=this.props,n=e.filter(e=>Object.keys(this.state).includes(e._id)||!e.styleguideLink),o=Object(l.default)("linkToProjectPopup",t);return i.h("div",{class:o},n.length>0?this.renderProjects(n):this.renderNoProjects())}}t.default=S},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1679);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(565),a=n(1651),r=n(1655),s=n(228);n(1680);const l={about:i.h("svg",{width:"11",height:"42",viewBox:"0 0 11 42"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.43 2.508c3.108.335 2.84 4.661 2.082 6.789-.81 2.27-2.142 4.38-2.59 6.782-.506 2.705.177 5.634 2.234 7.243-1.197 1.974-.789 4.44-.789 6.84 0 3.018-.68 8.225-5.198 8.513-1.553.1-1.564 2.6 0 2.5 3.585-.228 5.29-1.849 6.828-5.234.713-1.567.88-3.725.815-5.436-.085-2.213-.756-5.022 1.096-6.645.744-.652.258-1.808-.536-2.09-5.487-1.938.57-10.645 1.046-14.016.5-3.551-1.292-7.348-4.988-7.746-1.553-.167-1.542 2.334 0 2.5z"})),colorsAndTextStyles:i.h("svg",{width:"16",height:"94",viewBox:"0 0 16 94"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M15.88 41.779c.41-.927-.273-2.184-1.383-1.837-4.605 1.44-7.613-4.125-7.615-8.077-.002-4.217 1.715-8.225 2.302-12.364C10.191 12.414 7.675 5.308 2.646.357 1.51-.761-.224 1.005.914 2.125c3.419 3.365 5.588 7.797 5.998 12.65.414 4.896-1.545 9.437-2.237 14.201-.538 3.71-.08 7.27 2.229 10.29 1.528 1.997 3.638 3.318 5.972 3.399-3.04 7.761-4.26 16.156-3.275 24.5.578 4.882 2.287 10.182.037 14.88-1.882 3.928-5.654 6.546-9.088 8.94-1.294.903-.07 3.07 1.237 2.159 3.234-2.256 6.556-4.629 8.842-7.94 2.501-3.623 2.863-7.784 2.314-12.076-.659-5.14-1.48-10.07-1.107-15.281.399-5.556 1.802-10.995 4.044-16.068"})),spacing:i.h("svg",{width:"10",height:"41",viewBox:"0 0 10 41"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.172 2.497c2.959.333 2.705 4.641 1.982 6.76-.77 2.26-2.04 4.36-2.467 6.752-.481 2.693.169 5.61 2.128 7.212-1.14 1.965-.75 4.422-.75 6.81 0 3.006-.65 8.19-4.952 8.477-1.48.099-1.49 2.589 0 2.49 3.414-.228 5.038-1.842 6.503-5.212.68-1.561.838-3.71.776-5.413-.08-2.204-.72-5 1.044-6.616.709-.65.246-1.8-.51-2.08-5.226-1.931.543-10.6.995-13.957.477-3.536-1.23-7.316-4.75-7.712-1.478-.166-1.468 2.324 0 2.49z"})),components:i.h("svg",{width:"9",height:"43",viewBox:"0 0 9 43"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M8.154 18.516c.255-.523.152-1.204-.39-1.508-3.968-2.227-.622-8.267-.993-11.739C6.477 2.506 4.472-.154 1.544.007c-1.388.077-1.397 2.28 0 2.203 5.027-.276 2.328 7.582 2.172 10.188-.135 2.255.448 4.553 2.157 5.967-1.399 3.717-.594 7.596.095 11.463.678 3.816.914 9.154-3.107 11.147-1.254.622-.156 2.522 1.095 1.902 9.38-4.649.756-17.307 4.198-24.361"}))};t.default=function({hideButtonText:e,onHideClick:t,onSectionNavigatorClick:n}){return i.h(o.default,{class:"styleguideTutorial",onHideClick:t,hideButtonText:e,hideEmoji:!0},i.h("h1",null,"Welcome to the Styleguide 🍡"),i.h("p",{class:"description"},"Curate your styleguide by adding components, colors, text styles and spacing tokens. All the projects linked to this styleguide will inherit these resources automatically."),i.h("p",{class:"description"},"From the left panel:"),i.h("div",{class:"sections"},i.h("div",{class:"sectionItems"},a.sections.map(({value:e,name:t})=>i.h("div",{key:e,class:"sectionItem"},i.h(r.default,{type:e}),i.h("span",null,t)))),i.h("div",{class:"sectionItemDescriptions"},i.h("p",{class:"sectionItemDescription aboutDescription"},l.about,i.h("span",null,i.h("strong",{onClick:()=>n("about")},"Start by describing the styleguide")," to your team. View linked projects, integrations and more.")),i.h("p",{class:"sectionItemDescription colorsAndTextStylesDescription"},l.colorsAndTextStyles,i.h("span",null,i.h("strong",{onClick:()=>n("colors")},"Export colors and text styles")," from design tools ",s.isWindowsApp&&"using Zeplin’s desktop apps"," and access them here.")),i.h("p",{class:"sectionItemDescription spacingDescription"},l.spacing,i.h("span",null,i.h("strong",{onClick:()=>n("spacing")},"Set up your spacing tokens")," here to view them while inspecting designs.")),i.h("p",{class:"sectionItemDescription componentsDescription"},l.components,i.h("span",null,i.h("strong",{onClick:()=>n("components")},"Export components")," from design tools ",s.isWindowsApp&&"using Zeplin’s desktop apps"," and organize them here.")))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1683);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(241),a=n(416),r=n(245),s=n(242),l=n(376),c=n(361),d=n(385),u=n(269),p=n.n(u),h=n(863),f=n(1684),g=n(1687),m=n(1663),b=n(1275),S=n(1669),y=n(1693),C=n(1696),v=n(230),O=n(1701),E=n(505),T=n.n(E),_=n(438),P=n(364);n(1702);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends i.Component{constructor(...e){super(...e),k(this,"state",{styleguideToShowColorEditHintBox:null}),k(this,"unsetStyleguideForColorEditHintBox",()=>{this.setState({styleguideToShowColorEditHintBox:null})}),k(this,"goToTop",()=>{if(!this.nodeRefs)return;const{colors:e}=this.nodeRefs;e.scrollTop=0}),k(this,"goToStyleguideToEdit",()=>{const{styleguideToShowColorEditHintBox:e}=this.state;P.default.history.push(Object(s.urlResolve)("styleguide-colors",{url:{bid:e}}))}),k(this,"handleNameChange",(e,t)=>{const{colorsData:[{colors:n}]}=this.state;if(n.find(e=>e.name===t))return o.create({title:t+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();l.default.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),k(this,"handleDataChange",(e,t)=>{const{colorsData:[{colors:n}]}=this.state,i=D(D({},n.find(t=>t.id===e)),t);if(n.find(e=>e.equals(i)))return o.create({title:"Color with this value already exists",message:"Please enter another value for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();l.default.updateColor({cid:e,colorData:t,syncWithApi:!0})}),k(this,"handleDelete",e=>{l.default.removeColor({cid:e,syncWithApi:!0})}),k(this,"handleAddSuggestedColor",e=>{const{barrel:t}=this.state;l.default.addColor({color:e.name?D(D({},e),{},{name:e.formatName(t.type)}):e,syncWithApi:!0})}),k(this,"handleAddAllColors",()=>{const{barrel:{type:e},suggestedColors:t}=this.state,n=t.map(t=>t.name?D(D({},t),{},{name:t.formatName(e)}):t);l.default.addMultipleColors({colors:n,syncWithApi:!0})}),k(this,"handleHideSuggestedColors",()=>{const{barrel:{id:e},suggestedColors:t}=this.state;d.default.hideSuggestedColors(e,t)}),k(this,"handleMoveColorsToClick",e=>{e.stopPropagation();const{colorsData:[{colors:t}]}=this.state;d.default.openMoveResourcesPopup({resourceType:v.RESOURCE_TYPE.COLORS,resources:t,targetNode:this.nodeRefs.contextMenuButton})}),k(this,"handleDeleteAllMenuItemClick",e=>{e.stopPropagation(),o.create({title:"Delete all colors?",message:"Deleted colors cannot be restored",done:{name:"DELETE",cb(){l.default.removeAllColors({syncWithApi:!0})}},cancel:{name:"KEEP"}})})}static getStores(){return[p.a.BarrelStore,p.a.StyleguideStore,p.a.ProjectsDataStore,p.a.StyleguidesDataStore,p.a.VersionImportsStore,p.a.UserStore]}static calculateState(){const{loading:e,barrelId:t}=p.a.BarrelStore.getState();if(e)return{loading:!0};const n=c.default.getBarrel(),i=c.default.findUser(),{moveResourcesPopup:o,scrolledSection:a,highlightScrolledSection:s,highlightedColors:l,rightSidebarWidth:d}=p.a.StyleguideStore.getState(),{role:u}=i,{suggestedResourcesByBarrel:h}=p.a.VersionImportsStore.getState(),f=c.default.getStyleguidesData({barrelStore:p.a.BarrelStore,styleguidesDataStore:p.a.StyleguidesDataStore,projectsDataStore:p.a.ProjectsDataStore}),{colors:g=[]}=h[t]||{};let m=f.filter(({colors:{length:e}=[]})=>e).map(({id:e,name:t,colors:n})=>({id:e,name:t,colors:n}));!m.some(e=>e.id===t)&&g.length&&(m=[{id:t,name:"Local Styleguide",colors:[]},...m]);const b=r.permissions.canManageColors(i);return{loading:!1,barrel:n,barrelUser:i,barrelId:t,userRole:u,moveResourcesPopup:o,scrolledSection:a,highlightScrolledSection:s,styleguidesData:f,colorsData:m,suggestedColors:g,highlightedColors:l,sidebarWidth:d,canManageColors:b}}setStyleguideForColorEditHintBox(e){this.setState({styleguideToShowColorEditHintBox:e})}renderSuggestedColors(){const{suggestedColors:e}=this.state;return e.length?i.h(C.default,{colors:e,onHideClick:this.handleHideSuggestedColors,onAdd:this.handleAddSuggestedColor,onAddAll:this.handleAddAllColors}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelUser:o,moveResourcesPopup:r,canManageColors:l}=this.state,c=r&&r.resourceType===v.RESOURCE_TYPE.COLORS,d=e!==n.id?i.h("a",{href:Object(s.urlResolve)("styleguide-colors",{url:{bid:e}}),class:"headerButton",title:"Go to "+t,"data-link-type":"inApp","data-back":n.name},i.h(_.IconGoTo,null)):null,u=Object(O.default)(n,o),p=[u&&i.h(h.default.Item,{key:"Move colors to styleguide",onClick:this.handleMoveColorsToClick},"Move colors to styleguide…"),u&&l&&i.h(h.default.ItemDivider,{key:"warningDivider"}),l&&i.h(h.default.Item,{warning:!0,key:"Delete all colors",onClick:this.handleDeleteAllMenuItemClick},"Delete all colors")].filter(Boolean),f=e===n.id&&p.length>0?i.h(S.ContextMenuButton,{baseRef:Object(a.default)(this,"contextMenuButton"),keepActive:c,menuItems:p}):null;return d||f?i.h("div",null,f,d):null}renderColorPalettes(){const{barrelId:e,userRole:t,colorsData:n,styleguideToShowColorEditHintBox:o,scrolledSection:a,highlightScrolledSection:r,suggestedColors:s,highlightedColors:l,canManageColors:c}=this.state,{onLinkStyleguide:u}=this.props;return n&&n.length?n.map(({id:n,name:s,colors:u})=>{const p=n===e,h=o===n&&!p;return i.h(i.Fragment,{key:"fragmentColorPalette-"+n},i.h(S.default,{key:"styleguideHeader-"+n,scroll:a===n,highlight:a===n&&r,onScroll:d.default.sectionScrolled},s,this.renderStyleguideHeaderEnd({id:n,name:s})),h&&i.h(y.default,{key:"hintbox",styleguideSectionToEdit:"colors",styleguideName:s,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForColorEditHintBox}),p&&this.renderSuggestedColors(),i.h(g.default,{key:"colorPalette-"+n,colors:u,highlightedColors:l,userRole:t,readOnly:!c,onHover:d.default.unhighlightColor,onAttemptToChange:p?null:this.setStyleguideForColorEditHintBox.bind(this,n),onNameChange:this.handleNameChange,onDataChange:this.handleDataChange,onDelete:this.handleDelete}))}):i.h(m.default,{type:m.default.TYPE.COLORS,before:!!s.length&&i.h("div",{class:"emptyStateSuggestedColors"},i.h(S.default,null,"Local Styleguide"),this.renderSuggestedColors()),onButtonClick:u})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(b.default,{minWidth:280,initialWidth:t,onClick:r.stopPropagation,onRelease:d.default.changeRightSidebarWidth},i.h(f.default,{type:"color",source:"Color",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent colorPaletteContent",ref:Object(a.default)(this,"colors")},this.renderColorPalettes()),this.renderSidebar())}}t.default=T()(I)},function(e,t,n){"use strict";n.r(t);var i=n(1685);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(505),a=n.n(o),r=n(361),s=n(269),l=n.n(s),c=n(1274),d=n(400),u=n(1595),p=n(242),h=n(246),f=n(292),g=n(1607);n(1686);function m(e,t,n){return e[`styleguide${Object(h.uppercaseFirst)(t)}s`](n).then(e=>g.CodeSnippet.fromUnknown(e,t)).catch(e=>{}).then(n=>{let i=[];return n&&(n.exportable=function(e,t){return e.hasMethod(`exportStyleguide${Object(h.uppercaseFirst)(t)}s`)||e.hasMethod(`export${Object(h.uppercaseFirst)(t)}s`)||e.hasMethod("export"+Object(h.uppercaseFirst)(t))}(e,t),i=[n]),{[e.id]:{snippets:i,title:e.name}}})}function b({organizationId:e,hasExtensions:t,onManageExtensionsClick:n}){return i.h("div",{class:"emptyStyleguideCodePanel"},t?[i.h("h2",{key:"emptyStyleguideHeader"},"No extension snippets ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions that generate Styleguide code snippets. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Manage and enable the ones that fit your workflow."),i.h(d.default,{key:"emptyStyleguideButton",onClick:n,class:"manageExtensions"},"Manage extensions")]:[i.h("h2",{key:"emptyStyleguideHeader"},"No extensions ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions on this project. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Browse and pick the ones that fit your workflow."),i.h("a",{key:"emptyStyleguideButton",href:Object(p.getExtensionWebsiteUrl)({organizationId:e}),target:"_blank",rel:"noopener"},"Explore extensions")])}class S extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.openSettings=this.openSettings.bind(this)}exportCode(){const{extensionId:e,onExportClick:t}=this.props;t(e)}openSettings(){const{extensionId:e,onSettingsClick:t}=this.props;t({extensionId:e})}render(){const{snippets:e,title:t}=this.props;return i.h(u.default,{class:"styleguideCode",copyEnabled:!1,exportEnabled:!0,onExportClick:this.exportCode,onSettingsClick:this.openSettings,snippets:e,title:t,asyncHighlight:!0})}}class y extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.state={codeSnippets:null}}exportCode(e){const{barrel:t,barrelType:n,styleguidesData:i,styleguides:o,type:a,source:r,extensions:s,onExportClick:l}=this.props,c=Object(f.transformBarrelToObject)(t,n,i,o),d=s.find(t=>t.id===e);d&&d[`exportStyleguide${Object(h.uppercaseFirst)(a)}s`](c).then(t=>l(a,r,t,e))}generateCodeSnippets(e){if(!e.length)return void this.setState({codeSnippets:{}});const{type:t,barrel:n,barrelType:i,styleguidesData:o,styleguides:a}=this.props,r=Object(f.transformBarrelToObject)(n,i,o,a);Promise.all(e.map(e=>m(e,t,r))).then(e=>{this.setState({codeSnippets:Object.assign({},...e)})})}componentDidMount(){const{extensions:e}=this.props;this.generateCodeSnippets(e)}componentWillReceiveProps(e){const{extensions:t}=e;this.generateCodeSnippets(t)}shouldComponentUpdate(e,t){const{codeSnippets:n}=this.state;return n!==t.codeSnippets&&(!n||!t.codeSnippets||(Object.keys(n).length!==Object.keys(t.codeSnippets).length||Object.keys(n).some(e=>{const{snippets:i}=n[e],{snippets:o}=t.codeSnippets[e];return!(!o&&!i)&&(!o||!i||(i.length!==o.length||i.some((e,t)=>o[t].language!==e.language||o[t].code!==e.code)))})))}render(){const{extensions:e,hasExtensions:t,onManageExtensions:n,organizationId:o}=this.props,{codeSnippets:a}=this.state;if(!a)return;const r=e.map(e=>{const{snippets:t,title:o}=a[e.id];return t.length?i.h(S,{key:e.id,snippets:t,title:o,extensionId:e.id,onExportClick:this.exportCode,onSettingsClick:n}):null}).filter(Boolean);return e.length&&r.length?i.h("div",{class:"styleguideCodePanel"},r):i.h(b,{hasExtensions:t,organizationId:o,onManageExtensionsClick:n})}}class C extends i.Component{static calculateState(){const{loading:e,barrelType:t,organizationId:n}=l.a.BarrelStore.getState();if(e)return{loading:e};const i=r.default.getBarrel(),o=r.default.getStyleguidesData({barrelStore:l.a.BarrelStore,styleguidesDataStore:l.a.StyleguidesDataStore,projectsDataStore:l.a.ProjectsDataStore}),{styleguides:a}=l.a.StyleguidesDataStore.getState(),{loading:s,extensions:c,enabledExtensions:d}=l.a.ExtensionsStore.getState(),u=c.filter(e=>e.loaded&&d.includes(e.id));return{loading:e,barrel:i,barrelType:t,styleguidesData:o,styleguides:a,loadingExtensions:s,hasExtensions:c.length>0,extensions:u,organizationId:n}}static getStores(){return[l.a.BarrelStore,l.a.ExtensionsStore,l.a.ProjectsDataStore,l.a.StyleguidesDataStore]}render(){const{type:e,source:t,title:n,onExportClick:o}=this.props,{loading:a,barrel:r,barrelType:s,styleguidesData:l,styleguides:d,loadingExtensions:u,hasExtensions:p,extensions:h,organizationId:f}=this.state;if(!a&&!u)return i.h(y,{type:e,source:t,title:n,barrel:r,styleguidesData:l,barrelType:s,styleguides:d,hasExtensions:p,extensions:h,organizationId:f,onExportClick:o,onManageExtensions:c.default.openSettings})}}t.default=a()(C)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1688);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(1689);n(1692);function a(e){const{colors:t,highlightedColors:n,readOnly:a,userRole:r,onHover:s,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u}=e;return i.h("div",{class:"colorPalette"},t.map(e=>{const t=n[0]===e.id,p=t||n.includes(e.id);return i.h(o.default,{color:e,key:e.id,readOnly:a,userRole:r,scrollIntoView:t,highlight:p,onHover:s,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1690);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(250),a=n(241),r=n(1491),s=n(606),l=n(438),c=n(906),d=n(245),u=(n(1691),n(416)),p=n(395);function h(e){return!!/[0-9]{1,3}/.test(e)&&parseInt(e,10)<=100}function f(e){return/[A-Fa-f0-9]{6}/.test(e)}class g extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleHexChange=this.handleHexChange.bind(this),this.handleOpacityChange=this.handleOpacityChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{color:{id:e},highlight:t,onHover:n}=this.props;t&&n({cid:e})}handleDelete(){const{color:{name:e,id:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():a.create({message:`Remove “${e}”?`,done:{name:"REMOVE",cb:()=>{n(t)}},cancel:{name:"KEEP"}})}handleHexChange(e){const{color:{id:t},onDataChange:n}=this.props,{r:i,g:a,b:r}=o.default.fromHex("#"+e);n(t,{r:i,g:a,b:r})}handleNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleOpacityChange(e){const{color:{id:t},onDataChange:n}=this.props;n(t,{a:parseInt(e,10)/100})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}render(){const{color:e,userRole:t,readOnly:n,highlight:o,onAttemptToChange:a}=this.props,{projectType:g}=this.context,m=e.name,b=e.hexBase(),S=Math.round(100*e.a),y=e.toRGBString(),C=e.toRGBAString(),v=Object(p.default)("colorCell",{highlight:o});let O=i.h("div",{class:v,ref:Object(u.default)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"colorPreview",style:{backgroundColor:C}},!n&&i.h("button",{type:"button",onClick:this.handleDelete},i.h(l.IconDelete,null))),i.h("div",{class:"colorInformation"},i.h("div",{class:"colorNameContainer"},i.h(r.default,{class:"colorName",spellCheck:"false",filterRegex:d.colorNameRegex[g],prefix:"#",maxLength:36,ellipsized:!0,initialValue:m,disabled:n,blurOnEnter:!0,onAttemptToChange:a,onBlur:this.handleNameChange})),i.h("div",{class:"colorValueContainer"},i.h(r.default,{class:"colorHex",maxLength:6,spellCheck:"false",filterRegex:/([^a-fA-F0-9])/g,prefix:"#",validator:f,initialValue:b,disabled:n,blurOnEnter:!0,onAttemptToChange:a,onBlur:this.handleHexChange}),i.h(r.default,{class:"colorAlpha",maxLength:3,filterRegex:/([^0-9])/g,suffix:"%",validator:h,initialValue:S,disabled:n,blurOnEnter:!0,onAttemptToChange:a,onBlur:this.handleOpacityChange})),i.h("div",{class:"colorRGB"},y)));return n&&(O=i.h(s.default,{content:Object(c.default)(t,"edit colors")},O)),O}}t.default=g},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1694);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(565);n(1695);t.default=function(e){const{styleguideName:t,onGoToStyleguide:n,onHideClick:a,styleguideSectionToEdit:r}=e;return i.h(o.default,{class:"styleguideEditHintBox",onActionClick:n,actionContent:"Go to Styleguide",onHideClick:a,hideButtonText:"Got it!"},"Go to “",t,"” to edit ",r,", since it’s a linked styleguide.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1697);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(1698),s=n(250);n(1700);function l({name:e,color:t,onClick:n}){return i.h("button",{class:"colorItem",onClick:n},i.h("div",{class:"colorPreview",style:{backgroundColor:t}}),i.h("span",{class:"name"},e))}function c(e){const{onAddAll:t,onAdd:n,onHideClick:o,colors:a}=e,s=a.length>1;return i.h(r.default,{class:"candidateColorsHintBox",onActionButtonClick:t,onHideClick:o,actionButtonText:s?"Add All Colors":"Add Color",hideButtonText:s?"Ignore these colors!":"Ignore the color!",emoji:"👩‍🎨",title:`Found ${s?a.length+" colors":"a color"} during the last export, want to add ${s?"them":"it"}?`,description:s?"Click to add them individually or select “Add All Colors”.":"Click the color below or select “Add Color” to add it."},i.h("div",{class:"colorsContainer"},a.map(e=>{const t=e.toHexString();return i.h(l,{key:e.id,name:e.name||t,color:t,onClick:()=>n(e)})})))}c.propTypes={colors:a.a.arrayOf(a.a.instanceOf(s.default)).isRequired,onHideClick:a.a.func.isRequired,onAdd:a.a.func.isRequired,onAddAll:a.a.func},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(565),s=n(400),l=n(395);n(1699);function c(e){const{onHideClick:t,onActionButtonClick:n,hideButtonText:o,actionButtonText:a,emoji:c,title:d,description:u,children:p,class:h}=e,f=Object(l.default)("genericStyleguideHintBox",h);return i.h(r.default,{class:f,onHideClick:t,hideButtonText:o,hideEmoji:!0},i.h("div",{class:"hintBoxContainer"},i.h("span",{class:"emoji"},c),i.h("div",{class:"text"},i.h("h5",null,d),i.h("p",null,u)),n&&i.h(s.default,{class:"actionButton",onClick:n,primary:!0},a)),p)}c.propTypes={onHideClick:a.a.func.isRequired,hideButtonText:a.a.string.isRequired,onActionButtonClick:a.a.func,actionButtonText:a.a.string,emoji:a.a.string.isRequired,title:a.a.string.isRequired,description:a.a.string.isRequired},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(245);function o(e,t){if(Object(i.isOrganizationProject)(e))return i.permissions.canMoveResources(t);const n=e.users.find(e=>"owner"===e.role);return"free"===n.user.paymentPlan?t.user._id===n.user._id:i.permissions.canMoveResources(t)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1704);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(241),a=n(416),r=n(245),s=n(242),l=n(1701),c=n(1146),d=n(376),u=n(361),p=n(385),h=n(269),f=n.n(h),g=n(863),m=n(1663),b=n(1275),S=n(1669),y=n(1705),C=n(1684),v=n(1693),O=n(1710),E=n(230),T=n(505),_=n.n(T),P=n(438),j=n(364);n(1713);function D(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends i.Component{constructor(...e){super(...e),k(this,"state",{styleguideToShowTextStyleEditHintBox:null}),k(this,"unsetStyleguideForTextStyleEditHintBox",()=>{this.setState({styleguideToShowTextStyleEditHintBox:null})}),k(this,"goToStyleguideToEdit",()=>{const{styleguideToShowTextStyleEditHintBox:e}=this.state;j.default.history.push(Object(s.urlResolve)("styleguide-textstyles",{url:{bid:e}}))}),k(this,"goToTop",()=>{if(!this.nodeRefs)return;const{textStyles:e}=this.nodeRefs;e.scrollTop=0}),k(this,"handleColorDelete",e=>{d.default.updateTextStyle({tsid:e,textStyleData:{color:null},syncWithApi:!0})}),k(this,"handleDelete",e=>{d.default.removeTextStyle({tsid:e,syncWithApi:!0})}),k(this,"handleHideSuggestedTextStyles",()=>{const{barrelId:e,suggestedTextStyles:t}=this.state;p.default.hideSuggestedTextStyles(e,t)}),k(this,"handleNameChange",(e,t)=>{const{textStylesData:[{textStyles:n}]}=this.state;if(n.some(e=>e.name===t))return o.create({title:t+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();d.default.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}),k(this,"handleAddTextStyle",e=>{d.default.addTextStyle({textStyle:e,syncWithApi:!0})}),k(this,"handleAddAllTextStyles",()=>{const{suggestedTextStyles:e}=this.state;d.default.addMultipleTextStyles({textStyles:e,syncWithApi:!0})}),k(this,"handleMoveTextStylesToClick",e=>{e.stopPropagation();const{textStylesData:[{textStyles:t}]}=this.state;p.default.openMoveResourcesPopup({resourceType:E.RESOURCE_TYPE.TEXT_STYLES,resources:t,targetNode:this.nodeRefs.contextMenuButton})}),k(this,"handleDeleteAllMenuItemClick",e=>{e.stopPropagation(),o.create({title:"Delete all text styles?",message:"Deleted text styles cannot be restored",done:{name:"DELETE",cb(){d.default.removeAllTextStyles({syncWithApi:!0})}},cancel:{name:"KEEP"}})})}static getStores(){return[f.a.BarrelStore,f.a.StyleguideStore,f.a.ProjectsDataStore,f.a.StyleguidesDataStore,f.a.VersionImportsStore,f.a.UserStore]}static calculateState(){const{loading:e,barrelId:t}=f.a.BarrelStore.getState();if(e)return{loading:!0};const n=u.default.getBarrel(),i=u.default.findUser(),{rightSidebarWidth:o,highlightedTextStyles:a,scrolledSection:s,highlightScrolledSection:l,moveResourcesPopup:d}=f.a.StyleguideStore.getState(),{suggestedResourcesByBarrel:p}=f.a.VersionImportsStore.getState(),{textStyles:h=[]}=p[t]||{},{role:g}=i,m=new c.default(n);let b=u.default.getStyleguidesData({barrelStore:f.a.BarrelStore,styleguidesDataStore:f.a.StyleguidesDataStore,projectsDataStore:f.a.ProjectsDataStore}).filter(({textStyles:{length:e}=[]})=>e).map(e=>{let{componentSections:t}=e;return D(e,["componentSections"])});!b.some(e=>e.id===t)&&h.length&&(b=[{id:t,name:"Local Styleguide",textStyles:[],colors:[]},...b]);const S=r.permissions.canManageTextStyles(i);return{barrel:n,barrelId:t,barrelUser:i,userRole:g,sidebarWidth:o,highlightedTextStyles:a,scrolledSection:s,highlightScrolledSection:l,moveResourcesPopup:d,suggestedTextStyles:h,formatter:m,textStylesData:b,canManageTextStyles:S}}setStyleguideForTextStyleEditHintBox(e){this.setState({styleguideToShowTextStyleEditHintBox:e})}renderSuggestedTextStyles(){const{suggestedTextStyles:e,formatter:t}=this.state;return e.length?i.h(O.default,{textStyles:e,formatter:t,onHideClick:this.handleHideSuggestedTextStyles,onAdd:this.handleAddTextStyle,onAddAll:this.handleAddAllTextStyles}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelId:o,barrelUser:r,moveResourcesPopup:c,canManageTextStyles:d}=this.state,u=c&&c.resourceType===E.RESOURCE_TYPE.TEXT_STYLES,p=e!==o?i.h("a",{href:Object(s.urlResolve)("styleguide-textstyles",{url:{bid:e}}),class:"headerButton",title:"Go to "+t,"data-link-type":"inApp","data-back":n.name},i.h(P.IconGoTo,null)):null,h=Object(l.default)(n,r),f=[h&&i.h(g.default.Item,{key:"Move text styles to styleguide",onClick:this.handleMoveTextStylesToClick},"Move text styles to styleguide…"),h&&d&&i.h(g.default.ItemDivider,{key:"warningDivider"}),d&&i.h(g.default.Item,{warning:!0,key:"Delete all text styles",onClick:this.handleDeleteAllMenuItemClick},"Delete all text styles")].filter(Boolean),m=e===o&&f.length>0?i.h(S.ContextMenuButton,{baseRef:Object(a.default)(this,"contextMenuButton"),keepActive:u,menuItems:f}):null;return p||m?i.h("div",null,m,p):null}renderTextStyleCatalogs(){const{barrelId:e,userRole:t,textStylesData:n,scrolledSection:o,highlightScrolledSection:a,highlightedTextStyles:r,suggestedTextStyles:s,formatter:l,styleguideToShowTextStyleEditHintBox:c,canManageTextStyles:d}=this.state,{onLinkStyleguide:u}=this.props;if(!n||!n.length)return i.h(m.default,{type:m.default.TYPE.TEXT_STYLES,before:!!s.length&&i.h("div",{class:"emptyStateSuggestedTextStyles"},i.h(S.default,null,"Local Styleguide"),this.renderSuggestedTextStyles()),onButtonClick:u});const h=n.map(e=>{let{textStyles:t}=e;return D(e,["textStyles"])});return n.map(({id:n,name:s,type:u,densityScale:f,remPreferences:g,textStyles:m})=>{const b=n===e,C=c===n&&!b;return i.h(i.Fragment,{key:"textStyleCatalog-"+n},i.h(S.default,{scroll:o===n,highlight:o===n&&a,onScroll:p.default.sectionScrolled},s,this.renderStyleguideHeaderEnd({id:n,name:s})),C&&i.h(v.default,{styleguideSectionToEdit:"text styles",styleguideName:s,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForTextStyleEditHintBox}),b&&this.renderSuggestedTextStyles(),i.h(y.default,{platform:u,densityScale:f,remPreferences:g,textStyles:m,colorsData:h,highlightedTextStyles:r,userRole:t,readOnly:!d,formatter:l,onHover:p.default.unhighlightTextStyle,onAttemptToChange:!b&&this.setStyleguideForTextStyleEditHintBox.bind(this,n),onNameChange:this.handleNameChange,onColorDelete:this.handleColorDelete,onDelete:this.handleDelete}))})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(b.default,{minWidth:280,initialWidth:t,onClick:r.stopPropagation,onRelease:p.default.changeRightSidebarWidth},i.h(C.default,{type:"textStyle",source:"Text style",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent textStyleCatalogContent",ref:Object(a.default)(this,"textStyles")},this.renderTextStyleCatalogs()),this.renderSidebar())}}t.default=_()(I)},function(e,t,n){"use strict";n.r(t);var i=n(1706);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(1707),a=n(1478);function r(e){const{platform:t,densityScale:n,remPreferences:r,formatter:s,textStyles:l,colorsData:c,highlightedTextStyles:d,readOnly:u,userRole:p,onHover:h,onAttemptToChange:f,onNameChange:g,onColorDelete:m,onDelete:b}=e;return i.h("div",{class:"textStyleCatalog"},l.map((e,l)=>{const{id:S,color:y}=e,C=d[0]===S,v=C||d.includes(S),O=y&&Object(a.transformColor)(y,s,c);return i.h(o.default,{key:e.id,platform:t,densityScale:n,remPreferences:r,readOnly:u,userRole:p,formatter:s,textStyle:e,textStyleColor:O,tabIndex:l+1,scrollIntoView:C,highlight:v,onHover:h,onAttemptToChange:f,onNameChange:g,onColorDelete:m,onDelete:b})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1708);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(416),r=n(906),s=n(241),l=n(438),c=n(400),d=n(978),u=n(606),p=n(1132),h=n(301);n(1709);class f extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}generateFontStyle(){const{textStyle:{scaledFontSize:e,fontWeight:t,fontStyle:n}}=this.props;return{fontSize:e+"px",fontWeight:t,fontStyle:n}}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{textStyle:{id:e},highlight:t,onHover:n}=this.props;t&&n({tsid:e})}handleColorDelete(){const{textStyle:{id:e,name:t},onColorDelete:n,onAttemptToChange:i}=this.props;i?i():s.create({message:`Delete color of "${t}"?`,done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleDelete(){const{textStyle:{id:e,name:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():s.create({title:`Delete "${t}"?`,message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleNameBlur({discard:e,value:t}){const{textStyle:{id:n,name:i},onNameChange:o}=this.props;e||i===t||o(n,t)}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderMainInfo(){const{platform:e,densityScale:t,remPreferences:n,formatter:o,textStyle:a}=this.props,{content:r,fontSize:s}=Object(p.getMainInfo)(a),l="web"===e&&"enabled"===n.status&&n.useForFontSizes;return[i.h("span",{key:r,title:r,class:"ellipsis"},r),", "+(l?Object(h.toRemSize)(s/t,n.remRootFontSize):o.textLength(s))]}renderColor(){const{textStyleColor:e}=this.props;return e?i.h("div",{class:"colorContainer"},i.h("span",{class:"colorPreview",style:{backgroundColor:e.colorStyle}}),i.h("span",{class:"color ellipsis"},e.added?"#"+e.name:e.colorString),i.h(c.default,{class:"deleteColor",onClick:this.handleColorDelete},i.h(l.IconDelete,null))):null}render(){const{readOnly:e,userRole:t,formatter:n,textStyle:s,tabIndex:h,highlight:f,onAttemptToChange:g}=this.props;let m=i.h(d.default,{class:"name",fontStyle:this.generateFontStyle(),onBlur:this.handleNameBlur,onAttemptToChange:g,value:s.name,minLength:"1",maxLength:"100",required:!0,readOnly:e,tabIndex:h,ellipsized:!0});e&&(m=i.h(u.default,{content:Object(r.default)(t,"edit text styles")},m));const b=Object(o.default)("textStyleRow",{readOnly:e,highlight:f});return i.h("div",{class:b,ref:Object(a.default)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"nameContainer"},m),i.h("div",{class:"info"},i.h("div",{class:"mainInfo"},i.h("div",{class:"style"},this.renderMainInfo()),this.renderColor()),i.h("div",{class:"extraInfo ellipsis"},Object(p.getExtraInfo)(n,s))),i.h(c.default,{class:"deleteTextStyle",onClick:this.handleDelete},i.h(l.IconDelete,null)))}}t.default=f},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1711);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(1698),s=n(1132);n(1712);function l({name:e,info:t,subInfo:n,color:o,onClick:a}){return i.h("button",{class:"textStyleItem",onClick:a},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"infoContainer"},i.h("div",{class:"mainInfo"},i.h("div",{class:"info ellipsis"},t),o&&i.h("span",{class:"colorPreview",style:{backgroundColor:o}})),n&&i.h("div",{class:"subInfo ellipsis"},n)))}function c(e){const{onAddAll:t,onAdd:n,onHideClick:o,textStyles:a,formatter:c}=e,d=a.length>1;return i.h(r.default,{class:"candidateTextStylesHintBox",onActionButtonClick:t,onHideClick:o,actionButtonText:d?"Add All Text Styles":"Add Text Style",hideButtonText:d?"Ignore these text styles!":"Ignore the text style!",emoji:"👩‍🏫",title:`Found ${d?a.length+" text styles":"a text style"} during the last export, want to add ${d?"them":"it"}?`,description:d?"Click to add them individually or select “Add All Text Styles”.":"Click the text style below or select “Add Text Style” to add it."},i.h("div",{class:"textStylesContainer"},a.map(e=>{const t=e.name,{content:o,fontSize:a}=Object(s.getMainInfo)(e),r=[o,c.textLength(a)].join(", "),d=e.color&&e.color.toHexString(),u=Object(s.getExtraInfo)(c,e);return i.h(l,{key:e.id,id:t,name:t,info:r,subInfo:u,color:d,onClick:()=>n(e)})})))}c.propTypes={textStyles:a.a.array.isRequired,onHideClick:a.a.func.isRequired,onAdd:a.a.func.isRequired,onAddAll:a.a.func},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1715);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(505),s=n.n(r),l=n(241),c=n(416),d=n(245),u=n(242),p=n(376),h=n(361),f=n(385),g=n(269),m=n.n(g),b=n(765),S=n(1716),y=n(1717),C=n(1275),v=n(1718),O=n(1684),E=n(1669),T=n(1726),_=n(438);n(1738);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.Component{constructor(...e){super(...e),D(this,"goToTop",()=>{this.nodeRefs&&(this.nodeRefs.spacingSections.scrollTop=0)}),D(this,"handleCreateSection",()=>{p.default.addSpacingSection({spacingSection:{name:"Layout",description:"Add your spacing documentation here, _using markdown_."},syncWithApi:!0})}),D(this,"handleUpdateSection",e=>{p.default.updateSpacingSection(j(j({},e),{},{syncWithApi:!0})),e.updatedSpacingSection.hasOwnProperty("description")&&b.default.stopPromotingSpacingSectionDescriptionEditButton()}),D(this,"handleDeleteSection",e=>{p.default.removeSpacingSection({ssid:e,syncWithApi:!0})}),D(this,"handleCreateToken",e=>{const t=this.localStyleguideSpacingSections.find(({_id:t})=>t===e),n=t.spacingTokens.find(({_id:e})=>e===t.baseTokenId),i=this.localStyleguideSpacingTokens.map(({token:e})=>e),o=j({_id:y.CANDIDATE_SPACING_TOKEN},Object(S.generateInitialPayloadForSpacingToken)(t.spacingTokens,i,n&&n.value));p.default.addSpacingToken({ssid:e,spacingToken:o})}),D(this,"handleUpdateToken",(e,t)=>{const{ssid:n,sptid:i,updatedSpacingToken:o}=e,{token:a,value:r}=o,{spacingSectionsData:s}=this.props,{barrel:c}=this.state,d=s.find(({id:e})=>e===c.id).spacingSections.find(({_id:e})=>e===n),u=this.localStyleguideSpacingTokens.some(e=>e.token===a&&e._id!==i),h=d.spacingTokens.some(e=>e.value===r);let f=d.spacingTokens.find(({_id:e})=>e===i),g=!0;if(f){if(""===a||""===r?g=!1:u?(g=!1,l.create({title:a+" already exists",message:"Please enter another name for the spacing token.",done:{name:"GOT IT"}})):h&&(g=!1,l.create({title:`${r}${t} already exists`,message:"Please enter another value for the spacing token.",done:{name:"GOT IT"}})),i===y.CANDIDATE_SPACING_TOKEN){this.handleDeleteToken({ssid:n,sptid:i});let e=f;return delete e._id,g&&(e=j(j({},e),{},{token:a})),void p.default.addSpacingToken({ssid:n,spacingToken:e,syncWithApi:!0})}g&&p.default.updateSpacingToken(j(j({},e),{},{syncWithApi:!0}))}}),D(this,"handleDeleteToken",e=>{p.default.removeSpacingToken(j(j({},e),{},{syncWithApi:e.sptid!==y.CANDIDATE_SPACING_TOKEN}))}),D(this,"handleRemPreferencesUpdate",e=>{p.default.updateRemPreferences(j(j({},e),{},{syncWithApi:!0}))})}static calculateState(){const{loading:e}=m.a.BarrelStore.getState();if(e)return{loading:!0};const t=h.default.getBarrel(),n=h.default.findUser(),{scrolledSection:i,highlightScrolledSection:o,highlightedSpacingTokens:a,rightSidebarWidth:r}=m.a.StyleguideStore.getState(),{shouldPromoteSpacingSectionDescriptionEditButton:s}=m.a.UserStore.getState();return{loading:!1,barrel:t,barrelUser:n,scrolledSection:i,highlightScrolledSection:o,highlightedSpacingTokens:a,sidebarWidth:r,shouldPromoteSpacingSectionDescriptionEditButton:s}}static getStores(){return[m.a.BarrelStore,m.a.StyleguideStore,m.a.ProjectsDataStore,m.a.StyleguidesDataStore,m.a.UserStore]}get localStyleguideSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t}=this.state;return e.find(({id:e})=>e===t.id).spacingSections}get localStyleguideSpacingTokens(){return this.localStyleguideSpacingSections.flatMap(e=>e.spacingTokens)}renderSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t,barrelUser:n,scrolledSection:o,highlightScrolledSection:a,highlightedSpacingTokens:r,shouldPromoteSpacingSectionDescriptionEditButton:s}=this.state;return e.map(({id:e,name:l,spacingSections:c,dimensionSuffix:d})=>{const p=e===t.id;return i.h(i.Fragment,{key:"spacingTokens-"+e},i.h(E.default,{scroll:o===e,highlight:o===e&&a,onScroll:f.default.sectionScrolled},l,!p&&i.h("a",{href:Object(u.urlResolve)("styleguide-spacing",{url:{bid:e}}),class:"headerButton",title:"Go to "+l,"data-link-type":"inApp","data-back":t.name},i.h(_.IconGoTo,null))),c.map(e=>i.h(T.default,{key:"spacingSection-"+e._id,section:e,highlightedSpacingTokens:r,barrelUser:n,shouldDisplayDeleteButton:c.length>1,shouldDisplayCreateButton:!c.some(e=>0===e.spacingTokens.length),isLocalStyleguide:p,shouldPromoteDescriptionEditButton:s,dimensionSuffix:d,onSpacingTokenRowHover:f.default.unhighlightSpacingToken,onCreateSection:this.handleCreateSection,onUpdateSection:this.handleUpdateSection,onDeleteSection:this.handleDeleteSection,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken})))})}renderSidebar(){const{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onExportClick:n}=this.props,{barrel:{type:o},sidebarWidth:a}=this.state;return i.h(C.default,{class:"spacingsSidebar",minWidth:280,initialWidth:a,onClick:d.stopPropagation,onRelease:f.default.changeRightSidebarWidth},"web"===o&&i.h(v.default,{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onUpdate:this.handleRemPreferencesUpdate}),i.h(O.default,{type:"spacing",source:"Spacing",onExportClick:n}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent spacingsContent",ref:Object(c.default)(this,"spacingSections")},this.renderSpacingSections()),this.renderSidebar())}}k.propTypes={remPreferences:a.a.object.isRequired,parentStyleguideToInheritRemPreferences:a.a.object.isRequired,spacingSectionsData:a.a.array.isRequired,onExportClick:a.a.func.isRequired},t.default=s()(k,{withProps:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"generateInitialPayloadForSpacingToken",(function(){return r}));const i=/\d+$/,o=/\w+$/,a={SHORT:["xxs","xs","s","m","l","xl","xxl"],LONG:["xxsmall","xsmall","small","medium","large","xlarge","xxlarge"]};function r(e,t,n){const r=e.length,s=e[r-1],l=n||4,c={token:"spacing-xxs",value:4,color:{r:153,g:102,b:204,a:.2}};if(r){const t=e[0].value?0:1;let n,i,o=0,a=0;for(let s=1;s<r;s++){let t=e[s].value-e[s-1].value;o!==s-1||n&&n!==t||(n=t,o++),s>=2&&t===e[s-2].value&&a++}i=1===r?s.value||4:o===r-1?n:a===r-2-t?e[r-2].value:l-s.value%l,c.value=s.value+i}if(t.length){const e=s?s.token:c.token,n=e.match(o);let r,l=!1;if(n){const i=e.slice(0,n.index),o=n[0];let s;if(a.SHORT.includes(o)?s="SHORT":a.LONG.includes(o)&&(s="LONG"),s){let e=a[s].indexOf(o);for(;!l&&e+1<a[s].length;)e++,r=`${i}${a[s][e]}`,l=!t.includes(r)}}if(!l){const n=e.match(i);let o,a;for(n?(o=e.slice(0,n.index),a=parseInt(n[0],10)):(o=e,a=1);!l;)a++,r=o.endsWith("-")?o:o+"-",r+=a,l=!t.includes(r)}c.token=r}return c}},function(e,t,n){"use strict";n.r(t),n.d(t,"CANDIDATE_SPACING_TOKEN",(function(){return i}));const i="CANDIDATE_SPACING_TOKEN"},function(e,t,n){"use strict";n.r(t);var i=n(1719);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(241),s=n(395),l=n(506),c=n(1595),d=n(396),u=n.n(d),p=n(565),h=n(1720);n(1725);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),m(this,"handleEnableStatusChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=n||i;t({updatedRemPreferences:{status:o?"disabled":"enabled",useForFontSizes:!o,useForMeasurements:!o}})}),m(this,"handleUseForFontSizeChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=!n;t({updatedRemPreferences:{status:o||i?"enabled":"disabled",useForFontSizes:o}})}),m(this,"handleUseForMeasurementsChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=!i;t({updatedRemPreferences:{status:n||o?"enabled":"disabled",useForMeasurements:o}})}),m(this,"handleRootFontSizeChange",e=>{const{remPreferences:t,onUpdate:n}=this.props,{status:i,remRootFontSize:o}=t;if(""!==e)if(0===e)r.create({title:"Invalid root font size",message:"Since rem is a relative unit, root font size should be greater than 0.",done:{name:"GOT IT"}});else if(e!==o){n({updatedRemPreferences:{status:i,remRootFontSize:e}})}}),m(this,"handleRevertClick",()=>{const{parentStyleguideToInheritRemPreferences:e,onUpdate:t}=this.props;t({updatedRemPreferences:g(g({},e.remPreferences),{},{status:"linked"}),isRevert:!0})})}render(){const{permissions:{canManageRemSettings:e}}=this.context,{remPreferences:t,parentStyleguideToInheritRemPreferences:n}=this.props,{remRootFontSize:o,useForFontSizes:a,useForMeasurements:r}=t,d=a||r,f=!e||!d,g=n&&Object(l.default)(n.remPreferences,t),m=Object(s.default)("styleguideRemSettings codePanel",{enabled:d,permitted:e});return i.h("div",{class:m},i.h(c.Gutter,null),i.h("div",{class:"title"},i.h("h3",null,"rem")),i.h("label",{class:"label mainCheckboxLabel"},i.h(u.a,{class:Object(s.default)({enabled:d}),checked:d,disabled:!e,onChange:this.handleEnableStatusChange}),i.h("span",{class:"checkboxText"},"Use “rem” unit")),i.h("label",{class:"label"},i.h(u.a,{class:Object(s.default)({enabled:a}),checked:a,disabled:f,onChange:this.handleUseForFontSizeChange}),i.h("span",{class:"checkboxText"},"Use for font size")),i.h("label",{class:"label"},i.h(u.a,{class:Object(s.default)({enabled:r}),checked:r,disabled:f,onChange:this.handleUseForMeasurementsChange}),i.h("span",{class:"checkboxText"},"Use for measurements")),i.h("label",{class:"label rootFontSizeLabel"},i.h("span",null,"Root font size:"),i.h(h.default,{value:o,onBlur:this.handleRootFontSizeChange,suffix:"px",isDisabled:f})),g&&e&&i.h("div",{class:"hintBoxContainer"},i.h(p.default,{actionContent:"Revert",onActionClick:this.handleRevertClick},`This styleguide has overridden the rem settings from the parent styleguide "${n.name}".`)))}}b.propTypes={remPreferences:a.a.object.isRequired,parentStyleguideToInheritRemPreferences:a.a.object,onUpdate:a.a.func.isRequired},t.default=b},function(e,t,n){"use strict";n.r(t);var i=n(1721);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(1722);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=/^-?\d*[.]?\d*$/,c=/^0+/;class d extends i.Component{constructor(...e){super(...e),s(this,"normalizeValue",(e,t)=>{let n=e;return""!==n&&(n=l.test(e)?e.replace(c,""):t,(!n||n<0)&&(n=0)),n}),s(this,"handleKeyDown",(e,t)=>{if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();return(""===t?0:parseFloat(t))+1}if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const n=t-1;return n<0?0:n}return t}),s(this,"handleBlur",e=>{const{onBlur:t}=this.props;t(""===e?e:parseFloat(e))})}render(){const{value:e,placeholder:t,suffix:n,isDisabled:o}=this.props;return i.h(r.default,{value:e,suffix:n,placeholder:t,isDisabled:o,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,normalizeValue:this.normalizeValue})}}d.propTypes={value:a.a.number,onBlur:a.a.func.isRequired,placeholder:a.a.string,suffix:a.a.string,isDisabled:a.a.bool},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1723);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(416),s=n(244);n(1724);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{value:this.props.value,isFocused:!1}),l(this,"highlight",()=>{Object(s.highlightInput)(this.nodeRefs.input)}),l(this,"setValueToStateFromProps",()=>{this.setState({value:this.props.value})}),l(this,"handleKeyDown",e=>{const{onKeyDown:t,onEscape:n}=this.props;if(e.keyCode===Zeplin.KEY_CODE.ESC){if(e.preventDefault(),n)return void n();this.setValueToStateFromProps(),e.target.blur()}else e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.preventDefault(),e.target.blur());t&&this.setState({value:t(e,this.state.value)})}),l(this,"handleBlur",()=>{const{onBlur:e}=this.props;e(this.state.value),this.setState({isFocused:!1})}),l(this,"handleFocus",()=>{this.setState({isFocused:!0})}),l(this,"handleInput",e=>{const{normalizeValue:t}=this.props,{value:n}=this.state,{value:i}=e.target;this.setState({value:t?t(i,n):i})})}componentDidUpdate(){const{value:e,isFocused:t}=this.state;t||e===this.props.value||this.setValueToStateFromProps()}render(){const{placeholder:e,suffix:t,isDisabled:n}=this.props,{value:o}=this.state;return i.h("label",{class:"styleguideFormInputContainer ellipsis"},i.h("div",{class:"styleguideFormInputContent"},i.h("span",{class:"mirror ellipsis"},o),i.h("input",{ref:Object(r.default)(this,"input"),class:"styleguideFormInput ellipsis",placeholder:e,type:"text",minlength:"1",maxlength:"100",value:o,disabled:n,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus})),t)}}c.propTypes={value:a.a.oneOfType([a.a.string,a.a.number]),onBlur:a.a.func.isRequired,onEscape:a.a.oneOfType([a.a.func,a.a.bool]),normalizeValue:a.a.func,onKeyDown:a.a.func,placeholder:a.a.string,suffix:a.a.string,isDisabled:a.a.bool},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1727);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(416),s=n(395),l=n(978),c=n(991),d=n(1728),u=n(400),p=n(863),h=n(438);n(1737);class f extends i.Component{constructor(e){super(e),this.handleUpdateName=this.handleUpdateName.bind(this),this.handleEditDescription=this.handleEditDescription.bind(this),this.handleUpdateDescription=this.handleUpdateDescription.bind(this),this.handleCancelDescription=this.handleCancelDescription.bind(this),this.handleUpdateBaseToken=this.handleUpdateBaseToken.bind(this),this.handleDeleteSection=this.handleDeleteSection.bind(this),this.handleCreateToken=this.handleCreateToken.bind(this),this.handleUpdateToken=this.handleUpdateToken.bind(this),this.handleDeleteToken=this.handleDeleteToken.bind(this),this.handleContextMenuButtonClick=this.handleContextMenuButtonClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.state={isEditingDescription:!1,isContextMenuOpen:!1,shouldFocusOnTokenName:!1}}get isEditable(){const{isLocalStyleguide:e}=this.props,{permissions:{canManageSpacings:t}}=this.context;return e&&t}handleUpdateName({discard:e,value:t}){const{section:n,onUpdateSection:i}=this.props,{_id:o,name:a}=n;e||t===a||i({ssid:o,updatedSpacingSection:{name:t}})}handleEditDescription(){this.setState({isEditingDescription:!0})}handleUpdateDescription(e){const{section:t,onUpdateSection:n}=this.props,{_id:i,description:o}=t;this.setState({isEditingDescription:!1}),e!==o&&n({ssid:i,updatedSpacingSection:{description:e}})}handleCancelDescription(){this.setState({isEditingDescription:!1})}handleUpdateBaseToken(e){const{section:t,onUpdateSection:n}=this.props;n({ssid:t._id,updatedSpacingSection:{baseTokenId:e}})}handleDeleteSection(){const{onDeleteSection:e,section:t}=this.props;e(t._id)}handleCreateToken(){const{section:e,onCreateToken:t}=this.props;t(e._id)}handleUpdateToken(e,t,n=null){const{section:i,onUpdateToken:o}=this.props;o({ssid:i._id,sptid:e,updatedSpacingToken:t},n)}handleDeleteToken(e){const{section:{_id:t},onDeleteToken:n}=this.props;n({ssid:t,sptid:e})}handleContextMenuButtonClick(){this.setState({isContextMenuOpen:!0})}handleContextMenuClose(){this.setState({isContextMenuOpen:!1})}componentDidUpdate(e){const{shouldFocusOnTokenName:t}=this.state;this.props.section.spacingTokens.length>e.section.spacingTokens.length?this.setState({shouldFocusOnTokenName:this.isEditable}):t&&this.setState({shouldFocusOnTokenName:!1})}renderContextMenu(){const{contextMenuButtonContainer:e}=this.nodeRefs,{shouldDisplayDeleteButton:t,shouldDisplayCreateButton:n,onCreateSection:o}=this.props,a=e.getBoundingClientRect(),r=[];return n&&(r.push(i.h(p.default.Item,{key:"create",onClick:o},"Create new section")),t&&r.push(i.h(p.default.ItemDivider,{key:"warningDivider"}))),t&&r.push(i.h(p.default.Item,{key:"remove",onClick:this.handleDeleteSection,warning:!0},"Delete section")),i.h(p.default.withAutoPosition,{autoPosition:{sidebar:".spacingsSidebar",menuContainer:e,clickOrigin:{x:a.right-a.width,y:a.top}},onClose:this.handleContextMenuClose},r)}render(){const{section:e,highlightedSpacingTokens:t,barrelUser:n,shouldDisplayDeleteButton:o,shouldDisplayCreateButton:a,isLocalStyleguide:p,shouldPromoteDescriptionEditButton:f,dimensionSuffix:g,onSpacingTokenRowHover:m}=this.props,{name:b,description:S,baseTokenId:y,spacingTokens:C}=e,{isEditingDescription:v,isContextMenuOpen:O,shouldFocusOnTokenName:E}=this.state;return i.h("div",{class:"spacingSection"},i.h("div",{class:"nameContainer"},i.h(l.default,{value:b,required:!0,readOnly:!this.isEditable,onBlur:this.handleUpdateName}),this.isEditable&&(a||o)&&i.h("div",{ref:Object(r.default)(this,"contextMenuButtonContainer"),class:"contextMenuButtonContainer"},i.h(u.default,{class:Object(s.default)("contextMenuButton",{active:O}),onClick:this.handleContextMenuButtonClick},i.h(h.IconMenu,null),O&&this.renderContextMenu()))),i.h(c.default,{value:S,placeholder:"No description yet",editing:v,readOnly:!this.isEditable,shouldPromoteEditButton:f,onEdit:this.handleEditDescription,onUpdate:this.handleUpdateDescription,onCancel:this.handleCancelDescription}),i.h(d.default,{tokens:C,highlightedSpacingTokens:t,baseTokenId:y,dimensionSuffix:g,barrelUser:n,isLocalStyleguide:p,shouldFocusOnName:E,onSpacingTokenRowHover:m,onUpdateBaseToken:this.handleUpdateBaseToken,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken}))}}f.propTypes={section:a.a.object.isRequired,highlightedSpacingTokens:a.a.array.isRequired,barrelUser:a.a.object.isRequired,shouldDisplayDeleteButton:a.a.bool.isRequired,shouldDisplayCreateButton:a.a.bool.isRequired,isLocalStyleguide:a.a.bool.isRequired,shouldPromoteDescriptionEditButton:a.a.bool.isRequired,dimensionSuffix:a.a.string.isRequired,onSpacingTokenRowHover:a.a.func.isRequired,onCreateSection:a.a.func.isRequired,onUpdateSection:a.a.func.isRequired,onDeleteSection:a.a.func.isRequired,onCreateToken:a.a.func.isRequired,onUpdateToken:a.a.func.isRequired,onDeleteToken:a.a.func.isRequired},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1729);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(395),s=n(400),l=n(606),c=n(1730),d=n(906);n(1736);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const p=[{token:"spacing-xs",value:4},{token:"spacing-s",value:8},{token:"spacing-m",value:12}];class h extends i.Component{get isThereAnyToken(){const{tokens:e}=this.props;return Boolean(e&&e.length)}get tokensToRender(){return this.isThereAnyToken?this.props.tokens:p}get baseToken(){const{tokens:e,baseTokenId:t}=this.props;return t&&e.find(e=>e._id===t)||p[1]}get createTokenButtonText(){return this.isThereAnyToken?"+ Add token":"+ Add first token"}renderTokens(){const{highlightedSpacingTokens:e,dimensionSuffix:t,isLocalStyleguide:n,shouldFocusOnName:o,onSpacingTokenRowHover:a,onUpdateBaseToken:r,onUpdateToken:s,onDeleteToken:l}=this.props;return this.tokensToRender.map((d,u)=>{const{_id:p,token:h,value:f}=d;return i.h(c.default,{key:`spacingTokenTableRow-${h}-${f}-${p}`,isEmpty:!this.isThereAnyToken,shouldHighlight:e.includes(p),shouldFocusOnName:o&&u===this.tokensToRender.length-1,tokenData:d,baseToken:this.baseToken,dimensionSuffix:t,isLocalStyleguide:n,onHover:a,onUpdateBaseToken:r,onUpdateToken:s,onDeleteToken:l})})}renderCreateButton(){const{isLocalStyleguide:e,onCreateToken:t}=this.props,{permissions:{canManageSpacings:n}}=this.context,o={};return this.isThereAnyToken?o.ninja=!0:(o.primary=!0,o.disabled=!n),e?i.h(s.default,u({class:"createButton",onClick:t},o),this.createTokenButtonText):null}renderCreateButtonWithOrWithoutTooltip(){const{permissions:{canManageSpacings:e}}=this.context,{isLocalStyleguide:t}=this.props;if(e)return this.renderCreateButton();const{barrelUser:n}=this.props;return t&&!this.isThereAnyToken?i.h(l.default,{targetClass:"createButtonTooltip",content:Object(d.default)(n.role,"add spacing tokens")},this.renderCreateButton()):null}render(){return i.h("div",{class:Object(r.default)("spacingTokenTable",{empty:!this.isThereAnyToken})},i.h("div",{class:"header"},i.h("div",{class:"headerCell"},"Token"),i.h("div",{class:"headerCell"},"Value"),i.h("div",{class:"headerCell"},"Ratio"),i.h("div",{class:"headerCell"},"Example")),this.renderTokens(),this.renderCreateButtonWithOrWithoutTooltip())}}h.propTypes={tokens:a.a.array.isRequired,highlightedSpacingTokens:a.a.array.isRequired,baseTokenId:a.a.string,dimensionSuffix:a.a.string.isRequired,barrelUser:a.a.object.isRequired,isLocalStyleguide:a.a.bool.isRequired,shouldFocusOnName:a.a.bool.isRequired,onSpacingTokenRowHover:a.a.func.isRequired,onUpdateBaseToken:a.a.func.isRequired,onCreateToken:a.a.func.isRequired,onUpdateToken:a.a.func.isRequired,onDeleteToken:a.a.func.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(416),s=n(301),l=n(250),c=n(395),d=n(1722),u=n(1720),p=n(1731),h=n(537),f=n(400),g=n(863),m=n(438),b=n(1717);n(1735);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),S(this,"state",{isColorPickerPopoverOpen:!1,isContextMenuOpen:!1,colorPickerPopoverLeft:0}),S(this,"calculateRatio",e=>Object(s.round)(e/this.props.baseToken.value,3)),S(this,"handleMouseEnter",()=>{const{tokenData:{_id:e},shouldHighlight:t,onHover:n}=this.props;t&&n(e)}),S(this,"handleTokenNameInputBlur",e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,token:o}=n;e===o&&i!==b.CANDIDATE_SPACING_TOKEN||t(i,{token:e})}),S(this,"handleTokenNameInputEscape",()=>{const{onDeleteToken:e,tokenData:t}=this.props,{_id:n}=t;n===b.CANDIDATE_SPACING_TOKEN&&e(n)}),S(this,"handleTokenValueInputBlur",e=>{const{onUpdateToken:t,tokenData:n,dimensionSuffix:i}=this.props,{_id:o,value:a}=n;e!==a&&t(o,{value:e},i)}),S(this,"handleTokenColorChange",e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,color:o}=n;new l.default(o).equals(e)||t(i,{color:e})}),S(this,"handleColorPickerPopoverOpen",()=>{const{exampleContainer:e}=this.nodeRefs,t=e.getBoundingClientRect();this.setState({isColorPickerPopoverOpen:!0,colorPickerPopoverLeft:-t.width/2})}),S(this,"handleColorPickerPopoverClose",()=>{this.setState({isColorPickerPopoverOpen:!1})}),S(this,"handleContextMenuButtonClick",()=>{this.setState({isContextMenuOpen:!0})}),S(this,"handleContextMenuClose",()=>{this.setState({isContextMenuOpen:!1})}),S(this,"handleUpdateBaseToken",()=>{const{tokenData:e,onUpdateBaseToken:t}=this.props;t(e._id)}),S(this,"handleDeleteToken",()=>{const{onDeleteToken:e,tokenData:t}=this.props;e(t._id)})}get isEditable(){const{isEmpty:e,isLocalStyleguide:t}=this.props,{permissions:{canManageSpacings:n}}=this.context;return t&&n&&!e}componentDidUpdate(){this.props.shouldFocusOnName&&this.nodeRefs.spacingTokenTableRowNameInput.highlight()}renderExampleWithOrWithoutPopover(){if(!this.isEditable)return this.renderExample();const{isColorPickerPopoverOpen:e,colorPickerPopoverLeft:t}=this.state;return i.h(h.default,{open:e,onOpen:this.handleColorPickerPopoverOpen,onClose:this.handleColorPickerPopoverClose,content:this.renderColorPickerPopoverContent(),contentClass:"spacingTokenTableRowColorPickerPopoverContent",left:t,centerY:!0,faceTop:!0,stickToEdge:!0},this.renderExample())}renderColorPickerPopoverContent(){const{tokenData:e}=this.props;return i.h(p.default,{selected:e.color,onChange:this.handleTokenColorChange})}renderExample(){const{tokenData:e}=this.props,{value:t,color:n}=e,o={width:t+"px",height:t+"px",backgroundColor:n&&new l.default(n).toRGBAString()};return i.h("div",{class:"exampleContainer",ref:Object(r.default)(this,"exampleContainer")},i.h("div",{class:"example",style:o},t>180&&i.h("a",{class:"oversizeExampleWarningText",target:"_blank",href:"https://zpl.io/notactualsize"},"*Not actual size")))}renderContextMenu(e){const{baseToken:t}=this.props,{contextMenuButton:n}=this.nodeRefs,o=n.getBoundingClientRect();return i.h(g.default.withAutoPosition,{autoPosition:{sidebar:".spacingsSidebar",menuContainer:n,clickOrigin:{x:o.left+24,y:o.top-24}},onClose:this.handleContextMenuClose},e!==t._id&&[i.h(g.default.Item,{key:"chooseAsBaseToken",onClick:this.handleUpdateBaseToken},'Choose as "base"'),i.h(g.default.ItemDivider,{key:"warningDivider"})],i.h(g.default.Item,{key:"remove",onClick:this.handleDeleteToken,warning:!0},"Delete token"))}render(){const{isEmpty:e,shouldHighlight:t,tokenData:n,dimensionSuffix:o}=this.props,{isColorPickerPopoverOpen:a,isContextMenuOpen:s}=this.state,{_id:l,token:p,value:h}=n,g=this.calculateRatio(h),S=Object(c.default)("spacingTokenTableRow",{empty:e,highlight:t,readOnly:!this.isEditable,colorPickerPopoverOpen:a,contextMenuOpen:s});return i.h("div",{class:S,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"cell inputCell"},i.h(d.default,{ref:Object(r.default)(this,"spacingTokenTableRowNameInput"),value:p,onBlur:this.handleTokenNameInputBlur,onEscape:l===b.CANDIDATE_SPACING_TOKEN&&this.handleTokenNameInputEscape,isDisabled:!this.isEditable})),i.h("div",{class:"cell inputCell"},i.h(u.default,{value:h,onBlur:this.handleTokenValueInputBlur,suffix:o,isDisabled:!this.isEditable})),i.h("div",{class:"cell ratioCell ellipsis"},g&&g!==1/0?g:"-"),i.h("div",{class:"cell exampleCell"},h?this.renderExampleWithOrWithoutPopover():"👻"),this.isEditable&&i.h(f.default,{baseRef:Object(r.default)(this,"contextMenuButton"),class:"contextMenuButton",onClick:this.handleContextMenuButtonClick},i.h(m.IconMenu,null),s&&this.renderContextMenu(l)))}}y.propTypes={isEmpty:a.a.bool.isRequired,shouldHighlight:a.a.bool.isRequired,shouldFocusOnName:a.a.bool.isRequired,isLocalStyleguide:a.a.bool.isRequired,tokenData:a.a.object.isRequired,baseToken:a.a.object.isRequired,dimensionSuffix:a.a.string.isRequired,onHover:a.a.func.isRequired,onUpdateBaseToken:a.a.func.isRequired,onUpdateToken:a.a.func.isRequired,onDeleteToken:a.a.func.isRequired},t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1732);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(250),s=n(395),l=n(1733);n(1734);class c extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusedColorIndex:null}}handleKeyDown(e){const{onChange:t}=this.props,{focusedColorIndex:n}=this.state;let i=n||0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n>=6&&(i=n-6);break;case Zeplin.KEY_CODE.ArrowRight:e.preventDefault(),n%6<5&&n<l.colorOptions.length-1&&(i=n+1);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n<l.colorOptions.length-6&&(i=n+6);break;case Zeplin.KEY_CODE.ArrowLeft:e.preventDefault(),n%6>0&&(i=n-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),t(l.colorOptions[i])}this.setState({focusedColorIndex:i})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderColorCells(){const{selected:e,onChange:t}=this.props,{focusedColorIndex:n}=this.state;return l.colorOptions.map((o,a)=>{const l=Object(s.default)("colorPickerCell",{selected:new r.default(e).equals(o),focused:n===a}),c=new r.default(o).toRGBAString();return i.h("div",{key:c,class:l,style:{backgroundColor:c},onClick:()=>t(o)})})}render(){return i.h("div",{class:"spacingTokenTableRowColorPicker"},i.h("p",{class:"description"},"Select a color to use while displaying the spacing tokens on the layer detail. Overlays will be transparent."),i.h("div",{class:"colorPickerContainer"},this.renderColorCells()))}}c.propTypes={selected:a.a.string,onChange:a.a.func.isRequired},t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"colorOptions",(function(){return i}));const i=[{r:255,g:128,b:128,a:.2},{r:255,g:179,b:102,a:.2},{r:230,g:230,b:46,a:.2},{r:149,g:230,b:69,a:.2},{r:102,g:204,b:102,a:.2},{r:36,g:179,b:107,a:.2},{r:71,g:179,b:179,a:.2},{r:82,g:143,b:204,a:.2},{r:89,g:89,b:179,a:.2},{r:153,g:102,b:204,a:.2},{r:204,g:143,b:204,a:.2},{r:255,g:179,b:217,a:.2}]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1740);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(261),a=n.n(o),r=n(245),s=n(416),l=n(242),c=n(227),d=n(383),u=n(395),p=n(246),h=n(254),f=n(1146),g=n(1398),m=n(1701),b=n(258),S=n(230),y=n(385),C=n(371),v=n.n(C),O=n(376),E=n(361),T=n(269),_=n.n(T),P=n(505),j=n.n(P),D=n(1741),k=n(1744),I=n(1778),R=n(1663),A=n(1217),w=n(1669),N=n(1693),L=n(438),x=n(364);n(1798);function M(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=r.sortBy.date.bind(null,["latestVersion","created"]);function z(e){const t={};return function e(t,n){t.forEach(t=>{t.components.forEach(e=>{const t=Object(r.getTimeSlot)(new Date(e.latestVersion.created));t in n||(n[t]=[]),n[t].push(e)}),e(t.componentSections,n)})}(e,t),Object.keys(t).map(e=>({_id:e,name:Object(p.uppercaseFirst)(e),components:t[e].sort(B),componentSections:[]}))}function V(e,t){switch(t){case S.SortTypes.UPDATED:return z(e);case S.SortTypes.NAME:return function(e){return[{_id:"sortedByName",name:"sortedByName",components:Object(r.collectComponents)(e).sort(r.sortBy.name),componentSections:[]}]}(e);case S.SortTypes.SECTIONS:default:return e}}class W extends i.Component{constructor(...e){super(...e),U(this,"state",{componentContextMenu:{},styleguideToShowComponentEditHintBox:null}),U(this,"visibleComponents",new Set),U(this,"openComponentContextMenu",(e,t,n)=>{const{canManageStyleguide:i,barrelId:o}=this.state;i&&(n.preventDefault(),o!==e?this.setState({styleguideToShowComponentEditHintBox:e}):this.setState({componentContextMenu:{coid:t,clickOrigin:{x:n.clientX,y:n.clientY}}}))}),U(this,"closeComponentContextMenu",()=>{this.setState({componentContextMenu:{}})}),U(this,"setAndFocusToStyleguideForEditHintBox",e=>{this.setState({styleguideToShowComponentEditHintBox:e});const t=this.nodeRefs["styleguideHeader-"+e];setTimeout(()=>t.nodeRefs.base.scrollIntoView({behavior:"smooth"}))}),U(this,"unsetStyleguideForComponentEditHintBox",()=>{this.setState({styleguideToShowComponentEditHintBox:null})}),U(this,"deselectComponent",()=>{const{selection:e}=this.state;e&&this.handleComponentSelect(null,null)}),U(this,"goToTop",()=>{if(!this.nodeRefs)return;const{components:e}=this.nodeRefs;e.scrollTop=0}),U(this,"goToStyleguideToEdit",()=>{const{styleguideToShowComponentEditHintBox:e}=this.state;x.default.history.push(Object(l.urlResolve)("styleguide-components",{url:{bid:e}}))}),U(this,"handleMoveSectionClick",({section:e,targetNode:t})=>{y.default.openMoveResourcesPopup({resourceType:S.RESOURCE_TYPE.COMPONENTS,resources:[e],targetNode:t})}),U(this,"handleComponentDrop",({mirrorPosition:e,sourceStyleguideId:t,sourceIdPath:n,sourceIndex:i,targetStyleguideId:o,targetIdPath:a,targetIndex:s})=>{const{barrelId:l}=this.state,c=a[a.length-1],d=this.getComponentRef(c).getBoundingClientRect(),u=e.left>d.left+d.width/2;let p=s;if(n.slice(0,-1).join()===a.slice(0,-1).join()){if(i>s&&u?p=s+1:i<s&&!u&&(p=s-1),i===p)return}else u&&(p=s+1);if(t===o&&Object(r.arrayEqual)(n,a,(e,t)=>e===t)&&i===p)return;if(l!==t||l!==o)return void this.setAndFocusToStyleguideForEditHintBox(t);const h=[{coid:n[n.length-1],csid:n.slice(0,-1),tcsid:a.slice(0,-1),sourceIndex:i,to:p}];O.default.updateComponentsOrder({components:h,syncWithApi:!0})}),U(this,"handleSectionOrGroupDrop",({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:n,sourceStyleguideId:i,targetStyleguideId:o,to:a})=>{const{barrelId:r}=this.state;if(r!==i||r!==o)return void this.setAndFocusToStyleguideForEditHintBox(i);const s={csid:t,sourceIndex:e,to:a};n&&(s.tcsid=n),O.default.updateComponentSectionsOrder({componentSections:[s],syncWithApi:!0})}),U(this,"handleComponentToSectionOrGroupDrop",({sourceIdPath:e,sourceIndex:t,targetIdPath:n,to:i,sourceStyleguideId:o,targetStyleguideId:a})=>{const{barrelId:r}=this.state;if(r!==o||r!==a)return void this.setAndFocusToStyleguideForEditHintBox(o);const s=[{coid:e[e.length-1],csid:e.slice(0,-1),tcsid:n,sourceIndex:t,to:i}];O.default.updateComponentsOrder({components:s,syncWithApi:!0})}),U(this,"handleComponentSelect",(e,t)=>{const{barrel:{id:n},selection:i}=this.state,o=e?t:null;if(!i&&!o||i&&o&&i._id===o._id)return;let a;y.default.changeSelection({selectionComponentId:e,selection:o}),e&&(a={coid:e}),window.history.replaceState({},"Components - Styleguide - Zeplin",Object(l.urlResolve)(this.slugPrefix()+"-components",{url:{bid:n},query:a}))}),U(this,"handleComponentsVisible",e=>{const{barrel:t,barrelUser:n}=this.state;if("pawn"===n.role)return e.forEach(e=>{delete e.latestVersion.snapshot.layers,delete e.latestVersion.snapshot.assets}),void y.default.componentSnapshotsReady();Promise.all(e.filter(e=>!e.latestVersion.snapshot.layers).map(e=>Object(b.fetchSnapshot)(e.latestVersion.fullSnapshotUrl).then(n=>(Object(g.preprocessLayers)(n.layers),e.latestVersion.snapshot=n,n.assets.map(i=>Object(g.addAssetStats)(t.id,e._id,n,i)))))).then(e=>{y.default.componentSnapshotsReady()})}),U(this,"handleFilter",e=>{y.default.changeFilterValue(e)}),U(this,"handleSort",e=>{const{sortType:t}=this.state;t!==e&&y.default.changeSortType(e)}),U(this,"handleExpandSectionOrGroup",e=>{y.default.expandSections([e])}),U(this,"handleCollapseSectionOrGroup",e=>{y.default.collapseSections([e])}),U(this,"handleExpandAllSections",()=>{const e=v.a.getCollapsedSectionIds();e.length>0&&y.default.expandSections(e)}),U(this,"handleKeyDown",e=>{Object(c.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),y.default.collapseAllSections()):Object(c.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections())}),U(this,"observeComponent",e=>{this.getIntersectionObserver().observe(e)}),U(this,"unobserveComponent",e=>{this.getIntersectionObserver().unobserve(e)}),U(this,"getComponentRef",e=>this.nodeRefs&&this.nodeRefs["styleguideComponent-"+e]),U(this,"handleComponentRef",(e,t)=>{t&&Object(s.default)(this,"styleguideComponent-"+e)(t)}),U(this,"handleBaseRef",e=>{Object(s.default)(this,"components")(e),this.props.baseRef(e)})}static getStores(){return[_.a.BarrelStore,_.a.StyleguideStore,_.a.StyleguidesDataStore,_.a.ProjectsDataStore,_.a.UserStore]}static calculateState(){const e=_.a.BarrelStore.getState(),{loading:t}=e,n=M(e,["loading"]);if(t)return{loading:!0};const{barrelId:i,barrelType:o}=n,{moveResourcesPopup:a,scrolledSection:s,collapsedSections:l,highlightScrolledSection:c,selectionComponentId:u,selection:p,sortType:h,filterValue:g,rightSidebarWidth:m,convertedAnySectionIntoVariant:b}=_.a.StyleguideStore.getState(),S=E.default.getBarrel(),y=E.default.findUser(),C=new f.default(S),v=E.default.getStyleguidesData({barrelStore:_.a.BarrelStore,styleguidesDataStore:_.a.StyleguidesDataStore,projectsDataStore:_.a.ProjectsDataStore}),{barrelId:O,component:T}=Object(d.findComponentById)(v,u)||{};let P=p;return!P&&T&&(P=T),{loading:!1,barrel:S,barrelId:i,barrelUser:y,barrelType:o,moveResourcesPopup:a,scrolledSection:s,collapsedSections:l,highlightScrolledSection:c,selectionComponentId:u,sidebarWidth:m,sortType:h,filterValue:g,canManageStyleguide:r.permissions.canUpdateStyleguide(y),selection:P,selectionStyleguideId:O,selectionComponent:T,formatter:C,styleguidesData:v,convertedAnySectionIntoVariant:b}}get componentCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+Object(r.collectComponents)(t).length,0)}get sectionCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+t.length-1,0)}get variantSectionCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+t.reduce((e,{variant:t})=>e+(t?1:0),0),0)}processComponents(e){const{sortType:t,filterValue:n}=this.state;return n?function(e,t){const n=Object(r.collectComponents)(e),i=new WeakMap(n.map(e=>[e,Object(h.calculateMatchingScore)(t,e.name)])),o=n.filter(e=>i.get(e));return o.length?[{_id:"filtered",name:"filtered",components:o.sort((e,t)=>i.get(t)-i.get(e)||r.sortBy.name(e,t)),componentSections:[]}]:[]}(e,n):V(e,t)}getIntersectionObserver(){return this.observer||(this.observer=new IntersectionObserver(e=>{const{styleguidesData:t}=this.state;e.forEach(e=>{const n=e.target.dataset.id,{component:i,ancestors:o}=Object(d.findComponentById)(t,n)||{};if(i)if(e.isIntersecting){let e=[i];if(i.variant){const t=o.find(e=>!!e.variant);e=Object(r.collectComponents)([t])}e.forEach(e=>{this.visibleComponents.add(e)})}else this.visibleComponents.delete(i)}),window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(e=>{this.handleComponentsVisible([...this.visibleComponents])},80)},{root:this.nodeRefs.components})),this.observer}slugPrefix(){const{barrelType:e}=this.state;return e===a.a.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{selectionComponent:e}=this.state;e&&setTimeout(()=>{document.addEventListener("click",this.deselectComponent)},4),document.addEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(){const{selectionComponent:e}=this.state;e?document.addEventListener("click",this.deselectComponent):document.removeEventListener("click",this.deselectComponent)}componentWillUnmount(){this.getIntersectionObserver().disconnect(),document.removeEventListener("click",this.deselectComponent),document.removeEventListener("keydown",this.handleKeyDown,!0)}renderComponents(){const{barrel:e,barrelId:t,barrelUser:n,moveResourcesPopup:o,scrolledSection:a,collapsedSections:c,highlightScrolledSection:d,selection:u,selectionComponent:p,sortType:h,filterValue:f,styleguidesData:g,styleguideToShowComponentEditHintBox:b,componentContextMenu:C}=this.state,{hasDraggingElement:v,onLinkStyleguide:O}=this.props;if(!this.componentCount)return i.h(R.default,{type:R.default.TYPE.COMPONENTS,onButtonClick:O});const E=g.map(({id:e,name:t,componentSections:n})=>{const i=this.processComponents(n);return{id:e,name:t,componentCount:Object(r.collectComponents)(i).length,componentSections:i}}),T=E.reduce((e,{componentCount:t})=>e+t,0),_=h===S.SortTypes.UPDATED,P=h!==S.SortTypes.SECTIONS,j=h!==S.SortTypes.UPDATED||!!f,I=p&&p._id;return i.h("div",{class:"componentsDragDropItems"},i.h(D.default,{selectedSortType:h,filterValue:f,onSort:this.handleSort,onFilter:this.handleFilter}),T?E.map(({id:r,name:p,componentCount:h,componentSections:g})=>{if(!h)return null;const S=r===t,O=S?null:i.h("a",{href:Object(l.urlResolve)("styleguide-components",{url:{bid:r}}),class:"headerButton",title:"Go to "+p,"data-link-type":"inApp","data-back":e.name},i.h(L.IconGoTo,null));return[i.h(w.default,{ref:Object(s.default)(this,"styleguideHeader-"+r),key:"styleguideHeader-"+r,scroll:a===r,highlight:a===r&&d,onScroll:y.default.sectionScrolled},p,O),b===r&&!S&&i.h(N.default,{key:"hintbox",styleguideSectionToEdit:"components",styleguideName:p,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForComponentEditHintBox}),i.h("div",{key:"components-"+r,class:"componentSections"},g.map((s,l)=>{const p=s.componentSections.length+s.components.length===0,h=o&&o.data&&o.data._id===s._id;return i.h(k.default,{key:s.key||s._id,styleguideId:r,index:l,data:s,hasDraggingElement:v,variantSectionCount:this.variantSectionCount,collapsedSections:c,collapsed:!p&&c[s._id],handleComponentRef:this.handleComponentRef,getComponentRef:this.getComponentRef,barrelThumbnail:e.thumbnail,scrolledSection:a,highlightScrolledSection:d,actionsDisabled:_,selectionComponentId:I,selection:u,visibleComponents:this.visibleComponents,defaultSection:!l&&j,readOnly:P,filterValue:f,onSelect:this.handleComponentSelect,componentContextMenu:C,optionsActive:h,showMoveSectionAction:r===t&&Object(m.default)(e,n),onMoveSectionClick:this.handleMoveSectionClick,onComponentDidMount:this.observeComponent,onComponentDidUnmount:this.unobserveComponent,onComponentContextMenu:this.openComponentContextMenu,onCloseComponentContextMenu:this.closeComponentContextMenu,onComponentDrop:this.handleComponentDrop,onSectionOrGroupDrop:this.handleSectionOrGroupDrop,onComponentToSectionOrGroupDrop:this.handleComponentToSectionOrGroupDrop,onOpenGoToStyleguideToEditHint:this.setAndFocusToStyleguideForEditHintBox,onExpandSectionOrGroup:this.handleExpandSectionOrGroup,onCollapseSectionOrGroup:this.handleCollapseSectionOrGroup})}))]}):i.h(A.default,{text:"No components with this name 🤷‍♀️"}))}renderSidebar(){const{loading:e}=this.state;if(e)return null;const{sidebarWidth:t,formatter:n,selectionStyleguideId:o,selectionComponent:a,selection:r,styleguidesData:s,convertedAnySectionIntoVariant:l}=this.state,{onExportClick:c}=this.props;return i.h(I.default,{componentCount:this.componentCount,sectionCount:this.sectionCount,variantSectionCount:this.variantSectionCount,convertedAnySectionIntoVariant:l,selectionStyleguideId:o,selectionComponent:a,selection:r,formatter:n,width:t,styleguidesData:s,onCloseClick:this.deselectComponent,onExportClick:c})}render(){const{loading:e,componentContextMenu:t}=this.state;if(e)return null;const n=Object(u.default)("styleguideContainerContent","componentsContent",{componentContextMenuOpen:!!t.coid});return i.h(i.Fragment,null,i.h("div",{class:n,ref:this.handleBaseRef},this.renderComponents()),this.renderSidebar())}}t.default=j()(W)},function(e,t,n){"use strict";n.r(t);var i=n(1742);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(867),a=n(509),r=n(230);n(1743);const s=[{label:"Sort by Sections",dropdownLabel:"Sections",value:r.SortTypes.SECTIONS},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:r.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:r.SortTypes.NAME}];function l({onSort:e,selectedSortType:t}){return i.h(a.default,{class:"componentsSortDropdown",onChange:e,optionsClass:"componentsSortOptions"},s.map(({label:e,dropdownLabel:n,value:o,class:r})=>i.h(a.default.Item,{class:r,key:o,value:o,label:e,dropdownLabel:n,selected:o===t})))}t.default=function({onFilter:e,onSort:t,selectedSortType:n,filterValue:a}){return i.h(o.default,{class:"componentsFilterSortView",onFilter:e,filterValue:a,searchPlaceholder:"Search for a component",searchPlaceholderWidth:160,leftContent:i.h(l,{onSort:t,selectedSortType:n})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1745);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(971),a=n(974),r=n(1746),s=n(1748),l=n(1756),c=n(1771),d=n.n(c),u=n(1012),p=n(511),h=n(1774),f=n.n(h),g=n(1005),m=n(376),b=n(361),S=n(269),y=n.n(S),C=n(385),v=n(241),O=n(416),E=n(246),T=n(314),_=n(383),P=n(505),j=n.n(P);n(1777);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function R(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w="addProperty",N="removeVariants";class L extends i.Component{constructor(...e){super(...e),A(this,"state",{addingDescription:!1,loadingVariants:null,variantOptionsMenuOpen:!1,variantOnboardingDialogOpen:!1,variantFilter:{}}),A(this,"variantOptionsButtonRef",i.createRef()),A(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),A(this,"highlightName",()=>{this.componentRefs.section.highlightName()}),A(this,"closeVariantOptions",()=>{this.setState({variantOptionsMenuOpen:!1})}),A(this,"handleAddDescriptionClick",()=>{this.setState({addingDescription:!0})}),A(this,"handleGroupNameChange",(e,t)=>{m.default.updateComponentSection({csids:e,componentSectionData:{name:t},isComponentGroup:!0,syncWithApi:!0})}),A(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==T.TEMPORARY_COMPONENT_SECTION_ID?m.default.updateComponentSection({csids:[n],componentSectionData:{name:t},syncWithApi:!0}):this.highlightName())}),A(this,"handleDescriptionBlur",({discard:e,value:t})=>{this.state.addingDescription&&this.setState({addingDescription:!1});const{data:{_id:n,description:i}}=this.props;e||i===t||m.default.updateComponentSection({csids:[n],componentSectionData:{description:t},syncWithApi:!0})}),A(this,"handleCopyWebLink",()=>{const{data:{_id:e}}=this.props;m.default.copyComponentSectionWebLink({seid:e}),mixpanel.master.track("Copied web link",{Target:"Component section"})}),A(this,"handleCopyAppURI",()=>{const{data:{_id:e}}=this.props;m.default.copyComponentSectionAppURI({cseid:e}),mixpanel.master.track("Copied app URI",{Target:"Component section"})}),A(this,"handleCreateSection",(e,t)=>{const{index:n}=this.props,i={index:n+1,name:"Untitled Section",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]};m.default.addComponentSection({csids:[],componentSection:i,syncWithApi:!0})}),A(this,"handleCreateGroup",(e,t,n)=>{const i={index:n||0,name:"Untitled Group",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]},o=e.slice(0,1);m.default.addComponentSection({csids:o,componentSection:i,isCreateGroup:!0,syncWithApi:!0})}),A(this,"handleSetAsThumbnail",e=>{m.default.updateThumbnail({thumbnail:e,syncWithApi:!0})}),A(this,"handleDeleteSection",()=>{const{data:{_id:e},index:t}=this.props;m.default.mergeComponentSection({csids:[e],index:t,syncWithApi:!0})}),A(this,"handleComponentContextMenu",(e,t)=>{const{onComponentContextMenu:n,styleguideId:i}=this.props;n(i,e,t)}),A(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})}),A(this,"handleVariantOptionsMenuClick",(e,t)=>{const{data:{_id:n}}=this.props;switch(t){case w:C.default.createComponentVariantProperty({csid:n,syncWithApi:!0});break;case N:v.create({message:"Unset as variant section?",done:{name:"CONVERT",cb:()=>{this.setState({loadingVariants:"toRegular"}),C.default.convertVariantSectionToSection({csid:n,syncWithApi:!0})}},cancel:!0})}}),A(this,"handleVariantsOnboardingDialogClose",()=>{this.setState({variantOnboardingDialogOpen:!1}),C.default.hideComponentVariantsOnboardingDialog()}),A(this,"handleConvertSectionToVariantSection",()=>{const{data:{_id:e}}=this.props;this.setState({loadingVariants:"toVariant"}),C.default.convertSectionToVariantSection({csid:e,syncWithApi:!0}),this.handleVariantsOnboardingDialogClose()}),A(this,"handleVariantOptionsButtonClick",()=>{const{styleguideId:e,data:{variant:t},onOpenGoToStyleguideToEditHint:n}=this.props,{barrelId:i,componentVariantsOnboardingDialogSeen:o}=this.state;if(e===i)return t?void this.setState({variantOptionsMenuOpen:!0}):o?void this.handleConvertSectionToVariantSection():void this.setState({variantOnboardingDialogOpen:!0});n(e)}),A(this,"handleVariantOptionsPortalDidRender",e=>{const t=this.variantOptionsButtonRef.current.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom,o=t.right-n.width;let a,r;r=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,a=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${a}px, ${r}px, 0)`}),A(this,"handleVariantPropertValueClick",(e,t)=>{const{variantFilter:n}=this.state;if(n[e]!==t)this.setState({variantFilter:k(k({},n),{},{[e]:t})});else{const{[e]:t}=n,i=I(n,[e].map(R));this.setState({variantFilter:i})}}),A(this,"handleComponentGroupCopyWebLink",e=>{const{barrelId:t,barrelType:n}=this.state;m.default.copyComponentSectionWebLink({bid:t,barrelType:n,seid:e})}),A(this,"handleComponentGroupCopyAppURI",e=>{const{barrelId:t,barrelType:n}=this.state;m.default.copyComponentSectionAppURI({bid:t,barrelType:n,cseid:e})}),A(this,"handleOptionsMenuOpen",()=>{const{data:{_id:e}}=this.props,{barrelId:t,barrelType:n}=this.state;m.default.fetchComponentSectionShortLink({bid:t,barrelType:n,seid:e})}),A(this,"handleGroupOptionsMenuOpen",e=>{const{barrelId:t,barrelType:n}=this.state;m.default.fetchComponentSectionShortLink({bid:t,barrelType:n,seid:e})})}static getStores(){return[y.a.BarrelStore,y.a.StyleguideStore,y.a.StyleguidesDataStore,y.a.ProjectsDataStore]}static calculateState(){const{loading:e,barrelId:t,barrelType:n}=y.a.BarrelStore.getState(),{componentVariantsOnboardingDialogSeen:i}=y.a.StyleguideStore.getState();return e?{loading:!0}:{loading:!1,barrelId:t,barrelType:n,styleguidesData:b.default.getStyleguidesData({barrelStore:y.a.BarrelStore,styleguidesDataStore:y.a.StyleguidesDataStore,projectsDataStore:y.a.ProjectsDataStore}),componentVariantsOnboardingDialogSeen:i}}handleDeleteComponent(e){const{_id:t,idPath:n}=e;m.default.removeComponent({csids:n.slice(0,n.length-1),coid:t,syncWithApi:!0})}componentDidMount(){this.props.data.newSection&&this.highlightName()}componentDidUpdate(e,t){const{hasDraggingElement:n}=e,{addingDescription:i}=t,{data:{variant:o},hasDraggingElement:a}=this.props,{loadingVariants:r,addingDescription:s,variantOptionsMenuOpen:l}=this.state;!i&&s&&this.highlightDescription(),r&&("toVariant"===r&&o||"toRegular"===r&&!o)&&this.setState({loadingVariants:null}),!n&&a&&l&&this.closeVariantOptions()}renderComponentGroups(){const{data:{componentSections:e,variant:t},styleguideId:n,selectionComponentId:o,selection:a,visibleComponents:s,filterValue:l,barrelThumbnail:c,scrolledSection:d,highlightScrolledSection:u,handleComponentRef:p,getComponentRef:h,collapsedSections:f,collapsed:g,onSelect:b,componentContextMenu:S,onComponentDidMount:y,onComponentDidUnmount:v,onCloseComponentContextMenu:O,onComponentDrop:E,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onExpandSectionOrGroup:P,onCollapseSectionOrGroup:j}=this.props,{styleguidesData:D,variantFilter:k}=this.state;return!g&&e&&e.length?i.h("div",{class:"componentGroups"},e.map((e,g)=>i.h(r.default,{key:e.key||e._id,styleguideId:n,index:g,data:e,collapsed:!!e.components.length&&f[e._id],styleguidesData:D,sectionVariant:t,barrelThumbnail:c,onComponentDidMount:y,onComponentDidUnmount:v,visibleComponents:s,filterValue:l,variantFilter:k,selectionComponentId:o,selection:a,scroll:d===e._id,highlight:d===e._id&&u,handleComponentRef:p,getComponentRef:h,onNameChange:this.handleGroupNameChange,onSelect:b,onScroll:C.default.sectionScrolled,componentContextMenu:S,onCreateSection:this.handleCreateSection,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:this.handleSetAsThumbnail,onDeleteComponent:this.handleDeleteComponent,onDeleteGroup:m.default.mergeComponentSection,onComponentContextMenu:this.handleComponentContextMenu,onCloseComponentContextMenu:O,onComponentDrop:E,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onCopyWebLink:this.handleComponentGroupCopyWebLink,onCopyAppURI:this.handleComponentGroupCopyAppURI,onOptionsMenuOpen:this.handleGroupOptionsMenuOpen,onExpand:P,onCollapse:j}))):null}renderComponents(){const{data:{components:e,variant:t},styleguideId:n,selectionComponentId:o,selection:a,visibleComponents:r,filterValue:l,barrelThumbnail:c,defaultSection:d,handleComponentRef:u,getComponentRef:p,collapsed:h,onSelect:f,componentContextMenu:{coid:g,clickOrigin:m},onComponentDidMount:b,onComponentDidUnmount:S,onCloseComponentContextMenu:y,onComponentDrop:C}=this.props,{styleguidesData:v,variantFilter:O}=this.state;if(h||!e||!e.length)return null;const E=Boolean(Object.keys(O).length),T=e.filter(e=>{const{variant:t}=e;return!t||!E||Object.entries(O).every(([e,n])=>{const i=t.values.find(({propertyId:t})=>t===e);return i&&i.value===n})});if(E&&!T.length)return null;const P=Object(_.findOmittedVariantProperties)(e),j=T.map((h,O)=>{const E=e[O-1],T=e[O+1];return i.h(s.default,{styleguideId:n,key:h._id,leftComponentId:E&&E._id,rightComponentId:T&&T._id,index:O,data:h,sectionVariant:t,omittedProperties:P,styleguidesData:v,barrelThumbnail:c,visible:r.has(h),filterValue:l,selection:a,containsSelection:a&&o===h._id,inDefaultSection:d,handleComponentRef:u,getComponentRef:p,onMount:b,onUnmount:S,onSelect:f,contextMenu:g===h._id?m:null,onCreateSection:this.handleCreateSection,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:this.handleSetAsThumbnail,onDelete:this.handleDeleteComponent,onContextMenu:this.handleComponentContextMenu,onCloseContextMenu:y,onDrop:C})});return i.h("div",{class:"components"},j)}renderContent(){return i.h("div",{class:"componentSectionContent"},this.renderVariantProperties(),this.renderComponents(),this.renderComponentGroups())}renderVariantOptionsButton(){const{permissions:{canManageStyleguide:e}}=this.context;if(!e)return null;const{data:{variant:t},variantSectionCount:n}=this.props,{loadingVariants:o,variantOptionsMenuOpen:a}=this.state;return i.h(i.Fragment,null,i.h(d.a,{baseRef:this.variantOptionsButtonRef,loadingVariants:o,variant:t,variantSectionCount:n,variantOptionsMenuOpen:a,onClick:this.handleVariantOptionsButtonClick}),a&&this.renderVariantOptionsMenu())}renderVariantProperties(){const{data:{_id:e,variant:t}}=this.props,{variantFilter:n}=this.state;if(t)return i.h(l.default,{csid:e,variant:t,variantFilter:n,onValueClick:this.handleVariantPropertValueClick})}renderOptionsMenu(){const{readOnly:e,data:{description:t},showMoveSectionAction:n}=this.props,a=t?i.h(o.default.Item,{onClick:this.highlightDescription},"Edit description"):i.h(o.default.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(o.default,{onOpen:this.handleOptionsMenuOpen},!e&&[a,i.h(o.default.Item,{onClick:this.highlightName},"Rename section"),i.h(o.default.ItemDivider,null)],i.h(o.default.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.h(o.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(o.default.ItemDivider,null),!e&&[n&&i.h(o.default.Item,{key:"moveSection",onClick:this.handleMoveSectionClick},"Move section to styleguide…"),i.h(o.default.Item,{key:"deleteSection",warning:!0,onClick:this.handleDeleteSection},"Delete section")])}renderVariantOptionsMenu(){const{data:{_id:e,variant:t}}=this.props,{variantFilter:n}=this.state,o=this;function a(a){return t.properties.map(({_id:t,name:r,values:s})=>{const l=`${a}:${t}`,c="group"===a&&0===s.length;return i.h(u.default.Button,{key:l,name:l,disabled:c,onClick:function(){if("group"===a)C.default.createComponentSectionVariantGroups({csid:e,vpid:t});else if("remove"===a){const i=Object.fromEntries(Object.entries(n).filter(([e])=>e!==t));o.setState({variantFilter:i}),v.create({message:`Remove “${r}” property?`,done:{name:"REMOVE",cb(){C.default.removeComponentVariantProperty({csid:e,vpid:t,syncWithApi:!0})}},cancel:!0})}o.closeVariantOptions()}},r)})}return i.h(p.default,{didRender:this.handleVariantOptionsPortalDidRender},i.h(u.default,{class:"variantOptionsMenu",onChange:this.handleVariantOptionsMenuClick,onClose:this.closeVariantOptions},i.h(u.default.Button,{name:w},"Add property"),t.properties.length>0&&i.h(i.Fragment,null,i.h(u.default.Submenu,{name:"removeProperty",content:"Remove property"},a("remove")),i.h(u.default.Divider,null),i.h(u.default.Submenu,{name:"createGroup",content:"Create groups by property"},a("group"))),i.h(u.default.Divider,null),i.h(u.default.Button,{name:N,warning:!0},"Unset as variant section")))}render(){const{loading:e,addingDescription:t,variantOnboardingDialogOpen:n}=this.state;if(e)return null;const{data:{componentSections:o,components:r,name:s,description:l,_id:c},index:d,collapsed:u,styleguideId:p,defaultSection:h,readOnly:m,actionsDisabled:b,scrolledSection:S,highlightScrolledSection:y,optionsActive:v,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onExpandSectionOrGroup:P,onCollapseSectionOrGroup:j}=this.props,D=o.reduce((e,t)=>e+t.components.length,r.length),k=Object(E.pluralize)(D,"component")+" collapsed",I=this.renderContent(),R=this.renderOptionsMenu(),A=t?g.DEFAULT_DESCRIPTION:l,w=S===c,N=w&&y;return i.h(i.Fragment,null,i.h(a.DragDropComponentSection,{type:g.STYLEGUIDE_COMPONENT_SECTION,id:c,optionsButtonRef:Object(O.default)(this,"sectionOptionsButton"),index:d,styleguideId:p,componentRef:Object(O.default)(this,"section","componentRefs"),collapsed:u,empty:0===D,componentCount:D,componentGroupsCount:o.length,name:s,headerClass:"componentSectionHeader",description:A,countInfoText:k,optionsMenu:R,defaultSection:h,actionsDisabled:b,readOnly:m,topPadding:136,scroll:w,highlight:N,optionsActive:v,variantOptionsButton:this.renderVariantOptionsButton(),draggable:!0,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionBlur,onScroll:C.default.sectionScrolled,onExpand:P,onCollapse:j,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_},I),n&&i.h(f.a,{onSetAsVariantSection:this.handleConvertSectionToVariantSection,onClose:this.handleVariantsOnboardingDialogClose}))}}t.default=j()(L)},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(875),a=n(416),r=n(1747);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c="GroupHeader",d="StyleguideComponent",u=Object(o.DropTarget)({acceptsItemType:c,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(r.default);class p extends i.Component{constructor(...e){super(...e),l(this,"state",{targetPosition:"",groupHeaderHover:!1}),l(this,"calculateMoveIndex",(e,t,n)=>{const{index:i}=this.props,{targetPosition:o}=this.state,a="bottom"===o;if(t!==n)return a?i+1:i;let r=i;return e>i&&a?r=i+1:e<i&&!a&&(r=i-1),r}),l(this,"setTargetPosition",e=>{const{targetPosition:t}=this.state,{base:n}=this.nodeRefs,i=function(e,t,n){const i=n?43:0,o=e.top+(e.height-i)/2;return t.top>=o}(n.getBoundingClientRect(),e,t)?"bottom":"top";t!==i&&this.setState({targetPosition:i})}),l(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),l(this,"dropGroupHeader",(e,t,n)=>{if(""===this.state.targetPosition)return;const{data:{idPath:i},styleguideId:o,onSectionOrGroupDrop:a}=this.props,r=t[0],s=i[0],l=this.calculateMoveIndex(e,r,s);o===n&&r===s&&e===l||a({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:i.slice(0,-1),sourceStyleguideId:n,targetStyleguideId:o,to:l})}),l(this,"dropComponent",(e,t,n)=>{const{data:{idPath:i,components:o},styleguideId:a,onComponentToSectionOrGroupDrop:r}=this.props;r({sourceIdPath:t,sourceIndex:e,targetIdPath:i,sourceStyleguideId:n,targetStyleguideId:a,to:o.length})}),l(this,"handleDragHover",(e,t)=>{t!==c?this.state.groupHeaderHover||this.setState({groupHeaderHover:!0}):this.setTargetPosition(e)}),l(this,"handleDragHoverOut",e=>{e!==c?this.state.groupHeaderHover&&this.setState({groupHeaderHover:!1}):this.unsetTargetPosition()}),l(this,"handleDrop",({sourceIndex:e,sourceIdPath:t,sourceStyleguideId:n},i)=>{i===c?this.dropGroupHeader(e,t,n):i===d&&this.dropComponent(e,t,n)})}render(){const{groupHeaderHover:e,targetPosition:t}=this.state,{dragDisabled:n}=this.context;return i.h(u,s({},this.props,{baseRef:Object(a.default)(this,"base"),groupHeaderHover:e,targetPosition:t,draggable:!n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(383),r=n(416),s=n(1748),l=n(1754);n(1755);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"state",{menuShown:!1}),c(this,"hideOptionsMenu",()=>{this.state.menuShown&&(document.removeEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!1}))}),c(this,"handleBaseRef",e=>{Object(r.default)(this,"base")(e),this.props.baseRef(e)}),c(this,"handleShowOptionsMenu",e=>{e.stopPropagation(),this.state.menuShown||(document.addEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!0}))}),c(this,"handleCollapseOrExpand",()=>{const{collapsed:e,data:{_id:t},onCollapse:n,onExpand:i}=this.props;e?i(t):n(t)}),c(this,"handleStartDrag",()=>{const{data:{_id:e},collapsed:t,onCollapse:n}=this.props;t||n(e),this.setState({hidden:!0,menuShown:!1})}),c(this,"handleEndDrag",()=>{this.setState({hidden:!1})}),c(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{idPath:n,name:i},onNameChange:o}=this.props;e||i===t||o(n,t)}),c(this,"handleCreateGroup",(e,t)=>{const{index:n,onCreateGroup:i}=this.props;i(e,t,n+1)}),c(this,"handleDeleteGroup",()=>{const{data:{idPath:e},index:t,onDeleteGroup:n}=this.props;n({csids:e,index:t,syncWithApi:!0})})}highlight(){const{data:{_id:e},collapsed:t,scroll:n,highlight:i,onScroll:o,onExpand:a}=this.props;n&&(t&&a(e),this.nodeRefs.base.scrollIntoView()),i&&this.nodeRefs&&this.nodeRefs.header&&this.nodeRefs.header.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}),n&&o&&o()}componentDidMount(){const{data:{newSection:e}}=this.props;e&&this.componentRefs.componentName.highlight(),this.highlight()}componentDidUpdate(){this.highlight()}renderComponents(e,t){const{styleguidesData:n,styleguideId:o,visibleComponents:a,filterValue:r,barrelThumbnail:l,selectionComponentId:c,selection:d,sectionVariant:u,handleComponentRef:p,getComponentRef:h,onSelect:f,componentContextMenu:{coid:g,clickOrigin:m},onCreateSection:b,onSetAsThumbnail:S,onDeleteComponent:y,onComponentDidMount:C,onComponentDidUnmount:v,onComponentContextMenu:O,onCloseComponentContextMenu:E,onComponentDrop:T}=this.props,_=e.map((_,P)=>{const j=e[P-1],D=e[P+1];return i.h(s.default,{key:_._id,styleguideId:o,index:P,leftComponentId:j&&j._id,rightComponentId:D&&D._id,data:_,sectionVariant:u,omittedProperties:t,styleguidesData:n,barrelThumbnail:l,visible:a.has(_),filterValue:r,selection:d,containsSelection:d&&c===_._id,handleComponentRef:p,getComponentRef:h,onSelect:f,contextMenu:g===_._id?m:null,onMount:C,onUnmount:v,onCreateSection:b,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:S,onDelete:y,onContextMenu:O,onCloseContextMenu:E,onDrop:T})});return i.h("div",{class:"components"},_)}render(){const{data:{name:e,components:t,idPath:n},index:s,collapsed:c,styleguideId:d,draggable:u,readOnly:p,actionsDisabled:h,targetPosition:f,groupHeaderHover:g,variantFilter:m,onHover:b,onHoverOut:S,onDrop:y,onCopyWebLink:C,onCopyAppURI:v,onOptionsMenuOpen:O}=this.props,{menuShown:E,hidden:T}=this.state,_=Boolean(Object.keys(m).length),P=t.filter(e=>{const{variant:t}=e;return!t||!_||Object.entries(m).every(([e,n])=>{const i=t.values.find(({propertyId:t})=>t===e);return i&&i.value===n})}),j=P.length;if(_&&!j)return null;const D=Object(a.findOmittedVariantProperties)(t);return i.h("div",{ref:this.handleBaseRef,class:Object(o.default)("componentGroup",f,{menuShown:E,hidden:T})},i.h(l.DragDropComponentGroupHeader,{baseRef:Object(r.default)(this,"header"),componentNameRef:Object(r.default)(this,"componentName","componentRefs"),index:s,idPath:n,styleguideId:d,name:e,draggable:u,readOnly:p,actionsDisabled:h,collapsed:c,hasDragHover:g,componentsCount:j,menuShown:E,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,onHover:b,onHoverOut:S,onDrop:y,onNameBlur:this.handleNameBlur,onCollapseOrExpand:this.handleCollapseOrExpand,onShowOptionsMenu:this.handleShowOptionsMenu,onDeleteGroup:this.handleDeleteGroup,onCopyWebLink:C,onCopyAppURI:v,onOptionsMenuOpen:O}),!c&&this.renderComponents(P,D))}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1749);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1750),a=n(875),r=n(1418),s=n(245),l=n(249),c=n(395),d=n(416),u=n(959);n(1753);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const h=Object(s.pipe)(Object(a.DragSource)({itemType:"StyleguideComponent",mirrorComponent:({lightness:e,snapshot:t,name:n})=>{const o=t.width,a=t.height,s={};o<48||a<48?(s.width=o,s.height=a):s.paddingBottom=100*a/o+"%";const l=Math.max(96,12*Math.ceil(o/12)+48);return i.h("div",{class:"componentsContent componentMirror",style:`width: ${l}px`},i.h(r.default,{class:Object(c.default)("componentContent",e),snapshot:t,style:s},i.h(r.default.Image,null)),i.h("span",{class:"name ellipsis noSelect",title:n,key:"name"},n))},provideDragData:e=>{const{data:t,styleguideId:n,index:i,lightness:o}=e;return{snapshot:t.latestVersion.snapshot,styleguideId:n,name:t.name,idPath:t.idPath,index:i,lightness:o}}}),Object(a.DropTarget)({acceptsItemType:"StyleguideComponent",style:{maxWidth:"100%"},onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceStyleguideId:t.dragData.styleguideId,sourceIdPath:t.dragData.idPath,sourceIndex:t.dragData.index,targetStyleguideId:e.styleguideId,targetIdPath:e.data.idPath,targetIndex:e.index})}))(o.default);class f extends i.Component{constructor(e){super(e),this.state={lightness:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}calculateCubukPosition(e,t){const{getComponentRef:n}=this.props;let i=e.height;if(t){const o=n(t).getBoundingClientRect();e.top===o.top&&(i=Math.min(e.height,o.height))}const o=Math.max(80,Math.min(240,Math.round(i-24)));return{height:o,top:Math.max(0,Math.round((i-o)/2))}}getImageProperties(){const{latestVersion:{snapshot:{url:e}}}=this.props.data;Object(l.getImageProperties)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftComponentId;n&&(i=this.props.rightComponentId);const o=this.calculateCubukPosition(t,i);this.setState(Object(s.getStateUpdateFunction)({moveCubukPosition:n?u.CUBUK_POSITION.RIGHT:u.CUBUK_POSITION.LEFT,moveCubukHeight:o.height,moveCubukTop:o.top}))}handleDragHoverOut(){this.setState(Object(s.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}handleBaseRef(e){const{data:{_id:t},handleComponentRef:n}=this.props;Object(d.default)(this,"base")(e),n(t,e)}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,lightness:o}=this.state;return i.h(h,p({baseRef:this.handleBaseRef,dragBaseRef:Object(d.default)(this,"dragBase"),lightness:o,moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1751);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(395),a=n(416),r=n(245),s=n(1418),l=(n(1752),n(863)),c=n(753),d=n(383),u=n(1398),p=n(244),h=n(956),f=n(959),g=n(230);class Component extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleComponentClick=this.handleComponentClick.bind(this),this.handleComponentEnter=this.handleComponentEnter.bind(this),this.handleComponentLeave=this.handleComponentLeave.bind(this),this.handleComponentContentClick=this.handleComponentContentClick.bind(this),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleLayerEnter=this.handleLayerEnter.bind(this),this.handleLayerLeave=this.handleLayerLeave.bind(this),this.handleImageError=this.handleImageError.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.openDeleteComponentDialog=this.openDeleteComponentDialog.bind(this),this.closeDeleteComponentDialog=this.closeDeleteComponentDialog.bind(this),this.handleSetAsThumbnail=this.handleSetAsThumbnail.bind(this),this.handleCreateSection=this.handleCreateSection.bind(this),this.handleCreateGroup=this.handleCreateGroup.bind(this),this.handleDelete=this.handleDelete.bind(this),this.resetDistances=this.resetDistances.bind(this),this.scrollIntoView=e.containsSelection,this.layerClickHandler=Object(u.getLayerClickHandler)(),this.state={imageRequested:!1,hoveredId:null,distances:null,rulers:!1,contextMenu:null}}get isSetAsThumbnail(){const{barrelThumbnail:e,data:{latestVersion:{snapshot:{url:t}}}}=this.props;return e===t}getDistancesOrigin(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}},selection:i}=this.props;return e===i._id?{x:0,y:0,width:t,height:n}:i.absoluteRect}resetDistances(){null!==this.state.hoveredId&&this.setState({hoveredId:null,distances:null})}openDeleteComponentDialog(e){e.stopPropagation(),this.setState({deleteDialogVisible:!0})}closeDeleteComponentDialog(){this.setState({deleteDialogVisible:!1})}handleImageError(){this.setState({imageRequested:!1})}handleBaseRef(e){Object(a.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleComponentClick(e){e.stopPropagation(),this.resetDistances();const{data:t,onSelect:n}=this.props;n(t._id,t)}handleComponentContentClick(e){e.stopPropagation(),this.resetDistances();const{onSelect:t}=this.props;t(null)}handleComponentEnter(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleComponentLeave(){this.resetDistances()}handleLayerEnter(e){const t=this.getDistancesOrigin();this.setState({hoveredId:e._id,distances:{from:t,to:e.absoluteRect}})}handleLayerLeave(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleLayerSelect(e,t){const{selection:n,data:{_id:i,latestVersion:{snapshot:o}},onSelect:a}=this.props;e.stopPropagation(),this.resetDistances(),mixpanel.master.track("Inspected layer",{Source:"Component"});const r=this.nodeRefs.snapshotDetail.getBoundingClientRect();a(i,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:o,selectedLayer:n,snapshotDetailRect:r}))}handleContextMenu(e){const{data:{_id:t},onContextMenu:n}=this.props;n(t,e)}handleCreateSection(e){const{onCreateSection:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)}handleCreateGroup(e){const{onCreateGroup:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)}handleSetAsThumbnail(e){e.stopPropagation();const{data:{latestVersion:{snapshot:{url:t}}},onSetAsThumbnail:n}=this.props;n(t)}handleDelete(){const{data:e,onDelete:t}=this.props;t(e)}componentDidMount(){const{onMount:e,visible:t}=this.props;e(this.nodeRefs.base),t&&this.setState({imageRequested:!0})}componentWillReceiveProps(e){const{selection:t,data:{_id:n}}=this.props;this.setState(t=>({imageRequested:e.data._id===n&&t.imageRequested,rulers:e.containsSelection&&e.selection._id!==e.data._id})),t&&!e.selection&&this.layerClickHandler.reset()}componentDidUpdate(){const{visible:e}=this.props,{imageRequested:t}=this.state;e&&!t&&this.setState({imageRequested:!0}),this.scrollIntoView&&(this.scrollIntoView=!1,this.nodeRefs.base.scrollIntoView())}componentWillUnmount(){const{onUnmount:e}=this.props;e(this.nodeRefs.base)}renderRulers(){const{visible:e}=this.props,{imageRequested:t,rulers:n}=this.state;if(!e&&!t||!n)return null;const{selection:{absoluteRect:{x:o,y:a,width:r,height:l}}}=this.props;return i.h(s.default.Rulers,{x:o,y:a,width:r,height:l})}renderDistances(){const{visible:e}=this.props,{imageRequested:t,distances:n}=this.state;return(e||t)&&n&&n.from&&n.to?i.h(s.default.Distances.BetweenLayers,{sourceRect:n.from,destRect:n.to}):null}renderComponentLayer(){const{styleguidesData:e,data:{name:t,latestVersion:{snapshot:n}},selection:o}=this.props,{barrelId:a,barrelType:r}=this.context,l=Object(d.findComponentLayer)(n,o,e),c=l?{_id:l.component._id,name:l.component.name,rect:l.layer.absoluteRect}:null,{width:u,height:p}=n;return i.h(s.default.ComponentLayer,{barrelId:a,barrelType:r,containerName:t,componentLayer:c,containerWidth:u,containerHeight:p,onTagClick:this.resetDistances})}renderLayers(){const{data:{latestVersion:{snapshot:{layers:e=[]}}},selection:t,visible:n,containsSelection:o}=this.props,{imageRequested:a,hoveredId:r}=this.state;return(n||a)&&e.length?i.h(s.default.Layers,{layers:e,selectedLayerId:t?t._id:null,hoveredId:r,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:o?this.handleLayerEnter:null,onLayerLeave:o?this.handleLayerLeave:null}):null}renderSnapshotDetail(){const{styleguidesData:e,data:{latestVersion:{snapshot:t,snapshot:{width:n,height:r}}},visible:l,lightness:c}=this.props,[{type:d,remPreferences:u}]=e,p=e.flatMap(({spacingSections:e})=>e.flatMap(e=>e.spacingTokens)),{imageRequested:h}=this.state,f=Object(o.default)("componentContent",c),g={};return n<48||r<48?(g.width=n,g.height=r):g.paddingBottom=100*r/n+"%",i.h(s.default,{class:f,snapshot:t,platform:d,spacingTokens:p,remPreferences:u,style:g,baseRef:Object(a.default)(this,"snapshotDetail")},l||h?i.h(s.default.Image,{onError:this.handleImageError}):null,this.renderRulers(),this.renderDistances(),this.renderLayers())}renderName(){const{data:{name:e,variant:t},sectionVariant:n,omittedProperties:o,filterValue:a}=this.props,{sortType:r}=this.context;if(a){const t=Object(p.highlightMatchedParts)(e,a,{caseInsensitive:!0});return i.h("span",{class:"name ellipsis noSelect",dangerouslySetInnerHTML:{__html:t}})}if(!t||r!==g.SortTypes.SECTIONS)return i.h("span",{class:"name ellipsis noSelect"},e);const s=t.values.map(({propertyId:e,value:t})=>`${e}:${t}`).filter(e=>!o.includes(e));if(!s.length)return i.h("span",{class:"name ellipsis noSelect"},e);const l=s.map(e=>{const[t,i]=e.split(":"),o=n.properties.find(({_id:e})=>e===t);if(o){const{name:e,values:t}=o;if(Object(d.isBooleanProperty)(t))return Object(d.isTruthyPropertyValue)(i)?e:null}return i}).filter(Boolean).join(", ");return i.h("span",{class:"name ellipsis noSelect"},l)}renderContextMenu(){const{contextMenu:e,onCloseContextMenu:t,inDefaultSection:n}=this.props,{permissions:{canManageStyleguide:o}}=this.context;if(!e)return;const a=[i.h(l.default.Item,{key:"createSection",onClick:this.handleCreateSection},"Create section from selection"),!n&&i.h(l.default.Item,{key:"createGroup",onClick:this.handleCreateGroup},"Create group from selection"),o&&!this.isSetAsThumbnail&&i.h(l.default.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnail},"Set as thumbnail"),i.h(l.default.ItemDivider,{key:"warningDivider"}),i.h(l.default.Item,{key:"deleteComponent",onClick:this.openDeleteComponentDialog,warning:!0},"Delete component")].filter(Boolean);return i.h(l.default.withAutoPosition,{class:"componentContextMenu",onMouseDown:r.stopPropagation,autoPosition:{sidebar:".barrelContainer .styleguide .sidebar.left",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:t},a)}renderDialogs(){const{deleteDialogVisible:e}=this.state,{data:{name:t}}=this.props;if(e)return i.h(c.BasicOverlayDialog,{title:`Delete “${t}”?`,message:"Deleted components cannot be restored.",onPositiveButtonClick:this.handleDelete,onNegativeButtonClick:this.closeDeleteComponentDialog,onClose:this.closeDeleteComponentDialog,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{data:{_id:e,latestVersion:{snapshot:{width:t}}},selection:n,containsSelection:a,dragging:r,moveCubukPosition:s,moveCubukTop:l,moveCubukHeight:c}=this.props,d=n&&n._id,u=Object(o.default)("component",{selected:e===d,dragging:r}),p={width:(g=t,Math.max(96,12*Math.ceil(g/12)+48)+"px")};var g;const m=i.h(h.default,{top:l,height:c});return i.h("div",{class:"componentWrapper"},i.h("div",{class:"componentPaddingArea left"},s===f.CUBUK_POSITION.LEFT&&m),i.h("div",{class:u,style:p,"data-id":e,ref:this.handleBaseRef,onClick:this.handleComponentClick,onMouseEnter:a?this.handleComponentEnter:null,onMouseLeave:a?this.handleComponentLeave:null,onContextMenu:this.handleContextMenu},this.renderSnapshotDetail(),this.renderName(),this.renderContextMenu(),this.renderDialogs()),i.h("div",{class:"componentPaddingArea right"},s===f.CUBUK_POSITION.RIGHT&&m))}}t.default=Component},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropComponentGroupHeader",(function(){return S}));var i=n(4),o=n(395),a=n(245),r=n(246),s=n(416),l=n(978),c=n(971),d=n(438),u=n(875);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),m(this,"state",{hasHover:!1}),m(this,"handleBaseRef",e=>{this.props.baseRef(e)}),m(this,"handleComponentNameRef",e=>{Object(s.default)(this,"nameInput","componentRefs")(e),this.props.componentNameRef(e)}),m(this,"handleMouseEnter",()=>{this.setState({hasHover:!0})}),m(this,"handleMouseLeave",()=>{this.setState({hasHover:!1})}),m(this,"handleRenameGroupName",()=>{this.componentRefs.nameInput.highlight()}),m(this,"handleCopyWebLink",()=>{const{onCopyWebLink:e,idPath:t}=this.props;e(t[t.length-1]),mixpanel.master.track("Copied web link",{Target:"Component group"})}),m(this,"handleCopyAppURI",()=>{const{onCopyAppURI:e,idPath:t}=this.props;e(t[t.length-1]),mixpanel.master.track("Copied app URI",{Target:"Component group"})}),m(this,"handleOptionsMenuOpen",()=>{const{onOptionsMenuOpen:e,idPath:t}=this.props;e(t[t.length-1])})}componentDidUpdate(e){if(!e.menuShown&&this.props.menuShown){const{contextMenu:e}=this.nodeRefs;!function(e){if(!e)return;const t=e.getBoundingClientRect(),n=window.innerHeight;t.bottom+12>n?e.style.top=n-t.bottom-12+"px":t.top-52-12<0&&(e.style.top=64-t.top+"px")}(e)}}renderGroupInfo(){const{name:e,draggable:t,readOnly:n,actionsDisabled:o,collapsed:a,showMoveHandle:s,componentsCount:c,onNameBlur:u}=this.props,{hasHover:p}=this.state;return i.h("div",{class:"groupInfo"},t&&(p||s)&&i.h(d.IconSectionDrag,{class:"moveHandleIcon"}),i.h(l.default,{ref:this.handleComponentNameRef,value:e,required:!0,onBlur:u,readOnly:n||o}),a&&i.h("span",{class:"countInfo noSelect"},Object(r.pluralize)(c,"component")+" collapsed"))}renderGroupActions(){const{componentsCount:e,actionsDisabled:t,onCollapseOrExpand:n,onShowOptionsMenu:r}=this.props;return i.h("div",{class:Object(o.default)("groupActions",{disabled:t})},e>0&&i.h("button",{class:"collapseButton",onMouseDown:a.stopPropagation,onClick:n},i.h(d.IconCollapse,{color:"var(--gandalf)"})),i.h("button",{class:"groupOptionsButton",onMouseDown:a.stopPropagation,onClick:r},i.h(d.IconMenu,{color:"var(--gandalf)"})))}renderMenu(){const{onDeleteGroup:e}=this.props;return i.h("div",{class:"groupContextMenuContainer",ref:Object(s.default)(this,"contextMenu")},i.h(c.default,{onOpen:this.handleOptionsMenuOpen},i.h(c.default.Item,{onClick:this.handleRenameGroupName},"Rename group"),i.h(c.default.ItemDivider,null),i.h(c.default.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.h(c.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(c.default.ItemDivider,null),i.h(c.default.Item,{warning:!0,onClick:e},"Delete group")))}render(){const{menuShown:e,collapsed:t,hasDragHover:n,class:a,width:r}=this.props;return i.h("div",{ref:this.handleBaseRef,class:Object(o.default)("componentGroupHeader",a,{collapsed:t,dragHover:n}),style:{width:r},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h("div",{class:"mainInfo"},this.renderGroupInfo(),this.renderGroupActions(),e&&this.renderMenu()))}}const S=Object(a.pipe)(Object(u.DragSource)({itemType:"GroupHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n}=e,o=g(e,["sourceRect","class"]);return i.h(b,f({},o,{width:t.width,class:"mirror noSelect",actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>h(h({},e),{},{collapsed:!0})}),Object(u.DropTarget)({acceptsItemType:"StyleguideComponent",onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)}))(b);t.default=b},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1757),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1758));n(1770),t.default=function({csid:e,variant:t,variantFilter:n,onValueClick:i}){const r=t.properties.map(({_id:t,name:r,values:s},l)=>o.h(a.default,{key:t,csid:e,id:t,name:r,index:l,values:s,variantFilter:n,onValueClick:i}));return o.h("div",{class:"componentVariantProperties"},r)}},function(e,t,n){"use strict";n.r(t);var i=n(1759),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(385)),s=n(245),l=n(246),c=n(875),d=n(438),u=i(n(1760)),p=i(n(1761));const h=s.pipe(c.DragSource({itemType:"VariantProperty",allowX:!1,mirrorComponent:function({name:e,values:t,sourceRect:{width:n}}){const i=t.length?t.map(e=>o.h("div",{key:e,class:"variantPropertyValue ellipsis"},e)):o.h("div",{class:"noPropertyValue"},"No value yet, select a component and add a new value from right panel.");return o.h("div",{class:"variantProperty mirror",style:{width:n}},o.h(d.IconSectionDrag,{class:"sectionDragIcon"}),o.h("span",{class:"variantPropertyName"},l.uppercaseFirst(e)),o.h("span",{class:"colon"},":"),i)},provideDragData:e=>e,onStartDrag:({onStartDrag:e})=>e(),onEndDrag:({onEndDrag:e})=>e()}),c.DropTarget({acceptsItemType:"VariantProperty",onHover:({onHover:e},t)=>e(t),onHoverOut:({onHoverOut:e})=>e(),onDrop:({onDrop:e},t)=>e(t)}))(p.default);t.default=function(e){const t=a.useRef(),[n,i]=a.useState(!1),[s,l]=a.useState(null);return o.h(h,Object.assign({baseRef:t,dragging:n,movePosition:s,onStartDrag:function(){i(!0)},onEndDrag:function(){i(!1)},onHover:function({mirrorPosition:n,dragData:{csid:i}}){var o;const{csid:a}=e;if(a!==i)return void l(null);const r=null===(o=t.current)||void 0===o?void 0:o.getBoundingClientRect();if(!r)return;const s=r.top+r.height/2;l(n.top>s?u.default.BOTTOM:u.default.TOP)},onHoverOut:function(){l(null)},onDrop:function({dragData:{id:t,index:n}}){const{csid:i,index:o}=e;let a=o;n>o&&s===u.default.BOTTOM?a+=1:n<o&&s===u.default.TOP&&(a-=1),n!==a&&r.default.updateComponentVariantPropertiesOrder({csid:i,properties:[{_id:t,to:a}],syncWithApi:!0})}},e))}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TOP="top",e.LEFT="left",e.RIGHT="right",e.BOTTOM="bottom"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1762)),r=i(n(1765)),s=n(438),l=n(246),c=i(n(385)),d=n(245),u=i(n(395)),p=i(n(1760));n(1769),t.default=function({baseRef:e,csid:t,id:n,name:i,values:h,variantFilter:f,onValueClick:g,dragging:m,movePosition:b},S){const{permissions:{canManageStyleguide:y}}=S;function C(e){g(n,e)}function v({source:e,target:i,direction:o}){const a=[...h];d.arrayRemove(a,t=>t===e);const r=a.findIndex(e=>e===i);a.splice(o===p.default.LEFT?r:r+1,0,e),c.default.updateComponentVariantPropertyValues({csid:t,vpid:n,values:a,syncWithApi:!0})}const O=h.length?h.map(e=>o.h(r.default,{key:e,value:e,vpid:n,selected:f[n]===e,onClick:C,onValueDrop:v})):o.h("div",{class:"noPropertyValue"},"No value yet, select a component and add a new value from right panel.");return o.h("div",{class:u.default("variantPropertyWrapper noSelect",b,{hidden:m}),ref:e},o.h("div",{class:"variantProperty"},y&&o.h(s.IconSectionDrag,{class:"sectionDragIcon"}),o.h(a.default,{class:"variantPropertyName",placeholder:"Property",maxLength:100,value:l.uppercaseFirst(i),autoFocus:n.startsWith("new"),onChange:function(e){n.startsWith("new")?""===e?c.default.removeComponentVariantProperty({csid:t,vpid:n}):c.default.addComponentVariantProperty({csid:t,componentVariantProperty:{_id:n,name:e},syncWithApi:!0}):i!==e&&c.default.updateComponentVariantPropertyName({csid:t,vpid:n,name:e,syncWithApi:!0})},disabled:!y}),o.h("span",{class:"colon"},":"),O))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1763);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(4),r=n(514),s=n(230),l=o(n(395));n(1764),t.default=function(e){var{class:t,placeholder:n,value:o,autoFocus:c=!1,disabled:d=!1,onChange:u}=e,p=i(e,["class","placeholder","value","autoFocus","disabled","onChange"]);const h=r.useRef(),f=r.useRef(),[g,m]=r.useState(o),[b,S]=r.useState(c);function y(){f.current.blur()}return r.useEffect(()=>{m(o)},[o]),r.useEffect(()=>{c&&f.current.focus()},[c]),r.useEffect(()=>{if(!h.current)return void(h.current=!0);if(b)return;const{type:e,value:t,valueAsNumber:n}=f.current,i=t.trim(),a="number"===e?n:i;""===g?(m(o),u(o)):(m(i),u(a))},[b]),a.h("div",{class:l.default("expandableInputContainer",t,{disabled:d})},a.h("div",{class:"mirror"},g||n||" "),a.h("input",Object.assign({},p,{ref:f,placeholder:n,value:g,disabled:d,required:!0,spellcheck:!1,onFocus:function(){S(!0)},onInput:function(){const{type:e,value:t,min:n,max:i,validity:a}=f.current;let r;r=a.rangeUnderflow?n:a.rangeOverflow?i:a.badInput?o:a.valueMissing?"":"number"===e?String(parseInt(t,10)):t,m(r)},onKeyDown:function(e){switch(e.key){case s.Keyboard.Key.Enter:y();break;case s.Keyboard.Key.Escape:m(o),y()}},onBlur:function(){S(!1)}})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1766);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=n(245),s=n(875),l=i(n(1767)),c=i(n(1760));n(1768);const d=r.pipe(s.DragSource({itemType:"VariantPropertyValue",mirrorComponent:function({value:e}){return o.h("div",{class:"variantPropertyValueMirror ellipsis"},e)},provideDragData:e=>e,onStartDrag:({onStartDrag:e})=>e(),onEndDrag:({onEndDrag:e})=>e()}),s.DropTarget({acceptsItemType:"VariantPropertyValue",onHover:({onHover:e},t)=>{e(t)},onHoverOut:({onHoverOut:e})=>{e()},onDrop:({onDrop:e},t)=>{e(t)}}))(l.default);t.default=function(e){const[t,n]=a.useState(null),[i,r]=a.useState(!1),s=a.useRef();return o.h(d,Object.assign({baseRef:s,movePosition:t,dragging:i,onStartDrag:function(){r(!0)},onEndDrag:function(){r(!1)},onHover:function({mirrorPosition:t,dragData:{vpid:i,value:o}}){var a;const{vpid:r,value:l}=e;if(r!==i||l===o)return void n(null);const d=null===(a=s.current)||void 0===a?void 0:a.getBoundingClientRect();if(!d)return;const u=d.left+d.width/2;n(t.left>u?c.default.RIGHT:c.default.LEFT)},onHoverOut:function(){n(null)},onDrop:function({dragData:{value:n}}){if(!t)return;const{onValueDrop:i,value:o}=e;i({source:n,target:o,direction:t})}},e))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(395)),r=i(n(956)),s=i(n(1760));n(1768),t.default=function({baseRef:e,value:t,selected:n,onClick:i,movePosition:l,dragging:c}){const d=a.default("variantPropertyValue",{selected:n,dragging:c});return o.h("button",{ref:e,type:"button",title:t,class:d,onClick:function(){return i(t)}},o.h("div",{class:"ellipsis"},t),l&&o.h(r.default,{top:0,left:l===s.default.LEFT?-7:"calc(100% + 5px)",height:"100%"}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1772);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(438),r=i(n(395));n(1773);t.default=function({baseRef:e,loadingVariants:t,variant:n,variantSectionCount:i,variantOptionsMenuOpen:s,onClick:l}){const c=!t&&!n&&i<3,d=r.default("variantOptionsButton",{variantOptionsMenuOpen:s,labelDisplayed:c});let u;if(t)u=o.h(a.IconSpinner,null);else{let e="var(--cornflower-blue)";s?e="white":c||n||(e="var(--teflon)"),u=o.h(a.IconVariants,{color:e})}return o.h("button",{ref:e,type:"button",class:d,onClick:l},u,c&&o.h("span",null,"Set as variant section"))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1775);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(753)),r=i(n(543)),s=n(244);function l(){s.openLink("#")}n(1776),t.default=function({onClose:e,onSetAsVariantSection:t}){return o.h(a.default,{class:"variantsOnboardingDialog",positiveButtonText:"SET AS VARIANT SECTION",negativeButtonText:"NOT NOW",fallbackButtonText:"LEARN MORE",hideNegativeButton:!1,onPositiveButtonClick:t,onFallbackButtonClick:l,onClose:e,width:720},o.h("div",{class:"variantsOnboardingDialogBody"},o.h("div",{class:"dialogHeader"},o.h(r.default,{asset:"img/variant-onboarding-dialog-title.png",alt:"Set as variant",title:"Set as variant"})),o.h("p",null,"Great to be more organized! 2 things to check before setting a section as a variant section:"),o.h("ul",null,o.h("li",null,o.h("strong",null,"1.")," Make sure this section ",o.h("strong",null,"only")," includes related components. e.g variations of buttons."),o.h("li",null,o.h("strong",null,"2.")," Zeplin uses ",o.h("code",null,"/")," to create different properties and values. Make sure that"," ",o.h("strong",null,"naming convention")," of the components aligns with this.")),o.h("div",{class:"imageWrapper"},o.h(r.default,{asset:"img/variant-onboarding-dialog-image.png"}))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1779);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(241),a=n(245),r=n(416),s=n(257),l=n(244),c=n(376),d=n(361),u=n(269),p=n.n(u),h=n(908),f=n(385),g=n(1780),m=n(1475),b=n(1275),S=n(505),y=n.n(S);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.Component{constructor(...e){super(...e),v(this,"state",{scrollDisabled:!1}),v(this,"enableScroll",()=>{this.setState({scrollDisabled:!1})}),v(this,"disableScroll",()=>{this.setState({scrollDisabled:!0})}),v(this,"handleAddColorClick",e=>{c.default.addColor({color:e,syncWithApi:!0}),Object(s.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddColor"})}),v(this,"handleColorNameChange",(e,t)=>{const{styleguidesData:[{colors:n}]}=this.props;if(n.find(e=>e.name===t))return o.create({title:t+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();c.default.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),v(this,"handleRemoveColorClick",e=>{c.default.removeColor({cid:e,syncWithApi:!0})}),v(this,"handleAddTextStyleClick",e=>{c.default.addTextStyle({textStyle:e,syncWithApi:!0}),Object(s.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddTextStyle"})}),v(this,"handleTextStyleNameChange",e=>{const{styleguidesData:[{textStyles:t}]}=this.props;if(t.some(e=>e.name===name))return o.create({title:name+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();c.default.updateTextStyle({tsid:e,textStyleData:{name:name},syncWithApi:!0})}),v(this,"handleCopy",e=>{Object(l.copyContent)({content:e,toastContainer:this.nodeRefs.sidebar})}),v(this,"handleCopyCode",(e,t)=>{const{projectType:n}=this.context;c.default.copyCode({code:e,toastContainer:this.nodeRefs.sidebar,platform:n,extensionId:t,source:"Component"})}),v(this,"handleRequestInvite",()=>{const{organizationId:e}=this.context;h.default.requestInvite(e,this.nodeRefs.sidebar)})}static getStores(){return[p.a.BarrelStore,p.a.StyleguidesDataStore,p.a.ProjectsDataStore]}static calculateState(){const{loading:e}=p.a.BarrelStore.getState();return e?{loading:!0}:{loading:!1,styleguidesData:d.default.getStyleguidesData({barrelStore:p.a.BarrelStore,styleguidesDataStore:p.a.StyleguidesDataStore,projectsDataStore:p.a.ProjectsDataStore})}}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick}}handleRemoveTextStyleClick(e){c.default.removeTextStyle({tsid:e,syncWithApi:!0})}getChildContext(){return{enableScroll:this.enableScroll,disableScroll:this.disableScroll}}renderComponentPanel(){const{componentCount:e,sectionCount:t,variantSectionCount:n,selectionStyleguideId:o,selectionComponent:a,selection:r,formatter:s,onCloseClick:l,convertedAnySectionIntoVariant:c}=this.props;return r?a._id===r._id?i.h(g.default,C({component:r,selectionStyleguideId:o,formatter:s},this.getHandlers(),{onCloseClick:l,onRequestInvite:this.handleRequestInvite})):i.h(m.default,C({layer:r,layerContainer:a,version:a.latestVersion,formatter:s},this.getHandlers(),{onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick,onCloseClick:l})):i.h(g.default.NoSelectionState,{componentCount:e,sectionCount:t,variantSectionCount:n,convertedAnySectionIntoVariant:c})}render(){const{width:e}=this.props,{loading:t,scrollDisabled:n}=this.state;return t?null:i.h(b.default,{baseRef:Object(r.default)(this,"sidebar"),minWidth:280,initialWidth:e,onClick:a.stopPropagation,onRelease:f.default.changeRightSidebarWidth,noScroll:n},this.renderComponentPanel())}}t.default=y()(O)},function(e,t,n){"use strict";n.r(t);var i=n(1781);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(250),a=n(261),r=n.n(a),s=n(245),l=n(242),c=n(383),d=n(416),u=n(1478),p=n(301),h=n(1271),f=n(231),g=n(1621),m=n(1306),b=n(1481),S=n(1487),y=n(1615),C=n(1529),v=n(1502),O=n(1782),E=n(1522),T=n(1526),_=n(1785),P=n(1791),j=n(1794),D=n.n(j),k=n(361),I=n(376),R=n(385),A=n(269),w=n.n(A),N=n(1274),L=n(505),x=n.n(L);n(1797);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class U extends i.Component{constructor(...e){super(...e),M(this,"state",{hasSnippet:!1,codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null}),M(this,"handleComponentCodeResize",e=>{requestAnimationFrame(()=>{this.setState({codeGap:null,codeHeight:e,codeMaxHeight:null,componentDetailHeight:this.nodeRefs.base.clientHeight-e})})}),M(this,"handleComponentVariantPropertyValueChange",(e,t)=>{const{component:{idPath:n}}=this.props,[i]=n,o=n[n.length-1];R.default.updateComponentVariantPropertyValue({csid:i,vpid:e,coid:o,value:t,syncWithApi:!0})}),M(this,"handleDescriptionSubmit",e=>{const{component:{idPath:t,description:n}}=this.props;if(e===n)return;const i=[...t],o=i.pop();I.default.updateComponent({csids:i,coid:o,componentData:{description:e},syncWithApi:!0})}),M(this,"handleAssetNameChange",(e,t)=>{const{component:{_id:n,latestVersion:{snapshot:i}}}=this.props;I.default.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t,source:"Component detail"})}),M(this,"handleDownloadAssetClick",(e,t)=>{const{component:{name:n,latestVersion:i}}=this.props,{styleguideContainerRef:o}=this.context;I.default.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:o(),source:"Component detail"})}),M(this,"handleGenerateSnippet",e=>{this.setState({hasSnippet:e},e=>{this.setCodePanelHeight()})}),M(this,"handleWindowResize",Object(s.debounce)(()=>{this.state.hasSnippet&&this.setCodePanelHeight()})),M(this,"handleCopyWebUrl",e=>{this.props.onCopy(e),mixpanel.master.track("Copied web link",{Target:"Component",Source:"Inspector"})}),M(this,"handleCopyAppUri",e=>{this.props.onCopy(e),mixpanel.master.track("Copied app URI",{Target:"Component",Source:"Inspector"})})}static getStores(){return[w.a.BarrelStore,w.a.StyleguidesDataStore,w.a.ProjectsDataStore]}static calculateState(e,t,n){const{component:{_id:i,name:o,sourceId:a,latestVersion:{snapshot:{density:d,densityScale:u=Object(s.getDensityScale)(d)}}},selectionStyleguideId:p}=t,{userRole:h,permissions:{canManageScreens:g}}=n,{loading:m,barrelType:b,barrelId:S,assetDensityScalePrefs:y,assetExportTarget:C,assetNamingConvention:v,densityMismatchWarningHidden:O,noVectorAssetInfoHidden:E,showOptimizedSVG:T,connectedComponentsDevModeEnabled:_,connectedComponentsLocalWorkspace:P,connectedComponentsEditorInfo:j,connectedComponentsOnboardingDialogSeen:D,numberOfHighlightedConnectToCodeButtonViews:I}=w.a.BarrelStore.getState();if(m)return{loading:!0};const{type:R,densityScale:A,screens:N=[]}=k.default.getBarrel(),L=b===r.a.PROJECT?"pid":"stid",x=`${f.ZPL_PROTOCOL}//components?${L}=${S}&coid=${i}`,M=b===r.a.PROJECT?"project-styleguide-components":"styleguide-components",U=Object(l.urlResolve)(M,{url:{bid:S},query:{coid:i}}),B=!g||S!==p,z="pawn"===h,V=u!==A&&!O,W=Object(c.findUsedScreens)(N,o,a),F=k.default.getStyleguidesData({barrelStore:w.a.BarrelStore,styleguidesDataStore:w.a.StyleguidesDataStore,projectsDataStore:w.a.ProjectsDataStore}),{ancestors:H}=Object(c.findComponentById)(F,i)||{};let G;H&&(G=H.find(e=>!!e.variant));return{loading:!1,platform:R,readOnly:B,userRestricted:z,assetDensityScalePrefs:y,assetExportTarget:C,assetNamingConvention:v,showDensityMismatchWarning:V,noVectorAssetInfoHidden:E,showOptimizedSVG:T,appUri:x,webUrl:U,usedScreens:W,connectedComponentsDevModeEnabled:_,connectedComponentsLocalWorkspace:P,connectedComponentsEditorInfo:j,styleguidesData:F,variantSection:G,shouldHighlightConnnectToCodeButton:!D&&I<c.HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT}}setCodePanelHeight(){if(!this.state.hasSnippet)return void this.setState({codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null});const{base:e,componentDetail:t}=this.nodeRefs,n=t.scrollHeight,i=e.clientHeight;n+89>=i?this.setState({codeGap:0,codeHeight:89,codeMaxHeight:89,componentDetailHeight:i-89,componentDetailBottomPadding:36}):this.setState({codeGap:52,codeHeight:null,codeMaxHeight:i-n-36,componentDetailHeight:null,componentDetailBottomPadding:36})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{loading:e}=this.state;if(e)return null;const{component:t,formatter:n,onAddColorClick:a,onColorNameChange:r,onRemoveColorClick:s,onCopyCode:l,onCloseClick:f,onRequestInvite:j}=this.props,{platform:D,readOnly:k,userRestricted:R,assetDensityScalePrefs:A,assetExportTarget:w,assetNamingConvention:L,showDensityMismatchWarning:x,noVectorAssetInfoHidden:M,showOptimizedSVG:U,appUri:B,webUrl:z,usedScreens:V,connectedComponentsDevModeEnabled:W,connectedComponentsLocalWorkspace:F,connectedComponentsEditorInfo:H,codeGap:G,codeMaxHeight:$,componentDetailHeight:q,componentDetailBottomPadding:Z,codeHeight:K,styleguidesData:Y,variantSection:J,shouldHighlightConnnectToCodeButton:X}=this.state,{_id:Q,name:ee,latestVersion:te,description:ne,variant:ie}=t,{snapshot:{width:oe,height:ae,backgroundColor:re,assets:se=[]}}=te,[{densityScale:le,remPreferences:ce}]=Y,{status:de,useForMeasurements:ue,remRootFontSize:pe}=ce,he="web"===D&&"enabled"===de&&ue,fe=he?Object(p.toRemSize)(oe/le,pe):n.length(oe),ge=he?Object(p.toRemSize)(ae/le,pe):n.length(ae),[me]=Object(u.transformAuthors)([te]),be=se.find(e=>"snapshot"===e.layerId);let Se;be&&(Se=Object(u.transformAsset)(be,n,D));const ye=Object(c.findConnectedComponentByIdOrName)(Q,ee,Y,W);return i.h("div",{class:"componentDetailWrapper",ref:Object(d.default)(this,"base")},i.h("div",{class:"componentDetailContentWrapper",style:{height:q,paddingBottom:Z}},i.h("div",{class:"componentDetail",ref:Object(d.default)(this,"componentDetail")},i.h("div",{class:"withPadding"},i.h(T.default,{onCloseClick:f},ee)),i.h("div",{class:"withPadding"},i.h(b.default,null,i.h(g.default,{key:me.username,id:me.id,avatar:me.avatar,username:me.username,versionCount:me.versions,authorCount:1,lastUpdated:me.lastUpdated})),J&&ie&&i.h(_.default,{coid:Q,sectionVariant:J.variant,variant:ie,onChange:this.handleComponentVariantPropertyValueChange}),i.h(b.default,{title:"Description",showSeparator:!0},i.h(m.default,{class:"descriptionInput",formatter:h.formatTextArea,value:ne,placeholder:k?"No description yet":"Got any notes?",readOnly:k,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,showEmojiAutoComplete:!0,autoEdit:!0,maxLength:1024})),i.h(b.default,{title:"Share",showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(y.default,{webUrl:z,appUri:B,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri})))),i.h(C.default,{connectedComponentsDevModeEnabled:W,connectedComponentsLocalWorkspace:F,connectedComponentsEditorInfo:H,shouldHighlightConnnectToCodeButton:X,componentId:Q,componentName:ee,connectedComponent:ye,showLayerComponent:!1,userRestricted:R,onRequestInvite:j}),Se&&i.h("div",{class:"withPadding"},i.h(v.default,{showSeparator:!u.transformAsset,asset:Se,projectType:D,showDensityMismatchWarning:x,noVectorAssetInfoHidden:M,assetDensityScalePrefs:A,namingConvention:L,showOptimizedSVG:U,assetExportTarget:w,onOpenExportTargetClick:I.default.openExportTarget,onChangeExportTargetClick:I.default.changeExportTarget,onDownloadClick:this.handleDownloadAssetClick,onNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:I.default.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:I.default.hideNoVectorAssetInfo,onAssetDensityOptionChange:I.default.changeAssetDensityScalePref,onNamingConventionChange:I.default.changeAssetNamingConvention,onShowOptimizedSVGChange:I.default.toggleSVGOptimization})),!Se&&i.h("div",{class:"withPadding"},i.h(b.default,{title:"Size",showSeparator:!!Se},i.h(E.default.Group,null,i.h(E.default,{name:"Width"},fe),i.h(E.default,{name:"Height"},ge)))),re&&i.h("div",{class:"withPadding"},i.h(b.default,{title:"Background color",showSeparator:!0},i.h(S.default,{color:Object(u.transformColor)(new o.default(re),n,Y),onNameChange:r,onAddClick:a,onRemoveClick:s}))),!!V.length&&i.h("div",{class:"withPadding"},i.h(b.default,{title:"Used in",showSeparator:!0},i.h(P.default,{componentName:ee,screens:V}))))),i.h(O.default,{component:t,version:te,variantSection:J,codeGap:G,height:K,maxHeight:$,minHeight:89,maxResizeHeight:window.innerHeight-60-146,minResizeHeight:89,onGenerateCode:this.handleGenerateSnippet,onResize:this.handleComponentCodeResize,onCopyClick:l,onSettingsClick:N.default.openSettings}))}}U.NoSelectionState=D.a,t.default=x()(U,{withProps:!0,withContext:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1783);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1590),a=n(1607);n(1784);class r extends i.Component{constructor(e){super(e),this.generateComponentCode=this.generateComponentCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateComponentCode(e,t){const{component:n,version:i,variantSection:o}=this.props;return e.component(t,i,n,o).then(e=>a.CodeSnippet.fromUnknown(e,"component"))}renderExtensionCode(e){const{codeGap:t,height:n,minHeight:a,maxHeight:r,maxResizeHeight:s,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u}=this.props;return i.h(o.ResizableExtensionCode,{class:"componentCode",snippets:e,codeGap:t,height:n,minHeight:a,maxHeight:r,maxResizeHeight:s,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u})}render(){const{component:e,onGenerateCode:t}=this.props;return i.h(o.default,{id:e._id,generateCode:this.generateComponentCode,onGenerateCode:t,render:this.renderExtensionCode})}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1786),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1481)),r=i(n(1787));n(1790),t.default=function({coid:e,sectionVariant:t,variant:n,onChange:i},s){const{permissions:{canManageStyleguide:l}}=s;return o.h(a.default,{class:"componentVariantProperties",title:"Properties",showSeparator:!0},t.properties.map(({_id:t,name:a,values:s})=>{const c=n.values.find(({propertyId:e})=>e===t);return o.h("div",{class:"componentVariantProperty",key:`${e}:${t}`},o.h("span",{class:"propertyName ellipsis",title:a},a,":"),o.h(r.default,{placeholder:"No value",value:null==c?void 0:c.value,maxLength:100,options:s,onChange:function(e){i(t,e)},disabled:!l}))}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1788);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(4),r=o(n(509)),s=o(n(395)),l=n(230);n(1789);class c extends a.Component{constructor(){super(...arguments),this.state={value:this.props.value,dropdownOpen:!1},this.inputRef=a.createRef(),this.handleBlur=e=>{const{value:t,onChange:n}=this.props,{type:i,value:o,valueAsNumber:a}=e.target,r=o.trim();if(t===r||t===a)return;const s="number"===i?a:r;""===o?this.setState({value:t}):(this.setState({value:r}),n(s))},this.handleKeyDown=e=>{switch(e.key){case l.Keyboard.Key.Enter:e.target.blur();break;case l.Keyboard.Key.Escape:this.setState({value:this.props.value},()=>{e.target.blur()})}},this.handleInput=e=>{const{value:t}=this.state,n=e.target,{type:i,value:o,min:a,max:r,validity:s}=n;let l;l=s.rangeUnderflow?a:s.rangeOverflow?r:s.badInput?t:s.valueMissing?"":"number"===i?String(parseInt(o,10)):o,this.setState({value:l})},this.handleChange=e=>{const{value:t,onChange:n}=this.props;t!==e&&(this.setState({value:e}),n(e))},this.handleDropdownVisibilityChange=e=>{this.setState({dropdownOpen:e})}}componentDidUpdate(e){const{value:t,disabled:n,autoFocus:i}=this.props;e.value!==t&&this.setState({value:t}),e.disabled&&!n&&i&&this.inputRef.current.focus()}render(){const e=this.props,{class:t,placeholder:n,disabled:o,dropdownTop:l,options:c,onChange:d}=e,u=i(e,["class","placeholder","disabled","dropdownTop","options","onChange"]),{value:p,dropdownOpen:h}=this.state;return a.h("div",{class:s.default("inputWithDropdownContainer",t,{disabled:o,dropdownOpen:h})},a.h("div",{class:"inputContainer"},a.h("div",{class:"mirror"},p||n||" "),a.h("input",Object.assign({},u,{ref:this.inputRef,class:"inputWithDropdownInput",placeholder:n,value:p,disabled:o,required:!0,spellcheck:!1,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur}))),a.h(r.default,{top:l,showCheck:!1,showLabel:!1,disabled:o,class:"inputWithDropdownDropdown",optionsClass:"inputWithDropdownOptions",onChange:this.handleChange,onDropdownStateChange:this.handleDropdownVisibilityChange},c.map(e=>a.h(r.default.Item,{selected:e===p,label:e,value:e,key:e}))))}}t.default=c,c.defaultProps={type:"text",min:0,dropdownTop:0}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1792);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(242),a=n(249),r=n(250),s=n(416);n(1793);class l extends i.Component{componentDidMount(){const{observer:e}=this.props;e.observe(this.nodeRefs.base)}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.nodeRefs.base)}render(){const{screenId:e,name:t,url:n,width:l,height:c,backgroundColor:d=r.default.NAMED_COLORS.white,componentName:u,visible:p}=this.props,{projectId:h}=this.context,{src:f,srcset:g}=Object(a.getResizedImageSources)(n,{width:132}),m=132*c/l,b=new r.default(d).toCSS(),S=Object(o.urlResolve)("project-screen",{url:{pid:h,sid:e}});return i.h("a",{ref:Object(s.default)(this,"base"),href:S,class:"usedInScreen","data-id":e,"data-link-type":"inApp","data-back":u},i.h("div",{class:"imageWrapper",style:{height:m,backgroundColor:b}},p&&i.h("img",{width:132,height:m,src:f,srcset:g,crossOrigin:"anonymous"}),i.h("div",{class:"imageFrame"})),i.h("div",{class:"screenName"},t))}}class c extends i.Component{constructor(e){super(e),this.visibleScreens=new Set,this.state={visibleScreens:new Set}}componentWillMount(){this.observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{const t=e.target.dataset.id;e.isIntersecting?this.visibleScreens.add(t):this.visibleScreens.delete(t)}),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame(()=>{this.setState({visibleScreens:this.visibleScreens})})})}componentWillUnmount(){this.observer.disconnect()}render(){const{screens:e,componentName:t}=this.props,{visibleScreens:n}=this.state;return i.h("div",{class:"usedInScreens"},e.map(e=>{const{versions:[{snapshot:{url:o,width:a,height:r,backgroundColor:s}}]}=e;return i.h(l,{key:e._id,screenId:e._id,name:e.name,url:o,width:a,height:r,backgroundColor:s,componentName:t,visible:n.has(e._id),observer:this.observer})}))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1795);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(543)),r=n(246);n(1796);t.default=function(e){const{componentCount:t,sectionCount:n,variantSectionCount:i,convertedAnySectionIntoVariant:s}=e;if(!t)return null;function l(){return o.h(o.Fragment,null,o.h("h3",null,"Manage your component variants"),o.h("p",null,"Collect your components under variant sections for developers to access them during development."," ",o.h("a",{href:"#",target:"_blank",rel:"noopener noreferrer"},"Learn more"),"."),o.h(a.default,{asset:"img/manage-variants-onboarding-image.png",alt:"Set as variant section",title:"Set as variant section"}))}let c;return c=i>0&&s?o.h(o.Fragment,null,o.h("h3",null,"Updating properties and values"),o.h("p",null,"Select components to update their properties from the right panel."),o.h(a.default,{asset:"img/update-properties.png",alt:"Update properties",title:"Update properties"}),o.h("h3",null,"Grouping components by properties"),o.h("p",null,"After setting variant sections, you can create groups under sections ",o.h("strong",null,"by Properties")," from the variant menu."),o.h(a.default,{asset:"img/group-by-properties.png",alt:"Group by properties",title:"Group by properties"})):n<3?o.h(o.Fragment,null,o.h("h3",null,"Organize your components"),o.h("p",null,o.h("strong",null,"Right click")," to organize your components by creating sections or groups."),o.h(a.default,{asset:"img/organize-components-onboarding-image.png",alt:"Organize your components",title:"Organize your components"}),l()):l(),o.h("div",{class:"componentsSidebarNoSelectionState"},o.h("h2",null,r.pluralize(t,"Component")," ",o.h(a.default,{width:24,height:24,asset:"img/emjDango.png",alt:"🍡",title:"🍡"})),c)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1800);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(863),a=n(753),r=n(1801),s=n(438),l=n(416),c=n(242);n(1804);class d extends i.Component{constructor(e){super(e),this.handleContextMenuClick=this.handleContextMenuClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null,unlinkDialogVisible:!1}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenuClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleUnlinkProject(){const{linkedStyleguide:e,onUnlink:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:e}=this.state;return e?i.h(o.default.withAutoPosition,{autoPosition:{clickOrigin:e,menuContainer:this.nodeRefs.base},onClose:this.handleContextMenuClose},i.h(o.default.Item,{onClick:this.openUnlinkDialog},"Unlink styleguide")):null}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{linkedStyleguide:{name:t="styleguide"}}=this.props;return i.h(a.BasicOverlayDialog,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}renderWarning(){const{linkStatus:e}=this.props;if("active"===e)return null;const t="invalid"===e?"they have different owners.":"the styleguide is archived or deleted.",n="invalid"===e?"https://zpl.io/article/transferring-styleguides":"https://zpl.io/article/archiving-styleguides";return i.h(r.default,{articleURL:n},"This project can not access the linked styleguide since ",t)}renderInfo(){const{permissions:{canManageProject:e}}=this.context,{barrelName:t,linkedStyleguide:{_id:n,name:o="a styleguide"}}=this.props,a=Object(c.urlResolve)("styleguide",{url:{bid:n}});return i.h("div",{class:"infoContainer"},i.h("div",{title:o,class:"infoLabel noSelect ellipsis"},"Linked to ",i.h("a",{href:a,"data-link-type":"inApp","data-back":t},o)),e&&i.h("button",{type:"button",onClick:this.handleContextMenuClick,ref:Object(l.default)(this,"button")},i.h(s.IconSettings,null)))}render(){return i.h("div",{class:"linkedStyleguideInfo",ref:Object(l.default)(this,"base")},this.renderInfo(),this.renderContextMenu(),this.renderUnlinkDialog(),this.renderWarning())}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1802);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(565);n(1803);t.default=function({articleURL:e,children:t}){return i.h(o.default,{class:"warningHintBox noSelect",type:"warning",emoji:"🚸"},i.h("p",null,t),i.h("a",{href:e,rel:"noopener noreferrer",target:"_blank"},"Learn more"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1806);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(505),a=n.n(o),r=n(269),s=n.n(r),l=n(1807),c=n(1099),d=n(537),u=n(230),p=n(385),h=n(753),f=n(376),g=n(361),m=n(362);const b={[u.RESOURCE_TYPE.TEXT_STYLES]:"Text Styles",[u.RESOURCE_TYPE.COLORS]:"Colors",[u.RESOURCE_TYPE.COMPONENTS]:"Components"};function S(e){return b[e]}const y=Object.freeze({BASIC_DIALOG:"normal",COMPONENT:"component",NONE:"none"});class C extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleStyleguideSelect=this.handleStyleguideSelect.bind(this),this.handleMove=this.handleMove.bind(this)}static getStores(){return[s.a.StyleguideStore,s.a.ProjectsDataStore,s.a.StyleguidesDataStore,s.a.BarrelStore,s.a.UserStore]}static calculateState(){const{moveResourcesPopup:e}=s.a.StyleguideStore.getState(),{organizationId:t,barrelType:n,movingResourcesToStyleguide:i}=s.a.BarrelStore.getState(),{userId:o}=s.a.UserStore.getState(),a=m.default.getOrganizationStyleguides(t),r=g.default.getBarrel(),l=function(e,t,n,i){if(!t||!i)return[];const o=t.users.find(e=>"owner"===e.role);return e.filter(e=>{if("active"!==e.status)return!1;if(e._id===t._id)return!1;if(i&&i.resourceType===u.RESOURCE_TYPE.COMPONENTS&&t.densityScale!==e.densityScale)return!1;if("user"===n){const t=e.users.find(e=>"owner"===e.role);return o&&t&&o.user._id===t.user._id}return!0})}(a,r,t,e);return{moveResourcesPopup:e,movingResourcesToStyleguide:i,barrel:r,moveableStyleguides:l,organizationId:t,currentUserId:o,barrelType:n}}getWarningDialogType(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!t)return y.NONE;const{resourceType:n,targetStyleguide:i}=t;if(!i)return y.NONE;const o=e.type!==i.type;return n===u.RESOURCE_TYPE.COMPONENTS&&o?y.COMPONENT:y.BASIC_DIALOG}handleDocumentClick(){this.getWarningDialogType()!==y.BASIC_DIALOG&&p.default.closeMoveResourcesPopup()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&p.default.closeMoveResourcesPopup()}handleStyleguideSelect(e){p.default.selectMoveResourcesTargetStyleguide({targetStyleguide:e})}handleMove(){const{moveResourcesPopup:{resourceType:e,resources:t,targetStyleguide:n}}=this.state;f.default.moveResourcesRequest({resourceType:e,resources:t,targetStyleguideId:n._id})}componentDidUpdate(e,t){const{moveResourcesPopup:n}=this.state,{moveResourcesPopup:i}=t;n&&!i?(document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleDocumentKeydown)):!n&&i&&(document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown))}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown)}renderSelectStyleguides(){const{moveableStyleguides:e,movingResourcesToStyleguide:t,organizationId:n,currentUserId:o,barrel:a,moveResourcesPopup:r,barrelType:s}=this.state;if(!e.length){if("user"!==n)return i.h(c.NoStyleguideToMoveInOrganization,{oid:n});return o!==a.findOwner().user._id?i.h(c.NoStyleguideToMoveNonOwner,{resourceType:b[r.resourceType],barrelType:s,barrelOwnerName:a.username}):i.h(c.NoStyleguideToMove,{resourceType:b[r.resourceType]})}return i.h(c.default,{text:"Select a styleguide to move colors/text styles/components to:",loading:!!t,selected:t,onSelect:this.handleStyleguideSelect,styleguides:e})}renderMoveResourcesPopup(){const{moveResourcesPopup:e,barrel:t,barrelType:n,movingResourcesToStyleguide:o}=this.state,{targetNode:a,targetStyleguide:r}=e;let s;return s=this.getWarningDialogType()===y.COMPONENT?i.h(l.default,{loading:!!o,barrelType:n,onMove:this.handleMove,currentType:t.type,targetType:r.type}):this.renderSelectStyleguides(),i.h(d.default,{targetNode:a,content:s,top:-60,anchorTop:-4,openToLeft:!0,showAnchor:!0,open:!0})}render(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!e||!t)return null;const{resourceType:n,targetStyleguide:o}=t;return i.h("div",null,this.renderMoveResourcesPopup(),this.getWarningDialogType()===y.BASIC_DIALOG&&i.h(h.BasicOverlayDialog,{positiveButtonText:"MOVE",onPositiveButtonClick:this.handleMove,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:p.default.deselectMoveResourcesTargetStyleguide,message:`Move ${S(n)} from "${e.name}" to "${o.name}"?`}))}}t.default=a()(C)},function(e,t,n){"use strict";n.r(t);var i=n(1808);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(400),a=n(438),r=n(261),s=n.n(r),l=n(245);n(1809);t.default=function(e){const{onMove:t,barrelType:n,currentType:r,targetType:c,loading:d}=e;return i.h("div",{class:"moveComponentWarning"},i.h("h4",null,"☝️✂️"),i.h("p",null,"Your current ",n===s.a.PROJECT&&"local ","styleguide’s type is ",i.h("strong",null,Object(l.getPlatformString)(r)),", some of the assets"," ",i.h("strong",null,"may be missing")," if you link it to a styleguide with ",Object(l.getPlatformString)(c)," type.",i.h("br",null),i.h("br",null),"You can re-export components if you plan to link other type of projects to your styleguide."),i.h(o.default,{onClick:!d&&t,primary:!0},d?i.h(a.IconSpinner,{class:"iconSpinner",color:"#fff"}):"Move Anyway"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1812);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1124);n(1813);t.default=function(e){const{styleguide:t={},loading:n,loadingJoin:a,onJoin:r}=e,{_id:s,name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,componentSections:[{components:f}]=[{}]}=t;return i.h("div",{class:"styleguidePreviewPage"},n?i.h(o.StyleguidePreviewLoading,null):i.h(o.default,{showJoinButton:!0,headerSticky:!0,onJoin:function(){r({bid:s,source:"Preview"})},loadingJoin:a,name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,components:f}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1815);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(505),a=n.n(o),r=n(1816),s=n(361),l=n(1274),c=n(269),d=n.n(c),u=n(242),p=n(245);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),m(this,"handleAddLocal",async e=>{await e.load(),l.default.add({extension:e,local:!0})}),m(this,"handleEnable",e=>{l.default.enable({eid:e})}),m(this,"handleDisable",e=>{l.default.disable({eid:e})}),m(this,"handleRemove",(e,{local:t=!1}={})=>{l.default.remove({eid:e,local:t,syncWithApi:!0})})}static calculateState(){const{extensionId:e,extensions:t,enabledExtensions:n}=d.a.ExtensionsStore.getState(),i=t.map(e=>({id:e.id,default:e.default,enabled:n.includes(e.id),loaded:e.loaded,name:e.name,description:e.description,author:e.author,url:Object(u.getExtensionWebsiteUrl)({eid:e.id}),repository:e.repository,options:e.optionsSchema.map(t=>g(g({},t),{},{value:e.getOption(t.id)})),local:e.local})),{barrelId:o,barrelType:a,organizationId:r}=d.a.BarrelStore.getState(),c=s.default.findUser();return{barrelId:o,barrelType:a,organizationId:r,selectedExtensionId:e,canRemoveExtensions:p.permissions.canRemoveExtensions(c),extensions:i,visible:!0,onUpdateOption:l.default.updateOption}}static getStores(){return[d.a.BarrelStore,d.a.ExtensionsStore,d.a.UserStore]}render(){return i.h(r.default,h({},this.state,{onAddLocal:this.handleAddLocal,onEnable:this.handleEnable,onDisable:this.handleDisable,onRemove:this.handleRemove}))}}t.default=a()(b)},function(e,t,n){"use strict";n.r(t);var i=n(1817);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(4),o=n(753),a=n(400),r=n(438),s=n(1818),l=n(1825),c=n(1828),d=n(1831),u=n(416),p=n(242),h=n(241),f=n(289),g=n(1274);n(1834);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(e){super(e),b(this,"handleAddLocal",e=>{const{extensions:t,onAddLocal:n}=this.props;f.WebappExtension.createLocal(e).then(i=>{t.some(e=>e.id===i.id)?this.setState({localExtension:i,localExtensionUrl:e}):(n(i),this.hideLocalExtensionPopup())}).catch(()=>{this.setState({localExtension:null,localExtensionUrl:e})})}),b(this,"handleUpdateOption",(e,t)=>{this.props.onUpdateOption(this.state.selectedExtensionId,e,t)}),b(this,"handleRemove",()=>{const e=this.props.extensions.find(e=>e.id===this.state.selectedExtensionId);this.setState({selectedExtensionId:null});const{barrelType:t,onRemove:n}=this.props;if(e.local)return void n(e.id,{local:!0});const i=Object(p.getExtensionWebsiteUrl)({eid:e.id});h.create({title:`Remove “${e.name}” from ${t}?`,message:`Extension will be removed for all members of this ${t}. You can add it back from <a href="${i}" target="_blank">extension page</a>.`,done:{name:"REMOVE",cb(){n(e.id)}},cancel:{name:"KEEP"}},{contentType:"html"})}),this.showSettings=this.showSettings.bind(this),this.handleBackLinkClick=this.handleBackLinkClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentKeyUp=this.handleDocumentKeyUp.bind(this),this.showAddLocalExtensionPopup=this.showAddLocalExtensionPopup.bind(this),this.hideLocalExtensionPopup=this.hideLocalExtensionPopup.bind(this),this.state={selectedExtensionId:null,altPressed:!1,localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null}}close(){g.default.closeSettings()}hideLocalExtensionPopup(){this.setState({localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null})}showAddLocalExtensionPopup(){f.WebappExtension.createLocal("http://127.0.0.1:7070").then(e=>{const t={localExtensionPopupVisible:!0};this.props.extensions.some(t=>t.id===e.id)||Object.assign(t,{localExtensionUrl:"http://127.0.0.1:7070",localExtension:e}),this.setState(t)}).catch(()=>{this.setState({localExtensionPopupVisible:!0,localExtensionUrl:null,localExtension:null})})}showSettings(e){this.setState({selectedExtensionId:e})}handleBackLinkClick(e){e.preventDefault(),this.setState({selectedExtensionId:null})}handleDocumentKeyDown(e){e.keyCode!==Zeplin.KEY_CODE.ALT||e.shiftKey||this.setState({altPressed:!0})}handleDocumentKeyUp(e){this.state.altPressed&&e.keyCode===Zeplin.KEY_CODE.ALT&&this.setState({altPressed:!1})}componentDidMount(){const{selectedExtensionId:e}=this.props;void 0!==e&&this.showSettings(e),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("keyup",this.handleDocumentKeyUp)}componentWillReceiveProps(e){e.selectedExtensionId!==this.props.selectedExtensionId&&void 0===e.selectedExtensionId&&this.showSettings(this.props.selectedExtensionId)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("keyup",this.handleDocumentKeyUp)}renderContent(e){if(e)return i.h(l.default,m({onChange:this.handleUpdateOption},e));const{extensions:t,onEnable:n,onDisable:o}=this.props;return t.length?i.h(s.default,{extensions:t,onEnable:n,onDisable:o,onSettingsClick:this.showSettings}):i.h(c.default,{organizationId:this.props.organizationId})}render(){if(!this.props.visible)return;const{extensions:e,canRemoveExtensions:t,organizationId:n}=this.props,{localExtension:s,localExtensionUrl:l,localExtensionPopupVisible:c,selectedExtensionId:h,altPressed:f}=this.state,g=s&&e.some(e=>e.id===s.id),m=e.find(e=>e.id===h);return i.h(o.default,{baseRef:Object(u.default)(this,"extensionDialog"),width:640,height:640,onClose:this.close,showBackdrop:!1,fallbackButtonText:m&&(m.local||t)&&"REMOVE",onFallbackButtonClick:this.handleRemove,hideNegativeButton:!0},i.h("div",{class:"extensionDialogHeader"},m&&i.h("a",{onClick:this.handleBackLinkClick,href:"#",class:"extensionDialogBackLink"},i.h(r.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",null,"Extensions")),i.h("h2",null,m?m.name:"Extensions"),f||c?i.h(a.default,{class:"addLocalExtension",disabled:c,onClick:this.showAddLocalExtensionPopup},"Add local extension"):i.h("a",{href:Object(p.getExtensionWebsiteUrl)({organizationId:n}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions")),i.h("div",{class:"extensionDialogMain"},this.renderContent(m),c&&i.h(d.default,{top:this.nodeRefs.extensionDialog.getBoundingClientRect().top,initialUrl:l,alreadyAdded:g,onAdd:this.handleAddLocal,onClose:this.hideLocalExtensionPopup,extension:s})))}}},function(e,t,n){"use strict";n.r(t);var i=n(1819);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1820),a=n(400),r=n(396),s=n.n(r),l=n(1531),c=n(438),d=n(395),u=n(249),p=n(242);n(1824);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return i.h("div",{class:"extensionPreview"},i.h("p",null,"Extensions are built by community to generate code snippets from designs. Pick the ones that fit your workflow, or create your own and contribute. ",i.h("a",{href:Object(p.getExtensionWebsiteUrl)(),target:"_blank",rel:"noopener"},"Learn more…")),i.h("div",{class:"snippetExample"},i.h("div",{class:"sampleButtonWithArrow"},i.h("img",{src:Object(u.imageUrl)("img/icCurvedArrow.svg")}),i.h("div",{class:"sampleButton"},"Button")),i.h(l.default,{lang:"css",class:"sampleCode",content:".button-bg {\n\t\twidth: 200px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\t\tbackground-color: #fdbd39;\n\t\tbackground-color: var(--light-orange);\n\t\tbox-shadow: 0 0 4px 0 #2f333a;\n\t\tborder: solid 2px rgba(255, 255, 255, 0.4);\n}",asyncHighlight:!1,style:{fontSize:"12px",lineHeight:"14px"}})))}class g extends i.Component{constructor(...e){super(...e),h(this,"handleEnabledChange",e=>{(e.target.checked?this.props.onEnable:this.props.onDisable)(this.props.id)}),h(this,"handleSettingsClick",()=>{this.props.onSettingsClick(this.props.id)})}render(){const{name:e,author:t,repository:n,description:r,url:l,local:p,loaded:h,enabled:f}=this.props,g=[t.url,n];return i.h("div",{class:"extensionListItem"},p&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(u.imageUrl)("img/emjConstructionTeyze.png"),srcSet:`${Object(u.imageUrl)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(u.imageUrl)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("label",null,i.h(s.a,{onChange:this.handleEnabledChange,checked:f}),i.h("div",{class:"extensionInfo"},i.h("div",null,i.h("span",{class:"name"},e),i.h("span",{class:"author"},t.displayName)),h?i.h("span",{class:"description"},r):i.h("span",{class:"error"},"Fetching extension failed"),i.h(o.default,{links:g}))),i.h("a",{class:Object(d.default)("readmeLink",{invisible:p}),href:l,target:"_blank",rel:"noopener"},i.h(c.IconReadme,null)),i.h(a.default,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(c.IconSettings,null)))}}t.default=function({extensions:e,onEnable:t,onDisable:n,onSettingsClick:o}){const a=e.map(e=>{const{id:a,name:r,description:s,author:l,url:c,repository:d,enabled:u,loaded:p,local:h}=e;return i.h(g,{onEnable:t,onDisable:n,onSettingsClick:o,key:a,id:a,name:r,description:s,author:l,url:c,repository:d,enabled:u,loaded:p,local:h})});return i.h("div",{class:"barrelExtensions"},i.h(f,null),a)}},function(e,t,n){"use strict";n.r(t);var i=n(1821);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(1822);n(1823);function a({links:e}){const t=e.map(o.default).filter(Boolean).map(({text:e,url:t},n)=>[!!n&&" • ",i.h("a",{key:e,href:t,target:"_blank",rel:"noopener"},e)]);return i.h("span",{class:"extensionLinks"},t)}},function(e,t,n){"use strict";function i(e){try{const t=new URL(e);let n;switch(t.hostname){case"www.bitbucket.org":case"www.github.com":case"www.gitlab.com":case"bitbucket.org":case"github.com":case"gitlab.com":{const e=t.hostname.split(".");n=e[e.length-2];break}case"www.twitter.com":case"twitter.com":n=t.pathname.split("/")[1]||e.replace(/https?:\/\//,"");break;default:n=e.replace(/https?:\/\//,"")}return{url:e,text:n}}catch(t){return null}}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1826);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(4),o=n(1820),a=n(509),r=n(396),s=n.n(r),l=n(1206),c=n(438),d=n(249);n(1827);class u extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e)}render(){const{options:e,name:t,value:n}=this.props;return i.h("div",{class:"option"},i.h("span",{class:"name"},t),i.h(a.default,{onChange:this.handleChange,top:-12,left:96},function(e,t){return e.map((e,n)=>i.h(a.default.Item,{selected:e.value===t,label:e.name,value:e.value,key:e.value}))}(e,n)))}}class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e.target.checked)}render(){const{name:e,id:t,value:n}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(s.a,{name:t,onChange:this.handleChange,checked:n}))}}class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.target.value!==this.props.value&&this.props.onChange(this.props.id,e.target.value)}render(){const{name:e,value:t}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(l.default,{onBlur:this.handleChange,value:t,placeholder:"Let’s find a placeholder"}))}}function f(e){const{author:t,repository:n,description:a,url:r,local:s,options:l,onChange:f}=e,g=l.map(e=>{let t;switch(e.type){case"picker":t=u;break;case"switch":t=p;break;case"text":t=h;break;default:return null}return i.h(t,Object.assign(e,{onChange:f}))}).filter(Boolean),m=[t.url,n];return i.h("div",{class:"extensionSettings"},i.h("div",{class:"extensionInfo"},i.h("div",null,s&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(d.imageUrl)("img/emjConstructionTeyze.png"),srcSet:`${Object(d.imageUrl)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(d.imageUrl)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("div",{class:"author"},t.displayName),i.h("div",{class:"description"},a),i.h(o.default,{links:m})),!s&&i.h("a",{class:"readmeLink",href:r,target:"_blank",rel:"noopener"},i.h(c.IconReadme,null))),g.length>0&&i.h("h3",null,"Settings"),g)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1829);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(543),a=n(242);n(1830);function r({organizationId:e}){return i.h("div",{class:"noExtensions"},i.h("h2",null,"No added extensions yet ",i.h(o.default,{asset:"img/emjAlembic.png"})),i.h("p",null,"Extensions are built by the community, generating code snippets from designs.",i.h("br",null),"Looks like you don’t have any extensions enabled on this project.",i.h("br",null),i.h("br",null),"Pick the ones that fit your workflow."),i.h("a",{href:Object(a.getExtensionWebsiteUrl)({organizationId:e}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions"))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1832);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(4),o=n(400),a=n(1206),r=n(245),s=n(395),l=n(416),c=n(244);n(1833);class d extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.state={urlChanged:!1,invalidUrl:!1}}focusTextInput(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:i}=this.state,{textInput:o}=this.nodeRefs;i||(n&&!e||t?Object(c.highlightInput)(o):o.focus())}setInitialUrl(){this.state.urlChanged||(this.nodeRefs.textInput.value=this.props.initialUrl)}handleAddClick(){const{textInput:e}=this.nodeRefs;let t=e.value;if(t){if(!e.checkValidity())return Object(c.wiggle)(e),Object(c.highlightInput)(e),void this.setState({invalidUrl:!0});/^https?:\/\//.test(t)||(t="http://"+t),this.props.onAdd(t)}}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleInputChange(){this.state.urlChanged&&!this.state.invalidUrl||this.setState({urlChanged:!0,invalidUrl:!1})}handleInputKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.stopPropagation(),this.handleAddClick())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),document.addEventListener("click",this.handleDocumentClick,!0),this.focusTextInput(),this.setInitialUrl()}componentWillReceiveProps(e){this.setState({urlChanged:!1,invalidUrl:!1})}componentDidUpdate(){this.focusTextInput(),this.setInitialUrl()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!0)}renderInfo(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:o,invalidUrl:a}=this.state,r=n&&!e,l=o&&!a,c=r||t||a;let d;return a?d="Enter a valid URL.":t?d=`“${e.name}” is already added.`:e?d=`Found “${e.name}”.`:r&&(d="No extension found."),i.h("p",{class:Object(s.default)("info",{warning:c,invisible:l})},d)}render(){const{extension:e,alreadyAdded:t,initialUrl:n,onClose:s}=this.props,{urlChanged:c,invalidUrl:d}=this.state,u=d||!c&&(n&&!e||t);return i.h("div",{ref:Object(l.default)(this,"base"),class:"localExtensionPopup",onClick:r.stopPropagation},i.h("div",null,i.h("p",null,"Enter extension URL:"),i.h(a.default,{inputRef:Object(l.default)(this,"textInput"),type:"url",class:"localExtensionUrl",onInput:this.handleInputChange,onKeyDown:this.handleInputKeyDown,placeholder:"e.g. http://localhost:7070"}),this.renderInfo()),i.h("div",{class:"footer"},i.h(o.default,{class:"cancel",onClick:s},"CANCEL"),i.h(o.default,{class:"done",onClick:this.handleAddClick,disabled:u},"ADD")))}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1836);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(269),a=n.n(o),r=n(361),s=n(367),l=n(382),c=n(505),d=n.n(c),u=n(1837);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(e){super(e),p(this,"handleDocumentClick",e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&l.default.closeTagManager()}),p(this,"handleKeyDown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&l.default.closeTagManager()}),this.handleTagOperation=this.handleTagOperation.bind(this),this.handleAdd=this.handleAdd.bind(this),this.handleRemove=this.handleRemove.bind(this)}static getStores(){return[a.a.BarrelStore,a.a.ScreenStore,a.a.ProjectsDataStore]}static calculateState(){const{tags:e}=r.default.getBarrel(),{tagManagerScreenId:t}=a.a.ScreenStore.getState();if(!t)return{};const{tags:n}=s.default.getScreen({sid:t});return{screenId:t,tags:n,allTags:e}}handleTagOperation(e,t){const{screenId:n}=this.state;l.default.updateTags({updates:[{_id:n,operation:t,tags:[e]}],isScreen:!0,syncWithApi:!0})}handleAdd(e){this.handleTagOperation(e,"add")}handleRemove(e){this.handleTagOperation(e,"remove")}componentDidMount(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleKeyDown)}render(){const{tags:e,allTags:t}=this.state;return i.h(u.default,{tags:e,allTags:t,onAdd:this.handleAdd,onRemove:this.handleRemove,onClose:l.default.closeTagManager})}}t.default=d()(h)},function(e,t,n){"use strict";n.r(t);var i=n(1838);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),a=n.n(o),r=n(245),s=n(416),l=n(1839);n(1848);class c extends i.Component{constructor(e){super(e),this.state={filter:""},this.handleInputChange=this.handleInputChange.bind(this),this.handleAdd=this.handleAdd.bind(this)}handleInputChange(e){this.setState({filter:e.target.value})}handleAdd(e){const{onAdd:t}=this.props;this.setState({filter:""}),t(e)}componentDidMount(){this.nodeRefs.input.focus()}render(){const{tags:e,allTags:t,onRemove:n,onClose:o}=this.props,{filter:a}=this.state,c=a.trim(),d=t.filter(t=>!e.includes(t)).reduce((e,t)=>(t.toLowerCase().includes(a.toLowerCase())&&e.suggestionList.push({name:t}),e.shouldCreateNewTag&&t===c&&(e.shouldCreateNewTag=!1),e),{shouldCreateNewTag:!0,suggestionList:[]});return d.shouldCreateNewTag&&c&&!e.includes(c)&&d.suggestionList.push({name:c,isNew:!0}),i.h("div",{class:"tagManagerOverlay",onClick:o},i.h("div",{class:"tagManagerPopup",onClick:r.stopPropagation},i.h("input",{ref:Object(s.default)(this,"input"),value:a,class:"searchTags",placeholder:"Enter a tag",onInput:this.handleInputChange}),i.h(l.default,{tagList:e,suggestionList:d.suggestionList,onAddTag:this.handleAdd,onRemoveTag:n}),i.h("div",{class:"tagManagerCommands"},i.h("button",{class:"tagManagerDoneButton",onClick:o},"DONE"))))}}c.propTypes={tags:a.a.arrayOf(a.a.string).isRequired,allTags:a.a.arrayOf(a.a.string).isRequired,onAdd:a.a.func.isRequired,onRemove:a.a.func.isRequired,onClose:a.a.func.isRequired},c.defaultProps={tags:[],allTags:[]},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1840);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1841),a=n(1844),r=n(249),s=n(245),l=n(416),c=n(244);n(1847);class d extends i.Component{constructor(e){super(e),this.state={selectedSuggestionIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleSuggestionMouseEnter(e){this.setState({selectedSuggestionIndex:e})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;0!==t&&this.setState({selectedSuggestionIndex:t-1})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;t!==this.props.suggestionList.length-1&&this.setState({selectedSuggestionIndex:t+1})}else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onAddTag:t,suggestionList:n}=this.props,{selectedSuggestionIndex:i}=this.state;n.length&&t(n[i].name)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(s.arrayEqual)(e.suggestionList,this.props.suggestionList,(e,t)=>e.name===t.name&&e.isNew===t.isNew)||this.setState({selectedSuggestionIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedSuggestion&&Object(c.scrollIfNecessary)(this.nodeRefs.selectedSuggestion.base)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderScreenTags(){const{tagList:e,onRemoveTag:t}=this.props;return i.h("div",{class:"screenTags"},e.map(e=>i.h(a.default,{key:e,tag:e,onRemove:t})))}renderContent(){const{suggestionList:e,tagList:t,onAddTag:n}=this.props,{selectedSuggestionIndex:a}=this.state;return i.h("div",{class:"tagList"},t.length?this.renderScreenTags():i.h("span",{class:"noTagsOnScreen"},"No tags on this screen yet, add one!"),e.map((e,t)=>{let r;return a===t&&(r=Object(l.default)(this,"selectedSuggestion")),i.h(o.default,{key:e.name,suggestionName:e.name,suggestionIndex:t,selected:a===t,isNew:e.isNew,ref:r,onClick:n,onMouseEnter:this.handleSuggestionMouseEnter})}))}renderProjectWithNoTags(){return i.h("div",{class:"tagList"},i.h("div",{class:"noTagsOrSuggestions"},i.h("img",{class:"noTagsTagIcon",src:Object(r.imageUrl)("img/icTag.svg")}),i.h("p",null,"No tag defined yet."),i.h("div",{class:"textAndIcon"},i.h("p",null,"Go ahead, add your first tag!"),i.h("img",{src:Object(r.imageUrl)("img/icDart.svg"),srcset:Object(r.srcset)(Object(r.imageUrl)("img/icDart.png"))}))))}render(){const{tagList:e,suggestionList:t}=this.props;return e.length||t.length?this.renderContent():this.renderProjectWithNoTags()}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1842);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(550),a=n(400),r=n(395),s=n(249);n(1843);class l extends o.default{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{suggestionName:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{suggestionIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{selected:e,suggestionName:t,isNew:n}=this.props;return i.h(a.default,{class:Object(r.default)("suggestion",{isNew:n},{selected:e}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},n?i.h("div",{class:"createNewTag"},i.h("img",{src:Object(s.imageUrl)("img/icCreateNewTag.svg")}),i.h("span",{class:"ellipsis"},'Create new tag "',t,'"')):i.h("span",{class:"suggestionText ellipsis"},t))}}t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1845);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(249),a=n(400);n(1846);class r extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{tag:e,onRemove:t}=this.props;t(e)}render(){const{tag:e}=this.props;return i.h("div",{class:"manageTagsTag noSelect"},i.h("span",{class:"tagButtonText ellipsis"},e),i.h(a.default,{onClick:this.handleClick,class:"removeTagButton"},i.h("img",{src:Object(o.imageUrl)("img/icGuidelineRemove.svg")})))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1850);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),l=r(n(505)),c=r(n(269)),d=r(n(1301)),u=r(n(1851)),p=a(n(341));class h extends s.Component{static calculateState(){const{open:e,inid:t,channelName:n,eventGroupsByInid:i,loading:o}=c.default.SlackPreferencesStore.getState(),{barrelType:a}=c.default.BarrelStore.getState(),r=i[t],s=p.eventGroupsByBarrelType[a];return{open:e,channelName:n,preferenceGroups:Object.entries(s).map(([e,t])=>{var n;return{title:t.name,description:t.info,loading:o.includes(e),checked:(null===(n=null==r?void 0:r[e])||void 0===n?void 0:n.length)===t.events.length,eventGroup:e}})}}static getStores(){return[c.default.SlackPreferencesStore,c.default.BarrelStore]}render(){const{open:e,channelName:t,preferenceGroups:n}=this.state;return e&&s.h(u.default,{channelName:t,preferenceGroups:n,onPreferenceGroupStateChange:d.default.updateEventGroup,onClose:d.default.close})}}t.default=l.default(h)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1852);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(1853)),s=i(n(753));n(1856),t.default=function({channelName:e,preferenceGroups:t,onPreferenceGroupStateChange:n,onClose:i}){const l=a.useRef();return a.useEffect(()=>{l.current.scrollTop=1,l.current.scrollTop=0}),o.h(s.default,{width:400,onClose:i,showBackdrop:!1,hideNegativeButton:!0},o.h("div",{class:"slackPreferencesDialogHeader"},"Choose what to see in ",o.h("span",{title:e},e)),o.h("div",{ref:l,class:"slackPreferenceGroupsContainer"},t.map(({title:e,description:t,loading:i,checked:a,eventGroup:s})=>o.h(r.default,{key:s,title:e,description:t,loading:i,checked:a,onChange:n,eventGroup:s}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1854);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(395)),r=i(n(396));n(1855),t.default=function({title:e,description:t,loading:n,checked:i,onChange:s,eventGroup:l}){return o.h("label",{className:a.default("slackPreferenceGroup",{loading:n})},o.h("div",{className:"slackPreferenceGroupInfo"},o.h("div",{className:"slackPreferenceGroupName",title:e},e),o.h("div",{className:"slackPreferenceGroupDescription",title:t},t)),o.h(r.default,{class:"slackPreferenceGroupCheckbox",disabled:n,checked:i,onChange:function(e){s(l,e.target.checked)}}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1859);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(577)),r=i(n(269)),s=i(n(505)),l=i(n(1860)),c=i(n(1863)),d=i(n(1893)),u=i(n(1910)),p=i(n(1931)),h=i(n(1934)),f=i(n(272)),g=i(n(847)),m=i(n(1935)),b=i(n(1938)),S=i(n(1941)),y=i(n(261)),C=i(n(362)),v=i(n(1078)),O=i(n(1944)),E=i(n(361)),T=i(n(376)),_=n(368),P=n(230),j=i(n(382)),D=i(n(395)),k=n(245),I=n(514),R=n(301),A=i(n(1275));n(1945);class w extends o.Component{constructor(){super(...arguments),this.contentRef=I.useRef(),this.setAllAsRead=()=>{const{activities:e}=this.state;a.default.setReadStatus({notifications:e.filter(({markedAsRead:e})=>!e),markedAsRead:!0,trackEventName:"Marked all notifications as read"})},this.toggleReadStatus=()=>{const{selectedItem:e,selectedEvents:t}=this.state;if(t.length){const n=t.every(({markedAsRead:e})=>e);a.default.setEventReadStatus({notification:e,eventIds:this.selectedEventIds,markedAsRead:!n,trackUnreadEvent:!0})}else{const{markedAsRead:t}=e;a.default.setReadStatus({notifications:[e],markedAsRead:!t,trackEventName:t?"Marked notification as unread":void 0})}},this.toggleDotStatus=()=>{const{selectedItem:e,selectedDot:t}=this.state,{params:{project:n,screen:i}}=e,{_id:o,status:a}=t,r=n._id,s=i._id,l="open"===a?"resolved":"open";j.default.updateDotStatus({pid:r,sid:s,did:o,status:l,syncWithApi:!0,source:"Notification"})},this.addDotComment=e=>{const t=e.trim();if(!t)return;const{selectedItem:n,selectedDot:i}=this.state,{params:{project:o,screen:a}}=n,{_id:r}=i,s=o._id,l=a._id;j.default.createComment({pid:s,sid:l,did:r,note:t,syncWithApi:!0,source:"Notification"})},this.trackActivitiesNavigation=()=>{g.default.trackEventWithFilterDetails("Navigated to notification destination")},this.setContentWidth=()=>{this.setState({contentWidth:this.contentRef.current.clientWidth})},this.minimizeWelcomeMessage=()=>{h.default.setNotificationWelcomeMessageMinimized(!0)},this.handleMembersOpen=()=>{const{allBarrelsSelected:e,userId:t}=this.state;if(e){const{selectedOrganizationId:e}=r.default.ActivitiesViewStore.getState();h.default.requestRelatedUsers(e,t)}},this.handleSectionsOpen=()=>{var e;const{projectId:t}=this.state;(null===(e=E.default.getProject({pid:t}))||void 0===e?void 0:e.sections)||v.default.requestProject(t)},this.handleJoinStyleguide=()=>{const{styleguideId:e}=this.state;T.default.join({barrelType:y.default.STYLEGUIDE,bid:e,shouldLoadBarrel:!1})}}get selectedEventIds(){const{selectedEvents:e}=this.state;return e.map(({_id:e})=>e)}static calculateState(){var e,t,n,i,o,a,s,l,c,d,u,p,h;const{notifications:m,loading:b}=r.default.NotificationsStore.getState(),{loadingOrganization:S,loadingBarrels:v,focusedBarrels:T}=r.default.OrganizationStore.getState(),{selectedId:j,selectedEventIds:D,dotsLoaded:I,category:R,barrelSelection:A,projectsWithUpdatesOnly:w,sectionId:N,noteStatusFilterType:L,color:x,memberId:M,selectedOrganizationId:U,sidebarWidth:B,notificationWelcomeMessageMinimized:z}=r.default.ActivitiesViewStore.getState(),V=C.default.getOrganization(U),W=!(0!==(null==V?void 0:V.sections.length));if(S||v||b||W||!U)return{ready:!1};const F=r.default.UserStore.getState().userId,H="all"===A.type,G=A.type===y.default.PROJECT?A.id:void 0,$=G?E.default.getProject({pid:G}):void 0;let q,Z,K=!1;if(H){const n=C.default.getOrganizationProfile(U),i=!!n;if("user"===U||i&&n.restricted){const{acquaintancesLoading:e,acquaintancesError:t}=r.default.UserStore.getState();K=e,Z=null==t?void 0:t.message,q=O.default.getUserAndAcquaintances()}else i&&!n.restricted&&(K=!!V.membersLoading,Z=null===(e=V.membersError)||void 0===e?void 0:e.message,q=null===(t=V.members)||void 0===t?void 0:t.map(({user:e})=>e))}else $&&(q=$.users.map(({user:e})=>e));q=null!==(n=null==q?void 0:q.filter(({username:e})=>e))&&void 0!==n?n:[];const{error:Y,loadingProject:J}=r.default.ProjectsDataStore.getState(),X=null!==(o=null===(i=null==$?void 0:$.sections)||void 0===i?void 0:i.slice(1))&&void 0!==o?o:[],Q=!X.length&&J,ee=(null===(a=null==$?void 0:$.sections)||void 0===a?void 0:a.length)||null==Y?void 0:Y.message,te=A.type===y.default.PROJECT?A.isPinned:void 0,ne=A.type===y.default.STYLEGUIDE?A.id:void 0;let ie=m.filter(({_id:e})=>e);ie=ie.filter(({events:e})=>e.every(({_id:e})=>e)),ie=ie.filter(({actionName:e})=>g.default.isTypeValid(e));let oe=ie.filter(e=>g.default.isInCategory(e,R));if(L&&(oe=oe.filter(e=>g.default.doesNoteStatusMatch(e,L))),x&&(oe=oe.filter(e=>g.default.doesNoteColorMatch(e,x))),M&&(oe=oe.filter(e=>g.default.doesNoteUserMatch(e,M))),N){const e=null===(s=X.find(({_id:e})=>e===N))||void 0===s?void 0:s.screens;oe=oe.filter(({params:{screen:t}})=>t&&(null==e?void 0:e.includes(t._id)))}const ae=new Set,re=new Set,se=new Set;for(const r of ie.filter(({markedAsRead:e})=>!e))g.default.getRelatedProjects(r).forEach(e=>{ae.add(e),g.default.hasMention(r)&&re.add(e)}),g.default.getRelatedStyleguides(r).forEach(e=>se.add(e));const le=(C.default.getOrganizationProjects(U)||[]).filter(e=>e.users.some(({user:e})=>e._id===F)).map(e=>Object.assign(Object.assign({},e),{hasUpdate:ae.has(e.id),hasMention:re.has(e.id)})),ce=le.filter(({_id:e,hasUpdate:t,status:n})=>(!w||t)&&"archived"!==n||e===G);let de;if(V){const[e,...t]=V.sections;e.name="Individual Projects",de=[...t,e]}else ce.sort(k.sortBy.name).sort((e,t)=>Number(t.hasUpdate)-Number(e.hasUpdate)),de=[{_id:"personalProjectDefaultSection",name:"Personal Projects",projects:ce.map(e=>e._id)}];const ue=_.filterSortProjectSections({sections:de,projects:ce,sortType:P.SortTypes.SECTIONS,shouldPutResultsToDefaultSection:!V}),pe=null===(l=T[U])||void 0===l?void 0:l.map(e=>e.barrelId),he=(C.default.getOrganizationStyleguides(U)||[]).map(e=>Object.assign(Object.assign({},e),{hasUpdate:se.has(e.id)})),fe=he.filter(e=>e.users.some(({user:e})=>e._id===F)),ge=fe.filter(({_id:e,status:t})=>"archived"!==t||e===ne),me=ge.reduce((e,t)=>new Set([...e,...t.ancestors,t.id]),new Set);const be=he.filter(({_id:e})=>me.has(e));oe=oe.filter(e=>{var t;return H?(null===(t=e.params.organization)||void 0===t?void 0:t._id)===U||le.some(({id:t})=>g.default.isRelatedToProject(e,t))||fe.some(({id:t})=>g.default.isRelatedToStyleguide(e,t)):G?g.default.isRelatedToProject(e,G):!!ne&&g.default.isRelatedToStyleguide(e,ne)});const Se=oe.find(({_id:e})=>e===j);let ye=(null==Se?void 0:Se.events.filter(({_id:e})=>null==D?void 0:D.includes(e)))||[];0===ye.length&&1===(null==Se?void 0:Se.events.length)&&(ye=[Se.events[0]]);const Ce=!!Se&&g.default.getCategory(Se)===f.default.Note,ve=Ce?le.find(({id:e})=>e===Se.params.project._id):void 0,Oe=null===(c=null==ve?void 0:ve.screens)||void 0===c?void 0:c.find(({_id:e})=>e===Se.params.screen._id),Ee=null===(d=null==Oe?void 0:Oe.versions)||void 0===d?void 0:d[0].snapshot,Te=null!==(p=null===(u=null==Oe?void 0:Oe.dots)||void 0===u?void 0:u.find(({_id:e})=>{var t;return e===(null===(t=ye[0].dot)||void 0===t?void 0:t._id)}))&&void 0!==p?p:null===(h=null==Oe?void 0:Oe.dots)||void 0===h?void 0:h.find(({_id:e})=>{var t;return e===(null===(t=Se.params.dot)||void 0===t?void 0:t._id)});return{ready:!0,userId:F,activities:oe,selectedOrganizationId:U,selectedItem:Se,selectedEvents:ye,selectedDot:Te,selectedDotSnapshot:Ee,dotError:Ce&&(I&&!Te||!Ee&&!J),category:R,allBarrelsSelected:H,projectId:G,isSelectedProjectPinned:te,styleguideId:ne,projectsWithUpdatesOnly:w,styleguides:be,workspaceSections:ue,pinnedProjectIds:pe,noteStatusFilterType:L,color:x,usersLoading:K,usersError:Z,users:q,projectMemberId:M,loadingScreenSections:Q,screenSectionsError:ee,screenSections:X,screenSectionId:N,selectedBarrelType:A.type,sidebarWidth:B,showWelcomeMessage:!z}}static getStores(){return[r.default.NotificationsStore,r.default.ActivitiesViewStore,r.default.OrganizationStore,r.default.ProjectsDataStore,r.default.StyleguidesDataStore,r.default.UserStore,r.default.BarrelStore]}componentDidMount(){window.addEventListener("resize",this.setContentWidth)}componentDidUpdate(e,t){t.ready&&!this.state.ready||this.setContentWidth()}componentWillUnmount(){window.removeEventListener("resize",this.setContentWidth)}render(){if(!this.state.ready)return o.h(b.default,null);const{activities:e,userId:t,selectedOrganizationId:n,selectedItem:i,selectedEvents:a,selectedDot:r,selectedDotSnapshot:s,dotError:g,category:y,allBarrelsSelected:C,projectId:v,isSelectedProjectPinned:O,styleguideId:E,projectsWithUpdatesOnly:T,styleguides:_,workspaceSections:P,pinnedProjectIds:j,noteStatusFilterType:k,color:I,usersLoading:w,usersError:N,users:L,projectMemberId:x,loadingScreenSections:M,screenSectionsError:U,screenSections:B,screenSectionId:z,selectedBarrelType:V,sidebarWidth:W,contentWidth:F,showWelcomeMessage:H}=this.state,G=y===f.default.Note,$=e.length>0;let q=!1;if(E){const e=_.find(e=>e.id===E);(null==e?void 0:e.users.find(e=>e.user._id===t))||(q=!0)}const Z=!$||q,K=R.clamp(F,940,1148),Y=K-108,J=Math.round(.38461538461538464*Y),X=Y-J,Q=Math.max(0,(F-K)/2);return o.h("div",{class:"activitiesContainer"},o.h(A.default,{class:"activitiesSidebar",initialWidth:W,minWidth:260,collapsible:!1,onResize:this.setContentWidth,onRelease:h.default.setSidebarWidth,resizingSide:"right"},o.h(l.default,{category:y,onSelect:h.default.selectCategory}),o.h("div",{class:"activitiesSidebarSeparator"}),o.h(m.default,{allSelected:C,projectId:v,isSelectedProjectPinned:O,styleguideId:E,projectsWithUpdatesOnly:T,sections:P,pinnedProjectIds:j,styleguides:_,selectedOrganizationId:n,selectAll:h.default.selectAllBarrels,selectBarrel:h.default.selectBarrel,onProjectsWithUpdatesOnlyChange:h.default.setProjectsWithUpdatesOnly})),o.h("div",{ref:this.contentRef,class:D.default("activitiesContent",{withWelcomeMessage:H}),style:{paddingLeft:Q,paddingRight:Q}},H&&o.h(p.default,{oid:n,minimize:this.minimizeWelcomeMessage}),G&&!E&&o.h(c.default,{loadingMembers:w,membersError:N,members:L,showSectionFilter:!C,loadingSections:M,sectionsError:U,sections:B,selectedNoteStatus:k,selectedColor:I,selectedMemberId:x,selectedSectionId:z,onNoteStatusFilterTypeChange:h.default.selectNoteStatusFilterType,onColorChange:h.default.selectColor,requestMembers:this.handleMembersOpen,onMemberFilterChange:h.default.selectMember,requestSections:this.handleSectionsOpen,onSectionFilterChange:h.default.selectSection}),Z&&o.h(S.default,{barrelType:V,category:y,notInvitedToStyleguide:q,onJoinStyleguide:this.handleJoinStyleguide}),$&&!Z&&o.h("div",{class:D.default("activityListAndDetails",{noteCategorySelected:G,withWelcomeMessage:H})},o.h(d.default,{width:J,activities:e,selectedItemId:null==i?void 0:i._id,selectedEventIds:this.selectedEventIds,onSetAllAsReadClick:this.setAllAsRead,onSelect:h.default.select,allSelected:C}),i&&o.h(u.default,{width:X,activity:i,events:a,dot:r,dotSnapshot:s,dotError:g,onActivitiesNavigationClick:this.trackActivitiesNavigation,onToggleReadStatusClick:this.toggleReadStatus,onToggleDotStatusClick:this.toggleDotStatus,onAddDotCommentClick:this.addDotComment}))))}}t.default=s.default(w)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1861);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(272)),r=i(n(395));n(1862);const s={[a.default.All]:"All",[a.default.Note]:"Notes",[a.default.Screen]:"Screens",[a.default.Styleguide]:"Styleguide",[a.default.Other]:"Others"},l=Object.keys(a.default);t.default=function({category:e,onSelect:t}){const n=Object.fromEntries(l.map(e=>[e,()=>t(e)]));return o.h("div",{class:"activityCategories"},l.map((function(t){const i=t===e,a=s[t];return o.h("span",{key:t,class:r.default("activityCategory",{selected:i}),onClick:n[t]},a)})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1864);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1865)),r=i(n(1886)),s=i(n(1889));n(1892),t.default=function({loadingMembers:e,membersError:t,members:n,showSectionFilter:i,loadingSections:l,sectionsError:c,sections:d,selectedColor:u,selectedNoteStatus:p,selectedMemberId:h,selectedSectionId:f,onNoteStatusFilterTypeChange:g,onColorChange:m,requestMembers:b,onMemberFilterChange:S,requestSections:y,onSectionFilterChange:C}){return o.h("div",{class:"activitiesNoteFilterView"},o.h(r.default,{dropdownTop:42,dropdownLeft:-6,selectedColor:u,selectedNoteStatus:p,onNoteStatusFilterTypeChange:g,onColorChange:m}),o.h(a.default,{dropdownTop:42,dropdownLeft:-93,loading:e,error:t,members:n,selectedMemberId:h,requestMembers:b,onFilterChange:S}),i&&o.h(s.default,{dropdownTop:42,dropdownLeft:-203,loading:l,error:c,sections:d,requestSections:y,selectedSectionId:f,onFilterChange:C}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1866);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1867)),r=i(n(1870)),s=i(n(509)),l=i(n(519)),c=i(n(395)),d=n(244),u=n(254);n(1885);function p({selectedId:e,items:t,filterValue:n}){return o.h(o.Fragment,null,!n&&o.h(o.Fragment,null,o.h(s.default.Item,{selected:!e},o.h("div",{class:"membersDropdownItem"},o.h("div",{class:"allMembersAvatar"},"👨‍👩‍👧‍👧"),o.h("span",null,t.length>1?"All members":"History members"))),o.h(a.default,null)),t.map(t=>{const{_id:n,fullName:i,username:a}=t,{src:r,srcset:c}=d.getUserAvatar(t,{size:24}),u=i||a,p=e===n;return o.h(s.default.Item,{key:n,value:n,selected:p},o.h("div",{class:"membersDropdownItem"},o.h(l.default,{class:"memberRowAvatar",src:r,srcset:c,size:24}),o.h("span",null,u)))}))}t.default=function({dropdownTop:e,dropdownLeft:t,loading:n,error:i,selectedMemberId:a,members:s,requestMembers:l,onFilterChange:d}){return o.h(r.default,{dropdownProps:{class:"membersDropdown",top:e,left:t,fixedTop:!0,autoScroll:!0,defaultLabel:"Members",showSelectedAsLabel:!1,onChange:d,labelClass:c.default({membersDropdownModifiedLabel:!!a}),optionsClass:"membersDropdownOptions"},filterInputProps:{placeholder:"Search for a member",placeholderWidth:140,class:"membersFilterInput"},itemTypeName:"member",loading:n,error:i,items:s,selectedId:a,requestItems:l,matchItem:u.matchUserWithFilterValue,renderItems:p})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1868);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1869),t.default=function(){return i.h("div",{class:"dropdownItemSeparator"})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1871);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(1872)),s=i(n(1875)),l=i(n(509)),c=i(n(869)),d=i(n(1878)),u=i(n(1881));n(1884),t.default=function({dropdownProps:e,filterInputProps:t,itemTypeName:n,emptyText:i,loading:p,error:h,items:f,selectedId:g,requestItems:m,renderItems:b,matchItem:S}){const[y,C]=a.useState(""),v=f.filter(e=>S(e,y));return o.h(l.default,Object.assign({onDropdownStateChange:function(e){e?null==m||m():C("")}},e),p?o.h(u.default,null):h?o.h(d.default,{type:n,message:h,onRetryClick:m}):o.h(o.Fragment,null,f.length>1&&o.h("div",{class:"filterInputWrapper"},o.h(c.default,Object.assign({value:y,onFilter:C},t))),0===f.length&&i&&o.h(r.default,{emptyText:i}),f.length?v.length?b({items:v,selectedId:g,filterValue:y}):o.h(s.default,{type:n}):null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1873);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1874),t.default=function({emptyText:e}){return i.h("div",{class:"dropdownWithFilterItemsEmpty"},e)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1876);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1877),t.default=function({type:e="item"}){return i.h("div",{class:"filterSearchEmptyView"},"No ",e," with this name 🤷‍♀️")}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1879);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(400));n(1880),t.default=function({type:e="item",message:t,onRetryClick:n}){return o.h("div",{class:"dropdownWithFilterItemsError"},o.h("span",{class:"title"},"Fetching ",e,"s failed"),o.h("span",{class:"message"},t),o.h(a.default,{secondary:!0,onClick:function(e){e.stopPropagation(),n()}},"Retry"))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1882);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(438);n(1883),t.default=function(){return i.h("div",{class:"dropdownWithFilterItemsLoading"},i.h(o.IconDotSpinner,{width:24}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1887);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1867)),r=i(n(509)),s=i(n(897)),l=i(n(848)),c=i(n(395)),d=n(326);n(1888),t.default=function({dropdownTop:e,dropdownLeft:t,selectedNoteStatus:n,selectedColor:i,onNoteStatusFilterTypeChange:u,onColorChange:p}){function h(e,t){p(i===t?void 0:t)}return o.h(r.default,{class:"noteStatusDropdown",top:e,left:t,onChange:u,defaultLabel:"Types",showSelectedAsLabel:!1,labelClass:c.default({noteStatusDropdownModifiedLabel:!!n||!!i}),optionsClass:"noteStatusDropdownOptions"},o.h(r.default.Item,{selected:!n},"All Notes"),o.h(a.default,null),o.h(r.default.Item,{value:l.default.OPEN,selected:n===l.default.OPEN},"Open Notes"),o.h(r.default.Item,{value:l.default.MENTIONED,selected:n===l.default.MENTIONED},"Mentioned Notes"),o.h(r.default.Item,{value:l.default.RESOLVED,selected:n===l.default.RESOLVED},"Resolved Notes"),o.h(a.default,null),o.h("div",{class:"noteStatusDropdownColorDots"},d.colorNames.map(e=>o.h(s.default,{class:"noteStatusDropdownColorDot",key:e+"-colorDot",color:e,selected:e===i,onClick:h}))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1890);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1867)),r=i(n(1870)),s=i(n(509)),l=i(n(395));function c({selectedId:e,items:t,filterValue:n}){return o.h(o.Fragment,null,!n&&o.h(o.Fragment,null,o.h(s.default.Item,{selected:!e},"All sections"),o.h(a.default,null)),t.map(({_id:t,name:n})=>o.h(s.default.Item,{key:t,value:t,selected:e===t},o.h("span",null,n))))}function d(e,t){return e.name.toLowerCase().includes(t.toLocaleLowerCase())}n(1891),t.default=function({dropdownTop:e,dropdownLeft:t,loading:n,error:i,selectedSectionId:a,sections:s,requestSections:u,onFilterChange:p}){return o.h(r.default,{dropdownProps:{class:"sectionsDropdown",top:e,left:t,fixedTop:!0,autoScroll:!0,defaultLabel:"Sections",showSelectedAsLabel:!1,onChange:p,labelClass:l.default({sectionsDropdownModifiedLabel:!!a}),optionsClass:"sectionsDropdownOptions"},filterInputProps:{placeholder:"Search for a section",placeholderWidth:134,class:"sectionsFilterInput"},itemTypeName:"section",emptyText:"No section in this project yet 🤷‍♀️",loading:n,error:i,items:s,selectedId:a,requestItems:u,matchItem:d,renderItems:c})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1894);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(400)),s=i(n(1895)),l=n(246),c=i(n(1906)),d=i(n(395));n(1909);t.default=function({width:e,activities:t,selectedItemId:n,selectedEventIds:i,onSetAllAsReadClick:u,onSelect:p,allSelected:h}){const f=a.useRef(),[g,m]=a.useState(20);a.useLayoutEffect(()=>{n||(m(20),f.current.scrollTop=0)},[n]),a.useEffect(()=>{g<t.length&&m(g+20)},[g,t.length]);const b=a.useMemo(()=>t.map(e=>({activity:e,props:s.default(e,{onClick:p,selectedActivitiyId:n,selectedEventIds:i,noFilterApplied:h})})),[t]),S=b.slice(0,Math.min(g,t.length));a.useEffect(()=>{var e;if(!n&&b.length){const[{props:{subItems:t,onClick:n,onAutoSubItemSelect:i}}]=b;null===(e=t?i:n)||void 0===e||e()}},[n]);let y=0;for(const o of b)o.props.subItems?y+=o.props.subItems.filter(({props:{unread:e}})=>e).length:o.activity.markedAsRead||y++;return o.h("div",{ref:f,class:d.default("activityList",{noUpdate:0===y}),style:{width:e+60}},y>0&&o.h("div",{class:"updateBar",style:{width:e}},o.h("span",{class:"emoji"},"🐝"),o.h("span",{class:"infoText ellipsis"},"You got ",l.pluralize(y,"new update"),"."),o.h(r.default,{class:"markAsReadButton",ninja:!0,onClick:u},"Mark as read")),S.map(({activity:t,props:n})=>o.h(c.default,Object.assign({key:t._id,width:e},n))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(1896)),r=i(n(1899)),s=i(n(1902)),l=n(245),c=i(n(261)),d=n(1905),u=i(n(849)),p=n(246);t.default=function(e,t){var n,i;const{events:h,markedAsRead:f,actionName:g,updated:m}=e,[b]=h,{selectedActivitiyId:S,selectedEventIds:y,onClick:C,noFilterApplied:v}=t;let O,E,T,_,P,j,D=f,k=()=>W([h[0]._id]);const I=h.length>1;let R=I;const{source:A,project:w,styleguide:N,screen:L,dot:x,organization:M}=e.params,U=w||b.project?c.default.PROJECT:c.default.STYLEGUIDE,B=null!==(i=null!==(n=null!=w?w:N)&&void 0!==n?n:b.project)&&void 0!==i?i:b.styleguide,z=[u.default.UpdateOrganizationMemberRole,u.default.InviteMember,u.default.RemindVerification,u.default.VerifyUser];if(B&&!z.includes(g)){const e=l.getPlatformString(B.type);_={barrelName:B.name,platform:e}}function V(e){return e.length>1?e.map(e=>e.username).join(", "):e[0].username}function W(t){C(e,t)}function F(e){return t=>{t.stopPropagation(),W(e)}}function H({getSubItemContent:e,getMultipleItemContent:t,getSingleItemContent:n}){let i,a;return I?(i=h.map(t=>function({markedAsRead:e,_id:t},n){return o.h(s.default,{unread:!e,selected:t===y[0],onClick:function(e){e.stopPropagation(),W([t])}},n)}(t,e(t))),t?(a=t(),{subItems:i,content:a}):{subItems:i}):(a=n(),{content:a})}function G(e){if(!I)return e}switch(g){case u.default.AddProjectExtension:case u.default.AddStyleugideExtension:{const{extension:e}=b;O=A.username+" added an extension",E=e.name,T=[A];break}case u.default.ActivateProject:case u.default.ActivateStyleguide:O=`${A.username} activated a ${U}`,E=b[U].name,T=[A];break;case u.default.ArchiveProject:case u.default.ArchiveStyleguide:O=`${A.username} archived a ${U}`,E=b[U].name,T=[A];break;case u.default.AuthProjectSlack:case u.default.AuthStyleguideSlack:O=`${A.username} connected ${b[U].name} to Slack channel`,E=e.content,T=[A];break;case u.default.CreateProjectComponent:case u.default.CreateStyleguideComponent:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.component.name),t=()=>b.component.name;({subItems:P,content:E}=H({getSubItemContent:e,getSingleItemContent:t})),O=`${A.username} added ${p.pluralize(h.length,"component",{one:"a"})}`,T=[A];break}case u.default.CreateProjectComponentVersion:case u.default.CreateStyleguideComponentVersion:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.component.name),t=()=>b.component.name;({subItems:P,content:E}=H({getSubItemContent:e,getSingleItemContent:t})),O=`${A.username} updated ${p.pluralize(h.length,"component",{one:"a"})}`,T=[A];break}case u.default.CreateProjectColor:case u.default.CreateStyleguideColor:E=G("#"+b.color.name),O=`${A.username} added ${p.pluralize(h.length,"color",{one:"a"})}`,T=[A];break;case u.default.CreateDot:{const e={};h.forEach(t=>{t.source&&!e[t.source._id]&&(e[t.source._id]=t.source)}),T=Object.values(e);O=`${V(T)} added ${p.pluralize(h.length,"note",{one:"a"})}`;const t=e=>{const{name:t,color:n,note:i}=Object.assign({},e.dot);return o.h(a.default,{color:n,title:"Note "+t,description:i})},n=()=>{const{name:e,color:t,note:n}=Object.assign({},b.dot);return o.h(a.default,{color:t,title:"Note "+e,description:n})},i=()=>o.h("span",{class:"bold"},L.name);({subItems:P,content:E}=H({getSubItemContent:t,getMultipleItemContent:i,getSingleItemContent:n}));break}case u.default.CreateDotMention:{const{name:e,color:t,note:n}=Object.assign({},b.dot),{source:i}=b;O=i.username+" mentioned you on",E=o.h(a.default,{color:t,title:"Note "+e,description:n}),T=[i];break}case u.default.CreateDotCommentMention:{const{source:e,comment:t}=b,{name:n,color:i}=x;O=e.username+" mentioned you on",E=o.h(a.default,{color:i,title:"Note "+n,description:t.note}),T=[e];break}case u.default.CreateDotComment:{const e={};h.forEach(t=>{t.source&&!e[t.source._id]&&(e[t.source._id]=t.source)}),T=Object.values(e),O=T.length>1&&I?T.length>6?`${T.slice(0,6).map(e=>e.username).join(", ")} and ${T.length-6}${T.length>1?"+":""} member${T.length>1?"s":""} had a conversation on`:T.map(e=>e.username).join(", ")+" had a conversation on":`${T[0].username} ${I?`added ${h.length} replies to`:"replied to"}`;const{name:t,color:n}=Object.assign({},x);R=!1,j=()=>W([h[0]._id]),E=o.h(a.default,{color:n,title:`Note ${t} - ${L.name}`});break}case u.default.CreateScreen:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.screen.name),t=()=>b.screen.name;({subItems:P,content:E}=H({getSubItemContent:e,getSingleItemContent:t})),O=`${A.username} added ${p.pluralize(h.length,"screen",{one:"a"})}`,T=[A];break}case u.default.CreateScreenVersion:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.screen.name),t=()=>b.screen.name;({subItems:P,content:E}=H({getSubItemContent:e,getSingleItemContent:t}));const n=new Set;h.forEach(e=>{n.add(e.screen._id)}),O=`${A.username} added ${h.length>1?"versions":"a version"} to ${p.pluralize(n.size,"screen",{one:"a"})}`,T=[A];break}case u.default.CreateProjectTextStyle:case u.default.CreateStyleguideTextStyle:E=G(b.textStyle.name),O=`${A.username} added ${p.pluralize(h.length,"text style",{one:"a"})}`,T=[A];break;case u.default.DeleteProjectColor:case u.default.DeleteStyleguideColor:E=G("#"+b.color.name),O=`${A.username} removed ${p.pluralize(h.length,"color",{one:"a"})}`,T=[A];break;case u.default.DeleteProjectComponent:case u.default.DELETE_STYLEGUIDE_COMPONENT:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.component.name),t=()=>b.component.name;({subItems:P,content:E}=H({getSubItemContent:e,getSingleItemContent:t})),O=`${A.username} removed ${p.pluralize(h.length,"component",{one:"a"})}`,T=[A];break}case u.default.DeleteScreen:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.screen.name),t=()=>b.screen.name;({subItems:P,content:E}=H({getSubItemContent:e,getSingleItemContent:t})),O=`${A.username} removed ${p.pluralize(h.length,"screen",{one:"a"})}`,T=[A];break}case u.default.DeleteProject:case u.default.DeleteStyleguide:{const e=b[U].name;O=`${A.username} deleted a ${U}`,E=e,T=[A];break}case u.default.DeleteProjectTextStyle:case u.default.DeleteStyleguideTextStyle:E=G(b.textStyle.name),O=`${A.username} removed ${p.pluralize(h.length,"text style",{one:"a"})}`,T=[A];break;case u.default.RemoveExtensionFromProject:case u.default.RemoveExtensionFromStyleguide:{const{extension:e}=b;O=A.username+" removed an extension",E=e.name,T=[A];break}case u.default.ResolveDot:{const e={};h.forEach(t=>{t.source&&!e[t.source._id]&&(e[t.source._id]=t.source)}),T=Object.values(e);O=`${V(T)} resolved ${p.pluralize(h.length,"note",{one:"a"})}`;const t=e=>{const{name:t,color:n,note:i}=Object.assign({},e.dot);return o.h(a.default,{color:n,title:"Note "+t,description:i})},n=()=>{const{name:e,color:t}=Object.assign({},b.dot);return o.h(a.default,{color:t,title:`Note ${e} - ${L.name}`})},i=()=>o.h("span",{class:"bold"},L.name);({subItems:P,content:E}=H({getSubItemContent:t,getMultipleItemContent:i,getSingleItemContent:n}));break}case u.default.UpdateOrganizationMemberRole:{const e=h[h.length-1],t=e.user.role,n=e.source;O=`${n.username} assigned you as ${t&&d.roleMap[t].name}`,E=M.name,T=[n];break}case u.default.UpdateProjectColor:case u.default.UpdateStyleguideColor:E=G("#"+b.color.name),O=`${A.username} updated ${p.pluralize(h.length,"color",{one:"a"})}`,T=[A];break;case u.default.UpdateProjectUserRole:case u.default.UpdateStyleguideUserRole:{const e=e=>o.h(a.default,{title:e[U].name}),t=()=>b[U].name;({subItems:P,content:E}=H({getSubItemContent:e,getSingleItemContent:t})),O=A.username+" assigned you as an admin on",T=[A];break}case u.default.UpdateProjectTextStyle:case u.default.UpdateStyleguideTextStyle:E=G(b.textStyle.name),O=`${A.username} updated ${p.pluralize(h.length,"text style",{one:"a"})}`,T=[A];break;case u.default.UserJoined:case u.default.ProjectUserJoined:case u.default.StyleguideUserJoined:{const t={};h.forEach(e=>{e.member&&!t[e.member._id]&&(t[e.member._id]=e.member)}),T=Object.values(t);O=V(T)+" joined",E=e.params[U].name;break}case u.default.RemoveUserFromProject:case u.default.RemoveUserFromStyleguide:{const e=b[U].name;O=A.username+" removed you from",E=e,T=[A];break}case u.default.InviteMember:O=A.username+" invited you to",E=M.name,T=[A];break;case u.default.InviteProjectUser:case u.default.InviteStyleguideUser:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e[U].name),t=()=>b[U].name;({subItems:P,content:E}=H({getSubItemContent:e,getSingleItemContent:t})),O=A.username+" invited you to",T=[A];break}case u.default.TransferProjectOwnership:case u.default.TransferStyleguideOwnership:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e[U].name),t=()=>b[U].name;({subItems:P,content:E}=H({getSubItemContent:e,getSingleItemContent:t})),O=`${A.username} transfered ${p.pluralize(h.length,"ownership",{one:"an"})} to you`,T=[A];break}case u.default.CreateProjectSpacingToken:case u.default.CreateStyleguideSpacingToken:E=G("$"+b.spacingToken.token),O=`${A.username} added ${p.pluralize(h.length,"spacing token",{one:"a"})}`,T=[A];break;case u.default.UpdateProjectSpacingToken:case u.default.UpdateStyleguideSpacingToken:E=G("$"+b.spacingToken.token),O=`${A.username} updated ${p.pluralize(h.length,"spacing token",{one:"a"})}`,T=[A];break;case u.default.DeleteProjectSpacingToken:case u.default.DeleteStyleguideSpacingToken:E=G("$"+b.spacingToken.token),O=`${A.username} removed ${p.pluralize(h.length,"spacing token",{one:"a"})}`,T=[A];break;case u.default.RemindVerification:case u.default.VerifyUser:O=e.content,T=[A];break;case u.default.AttachProjectToJiraIssue:case u.default.AttachSectionToJiraIssue:case u.default.AttachScreenToJiraIssue:case u.default.RemoveProjectJiraIssueAttachment:case u.default.RemoveSectionJiraIssueAttachment:case u.default.RemoveScreenJiraIssueAttachment:{const e=[u.default.AttachProjectToJiraIssue,u.default.AttachSectionToJiraIssue,u.default.AttachScreenToJiraIssue];let t;t=e.includes(g)?{name:"attached",preposition:"to"}:{name:"removed",preposition:"from"};const n=new Map;if(h.forEach(e=>{const{jiraAttachment:t,_id:i,markedAsRead:o}=e;n.get(t.itemName)||n.set(t.itemName,[]);const a=n.get(t.itemName);a.push({eventId:i,markedAsRead:o,text:t.issueKey,link:`${t.deploymentUrl}/browse/${t.issueKey}`}),n.set(t.itemName,a)}),n.size>1){P=[];let e=0;n.forEach(t=>{e+=t.length}),k=()=>W(n.values().next().value.map(({eventId:e})=>e)),n.forEach((e,n)=>{const i=e.every(e=>e.markedAsRead),a=e.map(({eventId:e})=>e),l=a.length===y.length&&y.every(e=>a.includes(e));P.push(o.h(s.default,{unread:!i,selected:l,onClick:F(a)},o.h(r.default,{item:n,actionText:`is ${t.name} ${t.preposition}`,jiraIssues:e})))}),O=`${A.username} ${t.name} ${n.size} ${h[0].jiraAttachment.type}s with ${e} Jira issues.`}else{R=!1,E=b.jiraAttachment.itemName,D=h.every(e=>e.markedAsRead);const e=n.get(b.jiraAttachment.itemName);O=o.h("div",{class:"jiraIssueTitle"},A.username," ",t.name," Jira Issue ",e.map(({link:e,text:t},n)=>o.h(o.Fragment,null,n>0&&o.h("span",null,", "),o.h("a",{href:e,class:"jiraIssueLink",target:"_blank",rel:"noopener"},t)))," ",t.preposition)}T=[A];break}default:throw new Error("Unknown activity type")}return{unread:!D,title:O,content:E,updated:m,onClick:j||function(){C(e)},onAutoSubItemSelect:P&&k,users:T,barrelInfo:_,subItems:P,multipleEvents:R,withBarrelInfo:v,selected:S===e._id&&!P}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1897);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(395)),r=i(n(897)),s=n(326);function l(e){const t=/@\w+\b/g;return e?e.match(t)?null==e?void 0:e.replace(t,e=>`<span class="user">${e}</span>`):e:""}n(1898),t.default=function({color:e,title:t,description:n}){return o.h("div",{class:a.default("activityItemInfo",{noDescription:!n})},e&&o.h(r.default,{color:s.getColorName(e)}),o.h("span",{class:"noteTitle ellipsis"},t),o.h("div",{class:"noteDescription ellipsis",dangerouslySetInnerHTML:{__html:l(n)}}))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1900);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1901),t.default=function({item:e,actionText:t,jiraIssues:n}){return i.h("div",{class:"activityJiraIntegrationInfo"},i.h("span",{class:"bold"},e),i.h("span",{class:"action"},t),n.map(({text:e,link:t},n)=>i.h(i.Fragment,null,n>0&&i.h("span",null,", "),i.h("a",{href:t,class:"jiraIssueLink",target:"_blank",rel:"noopener"},e))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1903);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(395));function r({class:e,onClick:t,children:n,nonSelectable:i}){return i?o.h("div",{class:e},n):o.h("button",{class:e,onClick:t},n)}n(1904),t.default=function({children:e,selected:t,onClick:n,unread:i,nonSelectable:s}){return o.h(r,{nonSelectable:s,class:a.default("activitySubItem",{selected:t,nonSelectable:s}),onClick:n},o.h(o.Fragment,null,i&&o.h("div",{class:"unreadActivityIndicator"}),e))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.roleMap=void 0,t.roleMap={king:{name:"Owner",icon:"img/icQueen.png"},queen:{name:"Admin",icon:"img/icQueen.png"},rook:{name:"Editor",icon:"img/icRook.png"},knight:{name:"Developer",icon:"img/icKnight.png"},pawn:{name:"Reviewer",icon:"img/icPawn.png"}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1907);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(599)),r=i(n(395)),s=i(n(922));n(1908),t.default=function({width:e,unread:t,title:n,content:i,barrelInfo:l,users:c,subItems:d,updated:u,onClick:p,onAutoSubItemSelect:h,selected:f,withBarrelInfo:g,multipleEvents:m}){const b=r.default("activityItem",{multipleEvents:m,selected:f,selectable:!d}),{barrelName:S,platform:y}=Object.assign({},l);return o.h("button",{class:b,style:{width:e},onClick:d?h:p},t&&!d&&o.h("div",{class:"unreadActivityIndicator"}),o.h("div",{class:"activityItemTitle"},n),!!i&&o.h("div",{class:"activityContent"},i),g&&l&&o.h("div",{class:"activityBarrelInfo"},o.h("div",{class:"barrelName ellipsis",title:S},S),o.h("span",{class:"dotSeparator"}),o.h("div",{class:"platform"},y)),o.h("div",{class:"activityItemFooter"},o.h(s.default,{currentMemberRole:"user",members:null==c?void 0:c.map(e=>({user:e})),class:"activityMembers",remainingMembersClass:"activityRemainingMembers",avatarSize:24,stacked:!0}),o.h(a.default,{key:"time",type:"time-ago",format:"micro",class:"date",datetime:u})),d&&o.h("div",{class:"activitySubItems"},d))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1911);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=i(n(847)),s=i(n(272)),l=n(438),c=i(n(1912)),d=i(n(1914)),u=i(n(1917)),p=i(n(1918)),h=i(n(1921)),f=i(n(257));n(1930);t.default=function({width:e,activity:t,events:n=[],dot:i,dotSnapshot:g,dotError:m,onToggleReadStatusClick:b,onToggleDotStatusClick:S,onAddDotCommentClick:y,onActivitiesNavigationClick:C}){const v=.5*e,O=a.useRef(),E=u.default.getDetails(t,n[0]),T=r.default.getCategory(t),_=T===s.default.Note?g:null==E?void 0:E.snapshot,P=(null==E?void 0:E.title)&&(T!==s.default.Note||!m),j=n.length>0?n.every(({markedAsRead:e})=>e):null==t?void 0:t.markedAsRead;function D(){const{status:e}=i;f.default({text:"resolved"===e?"Note reopened":"Note resolved",container:O.current,source:"dotStatus"}),S()}function k(){f.default({text:j?"Marked as unread":"Marked as read",container:O.current,source:"readStatus"}),b()}return o.h("div",{ref:O,class:"activityDetailsContainer",style:{width:e}},o.h("div",{class:"activityDetails",style:{width:e+36}},function(){if(!(null==E?void 0:E.title))return null;const{title:e,typeName:t,link:n}=E;return o.h("div",{class:"activityHeader"},o.h("span",{class:"title ellipsis"},e),o.h("a",{class:"link",onClick:C,"data-back":"Notifications","data-link-type":"inApp",href:n},"Go to ",t,o.h(l.IconSlimArrowRight,{class:"arrow"})))}(),P?o.h(p.default,{width:e,height:v,snapshot:_,category:T,dot:i}):null,(null==E?void 0:E.title)&&T!==s.default.Screen&&!m?null:o.h(d.default,{width:e,height:v,activity:t,markedAsRead:j,details:E,category:T,onToggleReadStatusClick:k}),T===s.default.Note&&i?o.h(h.default,{activity:t,event:n[0],markedAsRead:j,dot:i,onToggleDotStatusClick:D,onToggleReadStatusClick:k,onAddCommentClick:y}):null,T===s.default.Styleguide&&P?o.h(c.default,{class:"toggleReadStatusButtonForComponents",markedAsRead:j,onClick:k}):null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1913);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(395));t.default=function({class:e,markedAsRead:t,onClick:n}){return o.h("button",{type:"button",class:a.default("button","primary",e),onClick:n},t?"Mark as Unread":"Mark as Read")}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1915);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(272)),r=i(n(395)),s=i(n(1912));n(1916),t.default=function({width:e,height:t,activity:n,markedAsRead:i,details:l,category:c,onToggleReadStatusClick:d}){let u,p,h,f,g,m={width:e,height:t};if(c===a.default.Screen&&l){const{content:e}=n;u="commitInfo",p=!e,h="Commit message",g=e||"No commit message",m={}}else c===a.default.Note?(u="otherActivityInfo",p=!1,h="Note not available anymore",g="It was probably deleted, please contact the author."):(u="otherActivityInfo",p=!1,h="No preview",f=null==l?void 0:l.link,g=(null==l?void 0:l.typeName)?`Head to the styleguide to view the new ${l.typeName}${n.events.length>1?"s":""}.`:"This notification does not have a preview.");return o.h("div",{class:"activityDetailsInfo "+u,style:m},o.h("span",{class:"title"},h),o.h("span",{class:r.default("description",{grayedOut:p})},g),o.h("div",{class:"buttons"},f&&o.h("a",{class:"button secondary inlineLink","data-back":"Notifications","data-link-type":"inApp",href:f},"Go to Styleguide"),o.h(s.default,{markedAsRead:i,onClick:d})))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(242);function o({project:e,styleguide:t},n,o,a){const r=e?n:o,{_id:s}=null!=e?e:t;return{typeName:a,link:i.urlResolve(r,{url:{bid:s}})}}function a(e,t,n){var o,a,r,s,l,c;const{params:d}=e,{_id:u}=d.project,{_id:p,name:h}=null!==(o=t.screen)&&void 0!==o?o:d.screen,f=n?null===(r=null!==(a=t.dot)&&void 0!==a?a:d.dot)||void 0===r?void 0:r._id:void 0,g=(null==n?void 0:n.showComment)?null===(s=t.comment)||void 0===s?void 0:s._id:void 0;return{title:h,typeName:"screen",link:i.urlResolve("project-screen",{url:{pid:u,sid:p},query:{did:f,cmid:g}}),snapshot:null===(c=null===(l=t.screen)||void 0===l?void 0:l.latestVersion)||void 0===c?void 0:c.snapshotFragment}}t.default={getDetails:function(e,t){const{params:n}=e;switch(e.actionName){case"CreateProjectComponent":case"CreateStyleguideComponent":case"CreateProjectComponentVersion":case"CreateStyleguideComponentVersion":{const{project:e,styleguide:o}=n,a=e?"project-styleguide-components":"styleguide-components",{_id:r}=null!=e?e:o,{_id:s,name:l,latestVersion:c}=t.component;return{title:l,typeName:"component",link:i.urlResolve(a,{url:{bid:r},query:{coid:s}}),snapshot:null==c?void 0:c.snapshotFragment}}case"CreateProjectColor":case"CreateStyleguideColor":case"UpdateProjectColor":case"UpdateStyleguideColor":return o(n,"project-styleguide-colors","styleguide-colors","color");case"CreateProjectTextStyle":case"CreateStyleguideTextStyle":case"UpdateProjectTextStyle":case"UpdateStyleguideTextStyle":return o(n,"project-styleguide-textstyles","styleguide-textstyles","text style");case"CreateProjectSpacingToken":case"CreateStyleguideSpacingToken":case"UpdateProjectSpacingToken":case"UpdateStyleguideSpacingToken":return o(n,"project-styleguide-spacing","styleguide-spacing","spacing token");case"CreateDot":case"ResolveDot":case"CreateDot-Mention":return a(e,t,{showComment:!1});case"CreateDotComment-Mention":case"CreateDotComment":return a(e,t,{showComment:!0});case"CreateScreen":case"CreateScreenVersion":return a(e,t);default:return}}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1919);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(272)),r=n(900),s=i(n(395)),l=i(n(1418));n(1920);t.default=function({width:e,height:t,snapshot:n,category:i,dot:c}){const d=i!==a.default.Note&&!n,{url:u,width:p,height:h}=Object.assign({},n),f=(e-2)/638,g={};if(n&&i===a.default.Note&&c){let e=p,t=h;(e>638||t>318)&&(e*=.8,t*=.8);const n=319-Math.round(c.x*e),i=159-Math.round(c.y*t);g.left=Math.round(n*f),g.top=Math.round(i*f),g.width=Math.round(e*f),g.height=Math.round(t*f)}else if(n&&i===a.default.Styleguide)g.maxHeight=Math.min(h,Math.round(218*f)),g.maxWidth=Math.min(p,Math.round(508*f));else if(n&&i===a.default.Screen){h*(Math.min(p,508)/p)>268*f&&(g.top=Math.round(50*f)),g.maxWidth=Math.min(p,Math.round(508*f))}const m=!function(e){return 0===Object.keys(e).length}(g);return o.h("div",{class:s.default("activityPreview",{noPreview:d}),style:{width:e,height:t}},n&&m&&o.h(l.default.Image,{key:u,class:"image",url:u,style:g}),d&&o.h("span",{class:"noPreviewLabel"},"No preview"),c&&n&&m&&o.h("div",{class:s.default("staticDot",{resolved:"resolved"===c.status}),style:{backgroundColor:new r.Color(c.color).toCSS()}},c.name))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1922);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(514),r=n(1271),s=i(n(1306)),l=n(1923),c=n(1924),d=n(1925),u=i(n(1912)),p=i(n(849)),h=i(n(1926));n(1929);t.default=function({activity:e,event:t,markedAsRead:n,dot:i,onToggleDotStatusClick:f,onToggleReadStatusClick:g,onAddCommentClick:m}){var b;const[S,y]=a.useState(!1),[C,v]=a.useState([]),[O,E]=a.useState(!1),T=a.useRef(),_=a.useRef(),P=a.useRef(),j=d.usePrevious([...i.comments]);function D(){if(_.current){const e=_.current,t=T.current,n=t.parentElement;let i=0;const o=n.offsetHeight-t.offsetTop;t.childNodes.forEach(t=>{t!==e&&(i+=t.scrollHeight)});const a=i+87,r=i+e.scrollHeight;y(a<o&&r>o)}}a.useEffect(()=>{var e;j&&i.comments.length-j.length==1&&j.every((e,t)=>e===i.comments[t])&&(v([]),null===(e=_.current)||void 0===e||e.children[i.comments.length-1].scrollIntoView())},[i.comments.length]),c.useResize(null===(b=P.current)||void 0===b?void 0:b.base,D),l.useWindowEventListener("resize",D),a.useEffect(D),a.useEffect(()=>{switch(e.actionName){case p.default.CreateDotComment:v(e.events.map(({comment:e})=>e._id));break;case p.default.CreateDotCommentMention:case p.default.CreateDotMention:case p.default.CreateDot:v([t.comment._id]);break;default:v([])}E(!0)},[t]),a.useEffect(()=>{var e;if(O){const t=i.comments.findIndex(({_id:e})=>C.includes(e)),n=-1!==t?t:0;null===(e=_.current)||void 0===e||e.children[n].scrollIntoView(),E(!1)}},[O]);const{_id:k,comments:I,status:R}=i,A="open"===R;a.useEffect(()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.cancelEdit()},[k,R]);const w=S?{flex:"1 1 87px","border-bottom":"1px solid var(--karl)"}:{};function N(e){v(C.filter(t=>t!==e))}return o.h("div",{ref:T,class:"noteDetails"},o.h("div",{ref:_,class:"comments",style:w},I.map(e=>o.h(h.default,{key:e._id,comment:e,highlighted:C.includes(e._id),onHover:N}))),A&&o.h(s.default,{ref:P,containerClass:"newCommentContainer",class:"newComment",placeholder:"Reply",formatter:r.formatComment,maxLength:1024,readOnly:!A,onSubmit:m,resetOnSubmit:!0,autoEdit:!0,showEmojiAutoComplete:!0,showUserAutoComplete:!0,pid:e.params.project._id}),o.h("div",{class:"buttons"},o.h("button",{type:"button",class:"button secondary resolve",onClick:f},A?"Resolve":"Reopen"),o.h(u.default,{markedAsRead:n,onClick:g})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWindowEventListener=void 0;const i=n(514);t.useWindowEventListener=function(e,t){i.useEffect(()=>(window.addEventListener(e,t),()=>window.removeEventListener(e,t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useResize=void 0;const i=n(514);t.useResize=function(e,t){const n=i.useRef(null);i.useEffect(()=>{var i;return null===(i=n.current)||void 0===i||i.disconnect(),n.current=new ResizeObserver(t),e&&n.current.observe(e),()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.disconnect()}},[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePrevious=void 0;const i=n(514);t.usePrevious=function(e){const t=i.useRef();return i.useEffect(()=>{t.current=e}),t.current}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1927);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(395)),r=n(244),s=i(n(519)),l=i(n(599)),c=i(n(609)),d=i(n(602)),u=n(611);n(1928);const p=[u.CustomRules.SPOTIFY,u.CustomRules.YOUTUBE,u.MarkdownRules.IMAGE,u.MarkdownRules.CHECKBOX,u.MarkdownRules.TABLE,u.MarkdownRules.HEADING];t.default=function({comment:{_id:e,author:t,created:n,note:i},highlighted:u,onHover:h}){var f;return o.h("div",{key:e,class:a.default("comment",{highlighted:u}),onMouseEnter:function(){h(e)}},o.h("div",{class:"commentHeader"},o.h(d.default,{member:{user:t}},o.h(s.default,{class:"memberRowAvatar",src:r.getUserAvatar(t).src,size:24})),o.h("span",{class:"authorName ellipsis"},null!==(f=t.fullName)&&void 0!==f?f:t.username),o.h(l.default,{type:"time-ago",format:"micro",class:"date",datetime:n}))," ",o.h(c.default,{disabledFeatures:p},i))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1932);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=n(242),r=n(244),s=n(230),l=i(n(427)),c=i(n(565));function d(){r.openLink("mailto:beta@zeplin.io?subject=Notifications Feedback",{inNewTab:!1})}n(1933),t.default=function({oid:e,minimize:t}){const n="user"===e?a.urlResolve(s.WorkspaceTabs.PROJECTS):a.urlResolve("organization-"+s.WorkspaceTabs.PROJECTS,{url:{oid:e}});return o.h(c.default,{class:"activitiesWelcomeMessage",emoji:"💁‍♀️",actionContent:"Share feedback",onActionClick:d,onHideClick:t,hideButtonText:"Got it!"},o.h("span",{class:"content"},o.h("strong",null,"New notifications experience (Prerelease): "),"Quickly find the notifications most important to you and take action without losing context. If you need to, you can ",o.h("a",{"data-link-type":"inApp",class:"button ninja oldExperience",onClick:()=>{l.default.switchToOldNotificationExperience()},href:n},"switch back")," to the old notifications experience."))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(271)),a=i(n(269)),r=i(n(261)),s={select(e,t=[]){const{selectedId:n,selectedEventIds:i}=a.default.ActivitiesViewStore.getState(),r=!n,s=n===e._id&&i.every(e=>null==t?void 0:t.includes(e))&&(null==t?void 0:t.length)===i.length;a.default.dispatcher.dispatch({type:o.default.Select,activity:e,eventIds:t,options:{reselect:s,autoSelect:r}})},setDotsLoaded(e){a.default.dispatcher.dispatch({type:o.default.SetDotsLoaded,activity:e})},selectCategory(e){a.default.ActivitiesViewStore.getState().category!==e&&a.default.dispatcher.dispatch({type:o.default.SelectCategory,category:e})},selectAllBarrels(){"all"!==a.default.ActivitiesViewStore.getState().barrelSelection.type&&a.default.dispatcher.dispatch({type:o.default.SelectAllBarrels})},selectBarrel(e,t,n){const{barrelSelection:i}=a.default.ActivitiesViewStore.getState();(i.type!==t||i.id!==e||i.type!==r.default.STYLEGUIDE&&i.isPinned!==n)&&a.default.dispatcher.dispatch({type:o.default.SelectBarrel,id:e,isPinned:n,barrelType:t})},setProjectsWithUpdatesOnly(e){a.default.dispatcher.dispatch({type:o.default.SetProjectsWithUpdatesOnly,projectsWithUpdatesOnly:e})},load({oid:e,sidebarWidth:t,notificationWelcomeMessageMinimized:n}){a.default.dispatcher.dispatch({type:o.default.Load,data:{selectedOrganizationId:e,sidebarWidth:t,notificationWelcomeMessageMinimized:n}})},selectNoteStatusFilterType(e){a.default.ActivitiesViewStore.getState().noteStatusFilterType!==e&&a.default.dispatcher.dispatch({type:o.default.SelectNoteStatusFilterType,noteStatusFilterType:e})},selectColor(e){a.default.ActivitiesViewStore.getState().color!==e&&a.default.dispatcher.dispatch({type:o.default.SelectColor,color:e})},selectMember(e){a.default.ActivitiesViewStore.getState().memberId!==e&&a.default.dispatcher.dispatch({type:o.default.SelectMember,memberId:e})},selectSection(e){a.default.ActivitiesViewStore.getState().sectionId!==e&&a.default.dispatcher.dispatch({type:o.default.SelectSection,sectionId:e})},requestRelatedUsers(e,t){a.default.dispatcher.dispatch({type:o.default.RequestRelatedUsers,oid:e,uid:t})},setSidebarWidth(e){a.default.dispatcher.dispatch({type:o.default.SetSidebarWidth,sidebarWidth:e})},setNotificationWelcomeMessageMinimized(e){a.default.dispatcher.dispatch({type:o.default.SetNotificationWelcomeMessageMinimized,notificationWelcomeMessageMinimized:e})}};t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1936);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(261)),r=i(n(395)),s=i(n(396)),l=i(n(1103));function c(e,t){return e.projects.map(e=>({id:e._id,title:e.name,children:[],content:o.h(d,{name:e.name,hasUpdate:e.hasUpdate,hasMention:e.hasMention,selected:t===e.id})}))}function d({name:e,selected:t,hasUpdate:n,hasMention:i,root:a}){const s=r.default("nodeItem",{selected:t,hasUpdate:n,root:a,hasMention:i});return o.h("div",{class:s},o.h("div",{class:"activityNodeName"},o.h("span",{class:"name ellipsis"},e),i&&o.h("div",{class:"mentionDot"})))}n(1937),t.default=function({allSelected:e,projectsWithUpdatesOnly:t,sections:n,styleguides:i,selectAll:u,selectBarrel:p,onProjectsWithUpdatesOnlyChange:h,projectId:f,isSelectedProjectPinned:g,styleguideId:m,pinnedProjectIds:b,selectedOrganizationId:S}){function y(e){p(e,a.default.STYLEGUIDE)}function C(e){e.match(/pinned-/g)?p(e.replace("pinned-",""),a.default.PROJECT,!0):p(e,a.default.PROJECT)}return o.h("div",{class:"activityBarrels"},o.h("span",{class:r.default("allBarrelsItem",{selected:e}),title:"All Projects and Styleguides",onClick:u},"All Projects and Styleguides"),function(){let t;e||(t=g?"pinned-"+f:f);const i=function(e,t,n,i){const a={id:"pinnedProjects",title:"Pinned Projects",children:[],nonSelectable:!0,expandOnClick:!0,content:o.h(d,{name:"Pinned Projects",selected:!1})},r="user"===n?"Projects":"Joined Projects",s={id:"joinedProjects",title:r,nonSelectable:!0,expandOnClick:!0,content:o.h(d,{name:r,root:!0,selected:!1}),children:"user"===n?c(e[0],i):e.map(e=>({id:e._id,title:e.name,nonSelectable:!0,expandOnClick:!0,content:o.h(d,{name:e.name,selected:i===e._id}),children:c(e,i)})).filter(e=>e.children.length>0)};if(null==e||e.forEach(e=>{var n;null===(n=null==e?void 0:e.projects)||void 0===n||n.forEach(e=>{if(null==t?void 0:t.includes(e._id)){const t={id:"pinned-"+e._id,title:e.name,children:[],content:o.h(d,{name:e.name,hasUpdate:e.hasUpdate,hasMention:e.hasMention,selected:i===e.id})};a.children.push(t)}})}),a.children.length>0&&(s.children=[a,...s.children]),0!==s.children.length)return s}(n,b,S,t);return i&&o.h(l.default,{class:"projectsTree",tree:[i],selectedNodeId:t,onNodeSelect:C})}(),o.h("label",{class:"showProjectsWithUpdatesOnly"},o.h(s.default,{checked:t,onChange:function(e){h(e.target.checked)}}),o.h("span",{class:"label ellipsis",title:"Only show Projects with updates"},"Only show Projects with updates")),function(){const e=function(e,t,n){if(0===e.length)return;const i={},a="user"===t?"Styleguides":"Joined Styleguides";return i.root={id:"joinedStyleguides",title:a,children:[],nonSelectable:!0,content:o.h(d,{name:a,root:!0,selected:!1})},e.forEach(e=>{const t={id:e.id,title:e.name,children:[],content:o.h(d,{name:e.name,hasUpdate:e.hasUpdate,selected:n===e.id})};i[t.id]=t}),e.forEach(e=>{var t;if(e.parent&&i[e.parent]){const n=i[e.id],o=i[e.parent];null===(t=null==o?void 0:o.children)||void 0===t||t.push(n)}else i.root.children.push(i[e.id])}),i.root}(i,S,m);return e&&o.h(l.default,{class:"styleguideTree",tree:[e],selectedNodeId:m,onNodeSelect:y})}())}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1939);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1940);t.default=function(){const e=(window.innerHeight||0)-52-36,t=Math.ceil(Math.max(0,e)/112),n=new Array(t);return n.fill(i.h("div",{class:"dummyItem"}),0),i.h("div",{class:"activitiesLoadingPage"},i.h("div",{class:"leftPanel"}),i.h("div",{class:"middlePanel"},n),i.h("div",{class:"rightPanel"},i.h("div",{class:"dummyItem"}),i.h("div",{class:"dummyItem"}),i.h("div",{class:"dummyItem"})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1942);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),a=i(n(272)),r=i(n(261)),s=i(n(400));n(1943),t.default=function(e){const{emoji:t,info:n}=function({barrelType:e,category:t,notInvitedToStyleguide:n,onJoinStyleguide:i}){const l=t===a.default.All,c=l?"":" under ",d=l?"":o.h("span",{class:"category"},t,"s"),u=o.h("div",{class:"warning"},"There are no notifications",c,d,".");return e===r.default.STYLEGUIDE&&n?{emoji:"🚪",info:o.h("div",{class:"warning"},"Looks like you are not a member of this styleguide yet—you'll start receiving notifications when you join.",o.h(s.default,{class:"joinStyleguide",ninja:!0,onClick:i},"Join now."))}:{emoji:"🌬",info:u}}(e);return o.h("div",{class:"activitiesWarning"},o.h("span",{class:"emoji"},t),n)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(269));t.default={getUserAndAcquaintances:function(){const{acquaintances:e,userId:t,email:n,username:i,fullName:a,avatar:r,emotar:s}=o.default.UserStore.getState();return t&&e?[{_id:t,email:n,username:i,fullName:a,avatar:r,emotar:s},...e]:[]}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1947);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(505),a=n.n(o),r=n(1948),s=n(269),l=n.n(s),c=n(261),d=n.n(c),u=n(839),p=n(230);class h extends i.Component{static calculateState(){const{overridingCategory:e}=l.a.SupportButtonStore.getState(),{barrelId:t,barrelType:n,selectedView:i}=l.a.BarrelStore.getState(),{selectedOrganizationId:o,selectedTab:a}=l.a.SpaceStore.getState();if(e)return{category:e};if(!t)return{category:"projects"===a&&"user"!==o?u.default.ORGANIZATION_PROJECTS:a};let r;if(n===d.a.STYLEGUIDE)r=u.default.STYLEGUIDE;else switch(i){case p.ProjectViewTypes.DASHBOARD:r=u.default.PROJECT_DASHBOARD;break;case p.ProjectViewTypes.STYLEGUIDE:r=u.default.PROJECT_STYLEGUIDE;break;case p.ProjectViewTypes.SCREEN:r=u.default.PROJECT_SCREEN;break;default:r=u.default.DEFAULT}return{category:r}}static getStores(){return[l.a.SupportButtonStore,l.a.SpaceStore,l.a.BarrelStore]}render(){const{category:e}=this.state;return i.h(r.default,{category:e})}}t.default=a()(h,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1949);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(550),a=n(395),r=n(249),s=n(839);n(1950);const l={[s.default.DEFAULT]:[{text:"Downloading Mac and Windows apps",url:"https://support.zeplin.io/en/articles/244698-downloading-mac-and-windows-apps"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Exporting assets from Sketch",url:"https://support.zeplin.io/en/articles/367379-exporting-assets-from-sketch"},{text:"Exporting designs from Photoshop",url:"https://support.zeplin.io/en/articles/1067453-exporting-designs-from-photoshop"},{text:"Updating plans, billing information",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"}],[s.default.PRICING]:[{text:"Pricing & Plans",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"},{text:"Creating an account",url:"https://support.zeplin.io/en/articles/1067135-creating-an-account"},{text:"Collaborating with your team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Choosing a subscription plan",url:"https://support.zeplin.io/en/articles/1166181-choosing-a-subscription-plan"}],[s.default.PROJECTS]:[{text:"Adding a user to a project",url:"https://support.zeplin.io/en/articles/1988444-adding-a-user-to-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Managing profile",url:"https://support.zeplin.io/en/collections/48616-profile"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Transferring a project",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"}],[s.default.PROJECT_DASHBOARD]:[{text:"Adding a project to Slack",url:"https://support.zeplin.io/en/articles/246424-adding-a-project-to-slack"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Downloading screens as images",url:"https://support.zeplin.io/en/articles/774216-downloading-screens-as-images"},{text:"Organizing screens with Sections",url:"https://support.zeplin.io/en/articles/1396666-organizing-screens-with-sections"},{text:"Collaborating with the team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"}],[s.default.PROJECT_STYLEGUIDE]:[{text:"Organizing styleguide colors",url:"https://support.zeplin.io/en/articles/1444421-organizing-styleguide-colors"},{text:"Organizing styleguide text styles",url:"https://support.zeplin.io/en/articles/1504520-organizing-styleguide-text-styles"},{text:"Exporting colors from Sketch",url:"https://support.zeplin.io/en/articles/1444521-exporting-colors-from-sketch"},{text:"Exporting text styles from Sketch",url:"https://support.zeplin.io/en/articles/367382-exporting-text-styles-from-sketch"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[s.default.PROJECT_SCREEN]:[{text:"Updating a screen",url:"https://support.zeplin.io/en/articles/1090335-updating-a-screen"},{text:"Exporting assets",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Comparing app/website with designs using Pop Out",url:"https://support.zeplin.io/en/articles/1437093-comparing-app-website-with-designs-using-pop-out"},{text:"Changing units",url:"https://support.zeplin.io/en/articles/377715-changing-units"}],[s.default.STYLEGUIDES]:[{text:"Creating a styleguide",url:"https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"},{text:"Choosing a styleguide type",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[s.default.STYLEGUIDE]:[{text:"Learning styleguide types",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Adding a user to a styleguide",url:"https://support.zeplin.io/en/articles/3074305-adding-a-user-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[s.default.ORGANIZATION_DASHBOARD]:[{text:"Assigning roles to organization members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Managing access level of organization members",url:"https://support.zeplin.io/en/articles/4629006-managing-access-level-of-organization-members"},{text:"Grouping organization members by tags",url:"https://support.zeplin.io/en/articles/419850-grouping-organization-members-by-tags"},{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Transfer organization ownership",url:"https://support.zeplin.io/en/articles/1374947-transferring-an-organization"}],[s.default.ORGANIZATION_PROJECTS]:[{text:"Transferring personal projects to organization",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Assigning roles to organization members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Archiving a project",url:"https://support.zeplin.io/en/articles/867652-archiving-a-project"}],[s.default.ORGANIZATION_PROFILE]:[{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Updating credit card",url:"https://support.zeplin.io/en/articles/481582-updating-credit-card"},{text:"Sending Invoices",url:"https://support.zeplin.io/en/articles/479220-sending-invoices"}],[s.default.PROFILE]:[{text:"Setting your profile picture",url:"https://support.zeplin.io/en/articles/246033-setting-your-profile-picture"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Transferring subscription",url:"https://support.zeplin.io/en/articles/980050-transferring-a-subscription"}]};class c extends o.default{constructor(){var e,t,n;super(),n=()=>{mixpanel.master.track("Life saver popover",{"Clicked On":"All articles"})},(t="handleSupportLinkClick")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.buttonClickHandler=this.buttonClickHandler.bind(this),this.popupClickHandler=this.popupClickHandler.bind(this),this.showMessages=this.showMessages.bind(this),this.state={popupOpen:!1,unreadCount:0}}closePopup(){this.state.popupOpen&&this.setState({popupOpen:!1})}showMessages(){mixpanel.master.track("Life saver popover",{"Clicked On":"Intercom"}),Intercom("showMessages")}handleLinkClick(e){mixpanel.master.track("Life saver popover",{"Clicked On":e.target.closest("a").href})}buttonClickHandler(e){e.stopPropagation(),this.setState(e=>({popupOpen:!e.popupOpen}))}escHandler(e){this.state.popupOpen&&e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}popupClickHandler(e){e.stopPropagation(),this.closePopup()}componentDidMount(){Intercom("onShow",()=>{this.setState({intercomOpen:!0})}),Intercom("onHide",()=>{this.setState({intercomOpen:!1})}),Intercom("onUnreadCountChange",e=>{this.setState({unreadCount:e})})}componentDidUpdate(){this.state.popupOpen?(document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler)):(document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler))}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}renderPopup(){if(!this.state.popupOpen)return null;const{category:e}=this.props,t=l[e].map(e=>i.h("li",{key:e.url},i.h("a",{href:e.url,target:"_blank",onClick:this.handleLinkClick},i.h("span",null,e.text))));return i.h("div",{class:"supportPopup",onClick:this.popupClickHandler},i.h("h3",null,"Handy articles:"),i.h("ul",null,t),i.h("hr",null),i.h("a",{href:"https://support.zeplin.io",onClick:this.handleSupportLinkClick,target:"_blank"},"Got another question? ☝️"),i.h("hr",null),i.h("button",{type:"button",onClick:this.showMessages},i.h("span",null,"Contact us",this.renderUnreadBadge())))}renderUnreadBadge(){return this.state.unreadCount?i.h("div",{class:"unreadBadge"}):null}render(){const{popupOpen:e,intercomOpen:t}=this.state,n=Object(a.default)("supportButton",{popupOpen:e,intercomOpen:t});return i.h("div",{class:n,onClick:this.buttonClickHandler},i.h("img",{src:r.imageUrl("img/icLifeBuoy.svg")}),this.renderPopup(),this.renderUnreadBadge())}}c.defaultProps={category:s.default.DEFAULT},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1952);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var i=n(4),o=n(229),a=n(514),r=n(543),s=n(400),l=n(244),c=n(231),d=n(227),u=n(395);n(1953);const p="fallback",h="initial",f="downloading",g="ready";function m(){const[e,t]=Object(a.useState)(0);Object(a.useEffect)(()=>{const n=setInterval(()=>{t((e+1)%3)},1e3);return()=>clearInterval(n)});const n=""+".".repeat(e+1);return i.h(s.default,{class:"downloadingUpdates",primary:!0,disabled:!0},"Downloading",n)}function b(){const[e,t]=Object(a.useState)(function(){const e=Object(d.getAppVersion)();return!("unknown"!==e&&!e.startsWith("0")&&!e.startsWith("1"))}()?p:h);function n(){Object(l.openLink)("https://zpl.io/download-windows-64")}function b(){t(f),location.assign(c.ZPL_PROTOCOL+"//update")}function S(){t(g)}function y(){o.default.ipcRenderer.send("restart-app")}return Object(a.useEffect)(()=>(o.default.ipcRenderer.on("app-update-downloaded",S),()=>o.default.ipcRenderer.removeAllListeners("app-update-downloaded"))),i.h("main",{class:Object(u.default)("windowsAppForceUpdateNotifier",e)},e===g?i.h(r.default,{asset:"/img/imgUpdatedApp.png"}):i.h(r.default,{asset:"/img/imgUpdateApp.png"}),e===g?i.h("h1",null,"Update complete"):e===p?i.h("h1",null,"Download the new Windows app"):i.h("h1",null,"Unbox the new Windows app"),e===g?i.h("p",null,"Congratulations—you can now take advantage of the new, faster Windows app."):e===p?i.h("p",null,"We've built a better and faster Windows app, please download to continue."):i.h("p",null,"We've built a better and faster Windows app, please install the update to continue."),function(){switch(e){case h:return i.h(s.default,{primary:!0,onClick:b},"Install update");case f:return i.h(m,null);case g:return i.h(s.default,{primary:!0,onClick:y},"Relaunch app");default:return i.h(s.default,{primary:!0,onClick:n},"Download new Windows app")}}(),i.h("p",null,"Ping us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io")," if you have any questions."))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1955);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1956);t.default=function({onLogin:e,onLogout:t,frequency:n}){return i.h("div",{class:"loginRequiredDialogContainer"},i.h("div",{class:"loginRequiredDialog"},i.h("span",null,"🗝"),i.h("h2",null,document.hasFocus()?"Please login again.":"Welcome back, please login again."),i.h("p",null,"Your organization requires you to login again ",i.h("strong",null,"every ",n),"."),i.h("div",{class:"buttonsContainer"},i.h("button",{onClick:t,class:"logout"},"LOG OUT"),i.h("button",{onClick:e,class:"login"},"LOGIN WITH SSO"))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.trackVisitiedAppEvent=t.setMixpanelGroupProperties=void 0;const o=i(n(361)),a=i(n(362)),r=i(n(269)),s=i(n(261)),l=n(227),c=n(228),d=n(230),u=n(242);function p(){const{selectedOrganizationId:e}=r.default.SpaceStore.getState(),t=Zeplin.user&&Zeplin.user._id,n=t&&a.default.getOrganizationMember(e,t),i={};return e&&"user"!==e&&(i.workspace_id=e),n&&(i["User Role"]=n.role),i}function h(){mixpanel.master.unregister("workspace_id"),mixpanel.master.unregister("project_id"),mixpanel.master.unregister("styleguide_id"),mixpanel.master.unregister("User Role")}t.setMixpanelGroupProperties=function(){h(),r.default.SpaceStore.addListener(()=>{mixpanel.master.unregister("workspace_id"),mixpanel.master.unregister("User Role"),mixpanel.master.register(Object.assign({Client:c.isWindowsApp?"Windows":"Web","Client Version":l.getAppVersion()},p()))}),r.default.BarrelStore.addListener(()=>{h(),mixpanel.master.register(Object.assign(Object.assign({Client:c.isWindowsApp?"Windows":"Web","Client Version":l.getAppVersion()},p()),function(){const{organizationId:e,barrelType:t,barrelId:n}=r.default.BarrelStore.getState(),i={};if(t&&n){const a=o.default.findUser();t===s.default.PROJECT?i.project_id=n:i.styleguide_id=n,e&&"user"!==e&&(i.workspace_id=e),a&&(i["User Role"]=a.role)}return i}()))})},t.trackVisitiedAppEvent=function(e){const t=u.getAppRouteFromPathname(e);if(!t)return;let n;switch(t){case d.AppRoutes.Workspace:n="Workspace";break;case d.AppRoutes.Project:n="Project";break;case d.AppRoutes.Styleguide:n="Styleguide";break;case d.AppRoutes.ProjectStyleguide:n="Project styleguide";break;case d.AppRoutes.Screen:n="Screen";break;case d.AppRoutes.ScreenVersion:n="Screen version";break;case d.AppRoutes.Notifications:n="Notifications"}n&&mixpanel.master.track("Visited app",{Location:n})}},function(e,t,n){"use strict";n.r(t),n.d(t,"goToLastOrganizationWorkspace",(function(){return A})),n.d(t,"setWorkspaceData",(function(){return w})),n.d(t,"registerWorkspaceRouteHandlers",(function(){return N}));n(240),n(766);var i=n(258),o=n(262),a=n(234),r=n(364),s=n(269),l=n.n(s),c=n(381),d=n(278),u=n.n(d),p=n(908),h=n(308),f=n(362),g=n(577),m=n.n(g),b=(n(1960),n(1962)),S=n(242),y=n(1961),C=n(427),v=n(230);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(){ga("set","location",location.href),ga("set","title","Space - Zeplin"),ga("send","pageview")}function P(e){const t=f.default.getOrganization(e);if(!t||t.members)return{};const{restricted:n}=f.default.getOrganizationProfile(e);return n?Promise.resolve({_id:e,members:[]}):i.getOrganizationMembers(e)}function j(e){const{focusedBarrels:t}=l.a.OrganizationStore.getState();return t&&t[e]?t[e]:i.getOrganizationMemberFocusedBarrels(e,Zeplin.user._id)}function D(e){const t=[Object(b.getOrganization)(e),Object(b.getOrganizationSections)(e),j(e),P(e),a.organizationPrefs.get(e,"dialogDismissStates"),Object(b.getProjects)(e),Object(b.getStyleguides)(e)];return Promise.all(t).then(([t,n,i,o,a,r,s])=>{C.default.loadWorkspaceData({oid:e,organization:E(E(E({},t),o),{},{sections:n}),focusedBarrels:i,dialogDismissParams:a,projects:r,styleguides:s})})}const k={onChangeSelectedOrganization({oid:e}){const{selectedTab:t}=l.a.SpaceStore.getState(),n="user"===e?t:"organization-"+t,i=Object(S.urlResolve)(n,{url:{oid:e}});setTimeout(()=>{r.default.history.push(i)},4),a.userPrefs.set("lastOrganization",e),_()},onChangeTab({tab:e}){const{selectedOrganizationId:t}=l.a.SpaceStore.getState(),n="user"===t?e:"organization-"+e,i=Object(S.urlResolve)(n,{url:{oid:t}});setTimeout(()=>{r.default.history.push(i)},4),mixpanel.master.track(`Opened ${t?"organization":"all"} ${e}`),_()},onChangeFilterValue({filterValue:e}){const{selectedOrganizationId:t,selectedTab:n}=l.a.SpaceStore.getState(),i=new URLSearchParams(location.search);e?i.set("q",e):i.delete("q");const o=Object.fromEntries(i),a="user"===t?n:"organization-"+n;let s;s="user"===t?{query:o}:{url:{oid:t},query:o},setTimeout(()=>{r.default.history.replace(Object(S.urlResolve)(a,s))},4)},onChangeProjectSelectedSortType({oid:e,sortType:t}){"user"===e?a.userPrefs.set("projectSortType",t):a.organizationPrefs.set(e,"projectSortType",t)},onSetStyleguidesTabVisited(){a.userPrefs.set("styleguidesTabVisited",!0)},onToggleSectionState({oid:e,oseids:t},{shouldCollapse:n}){a.organizationPrefs.get(e,"collapsedSections").then(i=>{t.forEach(e=>{i[e]=n}),a.organizationPrefs.set(e,"collapsedSections",i)})},onTrackBarrelClick({oid:e,isFromPinArea:t}){e&&"user"!==e&&mixpanel.master.track("Navigated to project",{Source:t?"Pinned":void 0})}},I={onGetOrganizations({organizations:e}){e&&e.forEach(e=>{Object(y.subscribeToOrganizationChannel)(e._id)})},onAddOrganization({organization:e}){Object(y.subscribeToOrganizationChannel)(e._id),i.getOrganizationMemberProfile(e._id,Zeplin.user._id).then(t=>{p.default.addOrganizationProfile(t,e._id)}).catch(o.handleError)},resetSortTypeAndFilters(e){if(!e.syncWithApi)return;new URLSearchParams(location.search).get("q")&&k.onChangeFilterValue({filterValue:""}),a.organizationPrefs.get(e.oid,"projectSortType").then(t=>{t!==v.SortTypes.SECTIONS&&a.organizationPrefs.set(e.oid,"projectSortType",v.SortTypes.SECTIONS)})}};const R=/^(?:\/organization\/([\da-f]{24}))?\/(projects|styleguides)?$/i;async function A(){const e=new URL(location.href);if(R.test(e.pathname)){const[,t="user",n=v.WorkspaceTabs.PROJECTS]=e.pathname.match(R),i=await a.userPrefs.get("lastOrganization");if(i&&"user"!==i&&i!==t){const t=Object.fromEntries(e.searchParams),o=Object(S.urlResolve)("organization-"+n,{url:{oid:i},query:t});history.replaceState(null,null,o)}}}function w(e,t,n){if(!e.find(e=>e._id===t)&&"user"!==t)return void c.default.changeSelectedOrganization("user");c.default.setWorkspaceLoading(t);("user"===t?b.fetchPersonalWorkspaceData:D)(t).catch(e=>{o.handleError(e,{dialogCallback(){r.default.history.replace(Object(S.urlResolve)(n))}})})}function N(){l.a.dispatcher.register(e=>{switch(e.type){case u.a.CHANGE_SELECTED_TAB:k.onChangeTab(e);break;case u.a.CHANGE_FILTER_VALUE:k.onChangeFilterValue(e);break;case u.a.CHANGE_PROJECT_SELECTED_SORT_TYPE:k.onChangeProjectSelectedSortType(e);break;case u.a.CHANGE_SELECTED_ORGANIZATION:k.onChangeSelectedOrganization(e);break;case u.a.SET_STYLEGUIDES_TAB_VISITED:k.onSetStyleguidesTabVisited();break;case u.a.TRACK_BARREL_CLICK:k.onTrackBarrelClick(e);break;case u.a.EXPAND_SECTIONS:k.onToggleSectionState(e,{shouldCollapse:!1});break;case u.a.COLLAPSE_SECTIONS:k.onToggleSectionState(e,{shouldCollapse:!0})}}),l.a.dispatcher.register(e=>{switch(e.type){case h.default.GET_ORGANIZATIONS_SUCCESS:I.onGetOrganizations(e);break;case h.default.ADD_ORGANIZATION:I.onAddOrganization(e);break;case h.default.ADD_PROJECT_SECTION:case h.default.UPDATE_PROJECT_ORDER:I.resetSortTypeAndFilters(e)}})}r.default.route(R,(async function(e){_();const{match:[t="user",n=v.WorkspaceTabs.PROJECTS],query:{q:[r=""]=[],pid:s=[],stid:d=[],oseid:[u]=[],seid:[h]=[u],newProject:f,newStyleguide:g}}=e,S=[...s,...d],{styleguidesTabVisited:y,pinnedBarrelOnce:O,oldNotificationExperience:E}=await a.userPrefs.getAll(),T="user"===t?await a.userPrefs.get("projectSortType"):await a.organizationPrefs.get(t,"projectSortType"),P="user"===t?{}:await a.organizationPrefs.get(t,"collapsedSections");let j;P[h]&&(P[h]=!1,a.organizationPrefs.set(t,"collapsedSections",P)),n===v.WorkspaceTabs.PROJECTS&&f?j=v.DialogTypes.CREATE_PROJECT:n===v.WorkspaceTabs.STYLEGUIDES&&g&&(j=v.DialogTypes.CREATE_STYLEGUIDE),c.default.updatePageState({selectedOrganizationId:t,selectedTab:n,filterValue:r,selectedWorkflowStatusFilter:"All",highlightedBarrels:S,highlightedSection:h,collapsedSections:P,selectedProjectSortType:h?v.SortTypes.SECTIONS:T,styleguidesTabVisited:y,pinnedBarrelOnce:O,visibleDialogType:j,oldNotificationExperience:E}),C.default.setPage("workspace"),m.a.setNotificationLastReadTime(new Date(Zeplin.user.notificationLastReadTime));const D=await Object(b.getOrganizations)();p.default.getOrganizationsSuccess(D),await function(e,t){const{organizationProfiles:n}=l.a.OrganizationStore.getState();if(0!==Object.keys(n).length)return;const a=e.map(e=>i.getOrganizationMemberProfile(e._id,t));return Promise.all(a).then(t=>{const n=t.reduce((t,n,i)=>(t[e[i]._id]=n,t),{});p.default.getOrganizationMemberProfilesSuccess(n)}).catch(o.handleError)}(D,Zeplin.user._id),w(D,t,n)}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return L}));var i=n(258),o=n(262),a=n(1269),r=n(229),s=n(261),l=n.n(s),c=n(1961),d=n(1078),u=n(309),p=n.n(u),h=n(269),f=n.n(h),g=n(1166),m=n(310),b=n(376),S=n(381),y=n(273),C=n.n(y),v=n(230),O=n(228),E=n(245),T=n(242),_=n(364);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const I=O.supports.webviews;const R={project:{create:i.createProject,get:i.getProject,inviteUser:i.inviteProjectUser,transferOwnership:i.transferProjectOwnership},styleguide:{create:i.createStyleguide,get:i.getStyleguide,inviteUser:i.inviteStyleguideUser,transferOwnership:i.transferStyleguideOwnership}},A={project:{getRequest:d.default.getProjectRequest,getSuccess:d.default.getProjectSuccess,getFailed:d.default.getProjectFailed,transferOwnership:d.default.transferOwnership},styleguide:{getRequest:g.default.getStyleguideRequest,getSuccess:g.default.getStyleguideSuccess,getFailed:g.default.getStyleguideFailed,transferOwnership:g.default.transferOwnership}},w=e=>{const t=e+"s";return{onGetBarrels(n){const i=n[t];i&&(i.forEach(({_id:t})=>Object(c.subscribeToBarrelChannel)(e,t)),I&&i.length&&function(e,t){r.default.ipcRenderer.sendToHost("preload-"+e,Object(T.urlResolve)(e,{url:{bid:t.slice().sort(E.sortBy.updated)[0]._id}}))}(e,i))},onCreateBarrel(t){let{type:n}=t,i=k(t,["type"]);const{oid:a,oseid:r,platform:s}=i;R[e].create(i).then(({_id:t})=>(mixpanel.master.track("Created "+e,{Type:Object(E.getPlatformString)(s),[e+"_id"]:t}),R[e].get(t).then(n=>{S.default.hideLoading(),S.default.closeDialog(),b.default.add({barrel:n,oid:a,oseid:r,barrelType:e}),_.default.history.push(Object(T.urlResolve)(e,{url:{bid:t}}))}))).catch(t=>{S.default.hideLoading(),S.default.closeDialog(),o.handleError(t,{clientErrorHandler:{402:()=>S.default.openDialog(v.DialogTypes.UPGRADE_PLAN,{barrelType:e}),default:o.handleError}})})},onInviteUser({container:t,bid:n,users:i,oid:o}){a.show({popupContainer:t,bid:n,bt:e,members:i,oid:o,onInvite(t){b.default.addMembers({bid:n,barrelType:e,members:t})}})},onTransferOwnership(t){const{bid:n,fromUserId:i,targetId:a,toOrganization:r,oid:s}=t;R[e].transferOwnership(n,a,r).then(()=>{A[e].transferOwnership({bid:n,fromUserId:i,targetId:a,toOrganization:r,oid:s})}).catch(o.handleError)}}},N={onParentSelect({stid:e,parent:t,oldParent:n}){i.updateStyleguideParent(e,t).then(e=>{mixpanel.master.track((n?"Changed":"Added")+" styleguide parent")}).catch(t=>{g.default.removeParent({stid:e,parent:n}),o.handleError(t)})},onParentRemove({stid:e,oldParent:t}){i.removeStyleguideParent(e).then(e=>{mixpanel.master.track("Removed styleguide parent")}).catch(n=>{g.default.selectParent({stid:e,parent:t}),o.handleError(n)})}};function L(){f.a.dispatcher.register(e=>{const t=w(l.a.PROJECT),{type:n,pid:i,syncWithApi:o}=e,a=j({bid:i},k(e,["type","pid","syncWithApi"]));switch(n){case p.a.INVITE_USER:t.onInviteUser(a);break;case p.a.GET_PROJECTS_SUCCESS:case C.a.LOAD_WORKSPACE_DATA:t.onGetBarrels(a)}if(o)switch(n){case p.a.CREATE_PROJECT:t.onCreateBarrel(a);break;case p.a.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(a)}}),f.a.dispatcher.register(e=>{const t=w(l.a.STYLEGUIDE),{type:n,stid:i,syncWithApi:o}=e,a=j({bid:i},k(e,["type","stid","syncWithApi"]));switch(n){case m.default.INVITE_USER:t.onInviteUser(a);break;case m.default.GET_STYLEGUIDES_SUCCESS:case C.a.LOAD_WORKSPACE_DATA:t.onGetBarrels(a)}if(o)switch(n){case m.default.CREATE_STYLEGUIDE:t.onCreateBarrel(a);break;case m.default.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(a);break;case m.default.SELECT_PARENT:N.onParentSelect(e);break;case m.default.REMOVE_PARENT:N.onParentRemove(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToOrganizationChannel",(function(){return l})),n.d(t,"unsubscribeFromOrganizationChannel",(function(){return c})),n.d(t,"subscribeToStyleguideChannel",(function(){return d})),n.d(t,"unsubscribeFromStyleguideChannel",(function(){return u})),n.d(t,"subscribeToProjectChannel",(function(){return p})),n.d(t,"unsubscribeFromProjectChannel",(function(){return h})),n.d(t,"subscribeToBarrelChannel",(function(){return f})),n.d(t,"unsubscribeFromBarrelChannel",(function(){return g}));var i=n(575),o=n(261),a=n.n(o),r=n(231);function s(e,t){if(!e||!t)return;const n=e+t;return i.default.channel(n)||i.default.subscribe(n)}function l(e){return s(r.ORGANIZATION_CHANNEL_PREFIX,e)}function c(e){i.default.unsubscribe(r.ORGANIZATION_CHANNEL_PREFIX+e)}function d(e){return s(r.STYLEGUIDE_CHANNEL_PREFIX,e)}function u(e){i.default.unsubscribe(r.STYLEGUIDE_CHANNEL_PREFIX+e)}function p(e){return s(r.PROJECT_CHANNEL_PREFIX,e)}function h(e){i.default.unsubscribe(r.PROJECT_CHANNEL_PREFIX+e)}function f(e,t){e===a.a.PROJECT?p(t):d(t)}function g(e,t){e===a.a.PROJECT?h(t):u(t)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{l(i.next(e))}catch(t){a(t)}}function s(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPersonalWorkspaceData=t.getOrganizationSections=t.getStyleguides=t.getProjects=t.getFocusedBarrels=t.getOrganization=t.getOrganizations=void 0,n(1960);const l=a(n(258)),c=s(n(362)),d=s(n(269)),u=s(n(427));function p(e){return e.map(e=>Object.assign(Object.assign({},e),{complete:!1}))}function h(e){const t=c.default.getOrganizationProjects(e);return t?Promise.resolve(t):l.getProjects("user"===e?null:e).then(p)}function f(e){const t=c.default.getOrganizationStyleguides(e);return t?Promise.resolve(t):l.getStyleguides("user"===e?null:e).then(p)}t.getOrganizations=function(){const{organizations:e}=d.default.OrganizationStore.getState();return e.length?Promise.resolve(e):l.getOrganizations()},t.getOrganization=function(e){const t=c.default.getOrganization(e);return t&&t.complete?Promise.resolve(t):l.getOrganization(e).then(e=>Object.assign(Object.assign({},e),{complete:!0}))},t.getFocusedBarrels=function(e,t){const{focusedBarrels:n}=d.default.OrganizationStore.getState();return n&&n[e]?Promise.resolve(n[e]):l.getOrganizationMemberFocusedBarrels(e,t)},t.getProjects=h,t.getStyleguides=f,t.getOrganizationSections=function(e){const t=c.default.getOrganization(e);return t&&t.complete&&t.sections?Promise.resolve(t.sections):l.getOrganizationSections(e)},t.fetchPersonalWorkspaceData=function(){return r(this,void 0,void 0,(function*(){const e=yield h("user"),t=yield f("user");u.default.loadWorkspaceData({oid:"user",organization:null,focusedBarrels:null,dialogDismissParams:null,projects:e,styleguides:t})}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"registerDotsViewHandlers",(function(){return fe}));var i=n(241),o=n(1272),a=n(1964),r=n(609),s=n(602),l=n(611),c=n(245),d=n(227),u=n(326),p=n(244),h=n(246),f=n(242),g=n(255),m=n(389),b=n(276),S=n.n(b),y=n(361),C=n(382),v=n(277),O=n.n(v),E=n(367),T=n(269),_=n.n(T);function P(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const j=document.getElementById("dotPopup"),D=document.getElementById("dotPopupAnchor"),k=document.getElementById("dotColors"),I=document.getElementById("commentTemplate"),R=document.getElementById("dotComments"),A=document.getElementById("newComment"),w=document.getElementById("newCommentButtons"),N=document.getElementById("newCommentButton"),L=document.getElementById("newCommentMirror"),x=document.getElementById("newCommentNote"),M=document.getElementById("newCommentSendButton"),U=document.getElementById("newCommentArea"),B=document.getElementById("suggestedUsersContainer"),z=document.getElementById("suggestedEmojisContainer"),V=new m.default(s.default,j),W={};function F(e){if(e&&e.length)if(Array.isArray(e)){let t,n=E.default.getDot().comments.length;if(e.forEach(e=>{const i=R.querySelector(`.comment[data-id="${e}"]`);i&&i.classList.add("highlight");const o=Array.from(i.parentElement.children).indexOf(i);o<n&&(n=o,t=i)}),t){const e=j.getBoundingClientRect().top,n=t.getBoundingClientRect().top-e;setTimeout(()=>{R.scrollTop+=n-24},200)}else i.create({message:"Comments not available anymore."})}else{const t="string"==typeof e?R.querySelector(`.comment[data-id="${e}"]`):e;if(!t)return void i.create({message:"Comment not available anymore."});t.classList.add("new"),t.scrollIntoView(),setTimeout(()=>{t.classList.add("highlight"),setTimeout(()=>{t.classList.remove("highlight"),t.addEventListener("transitionend",()=>{t.classList.remove("new")},{once:!0})},1e3)},150)}}function H(e,t,n){if(t.innerHTML=Object(c.escapeHTML)(e.value)+"&nbsp;",e.selectionStart!==e.selectionEnd)return;const i=Object(h.getFirstWhitespaceIndex)(e.value.substring(0,e.selectionStart),!0),r=e.value.charAt(i);if("@"===r||" "===r){const i=a.manageSuggestedUsers(e,t);i&&G(i,n,a)}else if(":"===r){const i=o.manageSuggestedEmojis(e,t);i&&G(i,n,o)}else a.close(),o.close()}function G(e,t,n){e.style.top="",e.style.left="",e.style.bottom="",e.style.right="",t.appendChild(e),n.open();const i=t.getBoundingClientRect(),o=j.getBoundingClientRect();i.bottom+42>=window.innerHeight?(e.style.bottom=o.bottom-i.bottom+t.offsetHeight+"px",e.style.top=""):(e.style.top=i.bottom-o.top+"px",e.style.bottom="",e.style.maxHeight=window.innerHeight-i.bottom-6+"px")}function $(){const e=o.formatEmojiString(x.value.trim(),!0);if(!e)return;A.classList.remove("composing");const t=E.default.getDot(),{name:n}=t,i=P(t,["name"]);i.comments=[{note:e}],C.default.createComment({did:i._id,note:e}),C.default.addDot({dot:i,syncWithApi:!0})}function q(e){e.classList.remove(...u.colorNames)}function Z(){N.textContent=R.lastElementChild.classList.contains("commentOwner")?"POST":"REPLY"}function K(e,t,n,i){delete e.status;const o=document.importNode(I.content,!0);!async function(e,t,n,i,o){const a=e.querySelector(".commentAuthorImage"),r=e.querySelector(".commentAuthorName");Object(p.setAvatar)(a,t.author),r.textContent=t.author?Object(g.getUserDisplayName)(t.author):"Anonymous",e.dataset.id=t._id,e.classList.toggle("commentOwner",t.author&&t.author._id===Zeplin.user._id);const s=new Date(t.created),l=new Date(t.updated);e.querySelector(".commentLink").href=Object(f.urlResolve)("project-screen",{url:{pid:n,sid:i},query:{did:o,cmid:t._id}}),e.querySelector(".commentCreated").setAttribute("datetime",s);const c=e.querySelector(".commentMirror");c.innerHTML="",await Y(t.note,c),e.querySelector(".commentEdited").setAttribute("datetime",l-s>3e5?l:""),t.author&&(a.addEventListener("mouseenter",e=>X(e,t.author._id)),a.addEventListener("mouseleave",Q),r.addEventListener("mouseenter",e=>X(e,t.author._id,!1)),r.addEventListener("mouseleave",Q));const d=R.querySelectorAll(".user");for(const u of d)u.addEventListener("mouseenter",e=>X(e,u.dataset.uniqueId,!1)),u.addEventListener("mouseleave",Q)}(o.querySelector(".comment"),e,t,n,i),R.appendChild(o);const a=R.lastElementChild,r=a.querySelector(".commentNote"),s=a.querySelector(".commentMirror");return r.addEventListener("input",()=>{H(r,s,a),ce()}),r.addEventListener("keyup",e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:H(r,s,a)}}),a}function Y(e,t){new m.default(r.default,t).render({children:e,disabledFeatures:[l.CustomRules.SPOTIFY,l.CustomRules.YOUTUBE,l.MarkdownRules.IMAGE,l.MarkdownRules.CHECKBOX,l.MarkdownRules.TABLE,l.MarkdownRules.HEADING]})}let J;function X(e,t,n=!0){Q(),J=setTimeout(()=>{V.render({targetNode:e.target,userId:t,openToLeft:n,open:!0,contentClass:"dotPopupUserProfileCardPopoverContainerContent",originParent:document.querySelector(".screenView")});const i=document.querySelector(".dotPopupUserProfileCardPopoverContainerContent");i&&(i.addEventListener("mouseenter",()=>clearTimeout(J)),i.addEventListener("mouseleave",Q))},300)}function Q(){clearTimeout(J),J=setTimeout(()=>{V.remove()},100)}function ee({scroll:e=!1}={}){R.innerHTML="";const{barrelId:t}=_.a.BarrelStore.getState(),{screenId:n}=_.a.ScreenStore.getState(),{dotId:i}=_.a.DotsStore.getState();E.default.getDot().comments.forEach(e=>K(e,t,n,i)),e&&Object(p.scrollIfNecessary)(R.lastElementChild),A.classList.remove("hidden"),Z(),ce()}function te({hasReaction:e=!1}={}){const t=o.formatEmojiString(x.value.trim(),!0);o.close(),a.close(),t&&(A.classList.remove("composing"),L.innerHTML="&nbsp;",x.value="",C.default.createComment({note:t,hasReaction:e,syncWithApi:!0}))}function ne(e){const t=e.querySelector(".commentNote"),n=o.formatEmojiString(t.value.trim(),!0);if(o.close(),a.close(),""===n)return void ie(e.dataset.id);const{screenId:i}=_.a.ScreenStore.getState(),{dotId:r}=_.a.DotsStore.getState(),s=e.dataset.id;C.default.updateComment({sid:i,did:r,cmid:s,commentData:{note:n,updated:new Date},syncWithApi:!0})}function ie(e){const{userId:t}=_.a.UserStore.getState(),{screenId:n}=_.a.ScreenStore.getState(),{dotId:o}=_.a.DotsStore.getState(),a=E.default.getDot(),r=E.default.getComment({sid:n,did:o,cmid:e}),s=1===a.comments.length?"note":"comment";let l;l=r.author?r.author._id===t?`Delete your ${s}?`:`Delete ${r.author.username}’s ${s}?`:`Delete ${s}?`,i.create({title:l,message:`Deleted ${s}s cannot be restored.`,done:{name:"DELETE",cb(){1===a.comments.length&&C.default.removeDot({sid:n,did:o,syncWithApi:!0}),C.default.removeComment({sid:n,did:o,cmid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}function oe(){a.close(),o.close(),V.remove(),R.innerHTML="",R.scrollTop=0,j.dataset.id="",q(j),j.classList.remove("open","resolved"),j.classList.add("hidden"),j.classList.remove("left","right")}function ae(){oe(),document.removeEventListener("click",pe),document.removeEventListener("keydown",he);const e=document.querySelector('.dot[data-id^="new"]');e&&setTimeout(()=>{C.default.removeDot({did:e.dataset.id})},4)}function re(){const{screenId:e}=_.a.ScreenStore.getState();if(!j.classList.contains("hidden")&&e){W[e]=W[e]||{};const t=j.dataset.id;t.startsWith("new")?W[e].comment=x.value:(W[e].reply=W[e].reply||{},W[e].reply[t]=x.value)}}function se(){re(),ae()}function le(e,t){const{id:n,users:i}=y.default.getBarrel();if(!e||!i)return void oe();Array.isArray(t)&&1===t.length&&(t=t[0]);const o=E.default.getDot({did:e});if(!o)return;if(j.dataset.id===o._id)return void F(t);oe();const a=y.default.findUser();j.dataset.id=e,j.classList.add(Object(u.getColorName)(o.color),o.x<=.5?"left":"right"),j.classList.toggle("canRemoveNotes",c.permissions.canRemoveNotes(a)),L.innerHTML="&nbsp;",x.value="",A.classList.remove("hidden");const{screenId:r}=_.a.ScreenStore.getState();if(e.startsWith("new"))j.classList.add("open"),A.classList.add("composing"),W[r]&&W[r].comment&&(L.innerHTML=Object(c.escapeHTML)(W[r].comment)+"&nbsp;",x.value=W[r].comment),setTimeout(()=>{x.focus(),x.setSelectionRange(x.value.length,x.value.length)},4);else{j.classList.add(o.status),o.comments.forEach(t=>K(t,n,r,e)),F(t);const i=W[r]&&W[r].reply&&W[r].reply[e];i?(A.classList.add("composing"),L.innerHTML=Object(c.escapeHTML)(i)+"&nbsp;",x.value=i,setTimeout(()=>{x.focus(),x.setSelectionRange(x.value.length,x.value.length)},4)):(Z(),A.classList.remove("composing"))}e.startsWith("new")?ue():setTimeout(()=>{const n=document.querySelector(`.dot[data-id="${e}"]`);n&&function(e){const n=document.querySelector(".screenViewContainer section.screenView");if(Object(p.isElementVisible)(e,n))ue();else{const t=e.getBoundingClientRect();let i=n.scrollLeft,o=n.scrollTop;t.left<0?i=n.scrollLeft+t.left-60:t.right>n.offsetWidth&&(i=t.right-n.offsetWidth+60),t.top<92?o=n.scrollTop+t.top-60-29-60:t.bottom>window.innerHeight&&(o=n.scrollTop+(t.bottom-window.innerHeight)+60),"scrollTo"in Element.prototype?(n.scrollTo({left:i,top:o,behavior:"smooth"}),setTimeout(ue,450)):(n.scrollLeft=i,n.scrollTop=o,ue())}t?F(t):R.lastElementChild.scrollIntoView()}(n)},200)}function ce(){const{dotId:e}=_.a.DotsStore.getState();if(!e)return;const t=document.querySelector(`.dot[data-id="${e}"]`);if(!t)return;const n=document.querySelector(".screenViewContainer section.screenView").getBoundingClientRect(),i=t.getBoundingClientRect(),o=j.getBoundingClientRect();let a=6,r=6,s=29,l=!1;i.right<=0?(l=!0,a=6):i.left>=n.right?(l=!0,a=n.width-6-o.width):i.left<=o.width+6+13?(j.classList.remove("left"),j.classList.add("right"),a=i.right+13):i.right+13+o.width+6>=n.right?(j.classList.remove("right"),j.classList.add("left"),a=i.left-13-o.width):(j.classList.remove("left","right"),j.classList.add(t.dataset.position),a="left"===t.dataset.position?i.left-13-o.width:i.right+13),i.top<=n.top+26+6?(l=!0,r=n.top+6):i.bottom>=window.innerHeight-26?(l=!0,r=window.innerHeight-o.height-6):i.top>=window.innerHeight-o.height+26-6?(r=window.innerHeight-o.height-6,s=i.top-r+6):i.top+o.height-29>window.innerHeight?(l=!0,r=window.innerHeight-o.height-6):r=i.top-26,j.classList.toggle("overflown",l),j.style.transform=`translate(${a.toFixed()}px, ${r.toFixed()}px)`,D.style.top=s+"px",V.isRendered()&&V.update()}k.addEventListener("click",e=>{e.target.classList.contains("dotColor")&&function(e,t){const n=Object(u.getColorValueByName)(e);if(t.startsWith("new"))return void C.default.updateDotColor({did:t,color:n});C.default.updateDotColor({did:t,color:n,syncWithApi:!0});const{colorFilter:i}=_.a.DotsStore.getState();i&&i!==e&&ae()}(e.target.dataset.color,j.dataset.id)}),R.addEventListener("mouseover",e=>{e.target!==R&&e.target.closest(".comment").classList.remove("highlight")}),w.addEventListener("click",e=>{if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;if(j.classList.contains("resolved")){const e=document.querySelector("#dotPopup .comment:first-child .commentButtons");e.classList.add("flashing");return void e.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:1e3,easing:"ease-in-out"}).addEventListener("finish",()=>{e.classList.remove("flashing")})}if(e.target.closest("#newCommentButton"))return A.classList.add("composing"),void x.focus();const t=e.target.closest(".newCommentReaction"),n=E.default.getDot(),i=n.comments[n.comments.length-1];if(i.author&&i.author._id===Zeplin.user._id&&i.note===u.reactions[t.dataset.reaction])return;const o=x.value;x.value=u.reactions[t.dataset.reaction],te({hasReaction:!0}),x.value=o}),x.addEventListener("input",()=>{H(x,L,U),ce()}),Object(d.getBrowser)()===d.BROWSER.SAFARI&&(x.addEventListener("beforeinput",e=>{const t=e.data||"";x.value.length+t.length>x.maxLength&&e.preventDefault()}),j.addEventListener("beforeinput",e=>{const t=e.target,n=e.data||"";t.value.length+n.length>t.maxLength&&e.preventDefault()})),x.addEventListener("click",e=>{e.stopPropagation(),H(x,L,U)}),M.addEventListener("click",()=>{const{dotId:e}=_.a.DotsStore.getState();e.startsWith("new")?$():te()}),x.addEventListener("keyup",e=>{switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:H(x,L,U)}}),x.addEventListener("keydown",e=>{if(e.stopPropagation(),B.classList.contains("hidden")&&z.classList.contains("hidden"))switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:if(Object(d.cmdKey)(e)){const{dotId:e}=_.a.DotsStore.getState();e.startsWith("new")?$():te()}break;case Zeplin.KEY_CODE.ESC:{const{screenId:e}=_.a.ScreenStore.getState(),{dotId:t}=_.a.DotsStore.getState();W[e]&&(t.startsWith("new")?W[e].comment=null:W[e].reply&&(W[e].reply[t]=null)),A.classList.remove("composing"),L.innerHTML="&nbsp;",x.value="",t.startsWith("new")&&ae();break}}});let de=!1;function ue(){document.addEventListener("click",pe),document.addEventListener("keydown",he),j.classList.remove("hidden"),ce()}function pe(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&C.default.closeDotPopup()}function he(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){if(V.isRendered())return void V.remove();C.default.closeDotPopup()}}function fe(){_.a.dispatcher.register(e=>{switch(e.type){case S.a.RESET:ae();break;case S.a.CHANGE_SELECTED_VIEW:se();break;case S.a.UPDATE_USER_ROLE:{const{uid:t,role:n}=e,{userId:i}=_.a.UserStore.getState();t===i&&j.classList.toggle("canRemoveNotes",c.permissions.canRemoveNotes({role:n}));break}case S.a.UPDATE_USER_DATA:{const{dotId:e}=_.a.DotsStore.getState();e&&ee();break}case S.a.REMOVE_MEMBER:a.checkStatus()}}),_.a.dispatcher.register(e=>{switch(e.type){case O.a.OPEN_SCREEN:e.dotId?(ae(),le(e.dotId,e.commentId)):se();break;case O.a.SELECT_LAYER:se();break;case O.a.ZOOM_APPLIED:case O.a.ZOOM_WITH_GESTURE:case O.a.ZOOM_WITH_WHEEL:!function(){const{dotId:e}=_.a.DotsStore.getState();e&&!de&&(requestAnimationFrame(()=>{ce(),de=!1}),de=!0)}();break;case O.a.SET_DOTS:{const{loadingDots:e,dotId:t,highlightedComments:n}=_.a.DotsStore.getState();!e&&t&&(re(),le(t,n));break}case O.a.SELECT_DOT:ae(),le(e.dotId,e.commentId);break;case O.a.CLOSE_DOT_POPUP:se();break;case O.a.CHANGE_DOT_FILTER:e.dotId||se();break;case O.a.OPEN_DOT_MENU:a.close(),o.close(),se();break;case O.a.CREATE_NOTE:se(),setTimeout(le,4,e.dot._id);break;case O.a.UPDATE_DOT:e.did===j.dataset.id&&(j.dataset.id=e.dotData._id,function(){const{dotId:e}=_.a.DotsStore.getState();e&&(ae(),le(e))}());break;case O.a.UPDATE_DOT_COLOR:t=e.did,n=e.color,j.dataset.id===t&&(q(j),j.classList.add(Object(u.getColorName)(n)));break;case O.a.UPDATE_DOT_STATUS:e.did!==j.dataset.id||j.classList.contains(e.status)||ae();break;case O.a.REMOVE_DOT:e.did===j.dataset.id&&ae();break;case O.a.CREATE_COMMENT:case O.a.ADD_COMMENT:{const{dotId:t}=_.a.DotsStore.getState();t===e.did&&ee({scroll:!0});break}case O.a.UPDATE_COMMENT:case O.a.REMOVE_COMMENT:e.did===j.dataset.id&&ee();break;case O.a.DESELECT_LAYER:ae();break;case O.a.REMOVE_SCREEN:e.removingCurrentScreen&&ae()}var t,n})}j.addEventListener("click",e=>{if(e.stopPropagation(),"A"===e.target.tagName)return;const t=j.dataset.id;if(e.target.classList.contains("dotResolveButton"))C.default.updateDotStatus({did:t,status:"resolved",syncWithApi:!0});else if(e.target.classList.contains("dotReopenButton"))C.default.updateDotStatus({did:t,status:"open",syncWithApi:!0});else if(e.target.classList.contains("commentEditButton")){const n=j.querySelector(".comment.editing");if(n){const e=E.default.getComment({did:t,cmid:n.dataset.id}),i=n.querySelector(".commentMirror");i.innerHTML="",Y(e.note,i),n.classList.remove("editing")}a.close(),o.close(),A.classList.add("hidden"),A.classList.remove("composing"),L.innerHTML="&nbsp;",x.value="";const i=e.target.closest(".comment"),r=i.querySelector(".commentMirror"),s=i.querySelector(".commentNote"),l=i.dataset.id,d=E.default.getComment({did:t,cmid:l});r.innerHTML=Object(c.escapeHTML)(d.note)+"&nbsp",s.value=d.note,i.classList.add("editing"),s.setSelectionRange(d.note.length,d.note.length),s.focus(),ce()}else if(e.target.classList.contains("commentDeleteButton")){ie(e.target.closest(".comment").dataset.id)}else if(e.target.classList.contains("commentDoneButton")){ne(e.target.closest(".comment"))}}),j.addEventListener("keydown",e=>{if(e.target.classList.contains("commentNote")){e.stopPropagation();const t=e.target.closest(".comment");switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:Object(d.cmdKey)(e)&&ne(t);break;case Zeplin.KEY_CODE.ESC:{a.close(),o.close(),t.classList.remove("editing"),A.classList.remove("hidden");const n=t.querySelector(".commentMirror"),i=E.default.getComment({cmid:t.dataset.id});n.innerHTML="",Y(i.note,n),e.target.blur(),ce();break}}}})},function(e,t,n){"use strict";n.r(t),n.d(t,"manageSuggestedUsers",(function(){return v})),n.d(t,"checkStatus",(function(){return O})),n.d(t,"open",(function(){return E})),n.d(t,"close",(function(){return T}));var i=n(245),o=n(244),a=n(1273),r=n(361),s=n(362);const l=document.getElementById("suggestedUsersContainer"),c=l.querySelector(".suggestedListBox"),d=document.getElementById("suggestedUsersTemplate");let u,p,h,f,g=[],m=0,b=null;function S(){if(!b.startsWith("@"))return;b=b.substring(1).toLowerCase();const e=r.default.getBarrel(),t=s.default.getOrganization(),n=[{user:{username:"everyone",_id:"everyone"},icon:e.icon.type,projectName:e.name}];if(t&&n.push({user:{username:"organization",_id:"organization"},icon:t.logo,projectName:e.name}),n.push(...e.users),g=n.filter(({user:e})=>"invited"!==e.status&&("me"===b&&Zeplin.user._id===e._id||e.username.toLowerCase().startsWith(b)||e.fullName&&e.fullName.toLowerCase().startsWith(b))),b&&"project".startsWith(b)&&g.unshift({user:{username:"project",_id:"project"},icon:e.icon.type,projectName:e.name}),g.length)return b?i.groupMentionKeywords.some(e=>e.startsWith(b))&&(m=g.length>1?1:0,h=g[m]):(m=t?2:1,h=g[m]),g.forEach(y),l.appendChild(c),h&&(o=h,g.some((function(e){return e.user._id===o.user._id})))&&"me"!==b?m=l.querySelector(".suggestedItem[data-id='"+h.user._id+"']").dataset.index:(m=0,h=g[0]),l;var o;T()}function y(e,t){const n=document.importNode(d.content,!0),i=n.querySelector(".suggestedItem"),a=n.querySelector(".suggestedUserName"),r=n.querySelector(".mentionInfo"),s=n.querySelector(".suggestedUserImage"),l=n.querySelector(".projectIcon");i.dataset.id=e.user._id,i.dataset.index=t,a.textContent=e.user.username||e.user.email,a.title=e.user.username||e.user.email,e.user._id===Zeplin.user._id&&a.classList.add("you"),"organization"===e.user._id?(r.textContent="Notify all organization members",e.icon?(l.dataset.type="organization",l.style.background=`url(${e.icon})`,l.style.backgroundSize="contain"):l.dataset.type="organizationPlaceholder",s.parentElement.classList.add("hidden")):["everyone","project"].includes(e.user._id)?(r.textContent="Notify all project members",l.dataset.type=e.icon,s.parentElement.classList.add("hidden")):(r.textContent="",Object(o.setAvatar)(s,e.user)),c.appendChild(n)}function C(e){const t=u.value.substring(0,u.selectionStart),n=u.value.substring(u.selectionStart),o=e.user.username,a=t.substr(0,t.lastIndexOf("@"))+"@"+o+" ";u.value=a+n,p.innerHTML=Object(i.escapeHTML)(u.value)+"&nbsp;",u.focus(),u.setSelectionRange(a.length+1,a.length+1),T()}function v(e,t){if(u=e,p=t,!l.classList.contains("hidden")){const e=l.querySelector(".suggestedItem.selected");e&&(h=g[e.dataset.index])}const n=u.value.substring(0,u.selectionStart).lastIndexOf("@");return T(),b=u.value.substring(n,u.selectionStart),S()}function O(){b&&a.open(f)}function E(){f={elements:{textContainer:u,suggestedListContainer:l},cb:{autoComplete:C},index:m,list:g},a.open(f)}function T(){b=null,a.close()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1966)),a=i(n(1967)),r=i(n(1969)),s=i(n(1973)),l=i(n(1960)),c=i(n(1978)),d=i(n(1982)),u=i(n(1987)),p=i(n(1991)),h=i(n(1992)),f=i(n(1996)),g=i(n(2e3)),m=i(n(2001)),b=i(n(2002)),S=i(n(2003)),y=i(n(2009)),C=i(n(2010)),v=i(n(2013)),O=i(n(2019)),E=i(n(2022)),T=i(n(2025)),_=i(n(2027));t.default=function(){o.default(),a.default(),r.default(),s.default(),l.default(),c.default(),d.default(),u.default(),p.default(),h.default(),f.default(),g.default(),m.default(),b.default(),S.default(),y.default(),C.default(),v.default(),O.default(),E.default(),T.default(),_.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{l(i.next(e))}catch(t){a(t)}}function s(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=s(n(271)),c=s(n(847)),d=s(n(272)),u=a(n(258)),p=s(n(382)),h=s(n(367)),f=s(n(577)),g=s(n(1934)),m=s(n(908)),b=s(n(362)),S=s(n(765)),y=n(234),C=s(n(269)),v=s(n(1078)),O=s(n(361)),E={selected({activity:e,eventIds:t=[],options:{reselect:n,autoSelect:i}}){var o;return r(this,void 0,void 0,(function*(){i||n||E.trackItemClick(e);const a=e.events.filter(({_id:e})=>t.includes(e)),r=a.length>0?a.every(({markedAsRead:e})=>e):e.markedAsRead;if(i||r||setTimeout(()=>{a.length>0?f.default.setEventReadStatus({notification:e,eventIds:t,markedAsRead:!0}):f.default.setReadStatus({notifications:[e],markedAsRead:!0})}),n||c.default.getCategory(e)!==d.default.Note)return;const s=e.params.project._id;if(!(null===(o=O.default.getProject({pid:s}))||void 0===o?void 0:o.complete)){setTimeout(v.default.getProjectRequest);try{yield u.getProject(s).then(e=>v.default.getProjectSuccess({project:e}))}catch(b){return void v.default.getProjectFailed(b)}}const l=e.params.screen._id,m=h.default.getScreen({bid:s,sid:l});(null==m?void 0:m.dots)?setTimeout(()=>g.default.setDotsLoaded(e)):u.getDots(s,l).then(({dots:e=[]})=>{p.default.setDots({pid:s,sid:l,dots:e})}).finally(()=>g.default.setDotsLoaded(e))}))},requestRelatedUsers(e,t){return r(this,void 0,void 0,(function*(){if("user"!==e){let i=b.default.getOrganizationProfile(e);if(!i)try{i=yield u.getOrganizationMemberProfile(e,t),m.default.addOrganizationProfile(i,e)}catch(n){return}if(!i.restricted)return void(b.default.getOrganizationMembers(e)||setTimeout(()=>{m.default.organizationMembersRequested(e),u.getOrganizationMembers(e).then(m.default.getOrganizationMembersSuccess).catch(t=>m.default.getOrganizationMembersFailed(e,t))}))}C.default.UserStore.getState().acquaintances||setTimeout(()=>{S.default.acquaintancesRequested(),u.getUserAcquaintances().then(({acquaintances:e})=>S.default.setAcquaintances(e)).catch(S.default.getAcquaintancesFailed)})}))},trackFilteredNotificationsChange(){c.default.trackEventWithFilterDetails("Filtered notifications")},trackItemClick(e){c.default.trackEventWithFilterDetails("Clicked notification",{Mention:c.default.hasMention(e),Source:"Notifications page"})},setSidebarWidth(e){y.userPrefs.set("activitiesSidebarWidth",e)},setNotificationWelcomeMessageMinimized(e){y.userPrefs.set("notificationWelcomeMessageMinimized",e)}};t.default=function(){C.default.dispatcher.register(e=>{switch(e.type){case l.default.Select:E.selected(e);break;case l.default.RequestRelatedUsers:E.requestRelatedUsers(e.oid,e.uid);break;case l.default.SelectColor:case l.default.SelectNoteStatusFilterType:case l.default.SelectMember:case l.default.SelectSection:E.trackFilteredNotificationsChange();break;case l.default.SetSidebarWidth:E.setSidebarWidth(e.sidebarWidth);break;case l.default.SetNotificationWelcomeMessageMinimized:E.setNotificationWelcomeMessageMinimized(e.notificationWelcomeMessageMinimized)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1968));t.default=function(){o.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(273)),a=n(234),r=i(n(269)),s={switchToOldNotificationExperience(){mixpanel.master.track("Opted-out from Activities beta"),a.userPrefs.set("oldNotificationExperience",!0)},switchToNewNotificationExperience(){mixpanel.master.track("Opted-in to Activities beta"),a.userPrefs.set("oldNotificationExperience",!1)}};t.default=function(){r.default.dispatcher.register(e=>{switch(e.type){case o.default.SWITCH_TO_OLD_NOTIFICATION_EXPERIENCE:s.switchToOldNotificationExperience();break;case o.default.SWITCH_TO_NEW_NOTIFICATION_EXPERIENCE:s.switchToNewNotificationExperience()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(1970),o=n(1972);function a(){Object(i.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(269),o=n.n(i),a=n(280),r=n(1971),s=n(282),l=n(258),c=n(262),d=n(242),u=n(245),p=n(260),h=n.n(p);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b={handleFetchConnectedAppsData(){Promise.all([Object(l.getAuthorizedApplications)(),...s.OFFICIAL_APPS.map(({_id:e})=>Object(l.getAppStatus)(e))]).then(([e,...t])=>{const n=e.slice().sort(u.sortBy.authorized);r.default.getConnectedAppsDataSuccess({authorizedApplications:n,officialApps:s.OFFICIAL_APPS.reduce((e,n,i)=>g(g({},e),{},{[n._id]:g(g({},n),{},{token:null,status:t[i]?s.appStatus.CONNECTED:s.appStatus.UNCONNECTED})}),{})})}).catch(e=>{if(e.status===h.a.STATUS.PRECONDITION_FAILED)return r.default.getConnectedAppsDataSuccess({authorizedApplications:[],zeplinCLIConnected:!1,zemConnected:!1});c.handleError(e)})},handleRevokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){const{_id:n}=e;(s.OFFICIAL_APPS.some(e=>e._id===n)?l.revokeAppToken:l.revokeAuthorizedApplication)(n).then(()=>{r.default.revokeAuthorizedApplicationSuccess({authorizedApplication:e,toastContainer:t})}).catch(e=>{r.default.revokeAuthorizedApplicationFailure(),c.handleError(e)})},handleFetchDeveloperData(){Promise.all([Object(l.getOwnedApplications)(),Object(l.getPersonalAccessTokens)()]).then(([e,t])=>{const n=e.slice().sort(u.sortBy.updated),i=t.slice().sort(u.sortBy.created);r.default.getDeveloperDataSuccess({ownedApplications:n,personalAccessTokens:i})}).catch(e=>{if(e.status===h.a.STATUS.PRECONDITION_FAILED)return r.default.getDeveloperDataSuccess({ownedApplications:[],personalAccessTokens:[]});c.handleError(e)})},handleFetchApplication({appId:e}){const{fetchedApplicationIds:t,ownedApplications:n}=o.a.AppsStore.getState(),i=n.find(t=>t._id===e);if(t.includes(e))return setTimeout(()=>{r.default.getApplicationSuccess(i)});Object(l.getOwnedApplication)(e).then(r.default.getApplicationSuccess).catch(c.handleError)},handleCreateApplication({application:e}){Object(l.createApplication)(e).then(r.default.createApplicationSuccess).catch(e=>{r.default.createApplicationFailure(),c.handleError(e)})},handleUpdateApplication({appId:e,application:t}){Object(l.updateApplication)(e,t).then(()=>r.default.updateApplicationSuccess({appId:e,application:t})).catch(e=>{r.default.updateApplicationFailure(),c.handleError(e)})},handleDeleteApplication({application:e,toastContainer:t}){Object(l.deleteApplication)(e._id).then(()=>r.default.deleteApplicationSuccess({application:e,toastContainer:t})).catch(e=>{r.default.deleteApplicationFailure(),c.handleError(e)})},handleCreatePersonalAccessToken(){Object(l.createPersonalAccessToken)().then(r.default.createPersonalAccessTokenSuccess).catch(e=>{r.default.createPersonalAccessTokenFailure(),c.handleError(e)})},handleDeletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){Object(l.deletePersonalAccessToken)(e._id).then(()=>{r.default.deletePersonalAccessTokenSuccess({personalAccessToken:e,toastContainer:t})}).catch(e=>{r.default.deletePersonalAccessTokenFailure(),c.handleError(e)})},handleRenamePersonalAccessToken({tokenId:e,name:t,oldName:n}){Object(l.renamePersonalAccessToken)(e,t).catch(t=>{r.default.renamePersonalAccessToken({tokenId:e,name:n}),c.handleError(t)})},handleConnectOfficialApp({appId:e}){const t={client_id:e,response_type:"token",redirect_uri:Object(d.urlResolve)("profile-connected-apps"),scope:"read write delete"},n="/oauth/authorize?"+Object(d.joinUrlParams)(t),i="/oauthRedirectUrl?authUrl="+encodeURIComponent(n);fetch(i).then(e=>e.text()).then(t=>{const n=new URL(t).searchParams.get("access_token");n&&r.default.connectOfficialAppSuccess({appId:e,token:n})}).catch(t=>{r.default.connectOfficialAppFailure({appId:e}),c.handleError(t)})}};function S(){o.a.dispatcher.register(e=>{switch(e.type){case a.default.GET_CONNECTED_APPS_DATA_REQUEST:b.handleFetchConnectedAppsData(e);break;case a.default.GET_DEVELOPER_DATA_REQUEST:b.handleFetchDeveloperData(e);break;case a.default.GET_APPLICATION_REQUEST:b.handleFetchApplication(e);break;case a.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:b.handleCreatePersonalAccessToken(e);break;case a.default.CREATE_APPLICATION_REQUEST:b.handleCreateApplication(e);break;case a.default.UPDATE_APPLICATION_REQUEST:b.handleUpdateApplication(e);break;case a.default.DELETE_APPLICATION_REQUEST:b.handleDeleteApplication(e);break;case a.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:b.handleDeletePersonalAccessToken(e);break;case a.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST:b.handleRevokeAuthorizedApplication(e);break;case a.default.RENAME_PERSONAL_ACCESS_TOKEN:b.handleRenamePersonalAccessToken(e);break;case a.default.CONNECT_OFFICIAL_APP_REQUEST:b.handleConnectOfficialApp(e)}})}},function(e,t,n){"use strict";n.r(t);var i=n(269),o=n.n(i),a=n(280);const r={getConnectedAppsData(){o.a.dispatcher.dispatch({type:a.default.GET_CONNECTED_APPS_DATA_REQUEST})},getConnectedAppsDataSuccess({authorizedApplications:e,officialApps:t}){o.a.dispatcher.dispatch({type:a.default.GET_CONNECTED_APPS_DATA_SUCCESS,authorizedApplications:e,officialApps:t})},getDeveloperData(){o.a.dispatcher.dispatch({type:a.default.GET_DEVELOPER_DATA_REQUEST})},getDeveloperDataSuccess({ownedApplications:e,personalAccessTokens:t}){o.a.dispatcher.dispatch({type:a.default.GET_DEVELOPER_DATA_SUCCESS,ownedApplications:e,personalAccessTokens:t})},getApplication(e){o.a.dispatcher.dispatch({type:a.default.GET_APPLICATION_REQUEST,appId:e})},getApplicationSuccess(e){o.a.dispatcher.dispatch({type:a.default.GET_APPLICATION_SUCCESS,application:e})},revokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){o.a.dispatcher.dispatch({type:a.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST,authorizedApplication:e,toastContainer:t})},revokeAuthorizedApplicationSuccess({authorizedApplication:e,toastContainer:t}){o.a.dispatcher.dispatch({type:a.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS,authorizedApplication:e,toastContainer:t})},revokeAuthorizedApplicationFailure(){o.a.dispatcher.dispatch({type:a.default.REVOKE_AUTHORIZED_APPLICATION_FAILURE})},deletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){o.a.dispatcher.dispatch({type:a.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST,personalAccessToken:e,toastContainer:t})},deletePersonalAccessTokenSuccess({personalAccessToken:e,toastContainer:t}){o.a.dispatcher.dispatch({type:a.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS,personalAccessToken:e,toastContainer:t})},deletePersonalAccessTokenFailure(){o.a.dispatcher.dispatch({type:a.default.DELETE_PERSONAL_ACCESS_TOKEN_FAILURE})},createPersonalAccessToken(){o.a.dispatcher.dispatch({type:a.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST})},createPersonalAccessTokenSuccess(e){o.a.dispatcher.dispatch({type:a.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS,personalAccessToken:e})},createPersonalAccessTokenFailure(){o.a.dispatcher.dispatch({type:a.default.CREATE_PERSONAL_ACCESS_TOKEN_FAILURE})},createApplication(e){o.a.dispatcher.dispatch({type:a.default.CREATE_APPLICATION_REQUEST,application:e})},createApplicationSuccess(e){o.a.dispatcher.dispatch({type:a.default.CREATE_APPLICATION_SUCCESS,application:e})},createApplicationFailure(){o.a.dispatcher.dispatch({type:a.default.CREATE_APPLICATION_FAILURE})},updateApplication({appId:e,application:t}){o.a.dispatcher.dispatch({type:a.default.UPDATE_APPLICATION_REQUEST,appId:e,application:t})},updateApplicationSuccess({appId:e,application:t}){o.a.dispatcher.dispatch({type:a.default.UPDATE_APPLICATION_SUCCESS,appId:e,application:t})},updateApplicationFailure(){o.a.dispatcher.dispatch({type:a.default.UPDATE_APPLICATION_FAILURE})},deleteApplication({application:e,toastContainer:t}){o.a.dispatcher.dispatch({type:a.default.DELETE_APPLICATION_REQUEST,application:e,toastContainer:t})},deleteApplicationSuccess({application:e,toastContainer:t}){o.a.dispatcher.dispatch({type:a.default.DELETE_APPLICATION_SUCCESS,application:e,toastContainer:t})},deleteApplicationFailure(){o.a.dispatcher.dispatch({type:a.default.DELETE_APPLICATION_FAILURE})},renamePersonalAccessToken({tokenId:e,name:t,oldName:n}){o.a.dispatcher.dispatch({type:a.default.RENAME_PERSONAL_ACCESS_TOKEN,tokenId:e,name:t,oldName:n})},connectOfficialApp({appId:e}){o.a.dispatcher.dispatch({type:a.default.CONNECT_OFFICIAL_APP_REQUEST,appId:e})},connectOfficialAppSuccess({appId:e,token:t}){o.a.dispatcher.dispatch({type:a.default.CONNECT_OFFICIAL_APP_SUCCESS,appId:e,token:t})},connectOfficialAppFailure({appId:e}){o.a.dispatcher.dispatch({type:a.default.CONNECT_OFFICIAL_APP_FAILURE,appId:e})}};t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(269),o=n.n(i),a=n(280),r=n(257);const s={handleRevokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){Object(r.default)({text:`App “${e.name}” revoked`,container:t,source:"connectedAppsTab"}),mixpanel.master.track("Revoked access to Zeplin app",{"App ID":e._id})},handleDeletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){Object(r.default)({text:`Token “${e.name}” deleted`,container:t,source:"developerTab"}),mixpanel.master.track("Deleted personal access token")},handleDeleteApplication({application:e,toastContainer:t}){Object(r.default)({text:`App “${e.name}” deleted`,container:t,source:"developerTab"}),mixpanel.master.track("Deleted Zeplin app")},handleCreateApplication(){mixpanel.master.track("Created Zeplin app")},handleCreatePersonalAccessToken(){mixpanel.master.track("Created personal access token")}};function l(){o.a.dispatcher.register(e=>{switch(e.type){case a.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS:s.handleRevokeAuthorizedApplication(e);break;case a.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:s.handleDeletePersonalAccessToken(e);break;case a.default.CREATE_APPLICATION_SUCCESS:s.handleCreateApplication(e);break;case a.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:s.handleCreatePersonalAccessToken(e);break;case a.default.DELETE_APPLICATION_SUCCESS:s.handleDeleteApplication(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(1974),o=n(1975),a=n(1976),r=n(1977);function s(){Object(i.default)(),Object(r.default)(),Object(a.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var i=n(269),o=n.n(i),a=n(276),r=n.n(a),s=n(376),l=n(385),c=n(245),d=n(314),u=n(261),p=n.n(u),h=n(230),f=n(262),g=n(263),m=n(264),b=n(258);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={project:b.project,styleguide:b.styleguide},O={[h.RESOURCE_TYPE.COLORS]:"updateColorsStyleguide",[h.RESOURCE_TYPE.TEXT_STYLES]:"updateTextStylesStyleguide",[h.RESOURCE_TYPE.COMPONENTS]:"updateComponentSectionsStyleguide"},E={[h.RESOURCE_TYPE.COLORS]:"Moved colors to styleguide",[h.RESOURCE_TYPE.TEXT_STYLES]:"Moved text styles to styleguide",[h.RESOURCE_TYPE.COMPONENTS]:"Moved components to styleguide"},T={handleActivate({bid:e,barrelType:t}){v[t].activate(e).catch(t=>{Object(f.handleError)(t),s.default.archive({bid:e})})},handleArchive({bid:e,barrelType:t}){v[t].archive(e).catch(t=>{Object(f.handleError)(t),s.default.activate({bid:e})})},handleRemove({bid:e,oid:t,oseid:n,barrelType:i,oldBarrel:o}){v[i].delete(e).catch(e=>{Object(f.handleError)(e),s.default.add({barrel:o,oid:t,oseid:n,barrelType:i})})},handleUpdateName({bid:e,barrelType:t,name:n,oldName:i}){v[t].updateName(e,n).catch(t=>{Object(f.handleError)(t),s.default.updateName({bid:e,name:i})})},handleUpdateDescription({bid:e,barrelType:t,description:n,oldDescription:i}){v[t].updateDescription(e,n).catch(t=>{Object(f.handleError)(t),s.default.updateDescription({bid:e,description:i})})},handleUpdateDensityScale({bid:e,barrelType:t,densityScale:n,oldDensityScale:i}){v[t].updateDensityScale(e,n).catch(t=>{Object(f.handleError)(t),s.default.updateDensityScale({bid:e,densityScale:i})})},handleUpdateThumbnail({bid:e,barrelType:t,thumbnail:n,oldThumbnail:i}){v[t].updateThumbnail(e,n).catch(t=>{Object(f.handleError)(t),s.default.updateThumbnail({bid:e,thumbnail:i})})},handleRemoveIntegration({bid:e,barrelType:t,intype:n,inid:i,removedIntegration:o}){v[t].deleteIntegration(e,n,i).catch(t=>{Object(f.handleError)(t),s.default.addIntegration({bid:e,intype:n,integration:o})})},handleToggleScene({bid:e,barrelType:t,accessibility:n,oldAccessibility:i}){v[t].updateAccessibility(e,n).catch(t=>{Object(f.handleError)(t),s.default.toggleScene({bid:e,accessibility:i})})},handleAddMembers({members:e}){},handleJoin({bid:e,barrelType:t,shouldLoadBarrel:n}){v[t].inviteUser(e).then(i=>{s.default.addMembers({bid:e,barrelType:t,shouldLoadBarrel:n,members:[i]})}).catch(e=>{Object(f.handleError)(e)}).finally(()=>{s.default.stopLoadingJoin()})},handleUpdateUserRole({bid:e,barrelType:t,uid:n,role:i,oldRole:o}){v[t].updateUserRole(e,n,i).catch(t=>{Object(f.handleError)(t),s.default.updateUserRole({bid:e,uid:n,role:o})})},handleTransferOwnership({bid:e,barrelType:t,uid:n}){v[t].transferOwnership(e,n).then(()=>{s.default.ownershipTransferred({bid:e,barrelType:t,uid:n})}).catch(f.handleError)},handleRemoveMember({oid:e,bid:t,barrelType:n,mid:i,shouldRemoveBarrel:o,removedBarrel:a,removedMember:r}){v[n].removeUser(t,i).catch(i=>{Object(f.handleError)(i),o?s.default.add({oid:e,barrelType:n,barrel:a}):s.default.addMembers({bid:t,barrelType:n,members:[r]})})},handleAddColor({bid:e,barrelType:t,color:n}){const i=n._id,o=y({},n);delete o._id,delete o.id,v[t].createColor(e,o).then(({_id:t})=>{const n=y(y({},o),{},{_id:t});s.default.updateColor({bid:e,cid:i,colorData:n})}).catch(t=>{Object(f.handleError)(t),s.default.removeColor({bid:e,cid:i})})},handleAddMultipleColors({bid:e,barrelType:t,colors:n}){const i=[],o=n.map(n=>{const o=y({},n);return delete o._id,delete o.id,i.push(o),v[t].createColor(e,o)}).map(e=>e.catch(e=>e));Promise.all(o).then(t=>{t.forEach((t,o)=>{const a=i[o],r=n[o]._id;if(t instanceof g.default||t instanceof m.default)return Object(f.handleError)(t),void s.default.removeColor({bid:e,cid:r});const{_id:l}=t,c=y(y({},a),{},{_id:l});s.default.updateColor({bid:e,cid:r,colorData:c})})})},handleUpdateColor({bid:e,barrelType:t,cid:n,colorData:i,oldColorData:o}){v[t].updateColor(e,n,i).catch(t=>{Object(f.handleError)(t),s.default.updateColor({bid:e,cid:n,colorData:o})})},handleRemoveColor({bid:e,barrelType:t,cid:n,removedColor:i}){v[t].deleteColor(e,n).catch(t=>{Object(f.handleError)(t),s.default.addColor({bid:e,color:i})})},handleRemoveAllColors({bid:e,barrelType:t,colorsToRemove:n}){const i=n.map(({id:e})=>e);v[t].deleteAllColors(e,{colors:i}).catch(t=>{Object(f.handleError)(t),s.default.addMultipleColors({bid:e,colors:n})})},handleAddTextStyle({bid:e,barrelType:t,textStyle:n}){const i=n._id,o=y({},n);delete o._id,delete o.id,delete o.fontFamily,delete o.fontStretch,delete o.fontStyle,delete o.fontWeight,delete o.weightText,v[t].createTextStyle(e,o).then(({_id:t})=>{s.default.removeTextStyle({bid:e,tsid:i});const n=y(y({},o),{},{_id:t});s.default.addTextStyle({bid:e,textStyle:n})}).catch(t=>{Object(f.handleError)(t),s.default.removeTextStyle({bid:e,tsid:i})})},handleAddMultipleTextStyles({bid:e,barrelType:t,textStyles:n}){const i=[],o=n.map(n=>{const o=y({},n);return delete o._id,delete o.id,delete o.fontFamily,delete o.fontStretch,delete o.fontStyle,delete o.fontWeight,delete o.weightText,i.push(o),v[t].createTextStyle(e,o)}).map(e=>e.catch(e=>e));Promise.all(o).then(t=>{t.forEach((t,o)=>{const a=i[o],r=n[o]._id;if(t instanceof g.default||t instanceof m.default)return Object(f.handleError)(t),void s.default.removeTextStyle({bid:e,tsid:r});const{_id:l}=t,c=y(y({},a),{},{_id:l});s.default.updateTextStyle({bid:e,tsid:r,textStyleData:c})})})},handleUpdateTextStyle({bid:e,barrelType:t,tsid:n,textStyleData:i,oldTextStyleData:o}){v[t].updateTextStyle(e,n,i).catch(t=>{Object(f.handleError)(t),s.default.updateTextStyle({bid:e,tsid:n,textStyleData:o})})},handleRemoveTextStyle({bid:e,barrelType:t,tsid:n,removedTextStyle:i}){v[t].deleteTextStyle(e,n).catch(t=>{Object(f.handleError)(t),s.default.addTextStyle({bid:e,textStyle:i})})},handleRemoveAllTextStyles({bid:e,barrelType:t,textStylesToRemove:n}){const i=n.map(({id:e})=>e);v[t].deleteAllTextStyles(e,{textStyles:i}).catch(t=>{Object(f.handleError)(t),s.default.addMultipleTextStyles({bid:e,textStyles:n})})},handleAddSpacingSection({bid:e,barrelType:t,spacingSection:n}){const i=n._id,o=y({},n);delete o._id,v[t].createSpacingSection(e,o).then(({_id:t})=>{s.default.updateSpacingSection({bid:e,ssid:i,updatedSpacingSection:y(y({},o),{},{_id:t})})}).catch(t=>{Object(f.handleError)(t),s.default.removeSpacingSection({bid:e,ssid:i})})},handleUpdateSpacingSection({bid:e,barrelType:t,ssid:n,updatedSpacingSection:i,oldSpacingSection:o}){v[t].updateSpacingSection(e,n,i).catch(t=>{Object(f.handleError)(t),s.default.updateSpacingSection({bid:e,ssid:n,updatedSpacingSection:o})})},handleRemoveSpacingSection({bid:e,barrelType:t,ssid:n,removedSpacingSection:i}){v[t].deleteSpacingSection(e,n).catch(t=>{Object(f.handleError)(t),s.default.addSpacingSection({bid:e,spacingSection:i})})},handleAddSpacingToken({bid:e,barrelType:t,ssid:n,spacingToken:i}){const o=i._id,a=y({},i);delete a._id,v[t].createSpacingToken(e,n,a).then(({_id:t})=>{s.default.updateSpacingToken({bid:e,ssid:n,sptid:o,updatedSpacingToken:y(y({},a),{},{_id:t})})}).catch(t=>{Object(f.handleError)(t),s.default.removeSpacingToken({bid:e,ssid:n,sptid:o})})},handleUpdateSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,updatedSpacingToken:o,oldSpacingToken:a}){v[t].updateSpacingToken(e,n,i,o).catch(t=>{Object(f.handleError)(t),s.default.updateSpacingToken({bid:e,ssid:n,sptid:i,updatedSpacingToken:a})})},handleRemoveSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,isBaseToken:o,removedSpacingToken:a}){v[t].deleteSpacingToken(e,n,i).catch(t=>{Object(f.handleError)(t),s.default.addSpacingToken({bid:e,ssid:n,isBaseToken:o,spacingToken:a})})},handleUpdateRemPreferences({bid:e,barrelType:t,updatedRemPreferences:n,oldRemPreferences:i}){v[t].updateRemPreferences(e,n).catch(t=>{Object(f.handleError)(t),s.default.updateRemPreferences({bid:e,updatedRemPreferences:i})})},handleUpdateComponent({bid:e,barrelType:t,csids:n,coid:i,componentData:o,oldComponentData:a}){v[t].updateComponent(e,n,i,o).catch(t=>{Object(f.handleError)(t),s.default.updateComponent({bid:e,csids:n,coid:i,componentData:a})})},handleRemoveComponent({bid:e,barrelType:t,csids:n,coid:i,oldComponent:o}){v[t].deleteComponent(e,n,i).then(({variantSection:n})=>{if(n){const{_id:i,variant:o}=n;l.default.setComponentVariantData({bid:e,barrelType:t,csid:i,sectionVariant:o})}}).catch(t=>{Object(f.handleError)(t),s.default.addComponent({bid:e,csids:n,component:o})})},handleUpdateComponentSection({bid:e,barrelType:t,csids:n,componentSectionData:i,oldComponentSectionData:o}){v[t].updateComponentSection(e,n,i).catch(t=>{Object(f.handleError)(t),s.default.updateComponentSection({bid:e,csids:n,componentSectionData:o})})},handleMergeComponentSection({bid:e,barrelType:t,csids:n,tcsids:i,index:o,flatten:a,oldComponentSection:r}){v[t].mergeComponentSection(e,n,i,a).catch(t=>{Object(f.handleError)(t),a||r.componentSections.forEach(t=>{s.default.removeComponentSection({bid:e,csids:t.idPath})});(a?Object(c.collectComponents)([r]):r.components).forEach(t=>{s.default.removeComponent({bid:e,csids:i,coid:t._id})}),s.default.addComponentSection({bid:e,csids:n,componentSection:r,index:o})})},handleMoveResourcesRequest(e){const{bid:t,barrelType:n,densityScale:i,resourceType:o,resources:a,targetStyleguideId:r}=e;let l=Promise.resolve();o===h.RESOURCE_TYPE.COMPONENTS&&i&&(l=v[p.a.STYLEGUIDE].updateDensityScale(r,i));const c=O[o],d=a.map(e=>e._id);l.then(()=>v[n][c](t,r,d)).then(()=>{mixpanel.master.track(E[o]),s.default.moveResourcesSuccess({resourceType:o,resources:a,bid:t,barrelType:n,targetStyleguideId:r})}).catch(e=>{Object(f.handleError)(e),s.default.moveResourcesFail()})},updateComponentsOrder({bid:e,barrelType:t,components:n}){const i={components:n.map(e=>({coid:e.coid,csid:e.csid.join("/"),tcsid:e.tcsid.join("/"),to:e.to}))};v[t].updateComponentsOrder(e,i).then(({variantSections:n})=>{n&&n.forEach(n=>{const{_id:i,name:o,variant:a,components:r}=n;l.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:a,components:r})})}).catch(t=>{Object(f.handleError)(t);const i=n.map(e=>({coid:e.coid,csid:e.tcsid,tcsid:e.csid,sourceIndex:e.to,to:e.sourceIndex}));s.default.updateComponentsOrder({bid:e,components:i})})},addComponentSection({bid:e,barrelType:t,csids:n,componentSection:i}){const o={index:i.index,name:i.name,components:i.components.map(e=>({coid:e.coid,csid:e.csid.join("/")}))};v[t].addComponentSection(e,n,o).then(({_id:i,variantSections:o})=>{s.default.updateComponentSection({bid:e,csids:n.concat(d.TEMPORARY_COMPONENT_SECTION_ID),componentSectionData:{_id:i,csids:n.concat(i),newSection:!1}}),o&&o.forEach(n=>{const{_id:i,name:o,variant:a,components:r}=n;l.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:a,components:r})})}).catch(t=>{Object(f.handleError)(t);const o=i.components.map(e=>({coid:e.coid,csid:n.concat(d.TEMPORARY_COMPONENT_SECTION_ID),tcsid:e.csid,to:e.index}));s.default.updateComponentsOrder({bid:e,components:o}),s.default.removeComponentSection({bid:e,csids:n.concat(d.TEMPORARY_COMPONENT_SECTION_ID)})})},handleUpdateComponentSectionsOrder({bid:e,barrelType:t,componentSections:n}){const i={componentSections:n.map(e=>{const t={csid:e.csid.join("/"),to:e.to};return e.tcsid&&(t.tcsid=e.tcsid.join("/")),t})};v[t].updateComponentSectionsOrder(e,i).then(({variantSections:n})=>{n&&n.forEach(n=>{const{_id:i,name:o,variant:a,components:r}=n;l.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:a,components:r})})}).catch(t=>{Object(f.handleError)(t);const i=n.map(e=>({csid:e.csid,to:e.sourceIndex}));s.default.updateComponentSectionsOrder({bid:e,componentSections:i})})},handleUpdateWorkflowStatus({barrelType:e,bid:t,workflowStatus:{_id:n},oldWorkflowStatusData:i}){v[e].updateWorkflowStatus([t],n).catch(e=>{Object(f.handleError)(e),s.default.updateWorkflowStatus({bid:t,workflowStatus:i})})},handleUpdateWorkflowStatuses({statusUpdatedBarrels:e,workflowStatus:{_id:t}}){e.forEach(({barrelType:e,bid:n,oldWorkflowStatusData:i})=>{v[e].updateWorkflowStatus([n],t).catch(e=>{Object(f.handleError)(e),s.default.updateWorkflowStatus({bid:n,workflowStatus:i})})})},handleDeleteWorkflowStatus({barrelType:e,bid:t,oldWorkflowStatusData:n}){v[e].deleteWorkflowStatus([t]).catch(e=>{Object(f.handleError)(e),s.default.updateWorkflowStatus({bid:t,workflowStatus:n})})},handleDeleteWorkflowStatuses(e){e.statusDeletedBarrels.forEach(({barrelType:e,bid:t,oldWorkflowStatusData:n})=>{v[e].deleteWorkflowStatus([t]).catch(e=>{Object(f.handleError)(e),s.default.updateWorkflowStatus({bid:t,workflowStatus:n})})})}};function _(){o.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case r.a.ACTIVATE:T.handleActivate(e);break;case r.a.ARCHIVE:T.handleArchive(e);break;case r.a.REMOVE:T.handleRemove(e);break;case r.a.UPDATE_NAME:T.handleUpdateName(e);break;case r.a.UPDATE_DESCRIPTION:T.handleUpdateDescription(e);break;case r.a.UPDATE_DENSITY_SCALE:T.handleUpdateDensityScale(e);break;case r.a.UPDATE_THUMBNAIL:T.handleUpdateThumbnail(e);break;case r.a.REMOVE_INTEGRATION:T.handleRemoveIntegration(e);break;case r.a.TOGGLE_SCENE:T.handleToggleScene(e);break;case r.a.ADD_MEMBERS:T.handleAddMembers(e);break;case r.a.UPDATE_USER_ROLE:T.handleUpdateUserRole(e);break;case r.a.TRANSFER_OWNERSHIP:T.handleTransferOwnership(e);break;case r.a.REMOVE_MEMBER:T.handleRemoveMember(e);break;case r.a.ADD_COLOR:T.handleAddColor(e);break;case r.a.ADD_MULTIPLE_COLORS:T.handleAddMultipleColors(e);break;case r.a.UPDATE_COLOR:T.handleUpdateColor(e);break;case r.a.REMOVE_COLOR:T.handleRemoveColor(e);break;case r.a.REMOVE_ALL_COLORS:T.handleRemoveAllColors(e);break;case r.a.ADD_TEXT_STYLE:T.handleAddTextStyle(e);break;case r.a.ADD_MULTIPLE_TEXT_STYLES:T.handleAddMultipleTextStyles(e);break;case r.a.UPDATE_TEXT_STYLE:T.handleUpdateTextStyle(e);break;case r.a.REMOVE_TEXT_STYLE:T.handleRemoveTextStyle(e);break;case r.a.REMOVE_ALL_TEXT_STYLES:T.handleRemoveAllTextStyles(e);break;case r.a.ADD_SPACING_SECTION:T.handleAddSpacingSection(e);break;case r.a.UPDATE_SPACING_SECTION:T.handleUpdateSpacingSection(e);break;case r.a.REMOVE_SPACING_SECTION:T.handleRemoveSpacingSection(e);break;case r.a.ADD_SPACING_TOKEN:T.handleAddSpacingToken(e);break;case r.a.UPDATE_SPACING_TOKEN:T.handleUpdateSpacingToken(e);break;case r.a.REMOVE_SPACING_TOKEN:T.handleRemoveSpacingToken(e);break;case r.a.UPDATE_REM_PREFERENCES:T.handleUpdateRemPreferences(e);break;case r.a.UPDATE_COMPONENT_SECTION:T.handleUpdateComponentSection(e);break;case r.a.MERGE_COMPONENT_SECTION:T.handleMergeComponentSection(e);break;case r.a.UPDATE_COMPONENT:T.handleUpdateComponent(e);break;case r.a.REMOVE_COMPONENT:T.handleRemoveComponent(e);break;case r.a.JOIN:T.handleJoin(e);break;case r.a.MOVE_RESOURCES_REQUEST:T.handleMoveResourcesRequest(e);break;case r.a.UPDATE_COMPONENTS_ORDER:T.updateComponentsOrder(e);break;case r.a.ADD_COMPONENT_SECTION:T.addComponentSection(e);break;case r.a.UPDATE_COMPONENT_SECTIONS_ORDER:T.handleUpdateComponentSectionsOrder(e);break;case r.a.UPDATE_WORKFLOW_STATUS:T.handleUpdateWorkflowStatus(e);break;case r.a.UPDATE_WORKFLOW_STATUSES:T.handleUpdateWorkflowStatuses(e);break;case r.a.DELETE_WORKFLOW_STATUS:T.handleDeleteWorkflowStatus(e);break;case r.a.DELETE_WORKFLOW_STATUSES:T.handleDeleteWorkflowStatuses(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(276),o=n.n(i),a=n(376),r=n(269),s=n.n(r),l=n(229),c=n(228);function d(e){const t=e+"-workspace-path";l.default.ipcRenderer.removeAllListeners(t),l.default.ipcRenderer.once(t,(e,t)=>{a.default.setConnectedComponentsWorkspacePath(t)})}const u={addToSlack({bid:e,barrelType:t,name:n}){l.default.ipcRenderer.send("add-to-slack",{id:e,barrelType:t,name:n})},getConnectedComponentsEditorInfo({bid:e}){l.default.ipcRenderer.removeAllListeners("editor-info"),l.default.ipcRenderer.once("editor-info",(e,t)=>{a.default.setConnectedComponentsEditorInfo(t)}),l.default.ipcRenderer.send("query-editor-info",{bid:e})},setConnectedComponentsEditorPreference({extension:e,editor:t}){l.default.ipcRenderer.send("set-default-editor",{extension:e,editor:t})},selectConnectedComponentsWorkspaceFolder({bid:e}){d(e),l.default.ipcRenderer.send("select-connected-components-workspace-folder",{bid:e})},openComponentFileInEditor({bid:e,filePath:t,editor:n}){d(e),l.default.ipcRenderer.send("open-file-in-editor",{bid:e,filePath:t,editor:n})}};function p(){c.isWindowsApp&&s.a.dispatcher.register(e=>{switch(e.type){case o.a.ADD_TO_SLACK:u.addToSlack(e);break;case o.a.GET_CONNECTED_COMPONENTS_EDITOR_INFO:u.getConnectedComponentsEditorInfo(e);break;case o.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:u.setConnectedComponentsEditorPreference(e);break;case o.a.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER:u.selectConnectedComponentsWorkspaceFolder(e);break;case o.a.OPEN_COMPONENT_FILE_IN_EDITOR:u.openComponentFileInEditor(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var i=n(276),o=n.n(i),a=n(376),r=n(361),s=n(269),l=n.n(s),c=n(245),d=n(242),u=n(246),p=n(1516),h=n(244),f=n(1961),g=n(241),m=n(1517),b=n(261),S=n.n(b),y=n(228),C=n(250),v=n(364),O=n(231),E=n(258),T=n(960);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D={handleGoToDashboard({bid:e,tagFilter:t}){const n=Object(d.getTagQueryParams)(t),i=Object(d.urlResolve)("project-dashboard",{url:{pid:e},query:n});v.default.history.push(i)},handleGoToStyleguide({bid:e}){const t=Object(d.urlResolve)("project-styleguide",{url:{bid:e}});v.default.history.push(t)},handleAdd({barrel:e,barrelType:t}){Object(f.subscribeToBarrelChannel)(t,e._id)},handleArchive({barrelType:e,bid:t,currentBid:n,affectedIds:i,name:o,uid:a,currentUserId:s,user:l,syncWithApi:c}){if(c&&mixpanel.master.track("Archived "+e,{[e+"_id"]:t}),i.includes(n)){if(!c&&a!==s){const e=l&&l.user.username,t=l?`${e} archived “${o}”.`:`“${o}” is archived.`,n="You won’t be able to access its resources from now on."+(l?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:t,message:n})}r.default.navigateToWorkspace()}},handleRemove({bid:e,currentBid:t,barrelType:n,oldBarrel:i,uid:o,currentUserId:a,user:s,syncWithApi:l}){if(Object(f.unsubscribeFromBarrelChannel)(n,e),l&&mixpanel.master.track("Deleted "+n,{[n+"_id"]:e}),e===t){if(!l&&o!==a){const e=s&&s.user.username,{name:t}=i,n=s?`${e} deleted “${t}”.`:`“${t}” is deleted.`,o="You won’t be able to access its resources from now on."+(s?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:n,message:o})}r.default.navigateToWorkspace()}},handleAddMembers({bid:e,barrelType:t,shouldLoadBarrel:n}){if(n){const n=t===S.a.PROJECT?Object(d.urlResolve)("project-dashboard",{url:{pid:e}}):Object(d.urlResolve)("styleguide",{url:{bid:e}});setTimeout(()=>{v.default.history.push(n)},4)}},handleRemoveMember({bid:e,uid:t,barrelType:n,currentBid:i,currentUserId:o,removingUser:a,shouldRemoveBarrel:s,removedBarrel:l,syncWithApi:c}){if(s){if(Object(f.unsubscribeFromBarrelChannel)(n,e),!c&&t!==o&&e===i){const e=a&&a.user.username,{name:t}=l,n=a?`${e} removed you from “${t}”.`:`You’re removed from “${t}”.`,i="You won’t be able to access its resources from now on."+(a?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:n,message:i})}e===i&&r.default.navigateToWorkspace()}},handleDownloadAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,platform:o,containerName:a,version:r,assetId:s,format:l,toastContainer:d,source:u}){Object(p.downloadAsset)({barrelId:e,platform:o,containerName:a,version:r,assetId:s,format:l,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,toastContainer:d}),Object(E.createIntercomUserTag)(Object(c.getDeveloperString)(o)),mixpanel.master.track("Downloaded asset",{Format:l,Source:u})},handleDownloadMultipleAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,platform:o,containerName:a,version:r,assetList:s,toastContainer:l,source:d}){Object(p.downloadMultipleAsset)({barrelId:e,platform:o,containerName:a,version:r,assetList:s,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,toastContainer:l}),Object(E.createIntercomUserTag)(Object(c.getDeveloperString)(o)),mixpanel.master.track("Downloaded asset",{Source:d,Count:s.length})},handleExportCode({barrelName:e,platform:t,resourceType:n,source:i,exportObjects:o,extensionId:a}){Object(p.exportCode)({resourceType:n,barrelName:e,exportObjects:o});const{extensions:r}=l.a.ExtensionsStore.getState(),s=r.find(({_id:e})=>e===a);Object(E.createIntercomUserTag)(Object(c.getDeveloperString)(t)),mixpanel.master.track("Downloaded code snippet",{Source:i,"Extension ID":s._id,"Extension Name":s.name})},handleCopyCode({code:e,toastContainer:t,platform:n,extensionId:i,source:o}){Object(h.copyContent)({content:e,toastContainer:t});const{extensions:a}=l.a.ExtensionsStore.getState(),r=a.find(({_id:e})=>e===i);mixpanel.master.track("Copied code snippet",{Source:o,"Extension ID":r._id,"Extension Name":r.name}),Object(E.createIntercomUserTag)(Object(c.getDeveloperString)(n))},handleOpenExportTarget(){m.openExportTarget()},handleChangeExportTarget(){m.changeExportTarget()},handleCopyComponentSectionWebLink({bid:e,barrelType:t,seid:n}){const i=t===S.a.PROJECT?"project-styleguide-components":"styleguide-components",o=document.querySelector("."+t),a=Object(d.urlResolve)(i,{url:{bid:e},query:{seid:n}});Object(h.copyContent)({content:Object(T.getShortlink)(a),toastContainer:o})},handleCopyComponentSectionAppURI({bid:e,barrelType:t,cseid:n}){const i=t===S.a.PROJECT?"pid":"stid",o=document.querySelector("."+t),a=`${O.ZPL_PROTOCOL}//components?${i}=${e}&cseid=${n}`;Object(h.copyContent)({content:a,toastContainer:o})},fetchComponentSectionShortLink({bid:e,barrelType:t,seid:n}){const i=t===S.a.PROJECT?"project-styleguide-components":"styleguide-components",o=Object(d.urlResolve)(i,{url:{bid:e},query:{seid:n}});Object(T.fetchShortlink)(o)},addToSlack({bid:e,barrelType:t}){if(y.isWindowsApp)return;const n=Object(u.getRandomString)();localStorage.setItem("slackState",n);const i=t===S.a.PROJECT?{pid:e}:{stid:e},o={scope:O.SLACK_SCOPE,client_id:O.SLACK_CLIENT_ID,redirect_uri:Object(d.urlResolve)("huggingSlack",{query:i}),state:n},a=new URL(O.SLACK_AUTH_URL);a.search=new URLSearchParams(o),Object(h.openLink)(a.toString(),{inNewTab:!1})},trackEnableLocalConfiguration(){mixpanel.master.track("Enabled local configuration for connected components")},fetchLocalConnectedComponents({bid:e,barrelType:t,styleguideLink:n,ancestors:i}){if(t===S.a.PROJECT){if(Object(E.getProjectLocalConnectedComponents)(e).then(t=>{a.default.setLocalConnectedComponents(P({bid:e},t))}),!n)return;const{status:t,styleguide:i}=n;if("active"===!t)return;const o=[i._id,...i.ancestors];return void Promise.all(o.map(e=>Object(E.getStyleguideLocalConnectedComponents)(e))).then(e=>{e.forEach((e,t)=>{a.default.setLocalConnectedComponents(P({bid:o[t]},e))})})}const o=[e,...i];Promise.all(o.map(e=>Object(E.getStyleguideLocalConnectedComponents)(e))).then(e=>{e.forEach((e,t)=>{a.default.setLocalConnectedComponents(P({bid:o[t]},e))})})},handleAddSpacingSection(){mixpanel.master.track("Created spacing section")},handleUpdateSpacingSection({updatedSpacingSection:e}){e.name&&mixpanel.master.track("Changed spacing section name",{Name:e.name}),e.hasOwnProperty("description")&&mixpanel.master.track("Changed spacing section description")},handleAddSpacingToken(){mixpanel.master.track("Created spacing token")},handleUpdateSpacingToken({isBaseToken:e,updatedSpacingToken:t}){const{token:n,value:i,color:o}=t;e&&mixpanel.master.track("Changed base token"),n&&mixpanel.master.track("Changed spacing token name"),t.hasOwnProperty("value")&&mixpanel.master.track("Changed spacing token value",{Value:i}),o&&mixpanel.master.track("Changed spacing token color",{Color:new C.default(o).toHexString()})},handleUpdateRemPreferences({updatedRemPreferences:e,isRevert:t}){const{status:n,useForFontSizes:i,useForMeasurements:o,remRootFontSize:a}=e,r={};t&&mixpanel.master.track("Reverted rem settings"),n&&(r["Is Enabled"]="enabled"===n),e.hasOwnProperty("useForFontSizes")&&(r["Use for Font Size"]=i),e.hasOwnProperty("useForMeasurements")&&(r["Use for Measurements"]=o),a&&(r["Root Font Size"]=a),mixpanel.master.track("Changed rem settings",r)},handleUpdateWorkflowStatus({bid:e,workflowStatus:t}){mixpanel.master.track("Set project status",{Name:t.name,Color:t.color.toHexString(),project_id:e})},handleUpdateWorkflowStatuses(e){const{workflowStatus:t,statusUpdatedBarrels:n}=e;n.forEach(({bid:e})=>{mixpanel.master.track("Set project status",{Name:t.name,Color:t.color.toHexString(),"Project Count":n.length,project_id:e})})},handleDeleteWorkflowStatus({bid:e}){mixpanel.master.track("Remove project status",{project_id:e})},handleDeleteWorkflowStatuses(e){const{statusDeletedBarrels:t}=e;t.forEach(({bid:e})=>{mixpanel.master.track("Remove project status",{"Project Count":t.length,project_id:e})})},handleUpdateDescription({barrelType:e}){mixpanel.master.track("Changed description",{Target:Object(u.uppercaseFirst)(e)})},handleUpdateComponent({componentData:{description:e}}){e&&mixpanel.master.track("Changed description",{Target:"Component"})},handleActivate({barrelType:e,bid:t}){mixpanel.master.track("Activated "+e,{[e+"_id"]:t})},handleChangeAssetName({source:e}){mixpanel.master.track("Changed asset name",{Source:e})},handleAddColor(){mixpanel.master.track("Created color")},handleAddComponentSection({isCreateGroup:e}){e?mixpanel.master.track("Created component group"):mixpanel.master.track("Created component section")},handleAddTextStyle(){mixpanel.master.track("Created text style")},handleRemoveColor(){mixpanel.master.track("Deleted color")},handleMergeComponentSection(){mixpanel.master.track("Deleted component section")},handleRemoveSpacingSection(){mixpanel.master.track("Deleted spacing section")},handleRemoveSpacingToken(){mixpanel.master.track("Deleted spacing token")},handleRemoveTextStyle(){mixpanel.master.track("Deleted text style")},handleToggleSVGOptimization({showOptimizedSVG:e}){mixpanel.master.track((e?"Enabled":"Disabled")+" display optimized SVGs")},handleJoin({barrelType:e,source:t}){mixpanel.master.track("Joined "+e,{Source:t})},handleUpdateComponentsOrder(){mixpanel.master.track("Reordered component")},handleUpdateComponentSection({componentSectionData:{name:e,description:t},isComponentGroup:n}){e&&(n?mixpanel.master.track("Renamed component group"):mixpanel.master.track("Renamed component section")),t&&mixpanel.master.track("Changed description",{Target:"Component section"})},handleChangeAssetNamingConvention({assetNamingConvention:e}){mixpanel.master.track("Selected asset naming convention",{Convention:e})},handleToggleScene({accessibility:e}){e?mixpanel.master.track("Shared project"):mixpanel.master.track("Unshared project")}};function k(){l.a.dispatcher.register(e=>{switch(e.type){case o.a.GO_TO_DASHBOARD:D.handleGoToDashboard(e);break;case o.a.GO_TO_STYLEGUIDE:D.handleGoToStyleguide(e);break;case o.a.ADD:D.handleAdd(e);break;case o.a.ARCHIVE:D.handleArchive(e);break;case o.a.REMOVE:D.handleRemove(e);break;case o.a.ADD_MEMBERS:D.handleAddMembers(e);break;case o.a.REMOVE_MEMBER:D.handleRemoveMember(e);break;case o.a.DOWNLOAD_ASSET:D.handleDownloadAsset(e);break;case o.a.DOWNLOAD_MULTIPLE_ASSET:D.handleDownloadMultipleAsset(e);break;case o.a.EXPORT_CODE:D.handleExportCode(e);break;case o.a.COPY_CODE:D.handleCopyCode(e);break;case o.a.OPEN_EXPORT_TARGET:D.handleOpenExportTarget();break;case o.a.CHANGE_EXPORT_TARGET:D.handleChangeExportTarget();break;case o.a.COPY_COMPONENT_SECTION_WEB_LINK:D.handleCopyComponentSectionWebLink(e);break;case o.a.COPY_COMPONENT_SECTION_APP_URI:D.handleCopyComponentSectionAppURI(e);break;case o.a.FETCH_COMPONENT_SECTION_SHORT_LINK:D.fetchComponentSectionShortLink(e);break;case o.a.ADD_TO_SLACK:D.addToSlack(e);break;case o.a.ENABLE_DEV_MODE:D.trackEnableLocalConfiguration();case o.a.RELOAD_LOCAL_CONNECTED_COMPONENTS:D.fetchLocalConnectedComponents(e);break;case o.a.ADD_SPACING_SECTION:e.syncWithApi&&D.handleAddSpacingSection();break;case o.a.UPDATE_SPACING_SECTION:e.syncWithApi&&D.handleUpdateSpacingSection(e);break;case o.a.ADD_SPACING_TOKEN:e.syncWithApi&&D.handleAddSpacingToken();break;case o.a.UPDATE_SPACING_TOKEN:e.syncWithApi&&D.handleUpdateSpacingToken(e);break;case o.a.UPDATE_REM_PREFERENCES:e.syncWithApi&&D.handleUpdateRemPreferences(e);break;case o.a.UPDATE_WORKFLOW_STATUS:e.syncWithApi&&D.handleUpdateWorkflowStatus(e);break;case o.a.UPDATE_WORKFLOW_STATUSES:e.syncWithApi&&D.handleUpdateWorkflowStatuses(e);break;case o.a.DELETE_WORKFLOW_STATUS:e.syncWithApi&&D.handleDeleteWorkflowStatus(e);break;case o.a.DELETE_WORKFLOW_STATUSES:e.syncWithApi&&D.handleDeleteWorkflowStatuses(e);break;case o.a.UPDATE_DESCRIPTION:e.syncWithApi&&D.handleUpdateDescription(e);break;case o.a.UPDATE_COMPONENT:e.syncWithApi&&D.handleUpdateComponent(e);break;case o.a.ACTIVATE:e.syncWithApi&&D.handleActivate(e);break;case o.a.CHANGE_ASSET_NAME:D.handleChangeAssetName(e);break;case o.a.ADD_COLOR:e.syncWithApi&&D.handleAddColor();break;case o.a.ADD_COMPONENT_SECTION:e.syncWithApi&&D.handleAddComponentSection(e);break;case o.a.ADD_TEXT_STYLE:e.syncWithApi&&D.handleAddTextStyle();break;case o.a.REMOVE_COLOR:e.syncWithApi&&D.handleRemoveColor();break;case o.a.MERGE_COMPONENT_SECTION:e.syncWithApi&&D.handleMergeComponentSection();break;case o.a.REMOVE_SPACING_SECTION:e.syncWithApi&&D.handleRemoveSpacingSection();break;case o.a.REMOVE_SPACING_TOKEN:e.syncWithApi&&D.handleRemoveSpacingToken();break;case o.a.REMOVE_TEXT_STYLE:e.syncWithApi&&D.handleRemoveTextStyle();break;case o.a.TOGGLE_SVG_OPTIMIZATION:D.handleToggleSVGOptimization(e);break;case o.a.JOIN:D.handleJoin(e);break;case o.a.UPDATE_COMPONENTS_ORDER:e.syncWithApi&&D.handleUpdateComponentsOrder();break;case o.a.UPDATE_COMPONENT_SECTION:e.syncWithApi&&D.handleUpdateComponentSection(e);break;case o.a.CHANGE_ASSET_NAMING_CONVENTION:D.handleChangeAssetNamingConvention(e);break;case o.a.TOGGLE_SCENE:e.syncWithApi&&D.handleToggleScene(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(269),o=n.n(i),a=n(276),r=n.n(a),s=n(234);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={changeAssetName({bid:e,containerId:t,snapshot:n,assetId:i,name:o}){const a=n.assets.find(e=>e._id===i);return a?(a.localName=o,s.barrelPrefs.get(e,t,"assetNames").then((n={})=>(null===o?delete n[i]:n[i]=o,s.barrelPrefs.set(e,t,"assetNames",n)))):Promise.resolve()},setAssetDensityScalePrefs:({bid:e,format:t,assetDensityScalePrefsOfFormat:n})=>s.barrelPrefs.get(e,"assetDensityScalePrefs").then(i=>s.barrelPrefs.set(e,"assetDensityScalePrefs",c(c({},i),{},{[t]:n}))),changeAssetNamingConvention:({bid:e,assetNamingConvention:t})=>s.barrelPrefs.set(e,"assetNamingConvention",t),toggleSVGOptimization:({bid:e,showOptimizedSVG:t})=>s.barrelPrefs.set(e,"showOptimizedSVG",t),dismissNoResourceInfo:({bid:e})=>s.barrelPrefs.set(e,"noResourceInfoDismissed",!0),markSlackReconnectionAuntieAsSeen:({bid:e})=>s.barrelPrefs.set(e,"slackReconnectionAuntieSeen",!0),hideNoVectorAssetInfo:()=>s.userPrefs.set("noVectorAssetInfoHidden",!0),hideDensityMismatchWarning:()=>s.userPrefs.set("densityMismatchWarningHidden",!0),hideSourceFileInfo:()=>s.userPrefs.set("sourceFileInfoHidden",!0),dismissFlowLinkInfo:()=>s.userPrefs.set("flowLinkInfoDismissed",!0),enableDevMove:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","true"),disableDevMode:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","false"),setConnectedComponentsLocalWorkspace:({bid:e,workspace:t})=>s.barrelPrefs.set(e,"connectedComponentsLocalWorkspace",t),highlightedConnectToCodeButtonViewed:()=>s.userPrefs.get("numberOfHighlightedConnectToCodeButtonViews").then(e=>{s.userPrefs.set("numberOfHighlightedConnectToCodeButtonViews",e+1)}),markConnectedComponentsOnboardingDialogAsSeen:()=>s.userPrefs.set("connectedComponentsOnboardingDialogSeen",!0)};function p(){o.a.dispatcher.register(e=>{switch(e.type){case r.a.CHANGE_ASSET_NAME:u.changeAssetName(e);break;case r.a.CHANGE_ASSET_DENSITY_SCALE_PREF:u.setAssetDensityScalePrefs(e);break;case r.a.CHANGE_ASSET_NAMING_CONVENTION:u.changeAssetNamingConvention(e);break;case r.a.TOGGLE_SVG_OPTIMIZATION:u.toggleSVGOptimization(e);break;case r.a.DISMISS_NO_RESOURCE_INFO:u.dismissNoResourceInfo(e);break;case r.a.HIDE_SLACK_RECONNECTION_AUNTIE:u.markSlackReconnectionAuntieAsSeen(e);break;case r.a.HIDE_NO_VECTOR_ASSET_INFO:u.hideNoVectorAssetInfo();break;case r.a.HIDE_DENSITY_MISMATCH_WARNING:u.hideDensityMismatchWarning();break;case r.a.HIDE_SOURCE_FILE_INFO:u.hideSourceFileInfo();break;case r.a.DISMISS_FLOW_LINK_INFO:u.dismissFlowLinkInfo();break;case r.a.ENABLE_DEV_MODE:u.enableDevMove();break;case r.a.DISABLE_DEV_MODE:u.disableDevMode();break;case r.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:u.setConnectedComponentsLocalWorkspace(e);break;case r.a.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED:u.highlightedConnectToCodeButtonViewed();break;case r.a.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN:u.markConnectedComponentsOnboardingDialogAsSeen()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1979),o=n(1980),a=n(1981);function r(){Object(o.default)(),Object(a.default)(),Object(i.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(286),o=n(386),a=n(269),r=n.n(a),s=n(382),l=n(258),c=n(262),d=n(1107);const u={handleCreateSection({pid:e,section:t,index:n}){const{_id:i,name:a,screens:r}=t;l.createSection(e,{name:a,screens:r,index:n}).then(t=>{o.default.updateSection({pid:e,seid:i,sectionData:t})}).catch(t=>{Object(c.handleError)(t),o.default.removeSection({pid:e,seid:i})})},handleConvertTagToSection({pid:e,section:t,index:n,defaultSectionId:i,oldDefaultSectionScreens:a}){const{_id:r,name:d,screens:u}=t;l.createSection(e,{name:d,screens:u,index:n}).then(t=>{o.default.updateSection({pid:e,seid:r,sectionData:t,highlight:!0}),s.default.removeTag({pid:e,tag:d,syncWithApi:!0})}).catch(t=>{Object(c.handleError)(t),o.default.updateSection({pid:e,seid:i,sectionData:{screens:a}})})},handleRenameSection({pid:e,seid:t,name:n,oldName:i,onError:a}){l.updateSection(e,t,{name:n}).catch(n=>{o.default.renameSection({pid:e,seid:t,name:i}),Object(c.handleError)(n,{dialogCallback:a})})},handleUpdateSectionDescription({pid:e,seid:t,description:n,oldDescription:i,onError:a}){l.updateSection(e,t,{description:n}).catch(n=>{o.default.updateSectionDescription({pid:e,seid:t,description:i}),Object(c.handleError)(n,{dialogCallback:a})})},handleUpdateSectionOrder({pid:e,seid:t,index:n,oldIndex:i}){const a=[{_id:t,to:n}];l.updateSectionOrder(e,a).catch(n=>{Object(c.handleError)(n),o.default.updateSectionOrder({pid:e,seid:t,index:i})})},handleRemoveSection({pid:e,seid:t,index:n,removedSection:i}){l.deleteSection(e,t).catch(t=>{Object(c.handleError)(t),o.default.addSection({pid:e,section:i,index:n})})},handleUpdateScreenOrder({pid:e,screens:t,targetIndex:n,targetSectionId:i,oldIndices:a}){l.updateSectionScreens(e,i,n,t).catch(n=>{Object(c.handleError)(n);for(const[i,{sourceSectionId:r,sourceIndex:s}]of Object(d.default)(t,a))o.default.updateScreenOrder({pid:e,screens:[i],targetSectionId:r,targetIndex:s})})}};function p(){r.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.CREATE_SECTION:u.handleCreateSection(e);break;case i.default.CONVERT_TAG_TO_SECTION:u.handleConvertTagToSection(e);break;case i.default.RENAME_SECTION:u.handleRenameSection(e);break;case i.default.UPDATE_SECTION_DESCRIPTION:u.handleUpdateSectionDescription(e);break;case i.default.UPDATE_SECTION_ORDER:u.handleUpdateSectionOrder(e);break;case i.default.REMOVE_SECTION:u.handleRemoveSection(e);break;case i.default.UPDATE_SCREEN_ORDER:u.handleUpdateScreenOrder(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(269),o=n.n(i),a=n(286),r=n(242),s=n(1516),l=n(230);const c={changeURL(e){const{barrelId:t,selectedView:n}=o.a.BarrelStore.getState();if(n!==l.ProjectViewTypes.DASHBOARD)return;const{tags:i,untagged:a}=e,s=a?{untagged:"true"}:{tag:i};history.replaceState({},"",Object(r.urlResolve)("project-dashboard",{url:{pid:t},query:s}))},downloadScreens(e,t){Object(s.downloadScreens)(e,t)},createSection(){mixpanel.master.track("Created screen section")},convertTagToSection(){mixpanel.master.track("Converted tag to section")},removeSection(){mixpanel.master.track("Deleted screen section")},updateScreenOrder(){mixpanel.master.track("Reordered screen")},renameSection(){mixpanel.master.track("Renamed screen section")},changeSortType({sortType:e}){mixpanel.master.track("Sorted screens",{Type:e})}};function d(){o.a.dispatcher.register(e=>{switch(e.type){case a.default.CHANGE_TAG_FILTER:c.changeURL(e.tagFilter);break;case a.default.DOWNLOAD_SCREENS:c.downloadScreens(e.screens,e.fileName);break;case a.default.CREATE_SECTION:c.createSection();break;case a.default.CONVERT_TAG_TO_SECTION:c.convertTagToSection();break;case a.default.REMOVE_SECTION:e.syncWithApi&&c.removeSection();break;case a.default.UPDATE_SCREEN_ORDER:e.syncWithApi&&c.updateScreenOrder();break;case a.default.RENAME_SECTION:c.renameSection();break;case a.default.CHANGE_SORT_TYPE:c.changeSortType(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(234),o=n(276),a=n.n(o),r=n(286),s=n(269),l=n.n(s);const c={saveFixedThumbnailSize(){const{barrelId:e}=l.a.BarrelStore.getState(),{fixedThumbnailSize:t}=l.a.DashboardStore.getState();i.barrelPrefs.set(e,"fixedThumbnailSize",t)},saveSidebarWidth(e){const{barrelId:t}=l.a.BarrelStore.getState();i.barrelPrefs.set(t,"dashboardSidebarWidth",e)},toggleSectionState(e,{shouldCollapse:t}){if(!e)return;const{barrelId:n}=l.a.BarrelStore.getState();i.barrelPrefs.get(n,"collapsedSections").then(o=>{e.forEach(e=>{o[e]=t}),i.barrelPrefs.set(n,"collapsedSections",o)})}};function d(){l.a.dispatcher.register(e=>{switch(e.type){case r.default.TOGGLE_FIXED_THUMBNAIL_SIZE:c.saveFixedThumbnailSize();break;case r.default.CHANGE_SIDEBAR_WIDTH:c.saveSidebarWidth(e.sidebarWidth);break;case r.default.EXPAND_SECTIONS:c.toggleSectionState(e.seids,{shouldCollapse:!1});break;case r.default.COLLAPSE_SECTIONS:c.toggleSectionState(e.seids,{shouldCollapse:!0});break;case a.a.CHANGE_SELECTED_VIEW:c.toggleSectionState(e.viewUpdate.sectionsToExpand,{shouldCollapse:!1})}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(1983),o=n(1984),a=n(1985),r=n(1986);function s(){Object(i.default)(),Object(o.default)(),Object(a.default)(),Object(r.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(288),o=n(1274),a=n(269),r=n.n(a),s=n(262),l=n(258);const c={project:l.project,styleguide:l.styleguide},d={async handleRemove({bid:e,barrelType:t,eid:n,removedExtension:i,local:a}){if(!a)try{await c[t].removeExtension(e,n),mixpanel.master.track("Removed extension",{"Extension ID":n,"Extension Name":i.name})}catch(r){Object(s.handleError)(r),o.default.add({bid:e,extension:i})}}};function u(){r.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.REMOVE:d.handleRemove(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(288),o=n(1274),a=n(269),r=n.n(a),s=n(289),l=n(262),c=n(258);const d={project:c.project,styleguide:c.styleguide},u={async handleInit({bid:e,barrelType:t,enabledExtensions:n}){try{const i=await d[t].getExtensions(e),a=await Promise.all(i.map(n=>new s.WebappExtension(n).load(e,t)));let r=n;null===r&&(r=i.filter(e=>e.default).map(e=>e._id)||[]),o.default.loadExtensions({bid:e,extensions:a,enabledExtensions:r})}catch(i){Object(l.handleError)(i)}},async handleLoad({bid:e,barrelType:t,uid:n,eid:i}){try{const a=await d[t].addExtension(e,i),r=new s.WebappExtension(a);await r.load(e,t),o.default.add({bid:e,uid:n,extension:r})}catch(a){Object(l.handleError)(a),o.default.remove({bid:e,eid:i})}}};function p(){r.a.dispatcher.register(e=>{switch(e.type){case i.default.INIT:u.handleInit(e);break;case i.default.LOAD:u.handleLoad(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(288),o=n(269),a=n.n(o);const r={handleRemove({removedExtension:e}){e.terminate()},handleAdd({local:e}){e&&mixpanel.master.track("Added local extension")}};function s(){a.a.dispatcher.register(e=>{switch(e.type){case i.default.REMOVE:r.handleRemove(e);break;case i.default.ADD:r.handleAdd(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(288),o=n(269),a=n.n(o),r=n(234);const s={async handleEnable({bid:e,eid:t}){const n=await r.barrelPrefs.get(e,"extensions")||[];r.barrelPrefs.set(e,"extensions",n.concat(t))},async handleDisable({bid:e,eid:t}){const n=(await r.barrelPrefs.get(e,"extensions")||[]).filter(e=>e!==t);return r.barrelPrefs.set(e,"extensions",n)},handleLoadExtensions({bid:e,enabledExtensions:t}){r.barrelPrefs.set(e,"extensions",t)}};function l(){a.a.dispatcher.register(e=>{switch(e.type){case i.default.ADD:case i.default.ENABLE:s.handleEnable(e);break;case i.default.DISABLE:case i.default.REMOVE:s.handleDisable(e);break;case i.default.LOAD_EXTENSIONS:s.handleLoadExtensions(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1988),o=n(1989),a=n(1990);function r(){Object(i.default)(),Object(o.default)(),Object(a.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var i=n(305),o=n(1196),a=n(269),r=n.n(a),s=n(241),l=n(242),c=n(766),d=n(262),u=n(258);function p(e,t,n){Object(d.handleError)(e,{clientErrorHandler:{402(){s.create({title:`Can’t move ${t} to “${n}”`,message:e.message})},default:d.handleError}})}function h(e,t){Object(d.handleError)(e,{clientErrorHandler:{402(){s.create({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:()=>Object(c.showPlanChooserOverlay)(t)}})},default:d.handleError}})}function f({tpid:e,sourceDensityScale:t,targetDensityScale:n}){return n?Promise.resolve():u.updateProjectDensityScale(e,t)}function g(e){const{barrelId:t,resource:n,target:i,densityScale:o,platform:a}=e;switch(i.type){case"create":!async function({barrelId:e,oid:t,platform:n,densityScale:i,section:o}){const{_id:a,name:r,screens:s}=o;let c,d;try{({_id:c,densityScale:d}=await u.createProject({oid:t,platform:n,densityScale:i,name:r}))}catch(g){return void h(g,"Move section to a new project, Reached project limit")}try{await f({tpid:c,sourceDensityScale:i,targetDensityScale:d}),await u.moveScreen(e,c,s),await u.deleteSection(e,a),window.location.assign(Object(l.urlResolve)("project",{url:{bid:c}}))}catch(g){p(g,"section","a new project")}}({barrelId:t,oid:i.oid,platform:a,densityScale:o,section:n});break;case"project":!async function({barrelId:e,target:t,densityScale:n,section:i}){const o=t.pid,a=n,r=t.densityScale;try{await f({tpid:o,sourceDensityScale:a,targetDensityScale:r});const{_id:t}=await u.createSection(o,i);await u.moveScreen(e,o,i.screens),await u.updateSectionScreens(o,t,0,i.screens),await u.deleteSection(e,i._id);const n=Object(l.urlResolve)("project",{url:{bid:o},query:{seid:t}});window.location.assign(n)}catch(s){p(s,"section",t.name)}}({barrelId:t,target:i,densityScale:o,section:n})}}const m={move(e){const{resourceType:t}=e;switch(t){case"screen":!async function(e){const{barrelId:t,resource:n,target:i,target:{type:a,oid:r},densityScale:s,platform:l}=e;let c,d;const g="create"===a?"a new project":`"${i.name}"`;switch(a){case"create":try{({_id:c,densityScale:d}=await u.createProject({oid:r,platform:l,densityScale:s}))}catch(m){return h(m,"Move screen to a new project, Reached project limit"),void o.default.close()}break;case"project":({pid:c,densityScale:d}=i)}try{await f({tpid:c,sourceDensityScale:s,targetDensityScale:d}),await u.moveScreen(t,c,[n._id]),o.default.moveScreen({spid:t,tpid:c,screen:n})}catch(m){p(m,"screen",g)}finally{o.default.close()}}(e);break;case"section":g(e)}}};function b(){r.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.MOVE:m.move(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(305),o=n(269),a=n.n(o),r=n(362),s=n(262),l=n(258),c=n(1078);const d={getProjects(e){r.default.getOrganizationProjects(e)||l.getProjects("user"===e?null:e).then(t=>{c.default.getProjectsSuccess({projects:t,oid:e})}).catch(s.handleError)},getOrganizationsProjects(){const{organizationId:e}=a.a.BarrelStore.getState(),{organizations:t}=a.a.OrganizationStore.getState();t.length&&t.filter(({_id:t})=>t!==e).forEach(({_id:e})=>this.getProjects(e))}};function u(){a.a.dispatcher.register(e=>{switch(e.type){case i.default.OPEN:d.getOrganizationsProjects(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(305),o=n(269),a=n.n(o);const r={move({resourceType:e}){"screen"===e?mixpanel.master.track("Moved screens to project"):"section"===e&&mixpanel.master.track("Moved section to project")}};function s(){a.a.dispatcher.register(e=>{switch(e.type){case i.default.MOVE:e.syncWithApi&&r.move(e)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(577)),a=i(n(274)),r=n(258),s=i(n(269)),l=i(n(847)),c={onSetReadStatus(e,t,n){const i=e.map(({_id:e})=>e);n&&l.default.trackEventWithFilterDetails(n),r.updateNotificationReadStatus(i,t).catch(()=>o.default.restoreReadStatus(e))},onSetEventReadStatus(e,t=[],n,i){const a=e._id,s=e.events.filter(({_id:e})=>t.includes(e)).every(({markedAsRead:e})=>e);try{i&&!n&&l.default.trackEventWithFilterDetails("Marked notification as unread")}finally{r.updateNotificationEventReadStatus(a,t,n).catch(()=>o.default.setEventReadStatusOffline(a,t,s))}}};t.default=function(){s.default.dispatcher.register(e=>{switch(e.type){case a.default.SET_READ_STATUS:c.onSetReadStatus(e.notifications,e.markedAsRead,e.trackEventName);break;case a.default.SET_EVENT_READ_STATUS:c.onSetEventReadStatus(e.notification,e.eventIds,e.markedAsRead,e.trackUnreadEvent)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1993),o=n(1994),a=n(1995);function r(){Object(i.default)(),Object(o.default)(),Object(a.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var i=n(258),o=n(262),a=n(257),r=n(908),s=n(308),l=n(269),c=n.n(l),d=n(1078),u=n(1166),p=n(314);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let m=!1;function b(e){return e.map(e=>f(f({},e),{},{complete:!1}))}const S={getBarrels(e){Promise.all([i.getProjects(e),i.getStyleguides(e)]).then(([t,n])=>{d.default.getProjectsSuccess({oid:e,projects:b(t)}),u.default.getStyleguidesSuccess({oid:e,styleguides:b(n)})}).catch(o.handleError)},requestInvitation(e,t){m?Object(a.default)({text:"Already sent!",container:t,source:"requestOrganizationInvitation"}):i.requestOrganizationInvitation(e).then(()=>{m=!0,Object(a.default)({text:"Invitation sent!",container:t,source:"requestOrganizationInvitation"})}).catch(o.handleError)},addBarrelToFocus({oid:e,mid:t,bid:n,barrelType:a,poppedBarrel:s,syncWithApi:l}){l&&i.addBarrelToOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:a}).then(()=>{r.default.addBarrelToFocusSuccess({oid:e})}).catch(e=>{r.default.removeBarrelFromFocus({mid:t,bid:n,poppedBarrel:s}),o.handleError(e)})},removeBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:a,syncWithApi:s}){s&&i.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:a}).then(()=>{r.default.unpinBarrelFromFocusSuccess({oid:e,bid:n})}).catch(e=>{r.default.addBarrelToFocus({bid:n}),o.handleError(e)})},unpinBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:a,syncWithApi:s}){s&&i.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:a}).then(()=>{r.default.unpinBarrelFromFocusSuccess({oid:e,bid:n})}).catch(e=>{r.default.repinBarrelToFocus({bid:n}),o.handleError(e)})},addOrganizationWorkflowStatus({oid:e,workflowStatusData:{_id:t,name:n,color:a},syncWithApi:s}){s&&i.addOrganizationWorkflowStatus(e,{name:n,color:a}).then(({_id:e})=>{r.default.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:e,name:n,color:a}})}).catch(e=>{r.default.deleteOrganizationWorkflowStatus({workflowStatusId:t}),o.handleError(e)})},updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n,oldWorkflowStatusData:a,syncWithApi:s=!0}){s&&i.updateOrganizationWorkflowStatus(e,t,n).catch(e=>{r.default.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:t,name:a.name,color:a.color}}),o.handleError(e)})},deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t,oldWorkflowStatusData:n,syncWithApi:a}){a&&i.deleteOrganizationWorkflowStatus(e,t).catch(e=>{r.default.addOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:n}),o.handleError(e)})},addProjectSection({oid:e,index:t,sectionData:{name:n,description:a,projects:s},oldIndices:l=[],syncWithApi:c}){c&&i.createOrganizationSection({oid:e,index:t,name:n,description:a,projects:s}).then(({_id:t})=>{r.default.updateProjectSection({oid:e,oseid:p.TEMPORARY_PROJECT_SECTION_ID,sectionData:{_id:t,newSection:!1}})}).catch(t=>{o.handleError(t),l.forEach(({pid:t,oseid:n,index:i})=>{r.default.updateProjectOrder({oid:e,oseid:n,index:i,projects:[t],shouldCalculateActualIndex:!0})}),r.default.removeProjectSection({oid:e,oseid:p.TEMPORARY_PROJECT_SECTION_ID})})},removeProjectSection({oid:e,oseid:t,oldSectionIndex:n,oldSectionData:a,syncWithApi:s}){s&&i.deleteOrganizationSection(e,t).catch(t=>{o.handleError(t),r.default.addProjectSection({oid:e,index:n,sectionData:a,shouldCalculateActualIndex:!0})})},updateProjectSection({oid:e,oseid:t,sectionData:n,oldSectionData:a,syncWithApi:s}){s&&i.updateOrganizationSection(f({oid:e,oseid:t},n)).catch(n=>{r.default.updateProjectSection({oid:e,oseid:t,sectionData:a}),o.handleError(n)})},handleUpdateProjectSectionOrder({oid:e,oseid:t,index:n,oldSectionIndex:a,syncWithApi:s}){s&&i.updateOrganizationSectionsOrder(e,n,[t]).catch(n=>{o.handleError(n),r.default.updateProjectSectionOrder({oid:e,oseid:t,index:a,shouldCalculateActualIndex:!0})})},handleUpdateProjectOrder({oid:e,oseid:t,index:n,projects:a,oldIndices:s=[],syncWithApi:l}){l&&i.updateOrganizationSectionProjects(e,t,n,a).catch(t=>{o.handleError(t),s.forEach(({pid:t,oseid:n,index:i})=>{r.default.updateProjectOrder({oid:e,projects:[t],oseid:n,index:i,shouldCalculateActualIndex:!0})})})},addSectionLink({oid:e,oseid:t,linkData:{_id:n,title:a,url:s},syncWithApi:l}){l&&i.createOrganizationSectionLink(e,t,a,s).then(({_id:i})=>{r.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:{_id:i,title:a,url:s}})}).catch(i=>{o.handleError(i),r.default.removeSectionLink({oid:e,oseid:t,oselid:n})})},updateSectionLink({oid:e,oseid:t,oselid:n,linkData:{title:a,url:s},oldLink:l,syncWithApi:c}){c&&i.updateOrganizationSectionLink({oid:e,oseid:t,oselid:n,title:a,url:s}).catch(i=>{o.handleError(i),r.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:l})})},removeSectionLink({oid:e,oseid:t,oselid:n,oldLink:a,syncWithApi:s}){s&&i.deleteOrganizationSectionLink(e,t,n).catch(n=>{o.handleError(n),r.default.addSectionLink({oid:e,oseid:t,linkData:a})})}};function y(){c.a.dispatcher.register(e=>{switch(e.type){case s.default.GET_BARRELS:S.getBarrels(e.oid);break;case s.default.REQUEST_INVITE:S.requestInvitation(e.id,e.container);break;case s.default.ADD_BARREL_TO_FOCUS:S.addBarrelToFocus(e);break;case s.default.REMOVE_BARREL_FROM_FOCUS:S.removeBarrelFromFocus(e);break;case s.default.UNPIN_BARREL_FROM_FOCUS:S.unpinBarrelFromFocus(e);break;case s.default.ADD_ORGANIZATION_WORKFLOW_STATUS:S.addOrganizationWorkflowStatus(e);break;case s.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS:S.updateOrganizationWorkflowStatus(e);break;case s.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:S.deleteOrganizationWorkflowStatus(e);break;case s.default.UPDATE_PROJECT_SECTION_ORDER:S.handleUpdateProjectSectionOrder(e);break;case s.default.UPDATE_PROJECT_ORDER:S.handleUpdateProjectOrder(e);break;case s.default.ADD_PROJECT_SECTION:S.addProjectSection(e);break;case s.default.REMOVE_PROJECT_SECTION:S.removeProjectSection(e);break;case s.default.UPDATE_PROJECT_SECTION:S.updateProjectSection(e);break;case s.default.ADD_SECTION_LINK:S.addSectionLink(e);break;case s.default.UPDATE_SECTION_LINK:S.updateSectionLink(e);break;case s.default.REMOVE_SECTION_LINK:S.removeSectionLink(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(308),o=n(269),a=n.n(o);const r={addBarrelToFocusSuccess(){mixpanel.master.track("Pinned project")},unpinBarrelFromFocusSuccess(){mixpanel.master.track("Unpinned project")},onHitPinLimit({focusCountLimit:e,pinnedAnyway:t}){mixpanel.master.track("Hit pin limit",{"Pin Limit":e,"Pinned Anyway":t})},onAddOrganizationWorkflowStatus({workflowStatusData:e}){mixpanel.master.track("Created status",{Name:e.name,Color:e.color.toHexString()})},onUpdateOrganizationWorkflowStatus({workflowStatusData:e,oldWorkflowStatusData:t}){e.hasOwnProperty("name")?mixpanel.master.track("Changed status name",{Name:e.name,Color:t.color.toHexString(),"From Name":t.name}):e.hasOwnProperty("color")&&mixpanel.master.track("Changed status color",{Name:t.name,Color:e.color.toHexString(),"From Color":t.color.toHexString()})},onDeleteOrganizationWorkflowStatus({oldWorkflowStatusData:e}){mixpanel.master.track("Removed status",{Name:e.name,Color:e.color.toHexString()})},onAddProjectSection({sectionData:{projects:e}}){mixpanel.master.track("Created project section",{"Is Empty":0===e.length,"Project Count":e.length})},onRemoveProjectSection(){mixpanel.master.track("Disbanded project section")},onAddSectionLink(){mixpanel.master.track("Added link to project section")},onRemoveSectionLink(){mixpanel.master.track("Removed link from project section")},onUpdateProjectOrder({isDefaultSection:e,projects:t}){mixpanel.master.track(e?"Removed project from section":"Moved project to section",{"Project Count":t.length})},onUpdateProjectSection({sectionData:{name:e,description:t}}){e&&mixpanel.master.track("Renamed project section"),t&&mixpanel.master.track("Changed description",{Target:"Project section"})},onUpdateSectionLink(){mixpanel.master.track("Updated project section link")}};function s(){a.a.dispatcher.register(e=>{switch(e.type){case i.default.ADD_BARREL_TO_FOCUS_SUCCESS:r.addBarrelToFocusSuccess();break;case i.default.UNPIN_BARREL_FROM_FOCUS_SUCCESS:r.unpinBarrelFromFocusSuccess();break;case i.default.HIT_PIN_LIMIT:r.onHitPinLimit(e);break;case i.default.ADD_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&r.onAddOrganizationWorkflowStatus(e);break;case i.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&r.onUpdateOrganizationWorkflowStatus(e);break;case i.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&r.onDeleteOrganizationWorkflowStatus(e);break;case i.default.ADD_PROJECT_SECTION:e.syncWithApi&&r.onAddProjectSection(e);break;case i.default.REMOVE_PROJECT_SECTION:e.syncWithApi&&r.onRemoveProjectSection();break;case i.default.ADD_SECTION_LINK:e.syncWithApi&&r.onAddSectionLink();break;case i.default.REMOVE_SECTION_LINK:e.syncWithApi&&r.onRemoveSectionLink();break;case i.default.UPDATE_PROJECT_ORDER:e.syncWithApi&&r.onUpdateProjectOrder(e);break;case i.default.UPDATE_PROJECT_SECTION:e.syncWithApi&&r.onUpdateProjectSection(e);break;case i.default.UPDATE_SECTION_LINK:e.syncWithApi&&r.onUpdateSectionLink()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(308),o=n(269),a=n.n(o),r=n(234);const s={addBarrelToFocusSuccess(){r.userPrefs.set("pinnedBarrelOnce",!0)},updateDialogDismissStates({oid:e,dialogDismissParams:t}){if(t)for(const[n,i]of Object.entries(t))r.organizationPrefs.set(e,"dialogDismissStates",n,i)}};function l(){a.a.dispatcher.register(e=>{switch(e.type){case i.default.ADD_BARREL_TO_FOCUS_SUCCESS:s.addBarrelToFocusSuccess();break;case i.default.ADD_PROJECT_SECTION:case i.default.UPDATE_PROJECT_ORDER:case i.default.UPDATE_PROJECT_SECTION_ORDER:s.updateDialogDismissStates(e)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1997)),a=i(n(1999));t.default=function(){o.default(),a.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(269)),l=r(n(316)),c=r(n(1998)),d=n(258),u=a(n(262)),p={handleUpdateSeats(e,t){d.updateOrganizationSeats(e,t).then(c.default.updateSeatsSuccess).catch(e=>{c.default.updateSeatsFailure(),u.handleError(e)})},handleCancelScheduledSeatsUpdate(e,t){d.cancelOrganizationScheduledSeatsUpdate(e).then(c.default.cancelScheduledSeatsUpdateSuccess).catch(e=>{c.default.cancelScheduledSeatsUpdateFailure(t),u.handleError(e)})}};t.default=function(){s.default.dispatcher.register(e=>{switch(e.type){case l.default.UPDATE_SEATS_REQUEST:p.handleUpdateSeats(e.oid,e.body);break;case l.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST:p.handleCancelScheduledSeatsUpdate(e.oid,e.cancelledScheduledSeatsUpdate)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(316)),a=i(n(269)),r={reset(){a.default.dispatcher.dispatch({type:o.default.RESET})},updateSeats(e,t){a.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_REQUEST,oid:e,body:t})},updateSeatsSuccess(e){a.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_SUCCESS,reservedSeatCount:e})},updateSeatsFailure(){a.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_FAILURE})},getScheduledSeatsUpdate(e){a.default.dispatcher.dispatch({type:o.default.GET_SCHEDULED_SEATS_UPDATE_REQUEST,oid:e})},getScheduledSeatsUpdateSuccess(e){a.default.dispatcher.dispatch({type:o.default.GET_SCHEDULED_SEATS_UPDATE_SUCCESS,scheduledSeatsUpdate:e})},cancelScheduledSeatsUpdate(e){const{scheduledSeatsUpdate:t}=a.default.OrganizationBillingStore.getState();a.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST,oid:e,cancelledScheduledSeatsUpdate:t})},cancelScheduledSeatsUpdateSuccess(){a.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS})},cancelScheduledSeatsUpdateFailure(e){a.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE,cancelledScheduledSeatsUpdate:e})}};t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(269)),a=i(n(316)),r=i(n(1998)),s=n(258),l={handleGetScheduledSeatsUpdate(e){s.getOrganizationScheduledSeatsUpdate(e).then(r.default.getScheduledSeatsUpdateSuccess)}};t.default=function(){o.default.dispatcher.register(e=>{switch(e.type){case a.default.GET_SCHEDULED_SEATS_UPDATE_REQUEST:l.handleGetScheduledSeatsUpdate(e.oid)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(284),o=n(1660),a=n(269),r=n.n(a),s=n(258),l=n(262);const c={onProjectLink({project:e,styleguide:t,syncWithApi:n}){if(e.partial)return;(n?Object(s.updateProjectStyleguideLink)(e._id,t._id):Promise.resolve()).then(i=>{n&&mixpanel.master.track("Linked project to styleguide");const{styleguides:o}=r.a.StyleguidesDataStore.getState(),a=[...t.ancestors,t._id].filter(e=>!(o[e]&&o[e].complete));return Promise.all(a.map(t=>Object(s.getStyleguide)(t,{projectId:e._id})))}).then(n=>{o.default.linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n})}).catch(n=>{o.default.unlinkProjectFromStyleguide({pid:e._id,styleguide:t}),l.handleError(n)})},onProjectUnlink({pid:e,styleguide:t}){Object(s.removeProjectStyleguideLink)(e).catch(n=>{const{projects:{[e]:i}}=r.a.ProjectsDataStore.getState();o.default.linkProjectToStyleguide({project:i,styleguide:t}),l.handleError(n)})}};function d(){r.a.dispatcher.register(e=>{switch(e.type){case i.default.UNLINK_PROJECT:e.syncWithApi&&c.onProjectUnlink(e);break;case i.default.LINK_PROJECT_REQUEST:c.onProjectLink(e)}})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(309)),l=r(n(269)),c=r(n(1078)),d=a(n(258)),u={requestProject({pid:e}){setTimeout(()=>{c.default.getProjectRequest(),d.getProject(e).then(e=>c.default.getProjectSuccess({project:e})).catch(c.default.getProjectFailed)})}};t.default=function(){l.default.dispatcher.register(e=>{switch(e.type){case s.default.REQUEST_PROJECT:u.requestProject(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(427),o=n(234),a=n(228),r=n(269),s=n.n(r);const l={updatePrefs(){o.userPrefs.set("recentlyLoadedBarrels",s.a.RecentlyLoadedBarrelsStore.getState())}};async function c(){if(!a.isWindowsApp)return;const{projects:e,styleguides:t}=await o.userPrefs.get("recentlyLoadedBarrels");i.default.initRecentlyLoadedBarrels({projects:e,styleguides:t}),s.a.RecentlyLoadedBarrelsStore.addListener(()=>{l.updatePrefs()})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(2004),o=n(2005),a=n(2006),r=n(2007),s=n(2008);function l(){Object(i.default)(),Object(o.default)(),Object(a.default)(),Object(r.default)(),Object(s.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(277),o=n.n(i),a=n(382),r=n(258),s=n(262),l=n(386),c=n(269),d=n.n(c),u=n(361),p=n(367),h=n(234),f=n(326);const g={handleUpdateDescription({pid:e,sid:t,description:n,oldDescription:i}){r.updateScreen(e,t,{description:n}).catch(n=>{Object(s.handleError)(n),a.default.updateDescription({pid:e,sid:t,description:i})})},handleUpdateName({pid:e,sid:t,name:n,oldName:i,onError:o}){r.updateScreen(e,t,{name:n}).catch(n=>{a.default.updateName({pid:e,sid:t,name:i}),Object(s.handleError)(n,{dialogCallback:o})})},handleRemoveScreen:({pid:e,seid:t,index:n,sid:i,removedScreen:o})=>r.deleteScreen(e,i).catch(i=>{Object(s.handleError)(i),a.default.addScreen({pid:e,seid:t,index:n,screen:o})}),handleUpdateTags({pid:e,updates:t}){r.updateScreensTags(e,t).then(()=>{const{tagFilter:{tags:e,untagged:t},highlightedScreens:n}=d.a.DashboardStore.getState();if(t||!e.length)return;const{tags:i}=u.default.getBarrel(),o=[...new Set(n.map(e=>p.default.getScreen({sid:e})).reduce((e,{tags:t=[]})=>e.concat(t),[]))],a=e.filter(e=>i.includes(e)&&(!n.length||o.includes(e)));a.length!==e.length&&l.default.changeTagFilter({tags:a,untagged:t})}).catch(n=>{Object(s.handleError)(n);const i=t.map(({_id:e,operation:t,tags:n})=>({_id:e,tags:n,operation:"add"===t?"remove":"add"}));a.default.updateTags({pid:e,updates:i})})},handleUpdateCommitColor({pid:e,sid:t,vid:n,color:i,oldColor:o}){r.updateCommitColor(e,t,n,i).catch(i=>{Object(s.handleError)(i),a.default.updateCommitColor({pid:e,sid:t,vid:n,color:o})})},handleUpdateCommitMessage({pid:e,sid:t,vid:n,message:i,oldMessage:o}){r.updateCommitMessage(e,t,n,i).catch(i=>{Object(s.handleError)(i),a.default.updateCommitMessage({pid:e,sid:t,vid:n,message:o})})},handleRemoveVersion({pid:e,sid:t,vid:n,removedVersion:i}){r.deleteVersion(e,t,n).then(()=>{a.default.getVersions()}).catch(n=>{Object(s.handleError)(n),a.default.addVersion({pid:e,sid:t,version:i})})},handleAddDot({pid:e,sid:t,dot:n,hasMention:i}){const{_id:o,x:l,y:c,color:d,comments:u}=n;r.createDot(e,t,{x:l,y:c,color:d,comments:u}).then(n=>{const r=Object(f.getColorName)(d);h.barrelPrefs.set(e,"lastNoteColorUsed",r),a.default.updateDot({pid:e,sid:t,did:o,dotData:n}),mixpanel.master.track("Added note",{"Is Reply":!1,"Is Reaction Reply":!1,"Is Reply To Mention":!1,"Has Mention":i,Source:"Screen"})}).catch(n=>{Object(s.handleError)(n),a.default.removeDot({pid:e,sid:t,did:o})})},handleUpdateDotColor({pid:e,sid:t,did:n,color:i,oldColor:o}){r.updateDot(e,t,n,{color:i}).then(()=>{const t=Object(f.getColorName)(i);h.barrelPrefs.set(e,"lastNoteColorUsed",t),mixpanel.master.track("Changed dot color")}).catch(i=>{Object(s.handleError)(i),a.default.updateDotColor({pid:e,sid:t,did:n,color:o})})},handleUpdateDotPosition({pid:e,sid:t,did:n,x:i,y:o,oldX:l,oldY:c}){r.updateDot(e,t,n,{x:i,y:o}).catch(i=>{Object(s.handleError)(i),a.default.updateDotPosition({pid:e,sid:t,did:n,x:l,y:c})})},handleUpdateDotStatus({pid:e,sid:t,did:n,status:i,oldStatus:o,source:l="Screen"}){r.updateDot(e,t,n,{status:i}).then(()=>{mixpanel.master.track(("open"===i?"Reopened":"Resolved")+" note",{Source:l})}).catch(i=>{Object(s.handleError)(i),a.default.updateDotStatus({pid:e,sid:t,did:n,status:o})})},handleRemoveDot({pid:e,sid:t,did:n,removedDot:i}){r.deleteDot(e,t,n).then(()=>{mixpanel.master.track("Deleted dot")}).catch(n=>{Object(s.handleError)(n),a.default.addDot({pid:e,sid:t,dot:i})})},handleCreateComment({pid:e,sid:t,did:n,hasReaction:i,comment:o,toMention:l,hasMention:c,source:d="Screen"}){const{_id:u,note:p}=o;r.createDotComment(e,t,n,p).then(o=>{a.default.updateComment({pid:e,sid:t,did:n,cmid:u,commentData:o}),mixpanel.master.track("Added note",{"Is Reply":!0,"Is Reaction Reply":i,"Is Reply To Mention":l,"Has Mention":c,Source:d})}).catch(i=>{Object(s.handleError)(i),a.default.removeComment({pid:e,sid:t,did:n,cmid:u})})},handleUpdateComment({pid:e,sid:t,did:n,cmid:i,commentData:o,oldCommentData:l}){const{note:c}=o,{note:d}=l;c!==d&&r.updateDotCommentNote(e,t,n,i,c).then(()=>{mixpanel.master.track("Edited comment")}).catch(o=>{Object(s.handleError)(o),a.default.updateComment({pid:e,sid:t,did:n,cmid:i,commentData:l})})},handleRemoveComment({pid:e,sid:t,did:n,cmid:i,removedComment:o}){r.deleteComment(e,t,n,i).then(()=>{mixpanel.master.track("Deleted comment")}).catch(i=>{Object(s.handleError)(i),a.default.addComment({pid:e,sid:t,did:n,comment:o})})}};function m(){d.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case o.a.UPDATE_DESCRIPTION:g.handleUpdateDescription(e);break;case o.a.UPDATE_NAME:g.handleUpdateName(e);break;case o.a.REMOVE_SCREEN:g.handleRemoveScreen(e);break;case o.a.UPDATE_TAGS:g.handleUpdateTags(e);break;case o.a.UPDATE_COMMIT_COLOR:g.handleUpdateCommitColor(e);break;case o.a.UPDATE_COMMIT_MESSAGE:g.handleUpdateCommitMessage(e);break;case o.a.REMOVE_VERSION:g.handleRemoveVersion(e);break;case o.a.ADD_DOT:g.handleAddDot(e);break;case o.a.UPDATE_DOT_COLOR:g.handleUpdateDotColor(e);break;case o.a.UPDATE_DOT_POSITION:g.handleUpdateDotPosition(e);break;case o.a.UPDATE_DOT_STATUS:g.handleUpdateDotStatus(e);break;case o.a.REMOVE_DOT:g.handleRemoveDot(e);break;case o.a.CREATE_COMMENT:g.handleCreateComment(e);break;case o.a.UPDATE_COMMENT:g.handleUpdateComment(e);break;case o.a.REMOVE_COMMENT:g.handleRemoveComment(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(229),o=n(228),a=n(382),r=n(277),s=n.n(r),l=n(269),c=n.n(l);const d={querySourceFile(e){i.default.ipcRenderer.removeAllListeners(e+":sourceFile"),i.default.ipcRenderer.once(e+":sourceFile",(t,n)=>{a.default.setSourceFile({versionId:e,sourceFile:n})}),i.default.ipcRenderer.send("query-source-file",e)},openSourceFile(e){e&&i.default.ipcRenderer.send("open-item",e)},openSourceFolder(e){e&&i.default.ipcRenderer.send("show-item-in-folder",e)},openPopout({pid:e,name:t,width:n,height:o,url:a}){i.default.ipcRenderer.send("open-popout",{name:t,width:n,height:o,url:a},e)}};function u(){c.a.dispatcher.register(e=>{if(o.isWindowsApp)switch(e.type){case s.a.OPEN_SCREEN:case s.a.SET_VERSION_ID:d.querySourceFile(e.versionId);break;case s.a.OPEN_SOURCE_FILE:d.openSourceFile(e.path);break;case s.a.OPEN_SOURCE_FOLDER:d.openSourceFolder(e.path);break;case s.a.OPEN_POPOUT:d.openPopout(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var i=n(1398),o=n(383),a=n(258),r=n(262),s=n(376),l=n(382),c=n(277),d=n.n(c),u=n(367),p=n(361),h=n(269),f=n.n(h),g=n(334),m=n.n(g);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let C,v,O;const E={getSnapshot({barrelId:e,screenId:t,versionId:n}){clearTimeout(C);const o=u.default.getScreen();if(!o)return;const s=u.default.getVersion();p.default.isUserRestricted()||s&&s.snapshot&&s.snapshot.layers?setTimeout(()=>{const i=s&&s.snapshot||{};l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:i})},4):C=setTimeout(()=>{a.getSnapshot(e,t,n).then(e=>{const t=Object(i.createArtboardLayer)(o.name,e);return e.layers.unshift(t),Object(i.preprocessLayers)(e.layers),e}).catch(r.handleError).then((o={})=>{if(l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:o}),!o.assets)return;const a=S({},o);requestIdleCallback(async()=>{await Promise.all(a.assets.map(n=>Object(i.addAssetStats)(e,t,a,n))),l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:a})})})},300)},async getSnapshotOfNewVersion({pid:e,sid:t,version:{_id:n,fullSnapshotUrl:o}}){const{barrelId:r}=f.a.BarrelStore.getState();if(r!==e)return;const{screenId:s}=f.a.ScreenStore.getState();if(s!==t)return;if(p.default.isUserRestricted())return;const c=u.default.getScreen();if(c)try{const d=await a.fetchSnapshot(o),u=Object(i.createArtboardLayer)(c.name,d);d.layers.unshift(u),Object(i.preprocessLayers)(d.layers),l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:d});const p=S({},d);requestIdleCallback(async()=>{await Promise.all(p.assets.map(e=>Object(i.addAssetStats)(r,s,p,e))),l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:p})})}catch(d){}},getDots({barrelId:e,screenId:t,dotId:n}){clearTimeout(v);const i=u.default.getScreen();if(i)if("dots"in i){const{highlightedComments:e}=f.a.DotsStore.getState();n&&setTimeout(t=>{l.default.selectDot({dotId:n,commentId:e})},4)}else v=setTimeout(()=>{a.getDots(e,t).then(({dots:n=[]})=>{l.default.setDots({pid:e,sid:t,dots:n})})},300)},getVersions({screenId:e}){clearTimeout(O);const t=u.default.getScreen();if(!t)return;const{versions:n,totalVersionCount:i=1/0,allowedVersionCount:o=1/0}=t;if(!(n.length<o&&i>=o))return;const{barrelId:s}=f.a.BarrelStore.getState();O=setTimeout(()=>{a.getVersions(s,e).then(({versions:e=[],totalVersionCount:t,allowedVersionCount:i})=>(n.forEach(t=>{if(!("layers"in t.snapshot))return;const n=e.find(e=>t._id===e._id);n&&Object.assign(n.snapshot,t.snapshot)}),{versions:e,totalVersionCount:t,allowedVersionCount:i})).catch(e=>(Object(r.handleError)(e),{versions:n,totalVersionCount:i,allowedVersionCount:o})).then(({versions:t,totalVersionCount:n,allowedVersionCount:i})=>{l.default.setVersions({pid:s,sid:e,versions:t,totalVersionCount:n,allowedVersionCount:i})})},300)},async getSnapshotOfComponentVariant({coid:e}){const t=p.default.getStyleguidesData({barrelStore:f.a.BarrelStore,styleguidesDataStore:f.a.StyleguidesDataStore,projectsDataStore:f.a.ProjectsDataStore}),n=Object(o.findComponentById)(t,e),{barrelId:r,component:l}=n||{};if(!l)return;const{latestVersion:c}=l;if(c.snapshot.layers&&c.snapshot.layers.length>0)return;const d=[...l.idPath],u=d.pop(),h=p.default.getBarrel({bid:r});try{const e=await a.fetchSnapshot(c.fullSnapshotUrl),t=Object(i.createArtboardLayer)(l.name,e);if(e.layers.unshift(t),Object(i.preprocessLayers)(e.layers),s.default.setComponentSnapshot({bid:h._id,csids:d,coid:u,vid:c._id,snapshot:e}),!e.assets)return;const n=S({},e);await Promise.all(n.assets.map(e=>Object(i.addAssetStats)(h.id,l._id,n,e))),s.default.setComponentSnapshot({bid:r,csids:d,coid:u,vid:c._id,snapshot:n})}catch(g){s.default.setComponentSnapshot({bid:h._id,csids:d,coid:u,vid:c._id,snapshot:{}})}}};function T(){f.a.dispatcher.register(e=>{switch(e.type){case d.a.OPEN_SCREEN:E.getVersions(e),E.getSnapshot(e),E.getDots(e);break;case d.a.GET_VERSIONS:E.getVersions(e);break;case d.a.SET_VERSION_ID:E.getSnapshot(e);break;case d.a.ADD_VERSION:E.getSnapshotOfNewVersion(e);break;case m.a.OPEN:case m.a.CHANGE_VARIANT:E.getSnapshotOfComponentVariant(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(245),o=n(242),a=n(244),r=n(257),s=n(241),l=n(364),c=n(286),d=n(277),u=n.n(d),p=n(367),h=n(334),f=n.n(h),g=n(269),m=n.n(g);const b={notify({pid:e,sid:t,uid:n,did:r,userId:s,username:c,comment:d}){if(n===s)return;const{_id:u,note:p,author:h}=d,f=Object(i.mentionRegexFn)(c);if(!h||!f.test(p))return;const g=Object(o.urlResolve)("project-screen",{url:{pid:e,sid:t},query:{did:r,cmid:u}});Object(a.notify)({title:h.username+" mentioned you",body:p,notifier:h,handler(){l.default.history.push(g)}})},selectDot({dotId:e,source:t="Note URL"}){e&&mixpanel.master.track("Opened note",{Source:t})},warnScreenNotFound({barrelId:e,screenId:t}){p.default.getScreen({sid:t})||(s.create({title:"Screen not available anymore.",message:"It was probably deleted, please contact the owner."}),l.default.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:e}})))},warnScreenRemoval({pid:e,syncWithApi:t,removedScreen:n,removingCurrentScreen:i,user:a}){if(t||!i)return;l.default.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:e}}));const{userId:r}=m.a.UserStore.getState();if(r===a.user._id)return;const c=a?a.user.username:"Anonymous";s.create({title:c+" deleted this screen",message:`You won’t be able to access "${n.name}" from now on.`})},warnVersionRemoval({syncWithApi:e,removingCurrentVersion:t,poppedVersion:n}){if(e)return void mixpanel.master.track("Deleted version");if(!t&&!n)return;const i=t?"deleteScreenVersion":"createScreenVersion";Object(r.default)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:i})},changeURLForVersionRemoval({pid:e,removingCurrentVersion:t}){if(!t)return;const{screenId:n}=m.a.ScreenStore.getState();history.replaceState({},"Projects - Screen - Zeplin",Object(o.urlResolve)("project-screen",{url:{pid:e,sid:n}}))},warnVersionNotFound({versionId:e}){const{versions:t,totalVersionCount:n}=p.default.getScreen(),i=t.some(({_id:t})=>t===e);n&&!i&&s.create({title:"Invalid version link",message:"It was either deleted or not accessible due to the limit, please contact the owner."})},updateDescription(){mixpanel.master.track("Changed description",{Target:"Screen"})},updateTags({updates:e,isScreen:t}){if("add"===e[0].operation)return void mixpanel.master.track("Tagged screen");e.some(({operation:e})=>"remove"===e)&&(t?mixpanel.master.track("Removed tag"):mixpanel.master.track("Deleted tag"))},showVersion(){mixpanel.master.track("Visited app",{Location:"Screen version panel"})},openPopout(){mixpanel.master.track("Popped screen out")},updateSectionDescription(){mixpanel.master.track("Changed description",{Target:"Screen section"})},selectLayer(){mixpanel.master.track("Inspected layer",{Source:"Screen"})},componentVariantSelectLayer(){mixpanel.master.track("Inspected layer",{Source:"Component state"})},updateDotPosition(){mixpanel.master.track("Moved dot")},updateCommitColor(){mixpanel.master.track("Updated version color")},updateCommitMessage(){mixpanel.master.track("Updated version commit message")}};function S(){m.a.dispatcher.register(e=>{switch(e.type){case u.a.OPEN_SCREEN:b.warnScreenNotFound(e),b.selectDot(e);break;case u.a.REMOVE_SCREEN:b.warnScreenRemoval(e);break;case u.a.SET_VERSION_ID:b.warnVersionNotFound(e);break;case u.a.ADD_VERSION:b.warnVersionRemoval(e);break;case u.a.REMOVE_VERSION:b.warnVersionRemoval(e),b.changeURLForVersionRemoval(e);break;case u.a.ADD_DOT:{const{pid:t,sid:n,uid:i,userId:o,username:a,dot:{_id:r,comments:[s]}}=e;b.notify({pid:t,sid:n,uid:i,did:r,userId:o,username:a,comment:s});break}case u.a.SELECT_DOT:b.selectDot(e);break;case u.a.ADD_COMMENT:b.notify(e);break;case u.a.UPDATE_COMMENT:{const{pid:t,sid:n,uid:i,author:o,userId:a,username:r,did:s,cmid:l,commentData:{note:c}}=e;b.notify({pid:t,sid:n,uid:i,did:s,userId:a,username:r,comment:{_id:l,note:c,author:o}});break}case u.a.UPDATE_DESCRIPTION:e.syncWithApi&&b.updateDescription();break;case u.a.UPDATE_TAGS:e.syncWithApi&&b.updateTags(e);break;case u.a.SHOW_VERSIONS:b.showVersion();break;case u.a.OPEN_POPOUT:b.openPopout();break;case c.default.UPDATE_SECTION_DESCRIPTION:e.syncWithApi&&b.updateSectionDescription();break;case u.a.SELECT_LAYER:b.selectLayer();break;case u.a.UPDATE_DOT_POSITION:b.updateDotPosition();break;case u.a.UPDATE_COMMIT_COLOR:e.syncWithApi&&b.updateCommitColor();break;case u.a.UPDATE_COMMIT_MESSAGE:e.syncWithApi&&b.updateCommitMessage();break;case f.a.SELECT_LAYER:b.componentVariantSelectLayer()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(234),o=n(269),a=n.n(o),r=n(334),s=n.n(r),l=n(277),c=n.n(l);let d,u,p,h,f;const g={saveNoteVisibility(){const{barrelId:e}=a.a.BarrelStore.getState(),{notesVisible:t}=a.a.ScreenStore.getState();clearTimeout(d),d=setTimeout(()=>i.barrelPrefs.set(e,"noteVisibility",t),1e3)},saveNoteFilter(e){const{barrelId:t}=a.a.BarrelStore.getState(),{status:n,color:o}=e;clearTimeout(u),u=setTimeout(async()=>{await i.barrelPrefs.set(t,"noteStatusFilter",n),i.barrelPrefs.set(t,"noteColorFilter",o)},1e3)},saveZoomLevel(){const{barrelId:e}=a.a.BarrelStore.getState(),{zoomLevel:t}=a.a.ScreenStore.getState();clearTimeout(p),p=setTimeout(()=>i.barrelPrefs.set(e,"zoomLevel",t),1e3)},saveLayoutGridEnabled(){const{barrelId:e}=a.a.BarrelStore.getState(),{layoutGridEnabled:t}=a.a.ScreenStore.getState();clearTimeout(h),h=setTimeout(()=>i.barrelPrefs.set(e,"layoutGridEnabled",t),1e3)},saveVersionsTutorialSeen(){i.userPrefs.set("versionsTutorialSeen",!0)},saveVersionsLastSeen({sid:e,date:t}){if(!e)return;clearTimeout(f);const{barrelId:n}=a.a.BarrelStore.getState();f=setTimeout(()=>{i.barrelPrefs.set(n,e,"versionsLastSeen",t)},1e3)},saveScreenSidebarWidth(){const{barrelId:e}=a.a.BarrelStore.getState(),{screenSidebarWidth:t}=a.a.ScreenStore.getState();i.barrelPrefs.set(e,"screenSidebarWidth",t)},saveVersionsSidebarWidth(){const{barrelId:e}=a.a.BarrelStore.getState(),{versionsSidebarWidth:t}=a.a.ScreenStore.getState();i.barrelPrefs.set(e,"versionsSidebarWidth",t)},hideComponentVariantsOnboardingHintbox(){i.userPrefs.set("componentVariantsOnboardingHintboxSeen",!0)},setComponentVariantViewAsSeen(){i.userPrefs.set("componentVariantViewSeen",!0)},incrementNumberOfLayerComponentViews({shouldIncrementNumberOfLayerComponentViews:e,numberOfLayerComponentViews:t}){e&&i.userPrefs.set("numberOfLayerComponentViews",t+1)}};function m(){a.a.dispatcher.register(e=>{switch(e.type){case c.a.SHOW_NOTES:case c.a.HIDE_NOTES:case c.a.SELECT_DOT:case c.a.CREATE_NOTE:case c.a.ENABLE_NOTE_MODE:g.saveNoteVisibility();break;case c.a.CHANGE_DOT_FILTER:g.saveNoteFilter(e);break;case c.a.ZOOM_WITH_GESTURE:case c.a.ZOOM_WITH_WHEEL:case c.a.CHANGE_ZOOM_LEVEL:case c.a.ZOOM_IN:case c.a.ZOOM_OUT:case c.a.RESET_ZOOM:g.saveZoomLevel();break;case c.a.TOGGLE_LAYOUT_GRID:g.saveLayoutGridEnabled();break;case c.a.CHANGE_SCREEN_SIDEBAR_WIDTH:g.saveScreenSidebarWidth();break;case c.a.CHANGE_VERSIONS_SIDEBAR_WIDTH:g.saveVersionsSidebarWidth(e.sidebarWidth);break;case c.a.OPEN_SCREEN:case c.a.ADD_VERSION:g.saveVersionsLastSeen(e.screenVersionsLastSeen);break;case c.a.SHOW_VERSIONS:case c.a.TOGGLE_VERSIONS:g.saveVersionsTutorialSeen(),g.saveVersionsLastSeen(e.screenVersionsLastSeen);break;case c.a.HIDE_VERSIONS_AUNTIE:g.saveVersionsTutorialSeen();break;case c.a.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX:g.hideComponentVariantsOnboardingHintbox();break;case c.a.SELECT_LAYER:g.incrementNumberOfLayerComponentViews(e);break;case s.a.OPEN:g.setComponentVariantViewAsSeen()}})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(1301)),l=r(n(340)),c=r(n(269)),d=a(n(262)),u=a(n(341)),p=a(n(241)),h=n(258),f=r(n(361)),g={project:h.project,styleguide:h.styleguide},m={initChannel:e=>g[c.default.BarrelStore.getState().barrelType].getIntegrationEvents(f.default.getBarrel()._id,e).then(t=>s.default.load(e,t.events)),init(){f.default.getBarrel().integration.slacks.forEach(e=>{this.initChannel(e._id).catch(()=>{})})},initIfNecessary(e,t){e in c.default.SlackPreferencesStore.getState().eventGroupsByInid||this.showInitializationError(e,t)},showInitializationError(e,t){p.create({message:"Something went wrong while fetching Slack preferences.",done:{name:"TRY AGAIN",cb:()=>this.initChannel(e).then(()=>s.default.open(e,t)).catch(()=>this.showInitializationError(e,t))}})},updateEventGroup(e,t){const n=c.default.SlackPreferencesStore.getState().inid;(t?this.addPreferenceGroup(n,e):this.deletePreferenceGroup(n,e)).then(()=>{s.default.eventGroupUpdated(n,e)}).catch(t=>{s.default.eventGroupUpdateFailed(n,e),d.handleError(t)})},addPreferenceGroup(e,t){const{barrelId:n,barrelType:i}=c.default.BarrelStore.getState();return u.getEventsOfGroup(i,t).reduce((t,o)=>t.then(()=>g[i].addIntegrationEvent(n,e,o)),Promise.resolve())},deletePreferenceGroup(e,t){const{barrelId:n,barrelType:i}=c.default.BarrelStore.getState();return u.getEventsOfGroup(i,t).reduce((t,o)=>t.then(()=>g[i].deleteIntegrationEvent(n,e,o)),Promise.resolve())}};t.default=function(){c.default.dispatcher.register(e=>{switch(e.type){case l.default.INIT:m.init();break;case l.default.OPEN:m.initIfNecessary(e.inid,e.channelName);break;case l.default.UPDATE_EVENT_GROUP:m.updateEventGroup(e.eventGroup,e.checked)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(2011),o=n(2012);function a(){Object(i.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var i=n(278),o=n.n(i),a=n(269),r=n.n(a),s=n(1078),l=n(1166),c=n(262),d=n(258),u=n(230);const p={project:{get:d.getProject},styleguide:{get:d.getStyleguide}},h={project:{getRequest:s.default.getProjectRequest,getSuccess:s.default.getProjectSuccess,getFailed:s.default.getProjectFailed},styleguide:{getRequest:l.default.getStyleguideRequest,getSuccess:l.default.getStyleguideSuccess,getFailed:l.default.getStyleguideFailed}},f={onPreview({dialogType:e,dialogParams:{previewBarrelId:t}}){const n={project:r.a.ProjectsDataStore,styleguide:r.a.StyleguidesDataStore};if(!t)return;const i=e===u.DialogTypes.PREVIEW_PROJECT?"project":"styleguide",{[i+"s"]:o}=n[i].getState(),a=o[t];if(a&&(a.screens||a.componentSections))return;const s=h[i];s.getRequest(),p[i].get(t).then(e=>{s.getSuccess({[i]:e})}).catch(e=>{s.getFailed(e),c.handleError(e)})}};function g(){r.a.dispatcher.register(e=>{switch(e.type){case o.a.OPEN_DIALOG:setTimeout(f.onPreview,0,e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(278),o=n.n(i),a=n(269),r=n.n(a);const s={onWorkflowStatusFilterChange({workflowStatus:e}){mixpanel.master.track("Filtered by status",{Name:e.name,Color:e.color.toHexString()})}};function l(){r.a.dispatcher.register(e=>{switch(e.type){case o.a.CHANGE_WORKFLOW_STATUS_FILTER:return s.onWorkflowStatusFilterChange(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(2014),o=n(2015),a=n(2016),r=n(2017),s=n(2018);function l(){Object(i.default)(),Object(o.default)(),Object(a.default)(),Object(r.default)(),Object(s.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(330),o=n(385),a=n(269),r=n.n(a),s=n(258),l=n(262);const c={project:s.project,styleguide:s.styleguide},d={handleConvertSectionToVariantSection({bid:e,barrelType:t,csid:n}){c[t].convertComponentSectionToVariantSection(e,n).then(({name:i,variant:a,components:r})=>{o.default.setComponentVariantData({bid:e,barrelType:t,csid:n,name:i,sectionVariant:a,components:r,userConvertedSectionIntoVariant:!0})}).catch(l.handleError)},handleConvertVariantSectionToSection({bid:e,barrelType:t,csid:n}){c[t].convertVariantSectionToComponentSection(e,n).then(()=>{o.default.removeComponentVariantData({bid:e,barrelType:t,csid:n})}).catch(l.handleError)},handleAddComponentVariantProperty({bid:e,barrelType:t,csid:n,componentVariantProperty:i}){const{_id:a,name:r}=i;c[t].createComponentSectionVariantProperty(e,n,r).then(({_id:i})=>{const s={_id:i,name:r};o.default.updateComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:a,data:s})}).catch(i=>{Object(l.handleError)(i),o.default.removeComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:a})})},handleUpdateComponentVariantPropertyName({bid:e,barrelType:t,csid:n,vpid:i,name:a,oldName:r}){c[t].updateComponentSectionVariantProperty(e,n,i,{name:a}).catch(a=>{Object(l.handleError)(a),o.default.updateComponentVariantPropertyName({bid:e,barrelType:t,csid:n,vpid:i,name:r})})},handleUpdateComponentVariantPropertyValues({bid:e,barrelType:t,csid:n,vpid:i,values:a,oldValues:r}){c[t].updateComponentSectionVariantProperty(e,n,i,{values:a}).catch(a=>{Object(l.handleError)(a),o.default.updateComponentVariantPropertyValues({bid:e,barrelType:t,csid:n,vpid:i,values:r})})},handleUpdateComponentVariantPropertiesOrder({bid:e,barrelType:t,csid:n,properties:i,oldProperties:a}){c[t].updateComponentSectionVariantPropertiesOrder(e,n,{properties:i}).catch(i=>{Object(l.handleError)(i),o.default.updateComponentVariantPropertiesOrder({bid:e,barrelType:t,csid:n,properties:a})})},handleUpdateComponentVariantPropertyValue({bid:e,barrelType:t,csid:n,vpid:i,coid:a,value:r}){c[t].updateComponentsVariantProperty(e,n,i,[a],r).then(({name:i,variant:a,components:r})=>{o.default.setComponentVariantData({bid:e,barrelType:t,csid:n,name:i,sectionVariant:a,components:r})}).catch(l.handleError)},handleRemoveComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:i,removedComponentVariantProperty:a}){c[t].deleteComponentSectionVariantProperty(e,n,i).catch(r=>{Object(l.handleError)(r),o.default.addComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:i,componentVariantProperty:a})})},handleCreateComponentSectionVariantGroups({bid:e,barrelType:t,csid:n,vpid:i}){c[t].createComponentSectionVariantGroups(e,n,i).then(({components:i,componentSections:a})=>{o.default.groupComponentsByVariantProperty({bid:e,barrelType:t,csid:n,components:i,componentSections:a})}).catch(l.handleError)}};function u(){r.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.CONVERT_SECTION_TO_VARIANT_SECTION:d.handleConvertSectionToVariantSection(e);break;case i.default.CONVERT_VARIANT_SECTION_TO_SECTION:d.handleConvertVariantSectionToSection(e);break;case i.default.ADD_COMPONENT_VARIANT_PROPERTY:d.handleAddComponentVariantProperty(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:d.handleUpdateComponentVariantPropertyName(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:d.handleUpdateComponentVariantPropertyValues(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:d.handleUpdateComponentVariantPropertiesOrder(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:d.handleUpdateComponentVariantPropertyValue(e);break;case i.default.REMOVE_COMPONENT_VARIANT_PROPERTY:d.handleRemoveComponentVariantProperty(e);break;case i.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS:d.handleCreateComponentSectionVariantGroups(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(330),o=n(269),a=n.n(o),r=n(229),s=n(228);const l={sendHideColorsToElectron({barrelId:e,colors:t}){r.default.ipcRenderer.send("hide-suggested-colors",{id:e,colors:t})},sendHideTextStylesToElectron({barrelId:e,textStyles:t}){r.default.ipcRenderer.send("hide-suggested-text-styles",{id:e,textStyles:t})}};function c(){a.a.dispatcher.register(e=>{if(s.isWindowsApp)switch(e.type){case i.default.HIDE_SUGGESTED_COLORS:return l.sendHideColorsToElectron(e);case i.default.HIDE_SUGGESTED_TEXT_STYLES:return l.sendHideTextStylesToElectron(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(376),o=n(276),a=n.n(o),r=n(258),s=n(1398),l=n(269),c=n.n(l);const d={async getSnapshot({bid:e,csids:t,coid:n,shouldFetchSnapshot:o,componentVersion:{_id:a,fullSnapshotUrl:l}}){if(o)try{const o=await Object(r.fetchSnapshot)(l);Object(s.preprocessLayers)(o.layers),await o.assets.map(t=>Object(s.addAssetStats)(e,n,o,t)),i.default.setComponentSnapshot({bid:e,csids:t,coid:n,vid:a,snapshot:o})}catch(c){}},getSnapshotIfNecessary(e){const{bid:t,csids:n,coid:i,shouldFetchSnapshot:o,componentData:a}=e;if(!a||!a.latestVersion)return;const{latestVersion:{_id:r,fullSnapshotUrl:s}}=a;this.getSnapshot({bid:t,csids:n,coid:i,shouldFetchSnapshot:o,componentVersion:{_id:r,fullSnapshotUrl:s}})}};function u(){c.a.dispatcher.register(e=>{switch(e.type){case a.a.ADD_COMPONENT_VERSION:d.getSnapshot(e);break;case a.a.UPDATE_COMPONENT:d.getSnapshotIfNecessary(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(330),o=n(269),a=n.n(o),r=n(334),s=n.n(r),l=n(242),c=n(261),d=n.n(c);const u={handleConvertSectionToVariantSection(){mixpanel.master.track("Set as component variant section")},handleConvertVariantSectionToSection(){mixpanel.master.track("Unset as component variant section")},handleAddComponentVariantProperty(){mixpanel.master.track("Add component variant property")},handleRemoveComponentVariantProperty(){mixpanel.master.track("Remove component variant property")},handleRenameComponentVariantProperty(){mixpanel.master.track("Rename component variant property")},handleUpdateComponentVariantPropertyValues({values:e}){mixpanel.master.track("Update component variant property value",{"Number of Components":e?e.length:1})},handleOpenComponentVariantPopup({variantPopupSource:e}){mixpanel.master.track("Opened component variant pop-up",{Source:e})},handleChangeComponentVariant({variantChangeValueSource:e,isState:t}){mixpanel.master.track("Changed variant in component variant pop-up",{Source:e,"Is State":t})},handleChangeSortType({sortType:e}){mixpanel.master.track("Sorted components",{Type:e})},collapseAllSections(){const{barrelId:e,barrelType:t}=a.a.BarrelStore.getState(),n=t===d.a.PROJECT?"project-styleguide":"styleguide";window.history.replaceState({},"Components - Styleguide - Zeplin",Object(l.urlResolve)(n+"-components",{url:{bid:e}}))}};function p(){a.a.dispatcher.register(e=>{switch(e.type){case s.a.OPEN:return u.handleOpenComponentVariantPopup(e);case s.a.CHANGE_VARIANT:return u.handleChangeComponentVariant(e);case i.default.CHANGE_SORT_TYPE:return u.handleChangeSortType(e);case i.default.COLLAPSE_ALL_SECTIONS:return u.collapseAllSections()}if(e.syncWithApi)switch(e.type){case i.default.CONVERT_SECTION_TO_VARIANT_SECTION:return u.handleConvertSectionToVariantSection();case i.default.CONVERT_VARIANT_SECTION_TO_SECTION:return u.handleConvertVariantSectionToSection();case i.default.ADD_COMPONENT_VARIANT_PROPERTY:return u.handleAddComponentVariantProperty();case i.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return u.handleRemoveComponentVariantProperty();case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return u.handleRenameComponentVariantProperty();case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return u.handleUpdateComponentVariantPropertyValues(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(234),o=n(330),a=n(269),r=n.n(a),s=n(361),l=n(276),c=n.n(l);const d={changeLeftSidebarWidth(e){const{id:t}=s.default.getBarrel();i.barrelPrefs.set(t,"styleguideLeftSidebarWidth",e)},changeRightSidebarWidth(e){const{id:t}=s.default.getBarrel();i.barrelPrefs.set(t,"styleguideRightSidebarWidth",e)},hideComponentVariantsOnboardingDialog(){i.userPrefs.set("componentVariantsOnboardingDialogSeen",!0)},toggleSectionCollapsedState(e,{shouldCollapse:t}){const{id:n}=s.default.getBarrel();i.barrelPrefs.get(n,"collapsedSections").then(o=>{e.forEach(e=>{o[e]=t}),i.barrelPrefs.set(n,"collapsedSections",o)})},updateCollapsedSections(e){const{id:t}=s.default.getBarrel();i.barrelPrefs.set(t,"collapsedSections",e)}};function u(){r.a.dispatcher.register(e=>{switch(e.type){case o.default.CHANGE_LEFT_SIDEBAR_WIDTH:d.changeLeftSidebarWidth(e.leftSidebarWidth);break;case o.default.CHANGE_RIGHT_SIDEBAR_WIDTH:d.changeRightSidebarWidth(e.rightSidebarWidth);break;case o.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:d.hideComponentVariantsOnboardingDialog();break;case o.default.EXPAND_SECTIONS:d.toggleSectionCollapsedState(e.seids,{shouldCollapse:!1});break;case o.default.COLLAPSE_SECTIONS:case o.default.COLLAPSE_ALL_SECTIONS:d.toggleSectionCollapsedState(e.seids,{shouldCollapse:!0});break;case o.default.CHANGE_SELECTION:if(!e.updateCollapsedSections||!e.collapsedSections)return;d.updateCollapsedSections(e.collapsedSections);break;case o.default.UPDATE_STATE:if(!e.update||!e.update.collapsedSections)return;d.updateCollapsedSections(e.update.collapsedSections);break;case c.a.LOAD:if(!e.styleguide||!e.styleguide.collapsedSections)return;d.updateCollapsedSections(e.styleguide.collapsedSections)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(2020),o=n(2021);function a(){Object(o.default)(),Object(i.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(258),o=n(262),a=n(361),r=n(269),s=n.n(r),l=n(1166),c=n(310);const d={getStyleguide(e,{styleguideId:t}){const n=a.default.getBarrel({bid:e});return n&&n.complete?n:i.getStyleguide(e,{styleguideId:t})},getAncestors(e,t){return Promise.all(t.map(t=>this.getStyleguide(t,{styleguideId:e})))}},u={selectParentRequest({stid:e,parent:t}){i.updateStyleguideParent(e,t).then(()=>{const{styleguides:n}=s.a.StyleguidesDataStore.getState(),i=[...n[t].ancestors,t].filter(e=>!(n[e]&&n[e].complete));return d.getAncestors(e,i)}).then(n=>{l.default.selectParentSuccess({stid:e,parent:t,styleguides:n})}).catch(e=>{l.default.selectParentFailed(),o.handleError(e)})},removeParent({stid:e,oldParent:t}){i.removeStyleguideParent(e).catch(n=>{t?l.default.selectParent({stid:e,parent:t}):l.default.removeParent({stid:e}),o.handleError(n)})}};function p(){s.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case c.default.SELECT_PARENT_REQUEST:u.selectParentRequest(e);break;case c.default.REMOVE_PARENT:u.removeParent(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(234),o=n(269),a=n.n(o),r=n(310);const s={usedStyleguides(){i.userPrefs.set("styleguidesUsed",!0)}};function l(){a.a.dispatcher.register(e=>{switch(e.type){case r.default.CREATE_STYLEGUIDE:s.usedStyleguides()}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2023));t.default=function(){o.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(269)),a=i(n(350)),r=i(n(2024)),s=n(258),l={project:s.project,styleguide:s.styleguide},c={handleGetTeamsIntegration(e,t){l[e].getTeamsIntegration(t).then(e=>r.default.setTeamsIntegration(e.channels)).catch(()=>r.default.setTeamsIntegration([]))}};t.default=function(){o.default.dispatcher.register(e=>{switch(e.type){case a.default.GET_TEAMS_INTEGRATION:c.handleGetTeamsIntegration(e.barrelType,e.barrelId)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(350)),a=i(n(269)),r={getTeamsIntegration(e,t){a.default.dispatcher.dispatch({type:o.default.GET_TEAMS_INTEGRATION,barrelType:e,barrelId:t})},setTeamsIntegration(e){a.default.dispatcher.dispatch({type:o.default.SET_TEAMS_INTEGRATION,channels:e})}};t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(2026);function o(){Object(i.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(234),o=n(269),a=n.n(o),r=n(356);const s={setUserAttribute({name:e,value:t}){switch(e){case"verified":Zeplin.updateUser({status:"verified"});break;case"isEmailNotificationEnabled":Zeplin.updateUser({emailNotifications:t});break;case"isDesktopNotificationEnabled":i.userPrefs.set("notificationStatus",t);break;default:Zeplin.updateUser({[e]:t})}},markZeplinThreeZeroWhatsNewAsSeen(){i.userPrefs.set("zeplinThreeZeroWhatsNewSeen",!0)},stopPromotingSpacingSectionDescriptionEditButton(){i.userPrefs.set("shouldPromoteSpacingSectionDescriptionEditButton",!1)},hideStyleguideTutorial(){i.userPrefs.set("shouldDisplayStyleguideTutorial",!1)}};function l(){a.a.dispatcher.register(e=>{switch(e.type){case r.default.SET_USER_ATTRIBUTE:s.setUserAttribute(e);break;case r.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:s.markZeplinThreeZeroWhatsNewAsSeen();break;case r.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:s.stopPromotingSpacingSectionDescriptionEditButton();break;case r.default.HIDE_STYLEGUIDE_TUTORIAL:s.hideStyleguideTutorial()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(2028),o=n(2030);function a(){Object(i.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(269),o=n.n(i),a=n(353),r=n(2029),s=n(258),l=n(262);const c={handleCreateWebhook({oid:e,webhook:t}){const{subscribedAllEvents:n}=t;n&&delete t.subscriptions,Object(s.createWebhook)(e,t).then(r.default.createWebhookSuccess).catch(e=>{r.default.createWebhookFailure(),l.handleError(e)})},handleUpdateWebhook({oid:e,webhook:t}){const{url:n,secret:i,status:o,subscribedAllEvents:a,subscriptions:c}=t,d={url:n,secret:i,status:o,subscribedAllEvents:a,subscriptions:c};a&&delete d.subscriptions,Object(s.updateWebhook)(e,t._id,d).then(()=>r.default.updateWebhookSuccess(t)).catch(e=>{r.default.updateWebhookFailure(),l.handleError(e)})},handleDeleteWebhook({oid:e,webhookId:t}){Object(s.deleteWebhook)(e,t).then(()=>r.default.deleteWebhookSuccess(t)).catch(e=>{r.default.deleteWebhookFailure(),l.handleError(e)})}};function d(){o.a.dispatcher.register(e=>{switch(e.type){case a.default.CREATE_WEBHOOK_REQUEST:c.handleCreateWebhook(e);break;case a.default.UPDATE_WEBHOOK_REQUEST:c.handleUpdateWebhook(e);break;case a.default.DELETE_WEBHOOK_REQUEST:c.handleDeleteWebhook(e)}})}},function(e,t,n){"use strict";n.r(t);var i=n(269),o=n.n(i),a=n(353);const r={getWebhooks(e){o.a.dispatcher.dispatch({type:a.default.GET_WEBHOOKS_REQUEST,oid:e})},getWebhooksSuccess(e){o.a.dispatcher.dispatch({type:a.default.GET_WEBHOOKS_SUCCESS,webhooks:e})},getWebhook(e,t){o.a.dispatcher.dispatch({type:a.default.GET_WEBHOOK_REQUEST,oid:e,webhookId:t})},getWebhookSuccess(e){o.a.dispatcher.dispatch({type:a.default.GET_WEBHOOK_SUCCESS,webhook:e})},getWebhookFailure(){o.a.dispatcher.dispatch({type:a.default.GET_WEBHOOK_FAILURE})},createWebhook(e,t){o.a.dispatcher.dispatch({type:a.default.CREATE_WEBHOOK_REQUEST,oid:e,webhook:t})},createWebhookSuccess(e){o.a.dispatcher.dispatch({type:a.default.CREATE_WEBHOOK_SUCCESS,webhook:e})},createWebhookFailure(){o.a.dispatcher.dispatch({type:a.default.CREATE_WEBHOOK_FAILURE})},updateWebhook(e,t){o.a.dispatcher.dispatch({type:a.default.UPDATE_WEBHOOK_REQUEST,oid:e,webhook:t})},updateWebhookSuccess(e){o.a.dispatcher.dispatch({type:a.default.UPDATE_WEBHOOK_SUCCESS,webhook:e})},updateWebhookFailure(){o.a.dispatcher.dispatch({type:a.default.UPDATE_WEBHOOK_FAILURE})},deleteWebhook(e,t){o.a.dispatcher.dispatch({type:a.default.DELETE_WEBHOOK_REQUEST,oid:e,webhookId:t})},deleteWebhookSuccess(e){o.a.dispatcher.dispatch({type:a.default.DELETE_WEBHOOK_SUCCESS,webhookId:e})},deleteWebhookFailure(){o.a.dispatcher.dispatch({type:a.default.DELETE_WEBHOOK_FAILURE})}};t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(269),o=n.n(i),a=n(353),r=n(2029),s=n(258),l=n(260),c=n.n(l),d=n(262);const u={handleGetWebhooks({oid:e}){Object(s.getWebhooks)(e).then(r.default.getWebhooksSuccess).catch(e=>{if(e.status===c.a.STATUS.PRECONDITION_FAILED)return r.default.getWebhooksSuccess([]);d.handleError(e)})},handleGetWebhook({oid:e,webhookId:t}){const{webhooks:n}=o.a.WebhooksDataStore.getState(),i=n.find(e=>e._id===t)||{};if(i.complete)return setTimeout(()=>{r.default.getWebhookSuccess(i)});Object(s.getWebhook)(e,t).then(r.default.getWebhookSuccess).catch(e=>{r.default.getWebhookFailure(),d.handleError(e)})}};function p(){o.a.dispatcher.register(e=>{switch(e.type){case a.default.GET_WEBHOOKS_REQUEST:u.handleGetWebhooks(e);break;case a.default.GET_WEBHOOK_REQUEST:u.handleGetWebhook(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(232),o=n(576),a=n(234),r=n(767),s=n(258),l=n(2032),c=n(765),d=n(269),u=n.n(d);function p(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}async function h(){let e=u.a.UserStore.getState(),{loading:t}=e,n=p(e,["loading"]);if(t){if(n=await function(){const e=Object(l.fetchEmbeddedData)("user",{remove:!1});return e?Promise.resolve(e):i.default.get("userToken")?Object(s.getUserProfile)():Promise.resolve(null)}(),!n)return;c.default.loadUser(n)}const{notificationBannerStatus:d,notificationStatus:h,zeplinThreeZeroWhatsNewSeen:f,shouldPromoteSpacingSectionDescriptionEditButton:g,shouldDisplayStyleguideTutorial:m}=await a.userPrefs.getAll(),b=(await r.getPlans()).find(e=>e.id===n.paymentPlan);c.default.updateUser({isDesktopNotificationEnabled:h,zeplinThreeZeroWhatsNewSeen:f,shouldPromoteSpacingSectionDescriptionEditButton:g,shouldDisplayStyleguideTutorial:m,paymentPlan:b}),window.Notification&&"default"===Notification.permission&&d&&o.show({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback(){a.userPrefs.set("notificationBannerStatus",!1)},bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("notification"),Notification.requestPermission(e=>{c.default.setDesktopNotifications("granted"===e)})}}}),"registered"===n.status&&"dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&o.show({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback(){sessionStorage.setItem("verificationBannerStatus","dismissed")}})}},function(e,t,n){"use strict";function i(e,{remove:t=!0}={}){if("apiData"in Zeplin&&e in Zeplin.apiData){const n=Zeplin.apiData[e];return t&&delete Zeplin.apiData[e],n}}n.r(t),n.d(t,"fetchEmbeddedData",(function(){return i}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(229),o=n(245),a=n(242),r=n(269),s=n.n(r),l=n(534),c=n(345);function d(e,t){l.default.handleImports(t)}function u(){i.default.ipcRenderer.on("imports-change",Object(o.debounce)(d)),i.default.ipcRenderer.send("subscribe-to-imports")}function p(e){e.forEach((function(e){e.remove()}))}function h(e){e.stopPropagation(),"height"===e.propertyName&&e.target.remove()}function f(e){e.stopPropagation();const t=e.target;t.removeEventListener("transitionend",f),t.classList.remove("resize"),t.style.transitionDuration="";const n=document.querySelectorAll(".versionImport"),i=document.querySelectorAll(".versionImport.hidden");0!==n.length&&i.length!==n.length||l.default.hideImportsIndicator(),i.length&&p(i),u()}function g(e){e.stopPropagation();const t=document.querySelector(".versionImports .body"),n=document.querySelector(".versionImports .list"),o=Array.from(document.querySelectorAll(".versionImport.done, .versionImport.failed"));if(0===o.length)return;i.default.ipcRenderer.removeAllListeners("imports-change");var a=o.reduce((function(e,n){return!function(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.bottom>=i.top&&n.top<=i.bottom}(n,t)?e.hideAndRemove.push(n):e.animateAndRemove.unshift(n),e}),{hideAndRemove:[],animateAndRemove:[]});const r=a.hideAndRemove,s=a.animateAndRemove;let l=n.clientHeight,c=l,d=0;n.style.height=l+"px";var g=t.getBoundingClientRect();r.forEach((function(e){const i=e.getBoundingClientRect();l-=i.height,c-=e.height,n.style.height=l+"px";const o=i.bottom<g.top;e.classList.add("hidden"),o&&(t.scrollTop-=i.height)})),s.forEach((function(e){const t=e.getBoundingClientRect().height;c-=t,e.addEventListener("transitionend",h),e.style.transitionDelay=d+"ms",e.classList.add("clear"),d+=80}));let m=d-80;const b=c<l,S=c<t.clientHeight-52;if(b&&S){l>t.clientHeight-52&&(n.style.height=t.clientHeight-52+"px"),n.addEventListener("transitionend",f),n.classList.add("resize"),n.style.transitionDuration=m+150+200+"ms",n.style.height=c+"px"}else n.style.height="auto",p(r),s.length>0?setTimeout(u,m+200):u();i.default.ipcRenderer.send("clear-imports")}function m(){i.default&&i.default.ipcRenderer&&(i.default.ipcRenderer.on("imports-started",l.default.showImportsList),i.default.ipcRenderer.on("set-suggested-resources",(function(e,t){l.default.setSuggestedResources(t)})),s.a.dispatcher.register(e=>{switch(e.type){case c.default.RETRY_IMPORT:n=e.id,i.default.ipcRenderer.send("retry-import",n);break;case c.default.CANCEL_IMPORT:!function(e){i.default.ipcRenderer.send("cancel-import",e)}(e.id);break;case c.default.RETRY_GET_PROJECT_FOR_IMPORTS:!function(e){i.default.ipcRenderer.send("retry-getting-project",e)}(e.id);break;case c.default.CLEAR_IMPORTS:g(e.ev);break;case c.default.HIDE_COMPONENT_LIMIT_HINT:t=e.barrelId,i.default.ipcRenderer.send("remove-component-limit-rejection",t);break;case c.default.SEE_PLANS:location.assign(Object(a.urlResolve)("profile-billing",{query:{period:"annual"}}))}var t,n}),u())}},function(e,t,n){"use strict";n.r(t);n(2035),n(2038),n(2042);var i=n(2044);n.d(t,"registerWorkspaceSocketBindings",(function(){return i.registerWorkspaceSocketBindings}))},function(e,t,n){"use strict";n.r(t);var i=n(575),o=n(2036),a=n(2037),r=n(765),s=n(908),l=n(577),c=n.n(l);i.userChannel&&(i.userChannel.bind(o.default.UPDATE_USERNAME,({body:{username:e}})=>{r.default.setUsername(e)}),i.userChannel.bind(o.default.UPDATE_EMAIL,({body:{email:e}})=>{r.default.setEmail(e)}),i.userChannel.bind(o.default.UPDATE_USER,({body:{fullName:e,bio:t}})=>{r.default.setFullName(e),r.default.setBio(t)}),i.userChannel.bind(o.default.UPDATE_AVATAR,({body:{avatar:e}})=>{r.default.setAvatar(e)}),i.userChannel.bind(o.default.UPDATE_EMOTAR,({body:{emotar:e}})=>{r.default.setEmotar(e)}),i.userChannel.bind(o.default.UPDATE_EMAIL_NOTIFICATION,({body:{emailNotifications:e}})=>{r.default.setEmailNotifications(e)}),i.userChannel.bind(o.default.UPDATE_NOTIFICATION_EVENT,({params:{nid:e,eventId:t},body:{markedAsRead:n}})=>{c.a.setEventReadStatusOffline(e,t,n)}),i.userChannel.bind(o.default.UPDATE_NOTIFICATIONS,({body:{nids:e,markedAsRead:t}})=>{c.a.setReadStatusOffline(e,t)}),i.userChannel.bind(o.default.NOTIFICATION,e=>{c.a.addNotification(e.body)}),i.userChannel.bind(o.default.UPDATE_BILLING,({body:e})=>{r.default.setBilling(e)}),i.userChannel.bind(a.default.CREATE,({body:e})=>{s.default.addOrganization(e)}),i.userChannel.bind(a.default.INVITE_MEMBERS,({body:e})=>{s.default.addOrganization(e)}),i.userChannel.bind(o.default.VERIFY,r.default.setVerified),i.userChannel.bind(o.default.DELETE,r.default.logout))},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateUser",DELETE:"DeleteUser",UPDATE_EMAIL:"UpdateEmail",UPDATE_EMAIL_NOTIFICATION:"UpdateEmailNotifications",UPDATE_NOTIFICATION_EVENT:"UpdateNotificationEvent",UPDATE_NOTIFICATIONS:"UpdateNotifications",NOTIFICATION:"Notification",UPDATE_AVATAR:"UpdateUserAvatar",UPDATE_BILLING:"UpdateUserBilling",UPDATE_EMOTAR:"UpdateUserEmotar",UPDATE_USERNAME:"UpdateUsername",UPDATE_USER:"UpdateUser",VERIFY:"VerifyUser"}},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateOrganization",CREATE_PROJECT:"CreateProject",CREATE_STYLEGUIDE:"CreateStyleguide",DELETE:"DeleteOrganization",INVITE_MEMBERS:"InviteOrganizationMembers",REMOVE_USER:"RemoveMemberFromOrganization",UPDATE_BILLING:"UpdateOrganizationBilling",UPDATE_DOMAIN:"UpdateOrganizationDomain",UPDATE_LOGO:"UpdateOrganizationLogo",UPDATE_STATUS:"UpdateOrganizationStatus",UPDATE_MEMBER_ACCESSIBILITY:"UpdateOrganizationMemberAccessibility",UPDATE_MEMBER_ROLE:"UpdateOrganizationMemberRole",UPDATE_MEMBER_TAGS:"UpdateOrganizationMembersTags",UPDATE_NAME:"UpdateOrganizationName",ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS:"AddProjectToOrganizationMemberFocus",REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS:"RemoveProjectFromOrganizationMemberFocus",ADD_WORKFLOW_STATUS:"AddOrganizationWorkflowStatus",UPDATE_WORKFLOW_STATUS:"UpdateOrganizationWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteOrganizationWorkflowStatus",ADD_SECTION:"CreateOrganizationSection",UPDATE_SECTION:"UpdateOrganizationSection",DELETE_SECTION:"DeleteOrganizationSection",ADD_SECTION_LINK:"CreateOrganizationSectionLink",UPDATE_SECTION_LINK:"UpdateOrganizationSectionLink",DELETE_SECTION_LINK:"DeleteOrganizationSectionLink",UPDATE_SECTION_PROJECT:"UpdateOrganizationSectionProjects",UPDATE_SECTION_ORDER:"UpdateOrganizationSectionsOrder"}},function(e,t,n){"use strict";n.r(t);var i=n(575),o=n(1961),a=n(2039),r=n(2036),s=n(2040),l=n(2041),c=n(324),d=n(1660),u=n(1078),p=n(376),h=n(361),f=n(386),g=n(385),m=n(1166),b=n(382),S=n(1301),y=n.n(S),C=n(1274),v=n(269),O=n.n(v),E=n(362),T=n(908),_=n(261),P=n.n(_),j=n(258);function D(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.default&&(i.default.bind_global((e,{params:{pid:t}={}})=>{t&&(h.default.hasProject(t)||Object(o.unsubscribeFromProjectChannel)(t))}),i.default.bind(a.default.TRANSFER_OWNERSHIP,({params:{oid:e,pid:t,mid:n,uid:i},body:a,body:{users:r}})=>{if(n){const o=r.find(e=>e.user._id===Zeplin.user._id);return o&&(Zeplin.user.paymentPlan=o.paymentPlan),void u.default.transferOwnership({bid:t,fromUserId:n,targetId:i,users:r,oid:e})}if(!e)return;const{organizations:s}=O.a.OrganizationStore.getState();if(s.find(t=>t._id===e))if("_id"in a)h.default.hasProject(t)&&p.default.remove({barrelType:P.a.PROJECT,bid:t}),p.default.add({barrelType:P.a.PROJECT,barrel:a,oid:e});else{r.some(e=>e.user._id===Zeplin.user._id)||p.default.remove({barrelType:P.a.PROJECT,bid:t})}else Object(o.unsubscribeFromOrganizationChannel)(e)}),i.default.bind(a.default.UPDATE_NAME,({params:{pid:e},body:{name:t}})=>{p.default.updateName({bid:e,name:t})}),i.default.bind(a.default.UPDATE_DESCRIPTION,({params:{pid:e},body:{description:t}})=>{p.default.updateDescription({bid:e,description:t})}),i.default.bind(a.default.UPDATE_DENSITY_SCALE,({params:{pid:e},body:{densityScale:t}})=>{p.default.updateDensityScale({bid:e,densityScale:t})}),i.default.bind(a.default.UPDATE_THUMBNAIL,({params:{pid:e},body:{thumbnail:t}})=>{p.default.updateThumbnail({bid:e,thumbnail:t})}),i.default.bind(a.default.UPDATE_UPDATED,({params:{pid:e},body:{updated:t}})=>{u.default.updateProject({pid:e,data:{updated:t}})}),i.default.bind(a.default.UPDATE_ACCESSIBILITY,({params:{pid:e},body:{public:t}})=>{p.default.toggleScene({bid:e,accessibility:t})}),i.default.bind(a.default.ADD_INTEGRATION_EVENT,({params:{pid:e,intype:t,inid:n,event:i}})=>{y.a.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),i.default.bind(a.default.DELETE_INTEGRATION_EVENT,({params:{pid:e,intype:t,inid:n,event:i}})=>{y.a.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),i.default.bind(a.default.DELETE_INTEGRATION,({params:{pid:e,intype:t,inid:n}})=>{p.default.removeIntegration({bid:e,intype:t,inid:n})}),i.default.bind(a.default.ADD_EXTENSION,({params:{uid:e,pid:t},body:{_id:n}})=>{C.default.load({barrelType:P.a.PROJECT,bid:t,uid:e,eid:n})}),i.default.bind(a.default.REMOVE_EXTENSION,({params:{pid:e,eid:t}})=>{C.default.remove({barrelType:P.a.PROJECT,bid:e,eid:t})}),i.default.bind(a.default.ACTIVATE,({params:{pid:e}})=>{p.default.activate({bid:e,barrelType:P.a.PROJECT})}),i.default.bind(a.default.ARCHIVE,({params:{pid:e,uid:t}})=>{p.default.archive({bid:e,barrelType:P.a.PROJECT,uid:t})}),i.default.bind(a.default.DELETE,({params:{pid:e,uid:t}})=>{p.default.remove({barrelType:P.a.PROJECT,bid:e,uid:t})}),i.default.bind(r.default.CREATE,({params:{pid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:I(I({},n),{},{status:"registered"})})}),i.default.bind(a.default.INVITE_USER,({params:{pid:e,oid:t="user",oseid:n},body:i})=>{const o="role"in i,a=h.default.hasProject(e);if(o&&a)p.default.addMembers({barrelType:P.a.PROJECT,bid:e,members:[i]});else if(a)u.default.updateProject({pid:e,data:i});else{if("user"!==t){let e=E.default.getOrganization(t);!e&&i.organization&&(T.default.addOrganization(i.organization),e=E.default.getOrganization(t));const{sections:o=[]}=e;if(n&&!o.some(e=>e._id===n))return void j.getOrganizationSection(t,n).then(({section:e,index:o})=>{p.default.add({barrelType:P.a.PROJECT,oid:t,oseid:n,barrel:I(I({},i),{},{complete:!1})}),T.default.addProjectSection({oid:t,index:o,sectionData:e})})}p.default.add({barrelType:P.a.PROJECT,oid:t,oseid:n,barrel:I(I({},i),{},{complete:!1})})}}),i.default.bind(a.default.UPDATE_USER_ROLE,({params:{pid:e,mid:t},body:{role:n}})=>{p.default.updateUserRole({bid:e,uid:t,role:n})}),i.default.bind(r.default.UPDATE_USER,({params:{pid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(r.default.UPDATE_USERNAME,({params:{pid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(r.default.UPDATE_EMAIL,({params:{pid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(r.default.UPDATE_AVATAR,({params:{pid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(r.default.UPDATE_EMOTAR,({params:{pid:e,uid:t},body:{emotar:n}})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:{emotar:n}})}),i.default.bind(r.default.DELETE,({params:{pid:e,uid:t}})=>{e&&p.default.removeMember({bid:e,uid:t})}),i.default.bind(a.default.REMOVE_USER,({params:{pid:e,uid:t,mid:n}})=>{p.default.removeMember({bid:e,uid:t,mid:n})}),i.default.bind(a.default.ATTACH_JIRA_ISSUE,({params:{pid:e},body:t})=>{const n=new c.default(t.jira);p.default.attachJiraIssue({bid:e,jira:n})}),i.default.bind(a.default.REMOVE_JIRA_ISSUE_ATTACHMENT,({params:{pid:e,aid:t}})=>{p.default.removeJiraIssueAttachment({bid:e,aid:t})}),i.default.bind(a.default.CREATE_SECTION,e=>{let{params:{pid:t},body:{index:n}}=e,i=D(e.body,["index"]);f.default.addSection({pid:t,section:i,index:n})}),i.default.bind(a.default.UPDATE_SECTION,({params:{pid:e,seid:t},body:n})=>{f.default.updateSection({pid:e,seid:t,sectionData:n})}),i.default.bind(a.default.UPDATE_SECTIONS_ORDER,({params:{pid:e},body:{sections:t}})=>{t.forEach(({_id:t,to:n})=>{f.default.updateSectionOrder({pid:e,seid:t,index:n})})}),i.default.bind(a.default.UPDATE_SECTION_SCREENS,({params:{pid:e,seid:t},body:{index:n,screens:i}})=>{f.default.updateScreenOrder({pid:e,screens:i,targetSectionId:t,targetIndex:n})}),i.default.bind(a.default.DELETE_SECTION,({params:{pid:e,seid:t}})=>{f.default.removeSection({pid:e,seid:t})}),i.default.bind(s.default.CREATE_V3,({params:{pid:e},body:t})=>{b.default.addScreen({pid:e,screen:t})}),i.default.bind(s.default.UPDATE,({params:{pid:e,sid:t},body:{name:n,description:i}})=>{n&&b.default.updateName({pid:e,sid:t,name:n}),i&&b.default.updateDescription({pid:e,sid:t,description:i})}),i.default.bind(s.default.UPDATE_TAGS,({params:{pid:e},body:{screens:t}})=>{b.default.updateTags({pid:e,updates:t})}),i.default.bind(s.default.CREATE_VERSION,({params:{pid:e,sid:t},body:n})=>{b.default.addVersion({pid:e,sid:t,version:n})}),i.default.bind(s.default.UPDATE_VERSION_COMMIT_COLOR,({params:{pid:e,sid:t,vid:n},body:{color:i}})=>{b.default.updateCommitColor({pid:e,sid:t,vid:n,color:i})}),i.default.bind(s.default.UPDATE_VERSION_COMMIT_MESSAGE,({params:{pid:e,sid:t,vid:n},body:{message:i}})=>{b.default.updateCommitMessage({pid:e,sid:t,vid:n,message:i})}),i.default.bind(s.default.DELETE_VERSION,({params:{pid:e,sid:t,vid:n}})=>{b.default.removeVersion({pid:e,sid:t,vid:n})}),i.default.bind(s.default.DELETE,({params:{pid:e,uid:t,sid:n}})=>{b.default.removeScreen({pid:e,uid:t,sid:n})}),i.default.bind(l.default.CREATE,({params:{pid:e,sid:t,uid:n},body:i})=>{b.default.addDot({pid:e,sid:t,uid:n,dot:i})}),i.default.bind(l.default.CREATE_COMMENT,({params:{uid:e,pid:t,sid:n,did:i},body:o})=>{b.default.addComment({pid:t,sid:n,uid:e,did:i,comment:o})}),i.default.bind(l.default.UPDATE_COMMENT_NOTE,({params:{uid:e,pid:t,sid:n,did:i,cmid:o},body:{note:a,updated:r=new Date}})=>{b.default.updateComment({pid:t,sid:n,uid:e,did:i,cmid:o,commentData:{note:a,updated:r}})}),i.default.bind(l.default.UPDATE,({params:{pid:e,sid:t,did:n},body:i})=>{b.default.updateDot({pid:e,sid:t,did:n,dotData:i})}),i.default.bind(l.default.DELETE,({params:{pid:e,sid:t,did:n}})=>{b.default.removeDot({pid:e,sid:t,did:n})}),i.default.bind(l.default.DELETE_COMMENT,({params:{pid:e,sid:t,did:n,cmid:i}})=>{b.default.removeComment({pid:e,sid:t,did:n,cmid:i})}),i.default.bind(a.default.UPDATE_STYLEGUIDE_LINK,({params:{pid:e},body:{styleguideLink:t}})=>{u.default.updateProject({pid:e,data:{styleguideLink:t}})}),i.default.bind(a.default.REMOVE_STYLEGUIDE_LINK,({params:{pid:e},body:{styleguideLink:{styleguide:t}}})=>{d.default.unlinkProjectFromStyleguide({pid:e,styleguide:t})}),i.default.bind(a.default.CREATE_COLOR,({params:{pid:e},body:t})=>{p.default.addColor({bid:e,color:t})}),i.default.bind(a.default.UPDATE_COLOR,({params:{pid:e,cid:t},body:n})=>{p.default.updateColor({bid:e,cid:t,colorData:n})}),i.default.bind(a.default.UPDATE_COLORS_ORDER,({params:{pid:e},body:{colors:t}})=>{t.forEach(({_id:t,to:n})=>{p.default.updateColorOrder({bid:e,cid:t,to:n})})}),i.default.bind(a.default.DELETE_COLOR,({params:{pid:e,cid:t,unorderedBatch:n}})=>{n||p.default.removeColor({bid:e,cid:t})}),i.default.bind(a.default.UPDATE_COLORS_STYLEGUIDE,({params:{pid:e,tstid:t}})=>{p.default.removeAllColors({bid:e}),h.default.hasStyleguide(t)&&j.getStyleguide(t).then(e=>{m.default.getStyleguideSuccess({styleguide:e})})}),i.default.bind(a.default.CREATE_TEXT_STYLE,({params:{pid:e},body:t})=>{p.default.addTextStyle({bid:e,textStyle:t})}),i.default.bind(a.default.UPDATE_TEXT_STYLE,({params:{pid:e,tsid:t},body:n})=>{p.default.updateTextStyle({bid:e,tsid:t,textStyleData:n})}),i.default.bind(a.default.DELETE_TEXT_STYLE,({params:{pid:e,tsid:t,unorderedBatch:n}})=>{n||p.default.removeTextStyle({bid:e,tsid:t})}),i.default.bind(a.default.UPDATE_TEXT_STYLES_STYLEGUIDE,({params:{pid:e,tstid:t}})=>{p.default.removeAllTextStyles({bid:e}),h.default.hasStyleguide(t)&&j.getStyleguide(t).then(e=>{m.default.getStyleguideSuccess({styleguide:e})})}),i.default.bind(a.default.CREATE_SPACING_SECTION,({params:{pid:e},body:t})=>{p.default.addSpacingSection({bid:e,spacingSection:t})}),i.default.bind(a.default.UPDATE_SPACING_SECTION,({params:{pid:e,ssid:t},body:n})=>{p.default.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})}),i.default.bind(a.default.DELETE_SPACING_SECTION,({params:{pid:e,ssid:t}})=>{p.default.removeSpacingSection({bid:e,ssid:t})}),i.default.bind(a.default.CREATE_SPACING_TOKEN,({params:{pid:e,ssid:t},body:n})=>{p.default.addSpacingToken({bid:e,ssid:t,spacingToken:n})}),i.default.bind(a.default.UPDATE_SPACING_TOKEN,({params:{pid:e,ssid:t,sptid:n},body:i})=>{p.default.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})}),i.default.bind(a.default.DELETE_SPACING_TOKEN,({params:{pid:e,ssid:t,sptid:n}})=>{p.default.removeSpacingToken({bid:e,ssid:t,sptid:n})}),i.default.bind(a.default.UPDATE_REM_PREFERENCES,({params:{pid:e},body:{remPreferences:t}})=>{p.default.updateRemPreferences({bid:e,updatedRemPreferences:t})}),i.default.bind(a.default.CREATE_COMPONENT_SECTION,e=>{let{params:{pid:t,csid:n},body:{variantSections:i,components:o=[]}}=e,a=D(e.body,["variantSections","components"]);const r=o.map(({coid:e,csid:t})=>({coid:e,csid:t.split("/")}));p.default.addComponentSection({bid:t,csids:n?n.split("/"):[],componentSection:I({components:r},a)}),i&&i.forEach(e=>{const{_id:n,name:i,variant:o,components:a}=e;g.default.setComponentVariantData({bid:t,csid:n,name:i,sectionVariant:o,components:a})})}),i.default.bind(a.default.UPDATE_COMPONENT_SECTION,({params:{pid:e,csid:t},body:n})=>{p.default.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})}),i.default.bind(a.default.UPDATE_COMPONENT_SECTIONS_ORDER,({params:{pid:e},body:{componentSections:t,variantSections:n}})=>{const i=t.map(({csid:e,tcsid:t,to:n})=>({csid:e.split("/"),tcsid:t?t.split("/"):[],to:n}));p.default.updateComponentSectionsOrder({bid:e,componentSections:i}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:a}=t;g.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:a})})}),i.default.bind(a.default.MERGE_COMPONENT_SECTIONS,({params:{pid:e},body:{componentSections:t}})=>{t.forEach(({csid:t,tcsid:n,flatten:i=!1})=>{p.default.mergeComponentSection({bid:e,csids:t.split("/"),tcsids:n.split("/"),flatten:i})})}),i.default.bind(a.default.DELETE_COMPONENT_SECTION,({params:{pid:e,csid:t,unorderedBatch:n}})=>{n||p.default.removeComponentSection({bid:e,csids:t.split("/")})}),i.default.bind(a.default.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,({params:{pid:e,tstid:t},body:{componentSections:n}})=>{p.default.removeComponentSections({bid:e,componentSections:n}),h.default.hasStyleguide(t)&&j.getStyleguide(t).then(e=>{m.default.getStyleguideSuccess({styleguide:e})})}),i.default.bind(a.default.CREATE_COMPONENT,({params:{pid:e,csid:t},body:n})=>{p.default.addComponent({bid:e,csids:t.split("/"),component:n})}),i.default.bind(a.default.CREATE_COMPONENT_V2,({params:{pid:e,csid:t},body:n})=>{p.default.addComponent({bid:e,csids:t.split("/"),component:n})}),i.default.bind(a.default.CREATE_COMPONENT_VERSION_V2,({params:{pid:e,csid:t,coid:n},body:i})=>{p.default.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),i.default.bind(a.default.UPDATE_COMPONENT,({params:{pid:e,csid:t,coid:n},body:i})=>{p.default.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),i.default.bind(a.default.UPDATE_COMPONENTS_ORDER,({params:{pid:e},body:{components:t,variantSections:n}})=>{const i=t.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));p.default.updateComponentsOrder({bid:e,components:i}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:a}=t;g.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:a})})}),i.default.bind(a.default.DELETE_COMPONENT,({params:{pid:e,csid:t,coid:n}})=>{p.default.removeComponent({bid:e,csids:t.split("/"),coid:n})}),i.default.bind(a.default.UPDATE_CONNECTED_COMPONENTS,({params:{pid:e}})=>{j.getProjectConnectedComponents(e).then(({connectedComponents:t})=>{p.default.updateConnectedComponents({bid:e,connectedComponents:t})})}),i.default.bind(a.default.CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION,({params:{pid:e,csid:t},body:{name:n,variant:i,components:o}})=>{g.default.setComponentVariantData({bid:e,csid:t,name:n,sectionVariant:i,components:o})}),i.default.bind(a.default.CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION,({params:{pid:e,csid:t}})=>{g.default.removeComponentVariantData({bid:e,csid:t})}),i.default.bind(a.default.CREATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{pid:e,csid:t},body:n})=>{g.default.createComponentVariantProperty({bid:e,csid:t,componentVariantProperty:n})}),i.default.bind(a.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{pid:e,csid:t,vpid:n},body:i})=>{g.default.updateComponentVariantProperty({bid:e,csid:t,vpid:n,data:i})}),i.default.bind(a.default.DELETE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{pid:e,csid:t,vpid:n}})=>{g.default.removeComponentVariantProperty({bid:e,csid:t,vpid:n})}),i.default.bind(a.default.UPDATE_COMPONENTS_VARIANT_PROPERTIES,({params:{pid:e,csid:t},body:{variant:n,components:i}})=>{g.default.setComponentVariantData({bid:e,csid:t,name:name,sectionVariant:n,components:i})}),i.default.bind(a.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER,({params:{pid:e,csid:t},body:{properties:n}})=>{g.default.updateComponentVariantPropertiesOrder({bid:e,csid:t,properties:n})}),i.default.bind(a.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,({params:{pid:e,csid:t},body:{components:n,componentSections:i}})=>{g.default.groupComponentsByVariantProperty({bid:e,csid:t,components:n,componentSections:i})}),i.default.bind(a.default.DELETE_WORKFLOW_STATUS,({params:{pid:e}})=>{p.default.deleteWorkflowStatus({bid:e})}),i.default.bind(a.default.UPDATE_WORKFLOW_STATUS,({params:{pid:e},body:t})=>{p.default.updateWorkflowStatus({bid:e,workflowStatus:t})}),i.default.bind(a.default.DELETE_CONNECTED_COMPONENTS,({params:{pid:e}})=>{p.default.updateConnectedComponents({bid:e,connectedComponents:null})}))},function(e,t,n){"use strict";n.r(t),t.default={ACTIVATE:"ActivateProject",ARCHIVE:"ArchiveProject",DELETE:"DeleteProject",INVITE_USER:"InviteProjectUser",ADD_INTEGRATION_EVENT:"AddProjectIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteProjectIntegrationEvent",DELETE_INTEGRATION:"DeleteProjectIntegration",ADD_EXTENSION:"AddProjectExtension",REMOVE_EXTENSION:"RemoveExtensionFromProject",REMOVE_USER:"RemoveUserFromProject",TRANSFER_OWNERSHIP:"TransferProjectOwnership",UPDATE_ACCESSIBILITY:"UpdateProjectAccessibility",UPDATE_DENSITY_SCALE:"UpdateProjectDensityScale",UPDATE_DESCRIPTION:"UpdateProjectDescription",UPDATE_EXTENSION:"UpdateProjectExtension",UPDATE_NAME:"UpdateProjectName",UPDATE_THUMBNAIL:"UpdateProjectThumbnail",UPDATE_UPDATED:"UpdateProjectUpdated",UPDATE_USER_ROLE:"UpdateProjectUserRole",ATTACH_JIRA_ISSUE:"AttachJiraIssue",REMOVE_JIRA_ISSUE_ATTACHMENT:"RemoveJiraIssueAttachment",CREATE_SECTION:"CreateSection",UPDATE_SECTION:"UpdateSection",UPDATE_SECTIONS_ORDER:"UpdateSectionsOrder",UPDATE_SECTION_SCREENS:"UpdateSectionScreens",DELETE_SECTION:"DeleteSection",UPDATE_STYLEGUIDE_LINK:"UpdateProjectStyleguidelink",REMOVE_STYLEGUIDE_LINK:"RemoveProjectStyleguideLink",CREATE_COLOR:"CreateProjectColor",UPDATE_COLOR:"UpdateProjectColor",UPDATE_COLORS_ORDER:"UpdateProjectColorsOrder",DELETE_COLOR:"DeleteProjectColor",UPDATE_COLORS_STYLEGUIDE:"UpdateProjectColorsStyleguide",CREATE_TEXT_STYLE:"CreateProjectTextStyle",UPDATE_TEXT_STYLE:"UpdateProjectTextStyle",DELETE_TEXT_STYLE:"DeleteProjectTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateProjectTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateProjectSpacingSection",UPDATE_SPACING_SECTION:"UpdateProjectSpacingSection",DELETE_SPACING_SECTION:"DeleteProjectSpacingSection",CREATE_SPACING_TOKEN:"CreateProjectSpacingToken",UPDATE_SPACING_TOKEN:"UpdateProjectSpacingToken",DELETE_SPACING_TOKEN:"DeleteProjectSpacingToken",UPDATE_REM_PREFERENCES:"UpdateProjectRemPreferences",CREATE_COMPONENT_SECTION:"CreateProjectComponentSection",UPDATE_COMPONENT_SECTION:"UpdateProjectComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateProjectComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeProjectComponentSections",DELETE_COMPONENT_SECTION:"DeleteProjectComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateProjectComponentSectionsStyleguide",CREATE_COMPONENT:"CreateProjectComponent",CREATE_COMPONENT_V2:"CreateProjectComponentV2",CREATE_COMPONENT_VERSION_V2:"CreateProjectComponentVersionV2",UPDATE_COMPONENT:"UpdateProjectComponent",UPDATE_COMPONENTS_ORDER:"UpdateProjectComponentsOrder",DELETE_COMPONENT:"DeleteProjectComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateProjectConnectedComponents",DELETE_CONNECTED_COMPONENTS:"DeleteProjectConnectedComponents",CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION:"ConvertProjectComponentSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION:"ConvertProjectVariantSectionToComponentSection",CREATE_COMPONENT_SECTION_VARIANT_PROPERTY:"CreateProjectComponentSectionVariantProperty",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY:"UpdateProjectComponentSectionVariantProperty",DELETE_COMPONENT_SECTION_VARIANT_PROPERTY:"DeleteProjectComponentSectionVariantProperty",UPDATE_COMPONENTS_VARIANT_PROPERTIES:"UpdateProjectComponentsVariantProperties",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"CreateProjectComponentSectionVariantGroups",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER:"UpdateProjectComponentSectionVariantPropertiesOrder",UPDATE_WORKFLOW_STATUS:"UpdateProjectWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteProjectWorkflowStatus"}},function(e,t,n){"use strict";n.r(t),t.default={CREATE_V4:"CreateScreenV4",CREATE_V3:"CreateScreenV3",DELETE:"DeleteScreen",UPDATE:"UpdateScreen",UPDATE_TAGS:"UpdateScreensTags",CREATE_VERSION:"CreateScreenVersion",DELETE_VERSION:"DeleteScreenVersion",UPDATE_VERSION:"UpdateScreenLatestVersion",UPDATE_VERSION_COMMIT_COLOR:"UpdateScreenVersionCommitColor",UPDATE_VERSION_COMMIT_MESSAGE:"UpdateScreenVersionCommitMessage"}},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateDotV2",UPDATE:"UpdateDot",DELETE:"DeleteDot",CREATE_COMMENT:"CreateDotCommentV2",UPDATE_COMMENT_NOTE:"UpdateDotCommentNote",DELETE_COMMENT:"DeleteDotComment"}},function(e,t,n){"use strict";n.r(t);var i=n(2043),o=n(2036),a=n(269),r=n.n(a),s=n(1166),l=n(261),c=n.n(l),d=n(575),u=n(1961),p=n(376),h=n(361),f=n(385),g=n(1274),m=n(1301),b=n.n(m),S=n(258);function y(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}d.default&&(d.default.bind_global((e,{params:{stid:t}={}})=>{t&&(h.default.hasStyleguide(t)||Object(u.unsubscribeFromStyleguideChannel)(t))}),d.default.bind(i.default.ACTIVATE,({params:{stid:e}})=>{p.default.activate({bid:e,barrelType:c.a.STYLEGUIDE})}),d.default.bind(i.default.ARCHIVE,({params:{stid:e,uid:t}})=>{p.default.archive({bid:e,barrelType:c.a.STYLEGUIDE,uid:t})}),d.default.bind(i.default.DELETE,({params:{stid:e,uid:t}})=>{p.default.remove({barrelType:c.a.STYLEGUIDE,bid:e,uid:t})}),d.default.bind(i.default.TRANSFER_OWNERSHIP,({params:{oid:e,stid:t,mid:n,uid:i},body:o,body:{users:a}})=>{const l=h.default.findBarrelOrganizationId(t),d=!!l;if(n)return void s.default.transferOwnership({bid:t,fromUserId:i,targetId:n,users:a,oid:l});const{organizations:f,organizationStyleguides:g}=r.a.OrganizationStore.getState(),m=f.some(t=>t._id===e),b=e in g;if(e&&"_id"in o){if(!m)return void Object(u.unsubscribeFromOrganizationChannel)(e);if(!d){if(!b)return;return void p.default.add({barrelType:c.a.STYLEGUIDE,barrel:o,oid:e})}if(l===e)return;s.default.transferOwnership({bid:t,targetId:e,users:a,oid:l,toOrganization:!0})}else if(e){if(!a.some(e=>e.user._id===Zeplin.user._id))return void p.default.remove({barrelType:c.a.STYLEGUIDE,bid:t});s.default.transferOwnership({bid:t,targetId:e,users:a,oid:l,toOrganization:!0})}}),d.default.bind(o.default.CREATE,({params:{stid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:v(v({},n),{},{status:"registered"})})}),d.default.bind(i.default.INVITE_USER,({params:{stid:e,oid:t},body:n})=>{const i="role"in n,o=h.default.hasStyleguide(e);i&&o?p.default.addMembers({barrelType:c.a.STYLEGUIDE,bid:e,members:[n]}):o?s.default.updateStyleguide({stid:e,data:n}):p.default.add({barrelType:c.a.STYLEGUIDE,oid:t,barrel:v(v({},n),{},{complete:!1})})}),d.default.bind(o.default.UPDATE_USER,({params:{stid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),d.default.bind(o.default.UPDATE_USERNAME,({params:{stid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),d.default.bind(o.default.UPDATE_EMAIL,({params:{stid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),d.default.bind(o.default.UPDATE_AVATAR,({params:{stid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),d.default.bind(o.default.UPDATE_EMOTAR,({params:{stid:e,uid:t},body:{emotar:n}})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:{emotar:n}})}),d.default.bind(o.default.DELETE,({params:{stid:e,uid:t}})=>{e&&p.default.removeMember({bid:e,uid:t})}),d.default.bind(i.default.REMOVE_USER,({params:{stid:e,uid:t,mid:n}})=>{p.default.removeMember({bid:e,uid:t,mid:n})}),d.default.bind(i.default.UPDATE_USER_ROLE,({params:{stid:e,mid:t},body:{role:n}})=>{p.default.updateUserRole({bid:e,uid:t,role:n})}),d.default.bind(i.default.UPDATE_NAME,({params:{stid:e},body:{name:t}})=>{s.default.updateStyleguide({stid:e,data:{name:t}})}),d.default.bind(i.default.UPDATE_DESCRIPTION,({params:{stid:e},body:{description:t}})=>{s.default.updateStyleguide({stid:e,data:{description:t}})}),d.default.bind(i.default.UPDATE_THUMBNAIL,({params:{stid:e},body:{thumbnail:t}})=>{p.default.updateThumbnail({bid:e,barrelType:"styleguide",thumbnail:t})}),d.default.bind(i.default.UPDATE_DENSITY_SCALE,({params:{stid:e},body:{densityScale:t}})=>{s.default.updateStyleguide({stid:e,data:{densityScale:t}})}),d.default.bind(i.default.ADD_INTEGRATION_EVENT,({params:{stid:e,intype:t,inid:n,event:i}})=>{b.a.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),d.default.bind(i.default.DELETE_INTEGRATION_EVENT,({params:{stid:e,intype:t,inid:n,event:i}})=>{b.a.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),d.default.bind(i.default.DELETE_INTEGRATION,({params:{stid:e,intype:t,inid:n}})=>{p.default.removeIntegration({bid:e,intype:t,inid:n})}),d.default.bind(i.default.ADD_EXTENSION,({params:{stid:e,uid:t},body:{_id:n}})=>{g.default.load({barrelType:c.a.STYLEGUIDE,bid:e,uid:t,eid:n})}),d.default.bind(i.default.REMOVE_EXTENSION,({params:{stid:e,eid:t}})=>{g.default.remove({barrelType:c.a.STYLEGUIDE,bid:e,eid:t})}),d.default.bind(i.default.UPDATE_PARENT,({params:{stid:e},body:t})=>{s.default.updateStyleguide({stid:e,data:t})}),d.default.bind(i.default.REMOVE_PARENT,({params:{stid:e}})=>{s.default.updateStyleguide({stid:e,data:{parent:null,ancestors:[]}})}),d.default.bind(i.default.CREATE_COLOR,({params:{unorderedBatch:e,stid:t},body:n})=>{e||p.default.addColor({bid:t,color:n})}),d.default.bind(i.default.UPDATE_COLOR,({params:{stid:e,cid:t},body:n})=>{p.default.updateColor({bid:e,cid:t,colorData:n})}),d.default.bind(i.default.UPDATE_COLORS_ORDER,({params:{stid:e},body:{colors:t}})=>{t.forEach(({_id:t,to:n})=>{p.default.updateColorOrder({bid:e,cid:t,to:n})})}),d.default.bind(i.default.DELETE_COLOR,({params:{unorderedBatch:e,stid:t,cid:n}})=>{e||p.default.removeColor({bid:t,cid:n})}),d.default.bind(i.default.UPDATE_COLORS_STYLEGUIDE,({params:{stid:e,tstid:t}})=>{p.default.removeAllColors({bid:e}),h.default.hasStyleguide(t)&&S.getStyleguide(t).then(e=>{s.default.getStyleguideSuccess({styleguide:e})})}),d.default.bind(i.default.CREATE_TEXT_STYLE,({params:{unorderedBatch:e,stid:t},body:n})=>{e||p.default.addTextStyle({bid:t,textStyle:n})}),d.default.bind(i.default.UPDATE_TEXT_STYLE,({params:{stid:e,tsid:t},body:n})=>{p.default.updateTextStyle({bid:e,tsid:t,textStyleData:n})}),d.default.bind(i.default.DELETE_TEXT_STYLE,({params:{unorderedBatch:e,stid:t,tsid:n}})=>{e||p.default.removeTextStyle({bid:t,tsid:n})}),d.default.bind(i.default.UPDATE_TEXT_STYLES_STYLEGUIDE,({params:{stid:e,tstid:t}})=>{p.default.removeAllTextStyles({bid:e}),h.default.hasStyleguide(t)&&S.getStyleguide(t).then(e=>{s.default.getStyleguideSuccess({styleguide:e})})}),d.default.bind(i.default.CREATE_SPACING_SECTION,({params:{stid:e},body:t})=>{p.default.addSpacingSection({bid:e,spacingSection:t})}),d.default.bind(i.default.UPDATE_SPACING_SECTION,({params:{stid:e,ssid:t},body:n})=>{p.default.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})}),d.default.bind(i.default.DELETE_SPACING_SECTION,({params:{stid:e,ssid:t}})=>{p.default.removeSpacingSection({bid:e,ssid:t})}),d.default.bind(i.default.CREATE_SPACING_TOKEN,({params:{stid:e,ssid:t},body:n})=>{p.default.addSpacingToken({bid:e,ssid:t,spacingToken:n})}),d.default.bind(i.default.UPDATE_SPACING_TOKEN,({params:{stid:e,ssid:t,sptid:n},body:i})=>{p.default.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})}),d.default.bind(i.default.DELETE_SPACING_TOKEN,({params:{stid:e,ssid:t,sptid:n}})=>{p.default.removeSpacingToken({bid:e,ssid:t,sptid:n})}),d.default.bind(i.default.UPDATE_REM_PREFERENCES,({params:{stid:e},body:{remPreferences:t}})=>{p.default.updateRemPreferences({bid:e,updatedRemPreferences:t})}),d.default.bind(i.default.CREATE_COMPONENT_SECTION,e=>{let{params:{unorderedBatch:t,stid:n,csid:i},body:{variantSections:o,components:a=[]}}=e,r=y(e.body,["variantSections","components"]);if(t)return;const s=a.map(({coid:e,csid:t})=>({coid:e,csid:t.split("/")}));p.default.addComponentSection({bid:n,csids:i?i.split("/"):[],componentSection:v({components:s},r)}),o&&o.forEach(e=>{const{_id:t,name:i,variant:o,components:a}=e;f.default.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:a})})}),d.default.bind(i.default.UPDATE_COMPONENT_SECTION,({params:{stid:e,csid:t},body:n})=>{p.default.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})}),d.default.bind(i.default.UPDATE_COMPONENT_SECTIONS_ORDER,({params:{stid:e},body:{componentSections:t,variantSections:n}})=>{p.default.updateComponentSectionsOrder({bid:e,componentSections:t.map(e=>({csid:e.csid.split("/"),tcsid:e.tcsid&&e.tcsid.split("/"),to:e.to}))}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:a}=t;f.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:a})})}),d.default.bind(i.default.MERGE_COMPONENT_SECTIONS,({params:{stid:e},body:t})=>{t.componentSections.forEach(t=>{p.default.mergeComponentSection({bid:e,csids:t.csid.split("/"),tcsids:t.tcsid.split("/"),flatten:t.flatten})})}),d.default.bind(i.default.DELETE_COMPONENT_SECTION,({params:{unorderedBatch:e,stid:t,csid:n}})=>{e||p.default.removeComponentSection({bid:t,csids:n.split("/")})}),d.default.bind(i.default.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,({params:{stid:e,tstid:t},body:{componentSections:n}})=>{p.default.removeComponentSections({bid:e,componentSections:n}),h.default.hasStyleguide(t)&&S.getStyleguide(t).then(e=>{s.default.getStyleguideSuccess({styleguide:e})})}),d.default.bind(i.default.CREATE_COMPONENT,({params:{unorderedBatch:e,stid:t,csid:n},body:i})=>{e||p.default.addComponent({bid:t,csids:n.split("/"),component:i})}),d.default.bind(i.default.CREATE_COMPONENT_V2,({params:{unorderedBatch:e,stid:t,csid:n},body:i})=>{e||p.default.addComponent({bid:t,csids:n.split("/"),component:i})}),d.default.bind(i.default.CREATE_COMPONENT_VERSION_V2,({params:{stid:e,csid:t,coid:n},body:i})=>{p.default.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),d.default.bind(i.default.UPDATE_COMPONENT,({params:{stid:e,coid:t,csid:n},body:i})=>{p.default.updateComponent({bid:e,csids:n.split("/"),coid:t,componentData:i})}),d.default.bind(i.default.UPDATE_COMPONENTS_ORDER,({params:{stid:e},body:{components:t,variantSections:n}})=>{const i=t.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));p.default.updateComponentsOrder({bid:e,components:i}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:a}=t;f.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:a})})}),d.default.bind(i.default.DELETE_COMPONENT,({params:{unorderedBatch:e,stid:t,csid:n,coid:i}})=>{e||p.default.removeComponent({bid:t,csids:n.split("/"),coid:i})}),d.default.bind(i.default.UPDATE_CONNECTED_COMPONENTS,({params:{stid:e}})=>{S.getStyleguideConnectedComponents(e).then(({connectedComponents:t})=>{p.default.updateConnectedComponents({bid:e,connectedComponents:t})})}),d.default.bind(i.default.CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION,({params:{stid:e,csid:t},body:{name:n,variant:i,components:o}})=>{f.default.setComponentVariantData({bid:e,csid:t,name:n,sectionVariant:i,components:o})}),d.default.bind(i.default.CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION,({params:{stid:e,csid:t}})=>{f.default.removeComponentVariantData({bid:e,csid:t})}),d.default.bind(i.default.CREATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{stid:e,csid:t},body:n})=>{f.default.createComponentVariantProperty({bid:e,csid:t,componentVariantProperty:n})}),d.default.bind(i.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{stid:e,csid:t,vpid:n},body:i})=>{f.default.updateComponentVariantProperty({bid:e,csid:t,vpid:n,data:i})}),d.default.bind(i.default.DELETE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{stid:e,csid:t,vpid:n}})=>{f.default.removeComponentVariantProperty({bid:e,csid:t,vpid:n})}),d.default.bind(i.default.UPDATE_COMPONENTS_VARIANT_PROPERTIES,({params:{stid:e,csid:t},body:{variant:n,components:i}})=>{f.default.setComponentVariantData({bid:e,csid:t,name:name,sectionVariant:n,components:i})}),d.default.bind(i.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER,({params:{stid:e,csid:t},body:{properties:n}})=>{f.default.updateComponentVariantPropertiesOrder({bid:e,csid:t,properties:n})}),d.default.bind(i.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,({params:{stid:e,csid:t},body:{components:n,componentSections:i}})=>{f.default.groupComponentsByVariantProperty({bid:e,csid:t,components:n,componentSections:i})}),d.default.bind(i.default.DELETE_WORKFLOW_STATUS,({params:{stid:e}})=>{p.default.deleteWorkflowStatus({bid:e})}),d.default.bind(i.default.UPDATE_WORKFLOW_STATUS,({params:{stid:e},body:t})=>{p.default.updateWorkflowStatus({bid:e,body:t})}),d.default.bind(i.default.DELETE_CONNECTED_COMPONENTS,({params:{stid:e}})=>{p.default.updateConnectedComponents({bid:e,connectedComponents:null})}))},function(e,t,n){"use strict";n.r(t),t.default={ACTIVATE:"ActivateStyleguide",ARCHIVE:"ArchiveStyleguide",DELETE:"DeleteStyleguide",INVITE_USER:"InviteStyleguideUser",ADD_INTEGRATION_EVENT:"AddStyleguideIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteStyleguideIntegrationEvent",DELETE_INTEGRATION:"DeleteStyleguideIntegration",ADD_EXTENSION:"AddStyleguideExtension",REMOVE_EXTENSION:"RemoveExtensionFromStyleguide",REMOVE_USER:"RemoveUserFromStyleguide",TRANSFER_OWNERSHIP:"TransferStyleguideOwnership",UPDATE_DENSITY_SCALE:"UpdateStyleguideDensityScale",UPDATE_DESCRIPTION:"UpdateStyleguideDescription",UPDATE_NAME:"UpdateStyleguideName",UPDATE_THUMBNAIL:"UpdateStyleguideThumbnail",UPDATE_USER_ROLE:"UpdateStyleguideUserRole",UPDATE_PARENT:"UpdateStyleguideParent",REMOVE_PARENT:"RemoveStyleguideParent",CREATE_COLOR:"CreateStyleguideColor",DELETE_COLOR:"DeleteStyleguideColor",UPDATE_COLOR:"UpdateStyleguideColor",UPDATE_COLORS_ORDER:"UpdateStyleguideColorsOrder",UPDATE_COLORS_STYLEGUIDE:"UpdateStyleguideColorsStyleguide",CREATE_TEXT_STYLE:"CreateStyleguideTextStyle",UPDATE_TEXT_STYLE:"UpdateStyleguideTextStyle",DELETE_TEXT_STYLE:"DeleteStyleguideTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateStyleguideTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateStyleguideSpacingSection",UPDATE_SPACING_SECTION:"UpdateStyleguideSpacingSection",DELETE_SPACING_SECTION:"DeleteStyleguideSpacingSection",CREATE_SPACING_TOKEN:"CreateStyleguideSpacingToken",UPDATE_SPACING_TOKEN:"UpdateStyleguideSpacingToken",DELETE_SPACING_TOKEN:"DeleteStyleguideSpacingToken",UPDATE_REM_PREFERENCES:"UpdateStyleguideRemPreferences",CREATE_COMPONENT_SECTION:"CreateStyleguideComponentSection",UPDATE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateStyleguideComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeStyleguideComponentSections",DELETE_COMPONENT_SECTION:"DeleteStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateStyleguideComponentSectionsStyleguide",CREATE_COMPONENT:"CreateStyleguideComponent",CREATE_COMPONENT_V2:"CreateStyleguideComponentV2",CREATE_COMPONENT_VERSION_V2:"CreateStyleguideComponentVersionV2",UPDATE_COMPONENT:"UpdateStyleguideComponent",UPDATE_COMPONENTS_ORDER:"UpdateStyleguideComponentsOrder",DELETE_COMPONENT:"DeleteStyleguideComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateStyleguideConnectedComponents",DELETE_CONNECTED_COMPONENTS:"DeleteStyleguideConnectedComponents",CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION:"ConvertStyleguideComponentSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION:"ConvertStyleguideVariantSectionToComponentSection",CREATE_COMPONENT_SECTION_VARIANT_PROPERTY:"CreateStyleguideComponentSectionVariantProperty",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY:"UpdateStyleguideComponentSectionVariantProperty",DELETE_COMPONENT_SECTION_VARIANT_PROPERTY:"DeleteStyleguideComponentSectionVariantProperty",UPDATE_COMPONENTS_VARIANT_PROPERTIES:"UpdateStyleguideComponentsVariantProperties",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"CreateStyleguideComponentSectionVariantGroups",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER:"UpdateStyleguideComponentSectionVariantPropertiesOrder",UPDATE_WORKFLOW_STATUS:"UpdateStyleguideWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteStyleguideWorkflowStatus"}},function(e,t,n){"use strict";n.r(t),n.d(t,"registerWorkspaceSocketBindings",(function(){return I}));var i=n(767),o=n(575),a=n(1269),r=n(2039),s=n(2043),l=n(2036),c=n(2037),d=n(2045),u=n(381),p=n(269),h=n.n(p),f=n(908),g=n(362),m=n(309),b=n.n(m),S=n(310),y=n(376),C=n(261),v=n.n(C),O=n(241),E=n(258),T=n(1961);n(2038),n(2042);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.default&&(o.default.bind_global((e,{params:{oid:t}={}})=>{t&&(g.default.getOrganization(t)||Object(T.unsubscribeFromOrganizationChannel)(t))}),o.default.bind(d.default.PAYMENT_FAIL,e=>{const{organizationProfiles:t}=h.a.OrganizationStore.getState(),n={isGeneric:!0};e.params.oid?n.currentRole=t[e.params.oid].role:e.params.uid===Zeplin.user._id?n.currentRole="owner":(n.currentRole="not_owner",n.ownerEmail=e.body.email),Object.assign(n,e.params),Object(i.showFailedPaymentBanner)(n)}),o.default.bind(c.default.CREATE_PROJECT,({params:{oid:e="user"},body:t})=>{y.default.add({barrelType:v.a.PROJECT,barrel:P(P({},t),{},{complete:!1}),oid:e})}),o.default.bind(c.default.CREATE_STYLEGUIDE,({params:{oid:e="user"},body:t})=>{y.default.add({barrelType:v.a.STYLEGUIDE,barrel:P(P({},t),{},{complete:!1}),oid:e})}),o.default.bind(c.default.UPDATE_MEMBER_ROLE,({params:{oid:e,mid:t},body:{role:n}})=>{t===Zeplin.user._id&&f.default.updateOrganizationProfile(e,{role:n});const{organizationProjects:{[e]:i}}=h.a.OrganizationStore.getState(),{organizationStyleguides:{[e]:o}}=h.a.OrganizationStore.getState();i&&i.forEach(e=>{y.default.updateUserRole({bid:e,uid:t,role:n})}),o&&o.forEach(e=>{y.default.updateUserRole({bid:e,uid:t,role:n})})}),o.default.bind(c.default.REMOVE_USER,e=>{const{selectedOrganizationId:t}=h.a.SpaceStore.getState(),n=e.params.oid;e.params.mid===Zeplin.user._id&&(Object(T.unsubscribeFromOrganizationChannel)(n),t===n&&(O.create({title:"Organization not available anymore",message:"It was either deleted or you were removed, please contact the admins."}),u.default.changeSelectedOrganization("user")),f.default.removeOrganization(n))}),o.default.bind(c.default.UPDATE_MEMBER_ACCESSIBILITY,({params:{oid:e,mid:t},body:{restricted:n}})=>{t===Zeplin.user._id&&(n?f.default.removeUnjoinedBarrels({oid:e,mid:t}):f.default.getBarrels(e))}),o.default.bind(c.default.DELETE,e=>{const t=e.params.oid;Object(T.unsubscribeFromOrganizationChannel)(t),f.default.removeOrganization(t),u.default.changeSelectedOrganization("user")}),o.default.bind(c.default.UPDATE_LOGO,e=>{const{organizations:t}=h.a.OrganizationStore.getState(),n=e.params.oid;t.filter(e=>e._id===n)?f.default.updateOrganization(n,e.body):Object(T.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.UPDATE_STATUS,({body:e,params:{oid:t}})=>{const{organizations:n}=h.a.OrganizationStore.getState();n.filter(e=>e._id===t)?f.default.updateOrganization(t,e):Object(T.unsubscribeFromOrganizationChannel)(t)}),o.default.bind(c.default.UPDATE_NAME,e=>{const{organizations:t}=h.a.OrganizationStore.getState(),n=e.params.oid;t.filter(e=>e._id===n)?f.default.updateOrganization(n,e.body):Object(T.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS,e=>{const{organizations:t}=h.a.OrganizationStore.getState(),{uid:n,oid:i,pid:o}=e.params;t.filter(e=>e._id===i)?f.default.addBarrelToFocus({mid:n,oid:i,bid:o,barrelType:v.a.PROJECT}):Object(T.unsubscribeFromOrganizationChannel)(i)}),o.default.bind(c.default.REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS,e=>{const{organizations:t}=h.a.OrganizationStore.getState(),{oid:n,pid:i}=e.params;t.filter(e=>e._id===n)?f.default.removeBarrelFromFocus({oid:n,bid:i}):Object(T.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.UPDATE_MEMBER_TAGS,e=>{const{organizations:t}=h.a.OrganizationStore.getState(),{params:{oid:n},body:{members:i}}=e;t.filter(e=>e._id===n)?i.forEach(({_id:e,operation:t,tags:i})=>{f.default.updateMemberTags({oid:n,mid:e,operation:t,tags:i})}):Object(T.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.ADD_WORKFLOW_STATUS,({params:{oid:e},body:t})=>{f.default.addOrganizationWorkflowStatus({oid:e,workflowStatusData:t})}),o.default.bind(c.default.UPDATE_WORKFLOW_STATUS,({params:{oid:e,wsid:t},body:n})=>{f.default.updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n})}),o.default.bind(c.default.DELETE_WORKFLOW_STATUS,({params:{oid:e,wsid:t}})=>{f.default.deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t})}),o.default.bind(c.default.ADD_SECTION,({params:{oid:e},body:{_id:t,index:n}})=>{const{sections:i}=g.default.getOrganization(e);i.some(e=>e._id===t)||E.getOrganizationSection(e,t).then(({section:t})=>{f.default.addProjectSection({oid:e,index:n,sectionData:t})}).catch(i=>{f.default.addProjectSectionId({oid:e,index:n,oseid:t})})}),o.default.bind(c.default.UPDATE_SECTION,({params:{oid:e,oseid:t},body:n})=>{const{sections:i}=g.default.getOrganization(e);i.some(e=>e._id===t)&&f.default.updateProjectSection({oid:e,oseid:t,sectionData:n})}),o.default.bind(c.default.DELETE_SECTION,({params:{oid:e,oseid:t}})=>{f.default.removeProjectSection({oid:e,oseid:t})}),o.default.bind(c.default.UPDATE_SECTION_ORDER,({params:{oid:e},body:{index:t,sections:n}})=>{f.default.updateProjectSectionOrder({oid:e,oseid:n[0],index:t})}),o.default.bind(c.default.UPDATE_SECTION_PROJECT,({params:{oid:e,oseid:t},body:{index:n,projects:i}})=>{const{sections:o}=g.default.getOrganization(e);o.some(e=>e._id===t)?f.default.updateProjectOrder({oid:e,oseid:t,index:n,projects:i}):E.getOrganizationSection(e,t).then(({section:t})=>{f.default.addProjectSection({oid:e,index:n,sectionData:t})})}),o.default.bind(c.default.ADD_SECTION_LINK,({params:{oid:e,oseid:t},body:n})=>{f.default.addSectionLink({oid:e,oseid:t,linkData:n})}),o.default.bind(c.default.UPDATE_SECTION_LINK,({params:{oid:e,oseid:t,oselid:n},body:i})=>{f.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:P({_id:n},i)})}),o.default.bind(c.default.DELETE_SECTION_LINK,({params:{oid:e,oseid:t,oselid:n}})=>{f.default.removeSectionLink({oid:e,oseid:t,oselid:n})}));const D={onProjectInviteUser(e){Object(a.handleInviteUserSocketForInvitePopup)(e.params.pid,e.body)},onInviteUser(e){Object(a.handleInvitedSocketForInvitePopup)(e.body.users)},onRemoveUserFromProject(e){Object(a.removeUser)(e.params.pid,e.params.mid)},onCreateUser(e){Object(a.handleCreateUserSocketForInvitePopup)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(a.handleDeleteUserSocketForInvitePopup)(e.params.uid)}};const k={onStyleguideInviteUser(e){Object(a.handleInviteUserSocketForInvitePopup)(e.params.stid,e.body)},onInviteUser(e){Object(a.handleInvitedSocketForInvitePopup)(e.body.users)},onRemoveUserFromStyleguide(e){Object(a.removeUser)(e.params.stid,e.params.mid)},onCreateUser(e){Object(a.handleCreateUserSocketForInvitePopup)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(a.handleDeleteUserSocketForInvitePopup)(e.params.uid)}};function I(){h.a.dispatcher.register(e=>{switch(e.type){case b.a.INVITE_USER:!function(e){const t=Object(T.subscribeToProjectChannel)(e);o.userChannel.bind(l.default.INVITE_USER,D.onInviteUser),t.bind(r.default.INVITE_USER,D.onProjectInviteUser),t.bind(r.default.REMOVE_USER,D.onRemoveUserFromProject),t.bind(l.default.CREATE,D.onCreateUser),t.bind(l.default.DELETE,D.onDeleteUser)}(e.pid);break;case S.default.INVITE_USER:!function(e){const t=Object(T.subscribeToStyleguideChannel)(e);o.userChannel.bind(l.default.INVITE_USER,k.onInviteUser),t.bind(s.default.INVITE_USER,k.onStyleguideInviteUser),t.bind(s.default.REMOVE_USER,k.onRemoveUserFromStyleguide),t.bind(l.default.CREATE,k.onCreateUser),t.bind(l.default.DELETE,k.onDeleteUser)}(e.stid)}})}},function(e,t,n){"use strict";n.r(t),t.default={PAYMENT_FAIL:"RequestPaymentFail"}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSSOTokenExpiration=void 0;const s=r(n(232)),l=r(n(427)),c=r(n(273)),d=r(n(269)),u=n(228),p=r(n(229)),h=a(n(258)),f=n(242),g=n(262);function m(){const e=encodeURIComponent(Zeplin.user.email);h.getSsoLoginParams(e).then(e=>{const{provider:{type:t},params:{type:n,url:i,message:o}}=e;s.default.set("redirect",location.href),"google"!==t?u.isWindowsApp?p.default.ipcRenderer.send("saml-"+n,i,o,location.pathname):"redirect"===n?function(e,t){const n=new URL(e);n.search=f.joinUrlParams(t),window.location.assign(n.toString())}(i,o):"post"===n&&function(e,t){const n=document.createElement("form");n.method="POST",n.action=e,Object.keys(t).forEach(e=>{const i=document.createElement("input");i.type="hidden",i.name=e,i.value=t[e],n.appendChild(i)}),document.body.appendChild(n),n.submit()}(i,o):function(){const e={action:"login"};u.isWindowsApp&&(e.redirectPath=encodeURIComponent(location.pathname));const t=f.urlResolve("authGoogle",{query:e});location.assign(t)}()}).catch(e=>{g.handleError(e,{dialogCallback(){s.default.remove("userToken"),location.assign(f.urlResolve("login",{query:{email:Zeplin.user.email}}))}})})}Zeplin.onSSOTokenExpired=e=>l.default.ssoTokenExpired(e),u.isWindowsApp&&(p.default.ipcRenderer.on("auth-success",()=>{s.default.remove("redirect"),Zeplin.headers.set("Zeplin-Token",s.default.get("userToken")),l.default.unsetSSOTokenExpired(),Zeplin.setSSOTokenExpireTimeout()}),p.default.ipcRenderer.on("auth-abort",()=>{s.default.remove("redirect"),Zeplin.logout()})),t.registerSSOTokenExpiration=function(){d.default.dispatcher.register(e=>{e.type===c.default.LOGIN_SSO&&m()})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSentryToDispatcherAndStores=void 0;const s=a(n(34)),l=r(n(269)),c=r(n(20));t.registerSentryToDispatcherAndStores=function(){l.default.dispatcher.register(e=>{s.addBreadcrumb({category:"dispatch.action",message:e.type,level:s.Severity.Debug})}),function(){const e=new c.default;e.setStores([l.default.AppStore,l.default.SpaceStore,l.default.BarrelStore,l.default.DashboardStore,l.default.ScreenStore,l.default.DotsStore,l.default.ComponentVariantStore,l.default.StyleguideStore,l.default.ActivitiesViewStore]),e.addListener(()=>{const{page:e}=l.default.AppStore.getState(),t=l.default.SpaceStore.getState(),n=l.default.BarrelStore.getState(),i=l.default.DashboardStore.getState(),o=l.default.ScreenStore.getState(),a=l.default.DotsStore.getState(),r=l.default.ComponentVariantStore.getState(),c=l.default.StyleguideStore.getState(),d=l.default.ActivitiesViewStore.getState();s.setContext("stores",{app:{page:e},space:JSON.stringify(t,null,"  "),barrel:JSON.stringify(n,null,"  "),dashboard:JSON.stringify(i,null,"  "),screen:JSON.stringify(Object.assign(Object.assign({},o),{selectedLayer:o.selectedLayer&&o.selectedLayer._id,destinationLayer:o.destinationLayer&&o.destinationLayer._id}),null,"  "),dots:JSON.stringify(a,null,"  "),componentVariant:JSON.stringify(Object.assign(Object.assign({},r),{selectedLayer:r.selectedLayer&&r.selectedLayer._id,destinationLayer:r.destinationLayer&&r.destinationLayer._id}),null,"  "),styleguide:JSON.stringify(c,null,"  "),activities:JSON.stringify(d,null,"  ")})})}()}},function(e,t,n){"use strict";n.r(t);var i=n(767),o=n(241),a=n(245),r=n(262),s=n(228),l=n(318),c=n(261),d=n.n(c),u=n(234),p=n(364),h=n(1517),f=n(1272),g=n(1274),m=n(908),b=n(362),S=n(382),y=n(269),C=n.n(y),v=n(367),O=n(427),E=n(376),T=n(361),_=n(385),P=n(1301),j=n.n(P),D=n(2024),k=n.n(D),I=n(1450),R=n.n(I),A=n(1470),w=n.n(A),N=n(2032),L=n(258),x=n(615),M=n(246),U=n(383),B=n(1477),z=n(257),V=n(242),W=n(1107),F=n(230),H=n(1961);function G(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=document.getElementById("androidResFolderReminderDialog");function Y(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:o}=e;E.default.setAssetExportTarget({name:t,type:n,path:i,pathParts:o})}function J(e,t,n){if(document.body.dataset.projectType=e.type,t){const e=t._id;"frozen"===t.status?i.showOrganizationFrozenBanner({oid:e,currentRole:n}):"past_due"===t.subscriptionStatus?i.showFailedPaymentBanner({oid:e,currentRole:n}):"will_cancel_at_period_end"===t.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({oid:e,currentRole:n,subscriptionCancelAt:t.subscriptionCancelAt})}else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.showFailedPaymentBanner({currentRole:n,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:n,subscriptionCancelAt:t.user.subscriptionCancelAt})}var o;e.integration.slacks.length>0&&(o=e.id,L.getProjectSlackIntegrationEmojis(o).catch(()=>{}).then(e=>{e&&"emoji"in e&&x.default.addCustomEmojis(e.emoji)})).then(le)}function X(e,t){if(!e.length)return Promise.resolve({});const n=e.map(e=>{return n=e,i=t,b.default.getOrganizationProfile(n)||L.getOrganizationMemberProfile(n,i);var n,i});return Promise.all(n).then(t=>Object.fromEntries(Object(W.default)(e,t))).catch(r.handleError)}function Q(e,t){if(!t)return Promise.resolve([]);const{status:n,styleguide:i}=t;return"active"!==n?Promise.resolve([]):Promise.all([i._id,...i.ancestors].map(t=>function(e,{projectId:t}){const n=T.default.getBarrel({bid:e});return n&&n.complete?n:L.getStyleguide(e,{projectId:t})}(t,{projectId:e})))}function ee(e,{projectId:t}){const n=T.default.getBarrel({bid:e});return n&&n.connectedComponents?{connectedComponents:n.connectedComponents}:L.getStyleguideConnectedComponents(e,{projectId:t})}function te(e,{projectId:t}){const n=T.default.getBarrel({bid:e});return n&&n.localConnectedComponents?{localConnectedComponents:n.localConnectedComponents}:L.getStyleguideLocalConnectedComponents(e,{projectId:t})}function ne(e,t,{local:n=!1}){if(!t)return Promise.resolve([]);const{status:i,styleguide:o}=t;if("active"!==i)return Promise.resolve([]);const a=n?te:ee;return Promise.all([o._id,...o.ancestors].map(t=>a(t,{projectId:e})))}function ie(e,t){const n=function(e){const t=T.default.getBarrel({bid:e});return t&&t.connectedComponents?{connectedComponents:t.connectedComponents}:L.getProjectConnectedComponents(e)}(e),i=ne(e,t,{local:!1}),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?L.getProjectLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?ne(e,t,{local:!0}):Promise.resolve([])]}function oe(e){return e.map(e=>q(q({},e),{},{complete:!1}))}function ae(e){let t=null,n=[],i=[];return e.did?(1===e.did.length?(t=e.did[0],e.cmid&&(i=e.cmid)):e.did.length>1&&(n=e.did),{dotId:t,highlightedDots:n,highlightedComments:i}):{}}async function re(e,t,n,i){const{pid:o}=e;let a;if(t.complete)a=t;else{const e=await L.getProjectComponentSections(o);a=q(q({},t),e)}const[r,{connectedComponents:c},p,{localConnectedComponents:f},S]=await Promise.all([Q(o,t.styleguideLink),...ie(o,t.styleguideLink)]),y=new l.default(q(q({},a),{},{connectedComponents:c,localConnectedComponents:f,complete:!0})),{userId:v}=C.a.UserStore.getState(),{role:O}=y.findUser(v);J(y,n,O),p.forEach((e,t)=>{r[t].connectedComponents=e.connectedComponents}),S.forEach((e,t)=>{r[t].localConnectedComponents=e.localConnectedComponents});const T=n?n._id:"user",_=X(i.map(e=>e._id),v),P=(D=T,b.default.getOrganizationProjects(D)||L.getProjects("user"===D?null:D).then(oe));var D;const I=function(e){return b.default.getOrganizationStyleguides(e)||L.getStyleguides("user"===e?null:e).then(oe)}(T);r.forEach(e=>Object(H.subscribeToStyleguideChannel)(e._id));const[R,{noVectorAssetInfoHidden:A,densityMismatchWarningHidden:w,sourceFileInfoHidden:N,componentVariantsOnboardingDialogSeen:x,componentVariantsOnboardingHintboxSeen:M,componentVariantViewSeen:U,numberOfLayerComponentViews:z,connectedComponentsOnboardingDialogSeen:V,numberOfHighlightedConnectToCodeButtonViews:W,flowLinkInfoDismissed:F,versionsTutorialSeen:G,oldNotificationExperience:$},Z,K,ee]=await Promise.all([u.barrelPrefs.getAll(y.id),u.userPrefs.getAll(),_,P,I]),{assetDensityScalePrefs:te,assetNamingConvention:ne,collapsedSections:re,dashboardSidebarWidth:se,extensions:le,fixedThumbnailSize:ce,lastNoteColorUsed:ue,layoutGridEnabled:pe,noteVisibility:he,noteStatusFilter:fe,noteColorFilter:ge,noResourceInfoDismissed:me,screenSidebarWidth:be,showOptimizedSVG:Se,slackReconnectionAuntieSeen:ye,styleguideLeftSidebarWidth:Ce,styleguideRightSidebarWidth:ve,versionsSidebarWidth:Oe,zoomLevel:Ee,connectedComponentsLocalWorkspace:Te}=R,_e={};for(const s of y.screens)R[s._id]&&(_e[s._id]=R[s._id].versionsLastSeen);return E.default.load({barrel:{barrelType:"project",barrelId:o,organizationId:T,assetDensityScalePrefs:Object(B.initAssetDensityScalePrefsIfNecessary)(y.type,te),assetNamingConvention:"android"===y.type?"snakeCase":ne,showOptimizedSVG:Se,noResourceInfoDismissed:me,noVectorAssetInfoHidden:A,densityMismatchWarningHidden:w,sourceFileInfoHidden:N,flowLinkInfoDismissed:F,showSlackReconnectionAuntie:!ye,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:Te,screenVersionsLastSeen:_e,connectedComponentsOnboardingDialogSeen:V,numberOfHighlightedConnectToCodeButtonViews:W},styleguide:{selectedStyleguideSection:"colors",collapsedSections:re,leftSidebarWidth:Ce,rightSidebarWidth:ve,componentVariantsOnboardingDialogSeen:x},dashboard:{collapsedSections:re,fixedThumbnailSize:ce,sidebarWidth:se},screen:{layoutGridEnabled:pe,zoomLevel:Ee,notesVisible:he,screenSidebarWidth:be,showVersionsTutorial:!G,versionsSidebarWidth:Oe,componentVariantsOnboardingHintboxSeen:M,componentVariantViewSeen:U,numberOfLayerComponentViews:z},dots:q(q({},ae(e)),{},{statusFilter:fe,colorFilter:ge,lastNoteColorUsed:ue}),notifications:{notificationLastReadTime:Zeplin.user.notificationLastReadTime,oldNotificationExperience:$},data:{project:y,organization:n,organizations:i,organizationProfiles:Z,organizationProjects:K,organizationStyleguides:ee,linkedStyleguides:r}}),requestIdleCallback(async()=>{if(!n||n.members)return;const e=Z[T].restricted?{_id:T,members:[]}:await function(e){const t=b.default.getOrganization(e);return t&&t.members?t:L.getOrganizationMembers(e)}(T);m.default.getOrganizationMembersSuccess(e)}),requestIdleCallback(async()=>{if(!n||n.sections)return;const e=await L.getOrganizationSections(T);m.default.getOrganizationSectionsSuccess(e,T)}),g.default.init({enabledExtensions:le}),j.a.init(),k.a.getTeamsIntegration(d.a.PROJECT,o),s.isWindowsApp&&(E.default.getConnectedComponentsEditorInfo(),h.queryAssetDownloadTarget(y.id,y.type,Y)),de(y),y}async function se(e,{reload:t=!1}={}){const{pid:n}=e;try{const t=function(){const{organizations:e}=C.a.OrganizationStore.getState();return e.length?Promise.resolve(e):L.getOrganizations()}(),i=await function(e){const t=T.default.getBarrel({bid:e});return t&&t.complete?Promise.resolve(t):L.getProject(e)}(n),o=function(e){if(!a.isOrganizationProject(e))return Promise.resolve(null);const t=T.default.findBarrelOrganizationId(e._id);let n=b.default.getOrganization(t);return n||(n=Object(N.fetchEmbeddedData)("organization")),n?Promise.resolve(n):L.getProjectOrganization(e._id).catch(()=>null)}(i),[r,s]=await Promise.all([o,t]),{barrelId:c}=C.a.BarrelStore.getState();return c&&c!==n&&Object(H.unsubscribeFromProjectChannel)(n),i.partial?function(e,t,n,i){const o=new l.default(q(q({},t),{},{complete:!1})),a=n?n._id:"user";return E.default.load({barrel:{barrelType:"project",barrelId:o.id,organizationId:a},data:{project:o,organization:n,organizations:i}}),de(o),o}(0,i,r,s):re(e,i,r,s)}catch(i){if(t)throw i;!function(e){r.handleError(e,{clientErrorHandler(){o.create({title:e.title,message:e.message}),T.default.navigateToWorkspace()}})}(i)}}function le(){const e=document.querySelectorAll(".customEmojiPlainText");Array.prototype.forEach.call(e,e=>{const t=a.escapeHTML(e.innerText.trim()),n=f.formatEmojiString(t);e.outerHTML=n})}function ce(...e){const{body:{integration:t}}=e[e.length-1],n=T.default.getBarrel(),i=t.slacks.filter(e=>!n.integration.slacks.find(t=>t._id===e._id));i.length&&(i.forEach(e=>{E.default.addIntegration({intype:"slacks",integration:e})}),function(){const e=C.a.BarrelStore.findUser();a.permissions.canUpdateProject(e)&&j.a.init()}())}function de(e){const t=Object(H.subscribeToProjectChannel)(e._id),n=T.default.findBarrelOrganizationId(e._id);n&&"user"!==n&&Object(H.subscribeToOrganizationChannel)(n),t.bind("UpdateUserSubscription",({params:{uid:t},body:{plan:n,subscriptionStatus:o}})=>{const a=e.findUser(t);if(!a)return;const r=a.user.paymentPlan;a.user.paymentPlan=n;const s=a.user.subscriptionStatus;a.user.subscriptionStatus=o,"owner"===a.role&&("will_cancel_at_period_end"===s&&(i.hideCancelledSubscriptionBanner(),a.user.subscriptionCancelAt=null),i.getPlans().then(t=>{const{versionLimit:i}=t.find(e=>e.id===r),{versionLimit:o}=t.find(e=>e.id===n),a=v.default.getScreen();if(i>o){if(e.screens.forEach(e=>{e.allowedVersionCount=o,e.versions.length>o&&(e.versions.length=o)}),a){v.default.getVersion()||(S.default.setVersionId(a.versions[0]._id),Object(z.default)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:"UpdateUserSubscription"}))}}else i<o&&(e.screens.forEach(e=>{e.allowedVersionCount=o,e.totalVersionCount&&e.totalVersionCount>i&&delete e.totalVersionCount}),a&&(!a.totalVersionCount||a.totalVersionCount>i)&&S.default.getVersions())}))}),t.bind("CancelUserSubscription",({params:{uid:e},body:{plan:t,subscriptionStatus:n,subscriptionCancelAt:o}})=>{const a=T.default.findUser();a&&(E.default.updateUserData({uid:e,userData:{paymentPlan:t,subscriptionStatus:n,subscriptionCancelAt:o}}),"owner"===a.role&&"will_cancel_at_period_end"===n&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:a.role,subscriptionCancelAt:o}))}),t.bind("AuthProjectSlack",ce),t.bind("TransferProjectOwnership",({params:{pid:e,oid:t="user"},body:{users:n}})=>{n.forEach(({user:{_id:t},role:n})=>{E.default.updateUserRole({bid:e,uid:t,role:n})}),E.default.setOrganizationId({oid:t})}),t.bind("RequestPaymentFail",(function(e){const t=T.default.findUser(),n={currentRole:t.role};Object.assign(n,e.params),e.params.oid||"owner"===t.role||(n.ownerEmail=e.body.email),i.showFailedPaymentBanner(n)}))}function ue(e,t){const{pid:n}=e;if(!n||!a.validateId(n,"project"))return o.create({title:"Invalid project link",message:"There might be a typo, please try again."}),T.default.navigateToWorkspace(),Promise.reject();const i=T.default.getBarrel();return!i||i.id!==n||i.partial?(E.default.reset(),se(e,t)):Promise.resolve(i)}function pe(e){const{query:{coid:[t]=[]},ev:n}=e;if(!n.target.closest("#dotPopup"))return!1;const i=T.default.getStyleguidesData({barrelStore:C.a.BarrelStore,styleguidesDataStore:C.a.StyleguidesDataStore}),{component:o}=Object(U.findComponentById)(i,t)||{};return!!o.variant&&(R.a.open(t,w.a.NOTE),!0)}o.polyfill.registerDialog(K),p.default.route(/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i,(function(e){ga("set","location",location.href),ga("set","title","Screen - Zeplin"),ga("send","pageview");const{match:[t,n,i],query:r,query:{did:[s]=[],cmid:[l]=[]},reload:c}=e,d=Object.assign({pid:t,sid:n,vid:i},r);return O.default.setPage("barrel"),ue(d,{reload:c}).then(e=>{if(!e||e.partial)return;const{screenId:r,versionId:c}=C.a.ScreenStore.getState(),{dotId:d}=C.a.DotsStore.getState();a.validateId(n,"screen")?r&&r===n?r&&r===n&&(c!==i&&S.default.setVersionId(i),s&&d!==s&&S.default.selectDot({dotId:s,commentId:l})):S.default.openScreen(n,i,s,l):(o.create({title:"Invalid screen link",message:"There might be a typo, please try again."}),E.default.goToDashboard()),s&&history.replaceState(null,null,Object(V.urlResolve)("project-screen",{url:{pid:t,sid:n,vid:i}}))})})),p.default.route(/\/project\/([\da-f]{24})\/styleguide\/colors/i,(function(e){ga("set","location",location.href),ga("set","title","Color Palette - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{cid:i=[],seid:[o]=[]}={},reload:a}=e,r=Object.assign({pid:t},n);return O.default.setPage("barrel"),ue(r,{reload:a}).then(e=>{e&&!e.partial&&(E.default.changeSelectedView(F.ProjectViewTypes.STYLEGUIDE),_.default.changeSelectedNavigatorId({selectedStyleguideSection:"colors",selectedNavigatorId:o}),_.default.highlightColors(i))})})),p.default.route(/\/project\/([\da-f]{24})\/styleguide\/textstyles/i,(function(e){ga("set","location",location.href),ga("set","title","Text Style Catalog - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{tsid:i=[],seid:[o]=[]}={},reload:a}=e,r=Object.assign({pid:t},n);return O.default.setPage("barrel"),ue(r,{reload:a}).then(e=>{e&&!e.partial&&(E.default.changeSelectedView(F.ProjectViewTypes.STYLEGUIDE),_.default.changeSelectedNavigatorId({selectedStyleguideSection:"textStyles",selectedNavigatorId:o}),_.default.highlightTextStyles(i))})})),p.default.route(/\/project\/([\da-f]{24})\/styleguide\/spacing/i,(function(e){ga("set","location",location.href),ga("set","title","Spacing and Layout - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{sptid:i=[],seid:[o]=[]}={},reload:a}=e,r=Object.assign({pid:t},n);return O.default.setPage("barrel"),ue(r,{reload:a}).then(e=>{e&&!e.partial&&(E.default.changeSelectedView(F.ProjectViewTypes.STYLEGUIDE),_.default.changeSelectedNavigatorId({selectedStyleguideSection:"spacing",selectedNavigatorId:o}),_.default.highlightSpacingTokens(i))})})),p.default.route(/\/project\/([\da-f]{24})\/styleguide\/components/i,(function(e){ga("set","location",location.href),ga("set","title","Components - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{coid:[i]=[],cseid:[o]=[],seid:[a]=[o]}={},reload:r}=e,s=Object.assign({pid:t},n);return O.default.setPage("barrel"),ue(s,{reload:r}).then(e=>{if(!e||e.partial)return;E.default.changeSelectedView(F.ProjectViewTypes.STYLEGUIDE);const t=T.default.getStyleguidesData({barrelStore:C.a.BarrelStore,styleguidesDataStore:C.a.StyleguidesDataStore}),{component:n}=i&&Object(U.findComponentById)(t,i)||{},{collapsedSections:o}=C.a.StyleguideStore.getState(),r=function({styleguidesData:e,selectedNavigatorId:t,collapsedSections:n}){if(!t)return n;const i=n,o=Object(U.getComponentSectionById)(e,t);if(o){const{idPath:e}=o;e.forEach(e=>{i[e]=!1})}return i}({styleguidesData:t,selectedNavigatorId:a,collapsedSections:o});n&&n.idPath.slice(0,-1).forEach(e=>{r[e]=!1}),_.default.changeSelectedNavigatorId({selectedStyleguideSection:"components",selectedNavigatorId:a}),_.default.changeSelection({selectionComponentId:i,selection:n,collapsedSections:r,updateCollapsedSections:a||n})})})),p.default.route(/\/project\/([\da-f]{24})(?:\/(dashboard|styleguide))?$/i,(function(e){const{match:[t,n=F.ProjectViewTypes.DASHBOARD],query:i,reload:o}=e;ga("set","location",location.href),ga("set","title",Object(M.uppercaseFirst)(n)+" - Zeplin"),ga("send","pageview");const a=Object.assign({pid:t,subpage:n},i);return O.default.setPage("barrel"),async function(e,t){const n=await ue(e,t);if(!n||n.partial)return;const{subpage:i}=e,o=G(e,["subpage"]),a=["sid","seid","eid"],r=["cid","tsid"],s=Object.keys(o);let l;if(s.some(e=>a.includes(e))||i===F.ProjectViewTypes.DASHBOARD?l=F.ProjectViewTypes.DASHBOARD:s.some(e=>r.includes(e)||i===F.ProjectViewTypes.STYLEGUIDE)&&(l=F.ProjectViewTypes.STYLEGUIDE),!l)return;let c={};if("sid"in o){const e=n.sections.filter(e=>"default"!==e.name&&e.screens.some(e=>o.sid.includes(e))).map(e=>e._id);c={sids:o.sid,sectionsToExpand:e}}else"seid"in o?c={seid:o.seid[0],sectionsToExpand:[o.seid[0]]}:"eid"in o&&g.default.load({bid:n.id,eid:o.eid[0],uid:C.a.UserStore.getState().userId});i===F.ProjectViewTypes.DASHBOARD&&(c=q(q({},c),{},{tags:o.tag,jiraIssues:o.ja,untagged:o.untagged&&"true"===o.untagged[0],filterValue:o.q&&o.q[0]||""})),E.default.changeSelectedView(l,c)}(a,{reload:o})})),p.default.addPrevention(/\/project\/([\da-f]{24})\/styleguide\/components/i,pe),p.default.addPrevention(/\/(styleguide)\/([\da-f]{24})\/components/i,pe)},function(e,t,n){"use strict";n.r(t);var i=n(767),o=n(241),a=n(245),r=n(262),s=n(234),l=n(228),c=n(318),d=n(261),u=n.n(d),p=n(364),h=n(1517),f=n(1274),g=n(908),m=n(362),b=n(269),S=n.n(b),y=n(258),C=n(376),v=n(361),O=n(427),E=n(385),T=n(1301),_=n.n(T),P=n(2024),j=n.n(P),D=n(2032),k=n(1961),I=n(1477),R=n(383),A=n(1107);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=document.getElementById("androidResFolderReminderDialog");function M(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:o}=e;C.default.setAssetExportTarget({name:t,type:n,path:i,pathParts:o})}o.polyfill.registerDialog(x);const U={getOrganizations(){const{organizations:e}=S.a.OrganizationStore.getState();return e.length?Promise.resolve(e):y.getOrganizations()},getOrganization(e,t){if(!a.isOrganizationProject(e))return Promise.resolve(null);const n=v.default.findBarrelOrganizationId(e._id);let i=m.default.getOrganization(n);return i||(i=Object(D.fetchEmbeddedData)("organization")),i?Promise.resolve(i):y[t].getOrganization(e._id)},getOrganizationMembers(e){const t=m.default.getOrganization(e);return t&&t.members?t:y.getOrganizationMembers(e)},getOrganizationMemberProfile(e,t){const n=m.default.getOrganizationProfile(e);return n||y.getOrganizationMemberProfile(e,t)},getOrganizationProfiles(e,t){if(!e.length)return Promise.resolve({});const n=e.map(e=>U.getOrganizationMemberProfile(e,t));return Promise.all(n).then(t=>Object.fromEntries(Object(A.default)(e,t))).catch(r.handleError)},getStyleguide(e,{styleguideId:t}){const n=v.default.getBarrel({bid:e});return n&&n.complete?n:y.getStyleguide(e,{styleguideId:t})},getAncestors(e,t){return Promise.all(t.map(t=>this.getStyleguide(t,{styleguideId:e})))},getAncestorsConnectedComponents:(e,t)=>Promise.all(t.map(t=>y.getStyleguideConnectedComponents(t,{styleguideId:e}))),getAncestorsLocalConnectedComponents:e=>Promise.all(e.map(e=>y.getStyleguideLocalConnectedComponents(e))),getStyleguideConnectedComponents(e,t){const n=y.getStyleguideConnectedComponents(e),i=this.getAncestorsConnectedComponents(e,t),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?y.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?this.getAncestorsLocalConnectedComponents(t):Promise.resolve([])]},getLinkedStyleguidesConnectedComponents(e,t,{local:n}){if(!t)return Promise.resolve([]);const{status:i,styleguide:o}=t;if("active"!==i)return Promise.resolve([]);const a=n?y.getStyleguideLocalConnectedComponents:y.getStyleguideConnectedComponents;return Promise.all([o._id,...o.ancestors].map(t=>a(t,{projectId:e})))},getProjectConnectedComponents(e,t){const n=y.getProjectConnectedComponents(e),i=this.getLinkedStyleguidesConnectedComponents(e,t,{local:!1}),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?y.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?this.getLinkedStyleguidesConnectedComponents(e,t,{local:!0}):Promise.resolve([])]},markAsIncomplete:e=>e.map(e=>N(N({},e),{},{complete:!1})),getProjects(e,t,n){if(t===u.a.STYLEGUIDE){const t=m.default.getOrganizationProjects(e);return t||y.getProjects("user"===e?null:e).then(this.markAsIncomplete).catch(r.handleError)}return Promise.resolve()},getStyleguides(e,t,n){if(t===u.a.STYLEGUIDE){const t=m.default.getOrganizationStyleguides(e);return t||y.getStyleguides("user"===e?null:e).then(this.markAsIncomplete).catch(r.handleError)}return Promise.resolve()},getBarrel(e,t){const n=v.default.getBarrel({bid:e});return n&&n.complete?Promise.resolve(n):y[t].get(e)},getBarrelExtras(e,t){if(e.partial)return Promise.resolve({});const n=e._id,i=t===u.a.PROJECT?y.getProjectComponentSections(n):Promise.resolve({}),o=t===u.a.STYLEGUIDE?y.getStyleguideProjects(n):Promise.resolve({});return Promise.all([o,i]).then(([e,...t])=>Object.assign({linkedProjects:e.projects},...t))}},B={async collectData(e,t){try{const n=await U.getBarrel(e,t),{userId:i}=S.a.UserStore.getState(),o=n.users.find(({user:e})=>e._id===i),[a,r]=await Promise.all([U.getOrganization(n,t),U.getOrganizations()]);if(n.partial||!o){return{organization:a,organizations:r,organizationId:a?a._id:"user",ancestors:[],barrel:n}}const s=await U.getBarrelExtras(n,t),{role:l}=o,d=new c.default(N(N({},n),s)),u=a?a._id:"user",[p,h,f,g,{connectedComponents:m},b,{localConnectedComponents:y},C]=await Promise.all([U.getAncestors(e,d.ancestors),U.getOrganizationProfiles(r.map(e=>e._id),i),U.getProjects(u,t,l),U.getStyleguides(u,t,l),...U.getStyleguideConnectedComponents(e,d.ancestors)]);return d.connectedComponents=m,d.localConnectedComponents=y,b.forEach((e,t)=>{p[t].connectedComponents=e.connectedComponents}),C.forEach((e,t)=>{p[t].localConnectedComponents=e.localConnectedComponents}),{barrel:d,role:l,ancestors:p.map(e=>new c.default(N({},e))),organizationId:u,organization:a,organizations:r,organizationProfiles:h,organizationProjects:f,organizationStyleguides:g}}catch(n){!function(e){r.handleError(e,{clientErrorHandler:()=>{o.create({title:e.title,message:e.message}),v.default.navigateToWorkspace()}})}(n)}}};function z({styleguidesData:e,selectedStyleguideSection:t,selectedNavigatorId:n,collapsedSections:i}){if("components"!==t||!n)return i;const o=i,a=Object(R.getComponentSectionById)(e,n);if(a){const{idPath:e}=a;e.forEach(e=>{o[e]=!1})}return o}p.default.route(/\/(styleguide)\/([\da-f]{24})(?:\/(about|colors|textstyles|spacing|components))?/i,(function(e){const[t,n,o]=e.match;O.default.setPage("barrel");const a=function(e,t){return t?"textstyles"===t?"textStyles":t:e===u.a.PROJECT?"colors":"about"}(t,o),{cid:r=[],tsid:c=[],sptid:d=[],coid:[p]=[],cseid:[m]=[],seid:[b]=[m]}=e.query,{barrelId:y,barrelType:T}=S.a.BarrelStore.getState(),P=v.default.getStyleguidesData({barrelStore:S.a.BarrelStore,styleguidesDataStore:S.a.StyleguidesDataStore}),{component:D}=p&&Object(R.findComponentById)(P,p)||{},A=v.default.getBarrel();if(n===y&&!A.partial){const{collapsedSections:e}=S.a.StyleguideStore.getState(),t=z({styleguidesData:P,selectedStyleguideSection:a,selectedNavigatorId:b,collapsedSections:e});return void E.default.updateState({selectedStyleguideSection:a,highlightedColors:r,highlightedTextStyles:c,highlightedSpacingTokens:d,selectionComponentId:p,selection:D,selectedNavigatorId:b,collapsedSections:t,scrolledSection:b,highlightScrolledSection:!!b})}y&&(T===u.a.PROJECT?Object(k.unsubscribeFromProjectChannel)(y):T===u.a.STYLEGUIDE&&Object(k.unsubscribeFromStyleguideChannel)(y)),C.default.reset();const w=B.collectData(n,t),N=s.barrelPrefs.getAll(n).then(({assetDensityScalePrefs:e,assetNamingConvention:t,collapsedSections:n,showOptimizedSVG:i,connectedComponentsLocalWorkspace:o,extensions:a,styleguideLeftSidebarWidth:r,styleguideRightSidebarWidth:s})=>({assetDensityScalePrefs:e,assetNamingConvention:t,collapsedSections:n,showOptimizedSVG:i,connectedComponentsLocalWorkspace:o,enabledExtensions:a,leftSidebarWidth:r,rightSidebarWidth:s})),L=s.userPrefs.getAll().then(e=>{const{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,slackReconnectionAuntieSeen:i,componentVariantsOnboardingDialogSeen:o,connectedComponentsOnboardingDialogSeen:a,numberOfHighlightedConnectToCodeButtonViews:r}=e;return{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,showSlackReconnectionAuntie:!i,componentVariantsOnboardingDialogSeen:o,connectedComponentsOnboardingDialogSeen:a,numberOfHighlightedConnectToCodeButtonViews:r}});return Promise.all([w,N,L]).then(([{barrel:e,role:o,organizationId:s,organization:m,organizations:S,organizationProfiles:y,organizationProjects:v,organizationStyleguides:O,ancestors:E},{assetDensityScalePrefs:T,assetNamingConvention:P,collapsedSections:A,enabledExtensions:w,showOptimizedSVG:N,leftSidebarWidth:L,rightSidebarWidth:x,connectedComponentsLocalWorkspace:B},{noVectorAssetInfoHidden:V,densityMismatchWarningHidden:W,showSlackReconnectionAuntie:F,componentVariantsOnboardingDialogSeen:H,oldNotificationExperience:G,connectedComponentsOnboardingDialogSeen:$,numberOfHighlightedConnectToCodeButtonViews:q}])=>{const Z=z({styleguidesData:[e].concat(E),selectedStyleguideSection:a,selectedNavigatorId:b,collapsedSections:A});if(p){const t=Object(R.findComponentById)([e].concat(E),p);if(t){const{component:{idPath:e}}=t;e.slice(0,-1).forEach(e=>{Z[e]=!1})}}if(C.default.load({barrel:{barrelType:t,barrelId:n,assetDensityScalePrefs:Object(I.initAssetDensityScalePrefsIfNecessary)(e.type,T),assetNamingConvention:"android"===e.type?"snakeCase":P,showOptimizedSVG:N,organizationId:s,noVectorAssetInfoHidden:V,densityMismatchWarningHidden:W,showSlackReconnectionAuntie:F,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:B,connectedComponentsOnboardingDialogSeen:$,numberOfHighlightedConnectToCodeButtonViews:q},styleguide:{selectedStyleguideSection:a,highlightedColors:r,highlightedTextStyles:c,highlightedSpacingTokens:d,selectionComponentId:p,selection:D,selectedNavigatorId:b,collapsedSections:Z,scrolledSection:b,highlightScrolledSection:!!b,leftSidebarWidth:L,rightSidebarWidth:x,componentVariantsOnboardingDialogSeen:H},notifications:{notificationLastReadTime:Zeplin.user.notificationLastReadTime,oldNotificationExperience:G},data:{[t]:e,organization:m,organizations:S,ancestors:E,organizationProfiles:y,organizationProjects:v,organizationStyleguides:O}}),requestIdleCallback(async()=>{if(!m||!y||m.members)return;const e=y[s].restricted?{_id:s,members:[]}:await U.getOrganizationMembers(s);g.default.getOrganizationMembersSuccess(e)}),e.partial||(f.default.init({enabledExtensions:w}),E.forEach(e=>Object(k.subscribeToStyleguideChannel)(e._id))),t===u.a.PROJECT?Object(k.subscribeToProjectChannel)(n):t===u.a.STYLEGUIDE&&Object(k.subscribeToStyleguideChannel)(n),l.isWindowsApp&&(C.default.getConnectedComponentsEditorInfo(),h.queryAssetDownloadTarget(n,t,M)),m)"frozen"===m.status?i.showOrganizationFrozenBanner({oid:m._id,currentRole:o}):"past_due"===m.subscriptionStatus?i.showFailedPaymentBanner({oid:m._id,currentRole:o}):"will_cancel_at_period_end"===m.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({oid:m._id,currentRole:o,subscriptionCancelAt:m.subscriptionCancelAt});else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.showFailedPaymentBanner({currentRole:o,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:o,subscriptionCancelAt:t.user.subscriptionCancelAt})}_.a.init(),j.a.getTeamsIntegration(t,n)})}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{l(i.next(e))}catch(t){a(t)}}function s(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(364)),r=o(n(908)),s=o(n(427)),l=o(n(1934)),c=n(234),d=n(1962);function u(e){const t=Zeplin.user._id,n=[d.getOrganization(e),d.getOrganizationSections(e),d.getProjects(e),d.getStyleguides(e),d.getFocusedBarrels(e,t)];return Promise.all(n).then(([t,n,i,o,a])=>{s.default.loadWorkspaceData({oid:e,organization:Object.assign(Object.assign({},t),{sections:n}),focusedBarrels:a,dialogDismissParams:null,projects:i,styleguides:o})})}a.default.route(/^\/notifications(?:\/)?([\da-f]{24})?$/i,(function(e){return i(this,void 0,void 0,(function*(){const{match:[t="user"]}=e;s.default.setPage("activities");const n=yield d.getOrganizations();r.default.getOrganizationsSuccess(n),yield function(e){return i(this,void 0,void 0,(function*(){const t="user"===e?d.fetchPersonalWorkspaceData:u;yield t(e)}))}(t);const{sidebarWidth:o,notificationWelcomeMessageMinimized:a}=yield c.userPrefs.getAll();l.default.load({oid:t,sidebarWidth:null!=o?o:260,notificationWelcomeMessageMinimized:a})}))}))},function(e,t,n){"use strict";n.r(t);var i=n(228),o=n(2052);i.isWindowsApp&&o.setupEventListener()},function(e,t,n){"use strict";n.r(t),n.d(t,"setupEventListener",(function(){return h}));var i=n(229),o=n(269),a=n.n(o),r=n(362),s=n(1078),l=n(1166),c=n(258);function d(e){return Object(c.getProjects)("user"===e?null:e)}function u(e){return Object(c.getStyleguides)("user"===e?null:e)}async function p(e,t){const{organizations:n,organizationProfiles:o}=a.a.OrganizationStore.getState(),{userId:c,username:p,email:h,avatar:f,emotar:g}=a.a.UserStore.getState();if(!n||!c)return void i.default.ipcRenderer.send("initialImportToBarrelData",{selectedOrganization:t});let m="user";t&&"user"!==t&&n.some(e=>e._id===t)&&(m=t);let b=r.default.getOrganizationProjects(m),S=r.default.getOrganizationStyleguides(m);b&&S||({projects:b,styleguides:S}=await function(e){return Promise.all([d(e),u(e)]).then(([t,n])=>(s.default.getProjectsSuccess({projects:t,oid:e}),l.default.getStyleguidesSuccess({styleguides:n,oid:e}),{projects:t,styleguides:n}))}(m));const y={organizations:n,organizationProfiles:o,selectedOrganization:m,user:{_id:c,username:p,email:h,avatar:f,emotar:g},organizationProjects:b,organizationStyleguides:S};i.default.ipcRenderer.send("initialImportToBarrelData",y)}function h(){i.default.ipcRenderer.removeAllListeners("initialImportToBarrelData"),i.default.ipcRenderer.on("initialImportToBarrelData",p)}},function(e,t,n){"use strict";n.r(t);var i=n(229),o=n(576),a=n(228);i.default&&a.supports.SPA&&(i.default.ipcRenderer.on("close-all-banners",(function(){o.closeBanner("appUpdate"),o.closeBanner("pluginUpdate")})),i.default.ipcRenderer.on("app-update-downloaded",(e,t)=>{o.closeBanner("appUpdate"),o.show({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("appUpdate"),i.default.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback(){i.default.ipcRenderer.send("remind-update-later",t)}})}),i.default.ipcRenderer.on("plugin-update-downloaded",(e,t)=>{var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),o.closeBanner("pluginUpdate"),o.show({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("pluginUpdate"),i.default.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback(){i.default.ipcRenderer.send("remind-plugin-install-later",t)}})}))},function(e,t,n){"use strict";n.r(t);var i=n(229),o=n(364),a=n(242),r=n(234),s=n(241),l=n(231),c=n(228);function d(e){const t=new URL(e);let n=e;const i=t.searchParams.get("vid");if(i){t.pathname.match(/\/project\/([0-9a-z]{24})\/screen\/([0-9a-z]{24})/)&&(t.pathname+="/version/"+i,t.searchParams.delete("vid"),n=t.toString())}o.default.history.push(n)}c.isWindowsApp&&(o.default.history.attach((function({url:e}){const t=new URL(e);t.search="",r.userPrefs.set("lastAppLocation",t.toString())})),i.default.ipcRenderer.on("load-url",(e,t)=>d(t)),i.default.ipcRenderer.on("load-app-uri",(e,t)=>{try{const e=new URL(t);if(c.isWindowsApp&&e.pathname.startsWith("//export-xd")&&!c.supports.xdPlugin)return void s.create({title:"Update Zeplin to export with XD plugin",message:"XD plugin requires the latest version of the Zeplin app, please try checking for an update.",done:{name:"UPDATE",cb(){location.assign(l.ZPL_PROTOCOL+"//update")}},cancel:{name:"CANCEL"}});const{urlSlug:n,url:i,query:o}=Object(a.parseAppURI)(e);d(Object(a.urlResolve)(n,{url:i,query:o}))}catch(n){}}))},function(e,t,n){"use strict";n.r(t);var i=n(228),o=n(229),a=n(382),r=n(376),s=n(385),l=n(1301),c=n.n(l),d=n(261),u=n.n(d);const p={CREATE_SCREEN:"CreateScreen",CREATE_SCREEN_VERSION:"CreateScreenVersion",CREATE_PROJECT_COMPONENT:"CreateProjectComponent",CREATE_PROJECT_COMPONENT_VERSION:"CreateProjectComponentVersion",CREATE_PROJECT_COMPONENT_VERSION_V2:"CreateProjectComponentVersionV2",CREATE_PROJECT_COMPONENT_SECTION:"CreateProjectComponentSection",UPDATE_PROJECT_COMPONENT_SECTION:"UpdateProjectComponentSection",CREATE_STYLEGUIDE_COMPONENT:"CreateStyleguideComponent",CREATE_STYLEGUIDE_COMPONENT_VERSION:"CreateStyleguideComponentVersion",CREATE_STYLEGUIDE_COMPONENT_VERSION_V2:"CreateStyleguideComponentVersionV2",CREATE_STYLEGUIDE_COMPONENT_SECTION:"CreateStyleguideComponentSection",UPDATE_STYLEGUIDE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",AUTH_PROJECT_SLACK:"AuthProjectSlack",AUTH_STYLEGUIDE_SLACK:"AuthStyleguideSlack"};i.isWindowsApp&&(o.default.ipcRenderer.on(p.CREATE_SCREEN,(e,t)=>{const{params:{pid:n},body:i}=t;a.default.addScreen({pid:n,screen:i})}),o.default.ipcRenderer.on(p.CREATE_SCREEN_VERSION,(e,t)=>{const{params:{pid:n,sid:i},body:o}=t;a.default.addVersion({pid:n,sid:i,version:o})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT,(e,t)=>{const{params:{pid:n,csid:i},body:o}=t;r.default.addComponent({bid:n,csids:i.split("/"),component:o})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT_VERSION,(e,t)=>{const{params:{pid:n,csid:i,coid:o},body:a}=t;r.default.addComponentVersion({bid:n,csids:i.split("/"),coid:o,componentVersion:a})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT_VERSION_V2,(e,t)=>{const{params:{pid:n,csid:i,coid:o,tcsid:a},body:s}=t;r.default.updateComponent({bid:n,csids:i.split("/"),coid:o,tcsid:a,componentData:s})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT_SECTION,(e,t)=>{const{params:{pid:n},body:i}=t;r.default.addComponentSection({bid:n,barrelType:u.a.PROJECT,csids:[],componentSection:i})}),o.default.ipcRenderer.on(p.UPDATE_PROJECT_COMPONENT_SECTION,(e,t)=>{const{params:{pid:n,csid:i},body:o}=t;r.default.updateComponentSection({bid:n,barrelType:u.a.PROJECT,csids:i.split("/"),componentSection:o})}),o.default.ipcRenderer.on(p.UPDATE_PROJECT_COMPONENTS_ORDER,(e,t)=>{const{params:{pid:n},body:{components:i,variantSections:o}}=t,a=i.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));r.default.updateComponentsOrder({bid:n,components:a}),o&&o.forEach(e=>{const{_id:t,name:i,variant:o,components:a}=e;s.default.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:a})})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT,(e,t)=>{const{params:{stid:n,csid:i},body:o}=t;r.default.addComponent({bid:n,csids:i.split("/"),component:o})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT_VERSION,(e,t)=>{const{params:{stid:n,csid:i,coid:o},body:a}=t;r.default.addComponentVersion({bid:n,csids:i.split("/"),coid:o,componentVersion:a})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT_VERSION_V2,(e,t)=>{const{params:{stid:n,csid:i,coid:o,tcsid:a},body:s}=t;r.default.updateComponent({bid:n,csids:i.split("/"),coid:o,tcsid:a,componentData:s})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT_SECTION,(e,t)=>{const{params:{stid:n},body:i}=t;r.default.addComponentSection({bid:n,barrelType:u.a.STYLEGUIDE,csids:[],componentSection:i})}),o.default.ipcRenderer.on(p.UPDATE_STYLEGUIDE_COMPONENT_SECTION,(e,t)=>{const{params:{stid:n,csid:i},body:o}=t;r.default.updateComponentSection({bid:n,barrelType:u.a.STYLEGUIDE,csids:i.split("/"),componentSection:o})}),o.default.ipcRenderer.on(p.UPDATE_STYLEGUIDE_COMPONENTS_ORDER,(e,t)=>{const{params:{stid:n},body:{components:i,variantSections:o}}=t,a=i.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));r.default.updateComponentsOrder({bid:n,components:a}),o&&o.forEach(e=>{const{_id:t,name:i,variant:o,components:a}=e;s.default.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:a})})}),o.default.ipcRenderer.on(p.AUTH_PROJECT_SLACK,(e,t)=>{const{params:{pid:n},body:{integration:i}}=t;i.slacks.forEach(e=>r.default.addIntegration({bid:n,intype:"slacks",integration:e})),c.a.init()}),o.default.ipcRenderer.on(p.AUTH_STYLEGUIDE_SLACK,(e,t)=>{const{params:{stid:n},body:{integration:i}}=t;i.slacks.forEach(e=>r.default.addIntegration({bid:n,intype:"slacks",integration:e})),c.a.init()}))}]));
//# sourceMappingURL=maps/app.map.js